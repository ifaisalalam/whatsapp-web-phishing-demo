/*! Copyright (c) 2019 WhatsApp Inc. All Rights Reserved. */
webpackJsonp([0],{baaaeiafec:function(e,t){e.exports={muted:"yQFcY",item:"X7YrQ"}},babadgcffh:function(e,t){e.exports={muted:"_3IgiV",title:"_2XH7W"}},babbeaeffj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("ddeihcgfbg")),a=o(n("bdiiahhjbe"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){a.default.assert(t.focusNode,"serializeTextBeforeCursor requires selection.focusNode")();var n=document.createRange();n.setStart(e,0),n.setEnd(t.focusNode,t.focusOffset);var o=n.cloneContents();return(0,r.default)(o,[])}},babhhabdgf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=A(n("cehcfaibji")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=T(n("ddhijeejag")),i=A(n("eadfaddcj")),u=A(n("gbfffciea")),s=A(n("ceffhbhahb")),l=A(n("fifhbjiec")),c=A(n("cijhchjfjc")),f=n("bidfjbaebi"),d=A(f),p=A(n("edbaidcaf")),h=A(n("ddfjdghbjb")),m=T(n("ecibddhig")),b=A(n("ichhibhgh")),g=A(n("eceadcicaf")),v=n("ejbdjaifi"),y=n("bheafeifce"),_=A(n("bihdhbjih")),E=A(n("ccaaiecfib")),j=n("cgecdbiihg"),O=A(n("fffdgbfji")),S=A(n("bdiiahhjbe")),w=A(n("bcafcjajcb")),P=A(n("bfdcadbbif")),M=n("bfjajhbdf"),C=A(M);function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}var N={PREVIEW:"PREVIEW",FLOATER:"FLOATER"},k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.setRefThumbnailWrapper=function(e){n.refThumbnailWrapper=e},n.getThumbnailWrapperRect=function(){return n.refThumbnailWrapper?n.refThumbnailWrapper.getBoundingClientRect():null},n.setPreviewMode=function(){n.state.mode!==N.PREVIEW&&n.setState({mode:N.PREVIEW})},n.setFloaterMode=function(){n.state.mode!==N.FLOATER&&n.setState({mode:N.FLOATER})},n.parseYoutubeVideoId=function(e){for(var t=j.URL_PATTERNS.ONLINE_VIDEO_URL.YOUTUBE,n=null,r=0;r<t.length;r++){var a=e.match(t[r]);if(a){n=a[1];break}}return n},n.parseYoutubeVideoStartTime=function(e){var t=e.split("?");if(2!==t.length)return 0;var n=t[1],r=new h.default(n).get(j.YOUTUBE_URL_TIME_PARAM_NAME);if(!r)return 0;var a=r.match(j.YOUTUBE_URL_TIME_PARAM_PATTERN),o=0;if(a&&a.length)for(var i=1;i<a.length;i++){var u=a[i];if(u){var s=parseInt(u,10);if(isNaN(s))return 0;u.endsWith("h")&&(o+=3600*s),u.endsWith("m")&&(o+=60*s),u.endsWith("s")&&(o+=s),/^\d+$/.test(u)&&(o+=s)}}return o};var r=b.default.isOpened((0,y.unproxy)(e.msg))?N.FLOATER:N.PREVIEW;return n.state={mode:r},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(b.default,`${this.props.msg.id.toString()}_pip_did_open`,this.setFloaterMode),this.props.listeners.add(b.default,`${this.props.msg.id.toString()}_pip_did_close`,this.setPreviewMode)}},{key:"render",value:function(){var e=this,t=this.props.msg.description?o.createElement("div",{className:c.default.description,title:this.props.msg.description},o.createElement(l.default,{text:this.props.msg.description})):null,n=p.default.hostname(this.props.msg.canonicalUrl||this.props.msg.matchedText),a=o.createElement("div",{className:c.default.source},o.createElement(l.default,{text:n})),h=(0,s.default)(c.default.body,{[c.default.noThumb]:!this.props.msg.thumbnail}),g=void 0;if(this.state.mode===N.PREVIEW)switch(n){case i.default.HOSTNAME.YOUTUBE:var v=this.parseYoutubeVideoId(this.props.msg.matchedText);if(v){var y=this.parseYoutubeVideoStartTime(this.props.msg.matchedText);g=function(t){t&&t.stopPropagation(),b.default.openYoutubePiP(v,e.props.msg,y,e.getThumbnailWrapperRect())}}break;case i.default.HOSTNAME.INSTAGRAM:case i.default.HOSTNAME.STREAMABLE:case i.default.HOSTNAME.FACEBOOK:E.default.supportsFeature(E.default.F.VIDEO_PLAYBACK_URL)&&(g=function(t){b.default.openOgVideoPiP("",e.props.msg.thumbnail,e.props.msg,0,e.getThumbnailWrapperRect()),_.default.queryVideoPlaybackUrl(e.props.msg.matchedText).then(function(t){if(b.default.isOpened(e.props.msg)){if(!t.url)throw new Error("Url is missing in response.");b.default.openOgVideoPiP(t.url,e.props.msg.thumbnail,e.props.msg,0,null)}}).catch(function(t){S.default.assert(!1,"Wap Error",`The request Wap.queryVideoPlaybackUrl receives an invalid response: ${t}`)(),b.default.closeOgVideoPiP(),u.default.openToast(o.createElement(C.default,{id:(0,M.genId)(),msg:O.default.t(845),action:{actionText:O.default.t(846),onAction:function(){(0,f.openExternalLink)(e.props.msg.matchedText)}}}))})});break;default:return null}var j=(0,s.default)(c.default.preview,{[c.default.bubbleIn]:!this.props.msg.isSentByMe,[c.default.bubbleOut]:this.props.msg.isSentByMe}),T=this.state.mode===N.PREVIEW?o.createElement("div",{className:c.default.mediaStateControlsWrapper},o.createElement(m.Play,null)):null,A=this.state.mode===N.FLOATER?o.createElement(w.default,{icon:o.createElement(P.default,{name:"video-pip-large"})},O.default.t(847)):null,k=void 0,I=void 0;if(this.props.msg.thumbnail&&(0,r.default)(i.default.HOSTNAME).includes(n)){k=o.createElement("img",{className:(0,s.default)(c.default.thumbnail,{[c.default.youtubeThumbnail]:n===i.default.HOSTNAME.YOUTUBE}),src:`data:image/jpeg;base64,${this.props.msg.thumbnail}`});var R=void 0;switch(n){case i.default.HOSTNAME.YOUTUBE:R=o.createElement(P.default,{name:"logo-youtube"});break;case i.default.HOSTNAME.INSTAGRAM:R=o.createElement(P.default,{name:"logo-instagram"});break;case i.default.HOSTNAME.FACEBOOK:R=o.createElement(P.default,{name:"logo-facebook"})}R&&(I=o.createElement("div",{className:c.default.attribution},R))}else k=o.createElement("div",{className:c.default.thumbnailPlaceholder});return o.createElement("div",{className:j},o.createElement("div",{ref:this.setRefThumbnailWrapper,className:c.default.thumbnailWrapper,onClick:g},I,k,T,A),o.createElement(d.default,{className:h,href:this.props.msg.matchedText},o.createElement("div",{className:c.default.title,title:this.props.msg.title},o.createElement(l.default,{text:this.props.msg.title})),t,a))}}]),t}();k.displayName="VideoLinkPreview",t.default=(0,g.default)((0,v.hoc)(k))},bacfgbeffc:function(e,t){e.exports={muted:"_1WUgw",menuTabsMarker:"Orl3a",hide:"mFPJz"}},bacgdahheh:function(e,t){e.exports={muted:"_3Iaew",ack:"_3VIru"}},baeacdffeb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof HTMLElement&&Boolean(e.dataset&&e.dataset.mentionJid)}},baeghbhigj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(e)};var r,a=n("jjijgifac"),o=(r=a)&&r.__esModule?r:{default:r}},baehciajii:function(e,t){e.exports={muted:"ECaRD",section:"_1d7QJ",reasonList:"_2IBqE",label:"WwC8b",input:"_1ftwL",buttons:"_1NLsK"}},bafbadjdec:function(e,t,n){"use strict";var r={queryStarredStickers:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];throw new Error("Need implementation")}};e.exports=r},bafdafhgja:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("bgedbhhbbg")),a=c(n("djcchigfih")),o=c(n("djbhiedbef")),i=n("dajffajabh"),u=c(i),s=c(n("fffdgbfji")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag"));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return l.createElement(a.default,null,l.createElement(u.default,{a8n:"drawer-title-notifications",title:s.default.t(819),onBack:e.onClose,type:i.DRAWER_HEADER_TYPE.LARGE}),l.createElement(o.default,null,l.createElement(r.default,{key:"notifications"})))}},bafdbchefg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("digcccheca")),a=i(n("gbfffciea")),o=i(n("cijaehcdg"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.handlers={onKeyDown(e){return!this.ctx.isComposing&&(!(" "!==e.key||!(0,o.default)(e))&&(!this.ctx.value.length&&(a.default.scrollMessages(),!0)))}},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();t.default=new s},bafdehfigc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendExitGroup=function(e){return function e(t){var n=t.isGroup,i=t.promises;if(!n)return Promise.reject(new s.ActionError);if(i.sendExit)return i.sendExit;var f=i.sendExit=(0,l.sendExitGroup)(t.id);var d=new a.ActionType(l10n.t(64));var p=f.then(function(e){return new a.ActionType(l10n.t(63))}).catch(u.ServerStatusCodeError,function(e){if(e.status>=400)return new a.ActionType(l10n.t(62))}).catch(function(n){return c.default.error("actions:chat:sendExit dropped")(n),new a.ActionType(l10n.t(62),l10n.t(152),function(){return e(t)})});o.default.openToast(r.createElement(a.ActionToast,{id:(0,a.genId)(),initialAction:d,pendingAction:p}));return f.then(function(e){e._duplicate||h(t)}).finally(function(){i.sendExit=null}).catch(u.ServerStatusCodeError,function(e){})}((0,f.unproxy)(e))},t.localExitGroup=h;var r=p(n("ddhijeejag")),a=n("ccihhdchab"),o=d(n("gbfffciea")),i=d(n("bjigbaghc")),u=n("ddjgcfjicj"),s=p(n("cajijabhgb")),l=n("ecffadehg"),c=d(n("bdiiahhjbe")),f=n("bheafeifce");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){e.isGroup&&(e.groupMetadata.participants.remove(i.default.me),(0,l.markExited)(e.id).then(function(){e.isReadOnly=!0}))}},bafdjibgig:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaNotOnPhone=t.NoMediaHostsError=t.MediaNeedsReupload=t.MediaDecryptionError=t.ServerStatusCodeError=t.WapDrop=t.LogoutDrop=t.MediaNotFoundError=t.MMSThrottleError=t.MMSUnauthorizedError=t.MMSForbiddenError=t.HttpStatusCodeError=t.HttpNetworkError=t.AbortError=void 0;var r=n("fgeddfbg");Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return r.AbortError}}),Object.defineProperty(t,"HttpNetworkError",{enumerable:!0,get:function(){return r.HttpNetworkError}}),Object.defineProperty(t,"HttpStatusCodeError",{enumerable:!0,get:function(){return r.HttpStatusCodeError}}),Object.defineProperty(t,"MMSForbiddenError",{enumerable:!0,get:function(){return r.MMSForbiddenError}}),Object.defineProperty(t,"MMSUnauthorizedError",{enumerable:!0,get:function(){return r.MMSUnauthorizedError}}),Object.defineProperty(t,"MMSThrottleError",{enumerable:!0,get:function(){return r.MMSThrottleError}}),Object.defineProperty(t,"MediaNotFoundError",{enumerable:!0,get:function(){return r.MediaNotFoundError}});var a=n("ddjgcfjicj");Object.defineProperty(t,"LogoutDrop",{enumerable:!0,get:function(){return a.LogoutDrop}}),Object.defineProperty(t,"WapDrop",{enumerable:!0,get:function(){return a.WapDrop}}),Object.defineProperty(t,"ServerStatusCodeError",{enumerable:!0,get:function(){return a.ServerStatusCodeError}});var o=n("cajijabhgb");Object.defineProperty(t,"MediaDecryptionError",{enumerable:!0,get:function(){return o.MediaDecryptionError}}),Object.defineProperty(t,"MediaNeedsReupload",{enumerable:!0,get:function(){return o.MediaNeedsReupload}});var i=n("beifdajhid");Object.defineProperty(t,"NoMediaHostsError",{enumerable:!0,get:function(){return i.NoMediaHostsError}});t.MediaNotOnPhone=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,404))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.ServerStatusCodeError),t}()},bafegjjfbj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("gbfffciea")),i=h(n("biddiiafgd")),u=h(n("fifhbjiec")),s=h(n("bdiiahhjbe")),l=h(n("ihfccfgdf")),c=n("ejbdjaifi"),f=n("dcdbiiejfc"),d=n("bafdehfigc"),p=n("hjbbdjjdf");function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.getText=function(){var e=r.props.chat,t=e.title();return e.isGroup?e.isReadOnly?l10n.t(1126,{groupName:t}):l10n.t(1133,{groupName:t}):e.isUser?l10n.t(360,{name:t}):e.isBroadcast?l10n.t(362):void 0},r.getButton=function(){var e=r.props.chat;return e.isGroup?e.isReadOnly?l10n.t(1123):l10n.t(1131):e.isUser||e.isBroadcast?l10n.t(1123):void 0},r.onCancel=function(){o.default.closeModal();var e=r.props.onCancel;e&&(0,p.isFunction)(e)&&e()},r.onDelete=function(){var e=r.props.chat,t=void 0;e.isGroup?t=e.isReadOnly?(0,f.sendDelete)(e):(0,d.sendExitGroup)(e):e.isUser||e.isBroadcast?t=(0,f.sendDelete)(e):s.default.error("deleteChatPopup:onDelete Unsupported chat type")(),(0,p.isFunction)(r.props.onDeleteOrExit)&&t&&r.props.onDeleteOrExit(t),o.default.closeModal()},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement(i.default,{onOK:this.onDelete,okText:this.getButton(),onCancel:this.onCancel},a.createElement(u.default,{text:this.getText()}))}}]),t}();b.CONCERNS={chat:["isReadOnly","isGroup","isUser","isBroadcast"]},b.displayName="DeleteChatPopup",t.default=(0,l.default)((0,c.hoc)(b),b.CONCERNS)},baffhfhhda:function(e,t,n){"use strict";var r=s(n("chihjdheic")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),o=s(n("bdiiahhjbe")),i=s(n("bcbhbedgh")),u=s(n("bcjcbbafcj"));function s(e){return e&&e.__esModule?e:{default:e}}var l=n("eadfaddcj"),c=n("bfbggcdbfb"),f=n("bejfdgbdag"),d=3e5,p=(new Audio).canPlayType("audio/ogg"),h=0,m=Promise.resolve();function b(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=void 0;return new Promise(function(r,o){n=new Image;var i=/^(?:data|blob):/.test(e);t&&!i&&n.setAttribute("crossOrigin","anonymous"),n.onload=r,n.onabort=function(){o(new Error("loadImage onabort"))},n.onerror=function(e){o(new a.InvalidImageFileType("Image tag load error"))},n.src=e}).then(function(){return n})}function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=m.then(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new c.WebcMediaLoad,s=null,l=void 0,f=void 0,d=++h;function p(){l&&s&&(document.body&&document.body.removeChild(s),s=null)}var m=new Promise(function(n,c){o.default.log(`MediaLoad:video called (#${d})`)();var p=!1,h=!1;(l=document.createElement("video")).volume=0,l.muted=!0,l.playsinline=!0,l.onloadedmetadata=function(){o.default.log(`MediaLoad:video.onloadedmetadata #${d}`)(),p=!0,!h&&t||n()},l.onloadeddata=function(){o.default.log(`MediaLoad:video.onloadeddata #${d}`)()},l.onprogress=function(){o.default.log(`MediaLoad:video.onprogress #${d}`)()},l.oncanplay=function(){o.default.log(`MediaLoad:video.oncanplay #${d}`)(),h=!0,p&&t&&n()},l.onerror=function(){var e=l.error?l.error.message:"no error message";o.default.error(`MediaLoad:video.onerror #${d}: ${String(e)}`)();var t=function(e){if(!e||!e.error)return null;var t=e.error,n=Object.keys(i.default),a=(0,r.default)(n,function(e){return i.default[e]===t.code});a=a||`UNKNOWN CODE ${t.code}`;var o=t.message&&~t.message.indexOf(":")?t.message.split(":")[0]:"";return o?`${a}: ${o}`:a}(l);c(new a.MediaLoadError(`unable to play video: ${String(t)}`))},l.src=f=window.URL.createObjectURL(e),(u.default.isSafari||u.default.isBuggyVideoLoadChrome)&&((s=document.createElement("div")).style="opacity: 0.004",s.appendChild(l),document.body&&document.body.appendChild(s)),l.load()});setTimeout(function(){p(),m.isPending()&&(o.default.error(`unable to load video #${d} (${e.size} bytes)`)(),new c.WebcMediaLoad({webcMediaLoadResult:c.WEBC_MEDIA_LOAD_RESULT_CODE.SILENCE}).commit())},8e3);var b=m.delay(10).then(function(){if(n.markWebcMediaLoadT(),o.default.log(`MediaLoad:video #${d} successful`)(),l.pause(),l.videoWidth>0)return n.webcMediaLoadResult=c.WEBC_MEDIA_LOAD_RESULT_CODE.SUCCESS,n.commit(),{video:l,fullWidth:l.videoWidth,fullHeight:l.videoHeight,duration:l.duration};throw l.duration>0?new a.MediaUnsupportedError("video loaded with duration but no dims"):(n.webcMediaLoadResult=c.WEBC_MEDIA_LOAD_RESULT_CODE.ZEROWIDTH,n.commit(),new a.MediaLoadError("video loaded with zero width"))}).finally(function(){p(),l&&(l.onloadedmetadata=null,l.onloadeddata=null,l.onplay=null,l.onerror=null),f&&window.URL.revokeObjectURL(f)});return b.catch(function(){v(l)}),b}(e,t)});return m=n.timeout(1e3).then(function(){},function(){}),n}function v(e){try{e.pause(),e.src="",e.load()}catch(e){o.default.assert(!1,"dispose-video-error",`Error: ${String(e)}`)(e)}}e.exports={loadImage:b,image:function(e){return b(e).then(function(e){return e&&e.naturalWidth>0?{img:e,fullWidth:e.naturalWidth,fullHeight:e.naturalHeight}:Promise.reject(new a.MediaLoadError("image loaded with zero width"))}).catch(function(){return Promise.reject(new a.MediaLoadError("unable to render image"))})},video:g,disposeVideo:v,videoWidthHeightDuration:function(e){return g(e,!0).then(function(e){var t=e.video,n=e.fullWidth,r=e.fullHeight,a=e.duration;return v(t),{width:n,height:r,duration:a}})},audio:function(e){var t=void 0;return new Promise(function(n,r){(t=document.createElement("audio")).volume=0,t.autoplay=!0,t.onplay=function(e){t.pause(),n({audio:t})},t.onerror=function(){r(new a.MediaLoadError("unable to play audio"))},t.src=e}).finally(function(){t&&(t.onplay=t.onerror=null)})},transcode:function(e,t){var n=t||e.type;if(n&&n.includes(l.MIMETYPE_OGG)&&!p){if(e.size<=d)return new f(e).generateBlob();throw new a.MediaLoadError("media-load:transcode blob too large")}return Promise.resolve(e)},canPlayOgg:p}},bafjbifhgj:function(e,t){e.exports={muted:"_3FMIL",bubble:"_2NTm6",hasCaption:"_1C-mw",meta:"_2Krt0",isPSA:"AeWjB",isPsa:"AeWjB",author:"xYHJC",forwarded:"_3EQmZ",forwardedIndicator:"_35RRm",hasAuthor:"RWKZp",quote:"_30WBO"}},bagaghiajb:function(e,t){e.exports={muted:"pKASV",container:"o_uNe"}},bagahaffif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n("hhegggegb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=y(n("ceffhbhahb")),u=y(n("ccegihfjhe")),s=y(n("fifhbjiec")),l=y(n("bffjfbgbg")),c=y(n("jcdghfjgd")),f=y(n("ihfccfgdf")),d=y(n("bfdcadbbif")),p=y(n("caffijjhc")),h=y(n("bcifhbgija")),m=n("bgddggdhc"),b=n("ejbdjaifi"),g=n("dcfaachegb"),v=n("hjbbdjjdf");function y(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setMediaImage=function(e){return n.mediaImage=e},n.onImageLoad=function(e){if(!n.zoomed){n.zoomed=!0;var t=n.state.zoomElement;t&&e&&n.props.zoomIn&&e instanceof HTMLElement&&n.animateZoom(t,e)}},n.animateZoom=function(e,t){var r=t.getBoundingClientRect(),a=e.getBoundingClientRect(),o=a.top-r.top,i=a.left-r.left,u=e.clientWidth/t.clientWidth;o-=(t.clientHeight-e.clientHeight)/2,i-=(t.clientWidth-e.clientWidth)/2,(0,h.default)(t,{opacity:[1,0],translateX:[0,i],translateY:[0,o],scale:[1,u]},{duration:g.ANIMATION_DURATION,easing:[.1,.82,.25,1]});var s=(0,m.forbiddenFindDOMNode)(n.caption);s&&(0,h.default)(s,{opacity:[1,0]},{duration:g.ANIMATION_DURATION})},n.onScroll=function(e){Math.abs(e.deltaY)>7&&n.onClose()},n.onImgZoomIn=function(e){var t=n.mediaImage;e&&t&&(n.listenToMouseMove=t.heightOverflow>0||t.widthOverflow>0),n.setState({imgZoomed:e}),n.props.onImgZoomIn(e)},n.onZoomOut=function(e){var t=n.mediaImage;t&&n.state.imgZoomed&&t.onImageClick(e)},n.onMouseMove=function(e){n.handleMouseMove(e.pageX,e.pageY)},n._handleMouseMove=function(e,t){var r=n.mediaImage;if(r){var a=r.image;if(a){var o=(0,m.forbiddenAssertDOMNode)(a);if(o){var i=o.parentNode,u=i.parentNode,s=r.getTranslatePosition(u,e,t),l=s.translateX,c=s.translateY;(0,h.default)(i,"stop"),(0,h.default)(i,{translateX:l,translateY:c,scale:g.ZOOM_IN_FACTOR},{duration:0})}}}},n.onClose=function(){if(!n.closing){if(n.closing=!0,(0,v.isFunction)(n.props.onExitAnimation)&&n.props.onExitAnimation(),!n.props.getZoomNode)return n.props.onBack();var e=n.props.getZoomNode();if(!e)return n.props.onBack();var t=n.mediaImage&&n.mediaImage.image,r=(t=(0,m.forbiddenAssertDOMNode)(t)).getBoundingClientRect(),a=e.getBoundingClientRect(),o=a.top-r.top,i=a.left-r.left,u=e.clientWidth/t.clientWidth;o-=(t.clientHeight-e.clientHeight)/2,i-=(t.clientWidth-e.clientWidth)/2,(0,h.default)(t,{translateX:[i,0],translateY:[o,0],scale:[u,1]},{duration:200,easing:[.1,.82,.25,1]}).then(function(){n.props.onBack()})}},n.handleMouseMove=(0,r.default)(n._handleMouseMove,42),n.zoomed=!1,n.closing=!1,n.state={imgZoomed:!1,zoomElement:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"UNSAFE_componentWillMount",value:function(){if(this.props.mediaData.mediaStage===l.default.STAGE.RESOLVED&&this.props.zoomIn){if(this.props.getZoomNode){var e=this.props.getZoomNode();this.setState({zoomElement:e})}this.transparentStyle={opacity:0}}}},{key:"componentDidMount",value:function(){this.transparentStyle={}}},{key:"render",value:function(){var e=this.props,t=e.mediaData,n=e.product,r=o.createElement(g.WrappedMediaImage,{mediaData:t,key:t.renderableUrl,style:this.transparentStyle,onLoad:this.onImageLoad,onImgZoomIn:this.onImgZoomIn,ref:this.setMediaImage}),a=void 0;if(n.description){var f=this.props.zoomIn&&(t.isGif||t.type===l.default.TYPE.IMAGE),h=(0,i.default)(u.default.mediaCaption,{[u.default.captionHidden]:f});a=o.createElement(s.default,{className:h,ref:(0,b.GetRef)("caption",this),text:n.description})}var m=(0,i.default)(u.default.media,{[u.default.mediaWithCaption]:!!a}),v=o.createElement(d.default,{name:"chevron-right",title:l10n.t(805)}),y=(0,i.default)(u.default.btn,u.default.btnMediaNext,{[u.default.disabledBtn]:!this.props.onNext}),_=o.createElement("div",{role:"button",className:y,onClick:this.props.onNext||function(e){return e.stopPropagation()}},v),E=o.createElement(d.default,{name:"chevron-left",title:l10n.t(851)}),j=(0,i.default)(u.default.btn,u.default.btnMediaPrev,{[u.default.disabledBtn]:!this.props.onPrev}),O=o.createElement("div",{role:"button",className:j,onClick:this.props.onPrev||function(e){return e.stopPropagation()}},E),S=(0,i.default)("overlay",u.default.mediaViewer,{[u.default.mediaViewerAnimate]:this.props.zoomIn,[u.default.cursorZoomOut]:this.state.imgZoomed}),w=this.state.imgZoomed?null:this.onScroll,P=this.state.imgZoomed?null:this.onClose,M=this.state.imgZoomed&&this.listenToMouseMove?this.onMouseMove:null,C=this.state.imgZoomed?this.onZoomOut:null;return o.createElement(p.default,{displayName:"ProductViewer",escapable:!0,requestDismiss:this.onClose},o.createElement("div",{className:S,"data-animate-media-viewer":!0,onClick:C,onMouseMove:M},o.createElement(c.default,{mediaData:t,onClose:this.onClose,product:this.props.product}),o.createElement("div",{className:u.default.mediaContent,dir:"ltr",onWheel:w,onClick:P},O,o.createElement("div",{className:m},o.createElement("div",{className:u.default.media},r),a),_)))}}]),t}();_.CONCERNS={mediaData:["mediaStage","renderableUrl","isGif","type"],product:["description"]},_.displayName="ProductImageViewerModal",t.default=(0,f.default)((0,b.hoc)(_),_.CONCERNS)},bahefhdbbb:function(e,t){e.exports={muted:"_3JTOP",drawer:"_1KDYa",white:"_1yAd4",drawerGallery:"Y9547",drawerMedia:"kqC9O",drawerEdit:"_1BdTk",drawerCapture:"_1cJw0"}},bahefiaghi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.fullPreview,n=e.fullPreviewSize,s=e.mimeType,l=e.filename;return t&&n?r.createElement("div",{className:u.default.container,"data-animate-attach-media":!0},r.createElement("div",{className:u.default.preview},r.createElement(o.default,{type:a.FIT_TYPE.SCALE_DOWN,size:n},r.createElement("img",{src:t,className:u.default.img})))):r.createElement(i.default,{mimeType:s,filename:l})};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("dgfecega"),o=s(a),i=s(n("becegcbegb")),u=s(n("jgbhhadeh"));function s(e){return e&&e.__esModule?e:{default:e}}},bahgfcjcda:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("dhhfaeacef"),i=h(o),u=h(n("dhefcajhhb")),s=h(n("bfdcadbbif")),l=h(n("ceffhbhahb")),c=h(n("edbaidcaf")),f=h(n("eceadcicaf")),d=n("ejbdjaifi"),p=h(n("ceddibihdf"));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.promise=null,n._clearPromise=function(){n.promise=null},n._handleImageChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.setState({img:e.img})},n.state={img:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props.waid;t&&(this.promise=u.default.find(t).then(function(t){e.props.listeners.add(t,"change:img",e._handleImageChange),e._handleImageChange(t)}).catch(function(){}).finally(this._clearPromise))}},{key:"componentWillUnmount",value:function(){this.promise&&this.promise.cancel()}},{key:"render",value:function(){if(this.state.img&&this.props.waid)return a.createElement(i.default,{id:this.props.waid,quoted:this.props.quoted,size:this.props.size,square:this.props.square,border:this.props.border});var e=void 0;e="number"==typeof this.props.size&&0!==this.props.size||"number"!=typeof this.props.size&&null!=this.props.size?this.props.size:i.default.Size.SMALL;var t={height:(0,o.getSize)(e),width:(0,o.getSize)(e)},n=(0,l.default)(p.default.container,{[p.default.square]:this.props.square,[p.default.hasBorder]:this.props.border}),r=this.props.thumb?a.createElement("div",{className:p.default.image,style:c.default.thumbAsBackgroundImage(this.props.thumb)}):a.createElement("div",{className:p.default.default},a.createElement(s.default,{name:this.props.quoted?"default-user-square":"default-user",style:t}));return a.createElement("div",{className:n,style:t},r)}}]),t}();m.displayName="ProfileImage",t.default=(0,f.default)((0,d.hoc)(m))},bahjhjjhfe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("gbfffciea")),o=u(n("ciheehhei")),i=n("eagfdbhhhh");function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.link,n=e.children,u=e.selectable;return r.createElement(i.SelectableLink,{onClick:function(){return a.default.openModal(r.createElement(o.default,{link:t}))},selectable:u,style:{cursor:"pointer"}},n)}s.displayName="SuspiciousLink",s.defaultProps={children:""},t.default=s},baigjihfeh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cbgabiccd"),i=(r=o)&&r.__esModule?r:{default:r};var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._base=e,n._value=1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"_next",value:function(){var e=this._value;return this._value=e*this._base,{done:!1,value:e}}}]),t}();t.default=u},baiheeddah:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n("diifagijfe")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=p(n("gbfffciea")),u=p(n("ceffhbhahb")),s=p(n("eceadcicaf")),l=n("ejbdjaifi"),c=p(n("bfdcadbbif")),f=p(n("bgabfdfhj")),d=p(n("cfhgffgbcb"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.addOrRemoveLabelOnSelected=function(){var e=r.props.selectedModels.getSelected();i.default.openModal(o.createElement(d.default,{onLabelUpdateComplete:r.props.onCancel,modelsToUpdate:e}))},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.selectedModels&&this.props.listeners.add(this.props.selectedModels,"all")}},{key:"componentDidUpdate",value:function(){var e=this.props.selectedModels.getSelected();0===(0,r.default)(e)&&this.props.onCancel&&this.props.onCancel()}},{key:"render",value:function(){var e=this.props,t=e.labelEditEnabled,n=e.onRemoveLabel,a=this.props.selectedModels.getSelected(),i=(0,r.default)(a),s=void 0,l=void 0,c=void 0,d=this.props.onDelete;t&&i>0&&(s=o.createElement(b,{name:"label",disabled:!i,title:l10n.t(1089),onClick:this.addOrRemoveLabelOnSelected})),n&&i>0&&(c=o.createElement(b,{name:"label-delete",disabled:!i,title:l10n.t(1090),onClick:n})),d&&i>0&&(l=o.createElement(b,{name:"delete",disabled:!i,title:l10n.t(1089),onClick:d}));var p=(0,u.default)(f.default.multiControls,{[f.default.drawerHeader]:"drawer-header"===this.props.theme,[f.default.chatListPanel]:"chatlist-panel"===this.props.theme}),h=this.props.arrowBack?"back":"x";return o.createElement("div",{className:p},o.createElement(b,{name:h,onClick:this.props.onCancel}),o.createElement("div",{className:f.default.multiCount},l10n.t(951,{count:i,_plural:i})),s,l,c)}}]),t}();m.displayName="MultiselectBar",t.default=(0,s.default)((0,l.hoc)(m));var b=function(e){var t=e.name,n=e.title,r=e.onClick,a=e.directional,i=e.disabled;return o.createElement("button",{className:f.default.multiselectIcon,title:n,onClick:r,disabled:i?"disabled":void 0},o.createElement(c.default,{name:t,directional:a}))};b.displayName="BtnIcon"},baijejebfi:function(e,t){e.exports={muted:"_2MVYX",preview:"_1Bw-K"}},bajidgjehj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=N(n("cajijabhgb")),o=N(n("ddhijeejag")),i=A(n("effbcehec")),u=A(n("gbfffciea")),s=A(n("biddiiafgd")),l=A(n("bjigbaghc")),c=A(n("eadfaddcj")),f=A(n("djcchigfih")),d=A(n("djbhiedbef")),p=n("dajffajabh"),h=A(p),m=A(n("fijafegab")),b=n("bbbdgehigj"),g=A(n("dgjddffcfg")),v=n("ejbdjaifi"),y=A(n("jbchjhhe")),_=A(n("cdcaigjjii")),E=A(n("bjbedjfe")),j=A(n("bfejacaeaj")),O=A(n("ihfccfgdf")),S=A(n("jhhgcfgee")),w=A(n("eedjbihej")),P=A(n("hfhhcchgj")),M=A(n("dcjdgceiej")),C=n("bggdhciede"),T=n("bijjheifie");function A(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onBack=function(){n.props.onClose?n.props.onClose():n.context.uim.uie.requestDismiss()},n.validateStatus=function(e){return!!(e||"").trim()},n.onStatusBegin=function(){n.isEditingStatus=!0},n.onSetStatusError=function(){u.default.openModal(o.createElement(s.default,{onOK:function(){return u.default.closeModal()},okText:l10n.t(1225)},l10n.t(148)))},n.onSetStatus=function(e){if(null!=n.state.status){n.isEditingStatus=!1;var t=n.props.status.status,r=g.default.emojify(n.state.status);if(r===t)return n.setState({status:r});n.setState({pendingStatus:!0}),(0,T.setMyStatus)(g.default.emojify(n.state.status)).checkpoint(n.props.rejectOnUnmount()).then(function(){n.setState({pendingStatus:!1})}).catch(a.Unmount,function(){})}else n.onCancelStatus()},n.onStatusChange=function(e){n.setState({status:e})},n.onCancelStatus=function(){n.isEditingStatus=!1,n.setState({status:n.props.status.status})},n.onPushnameBegin=function(){n.isEditingPushname=!0},n.validatePushname=function(){var e=n.state.pushname,t=void 0;return(e=(e||"").trim())?/[\u2714\u2705\u2611]/g.test(e)&&(t=l10n.t(143)):t=l10n.t(140),!t||(n.onSetPushnameError(t),!1)},n.onSetPushname=function(e){if(n.isEditingPushname=!1,l.default.canSetMyPushname()){var t=n.state.pushname;if((t=g.default.emojify((t||"").trim()))===n.props.conn.pushname)return n.setState({pushname:t});n.setState({pendingPushname:!0}),(0,C.setPushname)(t).checkpoint(n.props.rejectOnUnmount()).then(function(){n.setState({pendingPushname:!1})}).catch(a.Unmount,function(){})}},n.onSetPushnameError=function(e){u.default.openModal(o.createElement(s.default,{onOK:function(){return u.default.closeModal()},okText:l10n.t(1225)},e))},n.onPushnameChange=function(e){n.setState({pushname:e})},n.onCancelPushname=function(){n.isEditingPushname=!1,n.setState({pushname:n.props.conn.pushname})},n.onImageSet=function(e,t){var r=n.props.profilePicThumb;n.setState({pendingPhoto:!0});(e&&t?(0,b.setProfilePic)(r,e,t):(0,b.deleteProfilePic)(r)).checkpoint(n.props.rejectOnUnmount()).then(function(){n.setState({pendingPhoto:!1})}).catch(a.Unmount,function(){})},n.state={pushname:e.conn.pushname,status:e.status.status,pendingPushname:!1,pendingStatus:!1,pendingPhoto:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.conn,n=e.status,r=e.profilePicThumb,a=this.isEditingStatus||this.state.pendingStatus?this.state.status:n.status,u=o.createElement(m.default,{a8nText:"col-main-profile",title:l10n.t(1285),theme:"padding"},o.createElement(P.default,{value:a,editable:!0,pending:this.state.pendingStatus,showRemaining:!0,validate:this.validateStatus,maxLength:c.default.MAX_STATUS_LENGTH,onBeginEdit:this.onStatusBegin,onChange:this.onStatusChange,onSave:this.onSetStatus,onError:this.onSetStatusError,onCancel:this.onCancelStatus,supportsEmoji:!0,lockable:!0,lowProfile:!0})),s=l10n.t(663),b=!r.canSet()&&!r.canDelete(),g=this.isEditingPushname||this.state.pendingPushname?this.state.pushname:t.pushname,v=l.default.isSMB?l10n.t(225):l10n.t(876);return o.createElement(f.default,null,o.createElement(h.default,{a8n:"drawer-title-profile",title:s,onBack:this.onBack,type:p.DRAWER_HEADER_TYPE.LARGE}),o.createElement(d.default,null,o.createElement("div",{className:S.default.photoPickerWrapper},o.createElement(y.default,{type:_.default.PROFILE,id:r.id,attachToChat:!1,pending:this.state.pendingPhoto,startImage:r.imgFull,readOnly:b,onImageSet:this.onImageSet})),o.createElement(m.default,{a8nText:"col-main-profile",title:l10n.t(875),theme:"padding"},o.createElement(P.default,{value:g,editable:l.default.canSetMyPushname(),pending:this.state.pendingPushname,showRemaining:!0,validate:this.validatePushname,maxLength:c.default.MAX_PUSHNAME_LENGTH,onBeginEdit:this.onPushnameBegin,onChange:this.onPushnameChange,onSave:this.onSetPushname,onCancel:this.onCancelPushname,supportsEmoji:!0,lockable:!0,lowProfile:!0})),o.createElement("div",{"data-a8n":i.default.key("pushname-description"),className:S.default.nameWrapper},o.createElement(w.default,{theme:"muted"},v)),u))}}]),t}();k.contextTypes={uim:j.default.instanceOf(M.default)},k.CONCERNS={profilePicThumb:["imgFull","id"],status:["status"],conn:["pushname"]},k.displayName="ProfileDrawer",t.default=(0,E.default)((0,O.default)((0,v.hoc)(k),k.CONCERNS))},bbacdcchfi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n("cbhbjajgac")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=u(n("dahbdjdajd"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,null,[{key:"jsx",value:function(e,t,n){var r=n.selectable,a=n.theme;return o.createElement(i.default,{contact:t,selectable:r,theme:a})}}]),t}();t.default=s},bbagfcaiaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={shouldAnimate:!0}},bbahcjdgfa:function(e,t){e.exports={muted:"m3ENb",docState:"_1qlav",spinner:"Hg0cw"}},bbbdgehigj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setProfilePic=function(e,t,n){return function e(t,n,f){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,a.genId)();var p=t.id;if(!t.canSet())return Promise.reject(new s.ActionError);var h=(0,c.sendSetPicture)(p,n,f);t.pendingPic=n;var m=p.equals(i.default.me)?new a.ActionType(l10n.t(139)):new a.ActionType(l10n.t(74));var b=h.catch(function(e){throw l.default.error("models:ProfilePicThumb:setPicture dropped")(e),p.equals(i.default.me)?new a.ActionType(l10n.t(138)):new a.ActionType(l10n.t(73))}).catch(u.ServerStatusCodeError,function(r){if(r.status>=400){var o=p.equals(i.default.me)?l10n.t(138):l10n.t(73);return new a.ActionType(o,l10n.t(152),function(){return e(t,n,f,d)})}}).then(function(e){return p.equals(i.default.me)?new a.ActionType(l10n.t(137)):new a.ActionType(l10n.t(72))});o.default.openToast(r.createElement(a.ActionToast,{id:d,initialAction:m,pendingAction:b}));return h.then(function(e){e._duplicate||t.set({tag:e.tag,eurl:e.eurl})}).finally(function(){t.pendingPic=void 0})}((0,f.unproxy)(e),t,n)},t.deleteProfilePic=function(e){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,a.genId)();var f=t.id;if(!t.canDelete())return Promise.reject(new s.ActionError);var d=(0,c.requestDeletePicture)(f);t.pendingPic=t.fallbackType;var p=f.equals(i.default.me)?new a.ActionType(l10n.t(136)):new a.ActionType(l10n.t(71));var h=d.catch(function(e){throw l.default.error("models:ProfilePicThumb:deletePicture dropped")(e),f.equals(i.default.me)?new a.ActionType(l10n.t(134)):new a.ActionType(l10n.t(69))}).catch(u.ServerStatusCodeError,function(r){if(r.status>=400){var o=f.equals(i.default.me)?l10n.t(134):l10n.t(69);return new a.ActionType(o,l10n.t(152),function(){return e(t,n)})}}).then(function(e){return f.equals(i.default.me)?new a.ActionType(l10n.t(135)):new a.ActionType(l10n.t(70))});o.default.openToast(r.createElement(a.ActionToast,{id:n,initialAction:p,pendingAction:h}));return d.then(function(e){e._duplicate||t.set({tag:void 0,eurl:void 0})}).finally(function(){t.pendingPic=void 0})}((0,f.unproxy)(e))};var r=p(n("ddhijeejag")),a=n("ccihhdchab"),o=d(n("gbfffciea")),i=d(n("bjigbaghc")),u=n("ddjgcfjicj"),s=p(n("cajijabhgb")),l=d(n("bdiiahhjbe")),c=n("biahggehgf"),f=n("bheafeifce");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},bbccbjiaeb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("ejbdjaifi"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=(l(n("eadfaddcj")),l(n("ebijaadcje"))),u=l(n("bdiiahhjbe")),s=l(n("ihfccfgdf"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleClick=function(){r.props.msg.resend().catch(function(e){u.default.log("PlainMsgFailIcon: failed to resend message")(e)})},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.displayType;return t.isFailed?o.createElement(i.default,{displayType:n,tooltip:l10n.t(908),onClick:this.handleClick}):null}}]),t}();f.CONCERNS={msg:["ack","isFailed"]},f.displayName="PlainMsgFailIcon",t.default=(0,s.default)((0,a.hoc)(f),f.CONCERNS)},bbcccehdad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=v(n("ceffhbhahb")),i=v(n("dhfbfehaef")),u=v(n("cgfdjcbhag")),s=v(n("ecjegjabde")),l=v(n("eceadcicaf")),c=n("fagbfehid"),f=v(c),d=v(n("decfffijad")),p=n("ddajbaceej"),h=n("ejbdjaifi"),m=v(n("bfdcadbbif")),b=v(n("ccijgeidci")),g=v(n("cegfacfjjj"));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=function(e){function t(){var e,n,r;y(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=r=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={numItems:r.props.specialItemsCount+f.default.length},r._handleLengthChange=function(){r.setState({numItems:r.props.specialItemsCount+f.default.length})},r._setRefContainer=function(e){r._refContainer=e},r._renderItem=function(e){return r.props.recentStickersEnabled&&0===e?a.createElement("div",{className:(0,o.default)(g.default.centerChild,g.default.show)},a.createElement(m.default,{name:"panel-recent"})):a.createElement(d.default,{index:e-r.props.specialItemsCount})},_(r,n)}return E(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(f.default,"change:length",this._handleLengthChange),this._handleLengthChange()}},{key:"focus",value:function(){this._refContainer&&(this.hasFocus()||(0,p.focus)(this._refContainer))}},{key:"hasFocus",value:function(){return!!this._refContainer&&this._refContainer===document.activeElement}},{key:"render",value:function(){var e=this.state.numItems;return a.createElement(i.default,{onRef:this._setRefContainer,handlers:(0,s.default)({down:this.props.onFocusBelow,"shift+tab":this.props.onFocusPrev,tab:this.props.onFocusNext})},a.createElement(u.default,{className:(0,o.default)({[b.default.shadow]:this.props.shadow}),numItems:e,numColumns:c.PAGE_SIZE,onItemClick:this.props.onItemClick,renderItem:this._renderItem,selectedIndex:this.props.selectedStickerPackIndex}))}}]),t}();j.displayName="StickerPanelMenu";var O=function(e){function t(){return y(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,(0,l.default)((0,h.hoc)(j))),r(t,[{key:"focus",value:function(){this.getComponent().focus()}}]),t}();t.default=O},bbcjhfahhb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaPickerChangeTypes=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n("cjihgicbe")),i=u(n("bfbggcdbfb"));function u(e){return e&&e.__esModule?e:{default:e}}t.MediaPickerChangeTypes={mediaPickerCroppedRotated:"mediaPickerCroppedRotated",mediaPickerDrawing:"mediaPickerCroppedRotated",mediaPickerStickers:"mediaPickerCroppedRotated",mediaPickerText:"mediaPickerCroppedRotated"};var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaByTypeAndOrigin=new Map,this.mediaEventReverseIndex=new Map,this.chatRecipients=null}return a(e,[{key:"pauseTimer",value:function(){this.mediaByTypeAndOrigin.forEach(function(e){e.onPause()})}},{key:"resumeTimer",value:function(){this.mediaByTypeAndOrigin.forEach(function(e){e.onResume()})}},{key:"_getKey",value:function(e,t){return`${e}_${t}`}},{key:"_commitLog",value:function(e){new i.default.MediaPicker(r({},e,{chatRecipients:this.chatRecipients})).commit()}},{key:"_processNewMedia",value:function(e,t,n){var r=this._getKey(t,n),a=this.mediaByTypeAndOrigin.get(r);if(a)a.onAdd(e),this.mediaEventReverseIndex.set(e,a);else{var i=new o.default(e,t,n);this.mediaByTypeAndOrigin.set(r,i),this.mediaEventReverseIndex.set(e,i)}}},{key:"logChange",value:function(e,t){var n=this.mediaEventReverseIndex.get(e);n&&n.onChange(e,t)}},{key:"logDelete",value:function(e){var t=this.mediaEventReverseIndex.get(e);t&&t.onDelete(e)}},{key:"logSend",value:function(){var e=this;this.mediaByTypeAndOrigin.forEach(function(t){e._commitLog(t.onSend())})}},{key:"logCancel",value:function(){var e=this;this.mediaByTypeAndOrigin.forEach(function(t){e._commitLog(t.onCancel())})}},{key:"logAdd",value:function(e,t,n){this.mediaEventReverseIndex.get(e)||this._processNewMedia(e,t,n)}}]),e}();t.default=s},bbddghdigd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n("ddjgcdciii")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=b(n("effbcehec")),u=n("dacdidjdfi"),s=b(u),l=b(n("gbfffciea")),c=b(n("dhfbfehaef")),f=b(n("fffdgbfji")),d=b(n("chcadgfgad")),p=b(n("cfaiaibca")),h=b(n("dciidighgh")),m=b(n("ccaaiecfib"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={clearMedia:!0},r.onCancel=function(){(0,r.props.onPopupCancel)()},r.onRevoke=function(){var e=r.props,t=e.chat,n=e.msgList,a=e.toastPosition,o=e.onCancel,i=e.onRevoke;l.default.sendRevokeMsgs(t,n,r.state.clearMedia,null,a),i(),o&&o()},r.onDelete=function(){var e=r.props,t=e.chat,n=e.msgList,a=e.toastPosition,o=e.onCancel,i=e.onDelete,u=e.isMsgVisible;l.default.sendDeleteMsgs(t,n,r.state.clearMedia,null,a),i(),o&&o(),l.default.existsDrawerRight(function(e){e&&u&&n.forEach(function(e){u(e.id,!0)&&l.default.closeDrawerRight()})})},r.onToggleClearMedia=function(){r.setState({clearMedia:!r.state.clearMedia})},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=void 0,t=this.props,n=t.msgList,a=t.deletePrompt,l=t.revokePrompt;m.default.supportsFeature(m.default.F.DELETE_MSG_CLEAR_MEDIA)&&(0,r.default)(n,function(e){return e.isMMS})&&(e=o.createElement("div",{className:h.default.container,onClick:this.onToggleClearMedia,key:0},o.createElement("div",{"data-a8n":i.default.key("menu-icon-revoke-message"),className:h.default.control},o.createElement(s.default,{onChange:this.onToggleClearMedia,checked:this.state.clearMedia?u.CHECKBOX_STATE.CHECKED:u.CHECKBOX_STATE.UNCHECKED})),o.createElement("div",{className:h.default.label},f.default.t(303))));var b=o.createElement(p.default,{type:"plain",onClick:this.onCancel,key:0},f.default.t(1091)),g=null,v=null,y=null,_=function(){},E=n.length,j=f.default.t(364,{_plural:E});if(l&&(g=o.createElement(p.default,{a8nText:"popup-controls-revoke",type:"plain",onClick:this.onRevoke,key:1},f.default.t(925)),_=this.onRevoke),a){var O=m.default.supportsFeature(m.default.F.REVOKE)?f.default.t(358):f.default.t(1123);v=o.createElement(p.default,{a8nText:"popup-controls-delete",type:l?"plain":"primary",onClick:this.onDelete,key:2},O),_=this.onDelete}var S={enter:_,escape:this.onCancel};return v&&(y=g?o.createElement("div",{className:h.default.buttons},o.createElement("div",{className:h.default.button},v),o.createElement("div",{className:h.default.button},b),o.createElement("div",{className:h.default.button},g)):[b,v]),o.createElement(c.default,{handlers:S},o.createElement(d.default,{title:j,actions:y,children:[e]}))}}]),t}();v.displayName="DeleteRevokeMsgPopup",t.default=v},bbdfiiibib:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PIP_BUTTON_THEME=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("ceffhbhahb")),i=s(n("cbddhcffbc")),u=s(n("bfdcadbbif"));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.PIP_BUTTON_THEME={PLAYER:"PLAYER",PREVIEW:"PREVIEW"},c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement("div",{className:(0,o.default)(i.default.pipBtn,{[i.default.player]:this.props.theme===l.PLAYER,[i.default.preview]:this.props.theme===l.PREVIEW}),onClick:this.props.onClick},a.createElement(u.default,{name:"video-pip"}))}}]),t}();c.displayName="PiPButton",t.default=c},bbegbfcgh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n("cfaiaibca")),o=h(n("gbfffciea")),i=h(n("hfjchijff")),u=h(n("djhbegbdaf")),s=h(n("bfejacaeaj")),l=h(n("ihfccfgdf")),c=n("ejbdjaifi"),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),d=h(n("ieddhhghi")),p=h(n("dcjdgceiej"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.onViewContact=function(){o.default.openDrawerRight(f.createElement(i.default,{chat:r.props.chat}),"slide-left",r.context.uim)},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.dismissVCardPanel,r=t.receivedVCardMsgs;return f.createElement("div",{className:d.default.vcard},f.createElement(u.default,{id:441,plural:r.length}),f.createElement("div",{className:d.default.controls},f.createElement(a.default,{onClick:this.onViewContact,type:"plain-white"},f.createElement(u.default,{id:1076,plural:r.length})),f.createElement(a.default,{onClick:n,type:"plain-white"},f.createElement(u.default,{id:816}))))}}]),t}();b.CONCERNS={chat:["receivedVCardMsgs"]},b.contextTypes={uim:s.default.instanceOf(p.default)},b.displayName="VCardPanel",t.default=(0,l.default)((0,c.hoc)(b),b.CONCERNS)},bbegjdfcja:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=n("eadfaddcj"),o=n("dgjacfgggf"),i=n("bgabgddgch"),u=n("dhidjfejee");var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"fileToPdf",value:function(e){var t=URL.createObjectURL(e);return Promise.loop(function(e,t,r){var a=Promise.delay(i.expBackoff(r,12e4,0,0));return new Promise(function(t,r){n.e(134).then(function(r){var a=n("bgdajhffca");a.workerSrc=u,e(a),t(a)}.bind(null,n)).catch(n.oe)}).catch(function(e){return a})}).then(function(e){return e.getDocument(t)})}},{key:"releasePdf",value:function(e){return e.destroy()}},{key:"pdfToImg",value:function(e,t){var n=document.createElement("canvas");return e.getPage(t).then(function(e){var t=e.getViewport(1),r=n.getContext("2d");n.height=t.height,n.width=t.width;var a={canvasContext:r,viewport:t};return e.render(a)}).then(function(){return o.canvasToBlob(n)}).then(function(t){var r=n.height,i=n.width,u=URL.createObjectURL(t);return Promise.props({url:u,thumbUrl:o.rotateAndResize(n,a.DOC_THUMB_MAX_EDGE,o.DATA_URL).then(function(e){return e.images.dataUrl}),width:i,height:r,pdfPages:e.numPages})})}}]),e}();e.exports=s},bbehjhfdfe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("diibgbjaeh"));t.default=function(e){if(!o.me.getUser().equals(e.id)){var t=i.default.get(e.id);t&&("unsubscribe"===e.type?t.set({isSubscribed:!1,stale:!0}):(!function(e,t){var n=!1;void 0===t.type?t.type=e.chatstate.type||"unavailable":"paused"===t.type&&(n=!0,t.type="available");e.isGroup&&"available"!==t.type&&(t.updateTime=Date.now());var o=void 0;if(e.isGroup){if(!t.participant)return;t.id=t.participant,t.participant=void 0,o=e.chatstates.gadd(t.id)}else o=e.chatstate;n&&"composing"!==o.type&&"recording"!==o.type||o.set(t);o._expireTimerId&&clearTimeout(o._expireTimerId);"composing"===o.type||"recording"===o.type?o._expireTimerId=(0,r.default)(s,a.default.PRESENCE_COMPOSING_TIMEOUT,o):o._expireTimerId=void 0;var i=e.forceDisplay||e.isOnline||e.isUser&&!e.chatstate.deny;e.set({hasData:!0,forceDisplay:i})}(t,e),t.set({stale:!1})))}return Promise.resolve()};var a=u(n("eadfaddcj")),o=n("dedgadfgjf"),i=u(n("ebbjbbjjg"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.type;"composing"!==t&&"recording"!==t||(e.type="available")}},bbeifbebhh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("bfifighhia")),i=f(n("djidjciehe")),u=f(n("gjhhbhigc")),s=f(n("dfehedcfdb")),l=f(n("dfaebdhdda")),c=f(n("bahjhjjhfe"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,null,[{key:"jsx",value:function(e,t,n){var r=n.selectable,o=void 0!==r&&r,u=t.href,s=t.suspiciousCharacters;return s&&s.size?a.createElement(c.default,{link:t,selectable:o},e):a.createElement(i.default,{href:u,selectable:o},e)}}]),t}();function p(e){var t=e.index,n=t+e.url.length-1;return[t,t,n,n,e]}function h(e,t){for(var n=0,r=0;n<e.length&&r<t.length;){var a=t[r][3]-e[n][3];if(a>0)n++;else if(a<0)r++;else{e[n][2]--,e[n][3]--;var o=e[n][5];o.href=o.href.slice(0,-1),o.path=o.path&&o.path.slice(0,-1),o.url=o.url.slice(0,-1),r++,n++}}}d.format=!1,d.match=function(e,t,n){var r=t.links;return(void 0===r?[]:r).map(p)},d.conflictResolvers=(new Map).set(o.default,h).set(s.default,h).set(l.default,h),t.default=d},bbfeidbiai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.regex=new RegExp("^"+t[0]+"$"),this.formatString=t[1],this.leadins=t[2].map(function(e){return new RegExp("^(?:"+e+")")})}return r(e,[{key:"testAndFormat",value:function(e){return this.regex.test(e)&&this.checkLeadins(e)?e.replace(this.regex,this.formatString):null}},{key:"checkLeadins",value:function(e){return 0===this.leadins.length||this.leadins.some(function(t){return t.test(e)})}}]),e}();t.default=a},bbfiaehhcd:function(e,t){e.exports={muted:"_3lUI9",tab:"_2Bfgm",menu:"_2MyYN",carousel:"_2gwVC",carouselEnd:"_3-2hi",selected:"_2wn58"}},bbgehjjjbb:function(e,t,n){"use strict";var r=o(n("dgdjiicfdg")),a=o(n("eaaehfdjdg"));function o(e){return e&&e.__esModule?e:{default:e}}var i={findGroupPendingInvitesFromPhone:function(e,t){var n=this;return new Promise(function(r,a){var o=n.queryNode({type:"group",kind:"invite",from:e,jid:t},[]);n.binSend("sendEphemeral",o,a,{onSend:n.binWrap(function(e){n.BinaryProtocol.read(e).then(function(e){if("response"===n.N.tag(e)&&"group"===n.N.attr("type",e)){var t=n.N.children(e),a=t&&t[0];if(a){var o=[],i=n.N.children(a);Array.isArray(i)&&i.forEach(function(e){switch(n.N.tag(e)){case"participant":o.push({id:n.N.attr("jid",e)})}}),r({participants:o})}else r({status:"error",info:"bad format: no group node"})}else r({status:"error",info:"bad format: response incorrect"})}).catch(a)},r),onDrop:n.wrap(a)},{debugString:"query,group_pending_invite",metricName:"QUERY_GROUP",ackRequest:!1})})},acceptGroupV4Invite:function(e,t,n,o,i){var u=this;return new Promise(function(s,l){var c=a.default.tag(),f=u.wrap(s);f.tag=c;var d=["group",{id:c,author:i,jid:e,type:"accept"},[["accept",{admin:t,expiration:o,code:n},void 0]]],p=u.actionNode("set",[d]);u.binSend("send",p,l,{clientCacheable:!0,onSend:f,onDrop:u.wrap(l)},{debugString:"action,group_invite_accept,",ackRequest:!1,expires:(0,r.default)().unix()})})},revokeGroupV4Invite:function(e,t,n){var o=this;return new Promise(function(i,u){var s=a.default.tag(),l=o.wrap(i);l.tag=s;var c=e.map(function(e){return["participant",{jid:e},void 0]}),f=["group",{id:s,author:n,jid:t,type:"revoke"},c],d=o.actionNode("set",[f]);o.binSend("send",d,u,{clientCacheable:!0,onSend:l,onDrop:o.wrap(u)},{debugString:"action,group_invite_revoke,",ackRequest:!1,expires:(0,r.default)().unix()})})},parseInviteUpdate(e){var t=[],n=[this.N.attr("kind",e),this.N.attr("jid",e),this.N.attr("type",e)],r=n[1];if("update"===n[0]&&"invite"===n[2]&&void 0!==r){for(var a=this.N.children(e),o=0;o<a.length;o++){var i=a[o];"participant"===this.N.tag(i)&&t.push(this.N.attr("jid",i))}return{gid:r,participants:t}}}};e.exports=i},bbhahjgijh:function(e,t,n){"use strict";function r(e,t){return e===t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;if(e===t)return!0;if(e.length!==t.length)return!1;return e.every(function(e,r){return n(e,t[r])})}},bbhdaaahah:function(e,t){e.exports={muted:"_1MlFv",tooltip:"_2KuNh","tooltip-left-ltr":"_1hDS8",tooltipLeftLtr:"_1hDS8","tooltip-left-rtl":"_2ehMR",tooltipLeftRtl:"_2ehMR"}},bbhdgdbggg:function(e,t){e.exports={muted:"_2WRQ_",container:"_3IHPx",image:"_3ktqx",body:"_3WHNc",badge:"_27UdA",name:"_2nJlj",address:"_3AuNx",description:"bfgpN"}},bbhejgbajf:function(e,t,n){"use strict";var r=o(n("dbajccegac")),a=o(n("jajcehbed"));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=function(e){return Promise.all(e.map(function(e){return function(e){var t=void 0;return new Promise(function(n,a){(t=new FileReader).addEventListener("loadend",function(){n(r.default.build(t.result))}),t.addEventListener("error",function(e){return a(e)}),t.readAsArrayBuffer(e)})}(e.blob)})).then(function(t){var n,r=new a.default;return t.forEach(function(t,n){return r.add(t,e[n].name)}),n=r.create(),new Blob([n.readByteArray()],{type:"application/zip"})})}},bbhhbdicgc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownDataError=t.DEFAULT_ITEM_HEIGHT=void 0;var r=m(n("eaaagccfda")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=m(n("iffjgahba")),s=m(n("ceffhbhahb")),l=m(n("dfafdjbjfd")),c=m(n("bbagfcaiaf")),f=m(n("bdigfbgefi")),d=m(n("bebjeaagc")),p=m(n("didfdhbecg")),h=m(n("dcbafbbijj"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=t.DEFAULT_ITEM_HEIGHT=72,_=150,E=(t.UnknownDataError=function(e){function t(e){return b(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,`Unknown data encountered while rendering. Item key: ${e.itemKey}`))}return v(t,(0,u.default)("UnknownDataError")),t}(),function(e){function t(){var e,n,a;b(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=a=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.keyPool=new f.default,a.scrollTop=0,a.offsetTop=0,a.bodyHeight=0,a.listHeight=0,a.hanging=!1,a.pointerEvents=!0,a.setRefList=function(e){a.refList=e},a.state={firstIndex:0,lastIndex:0,renderedListHeight:0},a.setHeights=function(){a.setState({renderedListHeight:a.listHeight})},a.onLayout=function(e){var t=a.refList;if(t){var n=Math.max(t.getBoundingClientRect().top-e.position.top,0);a.bodyHeight=e.height,a.offsetTop=n,a.setState(a.computeIndexes(a.props))}},a.onScroll=function(){a.animationFrame?a.hanging=!0:(a.hanging=!1,a.animationFrame=requestAnimationFrame(a._onScroll))},a._onScroll=function(){a.disablePointerEvents();var e=a.state,t=e.firstIndex,n=e.lastIndex,r=a.props.flatListController.getScrollTop();if(null==r)throw new Error("FlatList:ScrollEvent thrown while container is unmounted");a.scrollTop=Math.max(r,0);var o=a.computeIndexes(a.props);if(t===o.firstIndex&&n===o.lastIndex)return a.onFinishScroll();a.setState(o,a.onFinishScroll)},a.onFinishScroll=function(){a.animationFrame=void 0,a.enablePointerEvents(),a.hanging&&a.onScroll()},a.enablePointerEvents=(0,r.default)(function(){if(a.animationFrame)return a.enablePointerEvents();d.default.clearBusy(a.busyId),delete a.busyId,a.props.onPointerEventsOn&&a.props.onPointerEventsOn();var e=a.refList;e&&(e.style.pointerEvents="auto"),a.pointerEvents=!1},_),g(a,n)}return v(t,i.Component),o(t,[{key:"UNSAFE_componentWillMount",value:function(){this.computeData(this.props),this.setState({renderedListHeight:this.listHeight})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.computeData(e);var t=this.computeIndexes(e);e.itemEnterAnimationsEnabled&&this.listHeight<this.state.renderedListHeight?this.setState(t):this.setState(a({},t,{renderedListHeight:this.listHeight}))}},{key:"componentDidMount",value:function(){this.props.flatListController.registerList({handleLayout:this.onLayout,handleScroll:this.onScroll})}},{key:"componentWillUnmount",value:function(){this.props.flatListController.unregisterList(),this.enablePointerEvents.cancel(),this.cancelScroll()}},{key:"computeData",value:function(e){var t=0;this.data=e.data.map(function(n,r){var o=a({},n,{offset:t}),i=null!=n.height&&n.height>0?n.height:e.defaultItemHeight;return t+=i,o}),this.listHeight=t}},{key:"computeIndexes",value:function(e){if(void 0===this.bodyHeight||void 0===this.offsetTop)throw new Error("FlatList:Computing FlatList without a valid Container");for(var t=e.defaultItemHeight,n=e.extraItems,r=e.forceConsistentRenderCount,a=this.scrollTop,o=0,i=0;i<this.data.length;i++){var u=this.data[i],s=null!=u.height&&u.height>0?u.height:t;if(this.offsetTop+u.offset+s>a){o=i;break}}for(var l=void 0,c=r?Math.min(this.data[o].offset+this.bodyHeight,this.listHeight):Math.min(a+this.bodyHeight,this.listHeight+this.offsetTop),f=o;f<this.data.length;f++){var d=this.data[f],p=null!=d.height&&d.height>0?d.height:t;if(this.offsetTop+d.offset+p>=c){l=f;break}}var h=n,m=n-o;m>0&&(h+=m);var b=n,g=l+n-this.data.length;return g>0&&(b+=g),{firstIndex:Math.max(o-b,0),lastIndex:Math.min(l+h,this.data.length-1)}}},{key:"cancelScroll",value:function(){this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=void 0,this.hanging=!1)}},{key:"disablePointerEvents",value:function(){if(this.busyId=d.default.setBusy(this.busyId),!this.pointerEvents){this.props.onPointerEventsOff&&this.props.onPointerEventsOff();var e=this.refList;e&&(e.style.pointerEvents="none"),this.pointerEvents=!0}}},{key:"scrollIntoViewIfNeeded",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e<0||e>=this.data.length)throw new Error("Invalid Index.");var n=this.data[e].offset;(n<this.scrollTop-t||n>this.scrollTop+this.bodyHeight+t)&&this.props.flatListController.setScrollTop(n)}},{key:"getComponents",value:function(){var e=this,t=this.props,n=t.reorderAnimationsEnabled,r=t.renderItem,o=t.defaultItemHeight,u=this.state,s=u.firstIndex,f=u.lastIndex,d=this.data.slice(s,f+1);return this.keyPool.recycleKeysAndMap(d).map(function(t,u){var s=t.rctKey,f=t.data,d=null!=f.height&&0!==f.height?f.height:o;return i.createElement(l.default,{key:s,data:a({},f,{height:d}),animate:!!n&&c.default.shouldAnimate,zIndex:e.data.length-u-1,renderItem:r})})}},{key:"render",value:function(){return i.createElement("div",{className:(0,s.default)(this.props.className),ref:this.setRefList},i.createElement("div",{className:h.default.viewport,style:{height:this.state.renderedListHeight}},this.props.itemEnterAnimationsEnabled?i.createElement(p.default,{transitionName:"fade",onAnimationComplete:this.setHeights},this.getComponents()):this.getComponents()))}}]),t}());E.defaultProps={defaultItemHeight:y,forceConsistentRenderCount:!0,extraItems:5,initialScrollTop:0,reorderAnimationsEnabled:!0},E.displayName="FlatList",t.default=E},bbhigdgdbc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=oe(n("bfhjejbhhd")),a=oe(n("ddbbigfbec")),o=oe(n("eaeajdggge")),i=oe(n("echehdcaii")),u=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.hasPending=function(){if(!g.default.connected)return!1;var e=n("ecfbchagde").hasText,t=h.default.some(function(e){return 0===e.ack&&e.local&&e.isSentByMe}),r=p.default.some(function(e){return!!e.composeContents.text});return t||r||e()};var l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),c=oe(n("ceffhbhahb")),f=oe(n("cbeedeeja")),d=oe(n("djheacfeif")),p=oe(n("dbdfbgehgj")),h=oe(n("biecbbiiee")),m=oe(n("begicajfb")),b=oe(n("gbfffciea")),g=oe(n("bjigbaghc")),v=oe(n("biddiiafgd")),y=oe(n("eadfaddcj")),_=oe(n("fjeagagdf")),E=n("djcjacfcic"),j=oe(E),O=oe(n("ddajbaceej")),S=n("dhfbfehaef"),w=oe(S),P=oe(n("ebidfedahj")),M=oe(n("bdgeaggfea")),C=oe(n("bhhgagadei")),T=oe(n("eceadcicaf")),A=oe(n("bjbedjfe")),N=oe(n("bdiiahhjbe")),k=oe(n("dgdjiicfdg")),I=oe(n("cbjagjcgia")),R=n("bgddggdhc"),L=oe(n("ceddibdhdb")),D=oe(n("eaaehfdjdg")),x=oe(n("dcdiaahjj")),U=oe(n("dedjffeefj")),G=oe(n("cfcdedaej")),F=oe(n("cbjedbdgjh")),B=oe(n("bcjcbbafcj")),$=oe(n("caffijjhc")),V=oe(n("dcjdgceiej")),H=oe(n("edbaidcaf")),W=oe(n("bgidiahdfc")),Y=n("bbicdddbdj"),K=oe(n("gifddfdia")),q=oe(n("egjjcjcg")),z=oe(n("bcifhbgija")),Q=oe(n("dhabbfcefj")),J=oe(n("bfdijdeegj")),Z=oe(n("ebiehcaghg")),X=n("ejbdjaifi"),ee=n("hfifjaejc"),te=oe(n("ecbjchafdg")),ne=oe(n("ihgefacbb")),re=oe(n("bfbggcdbfb")),ae=oe(n("gcbhjhjhg"));function oe(e){return e&&e.__esModule?e:{default:e}}function ie(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ue=n("bbaibbdgdj"),se=n("chiaeadhif"),le=[[document,"mousemove"],[document,"scroll"],[document,"keydown"],[window,"focus"],[window,"resize"]];function ce(e){window.history.pushState({},"",window.location.href)}var fe=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=i=ie(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),i.state={drawerActive:!1,drawerAnimating:!1},i.idleMonitor=null,i.serverPropsQueryLoop=null,i.rightDrawerOut=!1,i.onBlurTimer=new L.default(function(){if(document.activeElement===document.body){var e=V.default.Manager.top;e&&e.uie.requestFocus()}}),i.onBlur=function(){i.onBlurTimer.debounce(10)},i.onRightDrawerIn=function(){i.rightDrawerOut=!1,b.default.onPanesWillChange(3),i.setState({drawerActive:!0,drawerAnimating:!0},function(){b.default.onPanesDidChange(3)});var e=i.calculateConversationPaneScale();null!=e&&i.animateConversationPane(e)},i.onRightDrawerOut=function(){i.rightDrawerOut=!0;var e={drawerActive:i.state.drawerActive,drawerAnimating:!0},t=i.calculateConversationPaneScale();null!=t&&i.animateConversationPane(t),1!==t?(b.default.onPanesWillChange(2),e.drawerActive=!1,i.setState(e,b.default.onPanesDidChange.bind(b.default,2))):i.setState(e)},i.onRightDrawerAnimationComplete=function(){var e={drawerActive:i.state.drawerActive,drawerAnimating:!1};i.state.drawerActive&&i.rightDrawerOut&&(e.drawerActive=!1),i.setState(e)},i.onRotateFocus=function(e){var t=1;e&&(e.stopPropagation(),e.preventDefault(),t=e.shiftKey?-1:1,(0,S.shouldIndicateFocus)());var n=[];if((0,o.default)((0,R.forbiddenAssertDOMNode)(i).querySelectorAll("[data-tab]")).forEach(function(e){n.push(e)}),b.default.existsDrawerLeft(function(e){if(e){var t=(0,R.forbiddenFindDOMNode)(i.refChatList);n=n.filter(function(e){return!(t&&t.contains(e))})}}),b.default.existsDrawerMid(function(e){if(e){var t=(0,R.forbiddenFindDOMNode)(i.refConversation);t&&(n=n.filter(function(e){return!(t&&t.contains(e))}))}}),n.length){n=(0,a.default)(n,function(e){return parseInt(e.getAttribute("data-tab"),10)||0});var u=0,s=document.activeElement;s&&(u=M.default.ring((0,r.default)(n,function(e){return e.contains(s)})+t,n));var l=n[u];(0,S.shouldIndicateFocus)(),l.restoreFocus?l.restoreFocus():O.default.focus(l)}},i.showTOS=function(){switch(g.default.tos){case 1:case 2:b.default.openModal(l.createElement(G.default,null),{blockClose:!0});break;case 3:D.default.logout()}},i.showSmbTos=function(){g.default.smbTos&&b.default.openModal(l.createElement(F.default,null),{blockClose:!0})},i.setRefContainer=function(e){i.refContainer=e},i.setRefChatList=function(e){i.refChatList=e},i.setRefConversation=function(e){i.refConversation=e},i.showKeyboardShortcuts=function(e){for(var t,n=e.target,r=0;r<5;r++){if((t=n)&&t.getAttribute("contentEditable")||t instanceof HTMLInputElement)return;n=n.parentNode}b.default.openModal(l.createElement(te.default,null)),e.preventDefault()},ie(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.PureComponent),s(t,[{key:"UNSAFE_componentWillMount",value:function(){x.default.uiActive=!0,x.default.markAvailable();var e=g.default.platform;(0,W.default)("iphone"===e?Y.EMOJI_TYPE.APPLE:Y.EMOJI_TYPE.WHATSAPP),K.default.downloadEmojiAsset(e)}},{key:"componentWillUnmount",value:function(){this.onBlurTimer.cancel(),C.default.menuBatchRenderWith(function(){C.default.trigger(`${P.default.Event}:${P.default.Events.LOGGED_OUT}`)}),H.default.canMuckHistory()&&window.history.back(),x.default.uiActive=!1,this.clearIdleMonitor(),this.clearServerPropsQueryLoop(),this.stopTrackingFPS&&this.stopTrackingFPS()}},{key:"componentDidMount",value:function(){var e=this.props.listeners;if(C.default.menuBatchRenderWith(function(){C.default.trigger(`${P.default.Event}:${P.default.Events.LOGGED_IN}`)}),H.default.canMuckHistory()&&(window.history.pushState({},"",window.location.href),e.add(window,"popstate",ce)),this.beginIdleMonitor(!0),this.beginServerPropsQueryLoop(),e.add(g.default,"change:tos",this.showTOS),this.showTOS(),g.default.isSMB&&(e.add(g.default,"change:smbTos",this.showSmbTos),this.showSmbTos()),O.default.focus((0,R.forbiddenAssertDOMNode)(this)),B.default.isSafari&&(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)){var t=q.default.getNUX(y.default.NUX.SAFARI_LIMITED_SUPPORT);(!t||t<t.maxViews)&&(setTimeout(function(){var e=l10n.t(1353).replace("__chrome_homepage__",y.default.BROWSER_LINK.CHROME).replace("__firefox_homepage__",y.default.BROWSER_LINK.FIREFOX).replace("__opera_homepage__",y.default.BROWSER_LINK.OPERA);b.default.openModal(l.createElement(v.default,{onOK:function(){return b.default.closeModal()},okText:l10n.t(825)},l.createElement("div",{dangerouslySetInnerHTML:{__html:e}})))},250),q.default.setNUX(y.default.NUX.SAFARI_LIMITED_SUPPORT,{views:1,maxViews:1}))}if(this.stopTrackingFPS=ne.default.whenLessThan(1,function(e,t){new re.default.WebcUiFreeze({webcUiFreezeFps:e,webcUiFreezeT:(0,i.default)(t,0)}).commit(),N.default.log(`Low FPS Tracker: ${(0,i.default)(e,2)}fps, ${(0,i.default)(t,3)/1e3}s since page open.`)()}),ae.default.supported){var n=navigator.serviceWorker;n&&n.controller&&se.request(n.controller,ue.PRELOAD_LAZY_LOADED_BUNDLES).catch(function(){})}}},{key:"beginIdleMonitor",value:function(e){var t=this,n=e?y.default.IDLE_TIMEOUT:0;this.idleMonitor=Promise.loop(function(){return Promise.delay(n).addCancelControl().then(function(){x.default.markUnavailable(3e4);var e=void 0,r=new Promise(function(t){e=t});return le.forEach(function(n){var r=u(n,2),a=r[0],o=r[1];t.props.listeners.add(a,o,e)}),r.addCancelControl().finally(function(){le.forEach(function(n){var r=u(n,2),a=r[0],o=r[1];t.props.listeners.remove(a,o,e)})}).then(function(){document.hasFocus()&&x.default.markAvailable(),n=y.default.IDLE_TIMEOUT})})}).finally(function(){t.idleMonitor=null}).catch(Promise.CancellationError,function(){}).endWithControls("cancel")}},{key:"clearIdleMonitor",value:function(){this.idleMonitor&&this.idleMonitor.control.cancel()}},{key:"beginServerPropsQueryLoop",value:function(){var e=this;this.serverPropsQueryLoop=d.default.setLocalTimeout(function(){(0,ee.queryServerProps)(),e.beginServerPropsQueryLoop()},(0,k.default)().add(1,"days").valueOf())}},{key:"clearServerPropsQueryLoop",value:function(){d.default.clearTimeout(this.serverPropsQueryLoop)}},{key:"calculateConversationPaneScale",value:function(){if(!(this.refChatList&&this.refContainer&&this.refConversation))return null;var e=(0,R.forbiddenAssertDOMNode)(this.refChatList),t=(0,R.forbiddenAssertDOMNode)(this.refConversation),n=(0,R.forbiddenAssertDOMNode)(this.refContainer);return t.clientWidth/(n.clientWidth-e.clientWidth)}},{key:"animateConversationPane",value:function(e){(0,z.default)((0,R.forbiddenAssertDOMNode)(this.refConversation),{scaleX:[1,e]},{duration:300,easing:[.1,.82,.25,1]})}},{key:"render",value:function(){var e=(0,c.default)("app",Z.default.app,{three:this.state.drawerActive,two:!this.state.drawerActive,"app-animating":this.state.drawerAnimating,[Z.default.noAnimation]:!this.props.animate}),t={tab:this.onRotateFocus,"shift+tab":this.onRotateFocus,"shift+?":this.showKeyboardShortcuts};return l.createElement($.default,{state:$.default.State.INACTIVE,ref:this.setRefContainer,displayName:"Main"},l.createElement(w.default,{handlers:t,className:e,onBlur:this.onBlur},l.createElement(I.default,null),l.createElement(f.default,null),l.createElement(Q.default,null),l.createElement(J.default,null),l.createElement(U.default,null),l.createElement("div",{className:Z.default.drawerManager},l.createElement("div",{className:(0,c.default)(Z.default.pane,Z.default.paneOne)},l.createElement(j.default,{direction:E.Dir.LEFT})),l.createElement("div",{className:(0,c.default)(Z.default.pane,Z.default.paneTwo)},l.createElement(j.default,{direction:E.Dir.MID})),l.createElement("div",{className:(0,c.default)(Z.default.pane,Z.default.paneThree)},l.createElement(j.default,{direction:E.Dir.RIGHT,onDrawerIn:this.onRightDrawerIn,onDrawerOut:this.onRightDrawerOut,onDrawerAnimationComplete:this.onRightDrawerAnimationComplete}))),l.createElement("div",{className:(0,c.default)(Z.default.pane,Z.default.paneOne)},l.createElement(m.default,{ref:this.setRefChatList})),l.createElement("div",{className:(0,c.default)(Z.default.pane,Z.default.paneTwo)},l.createElement(_.default,{animate:this.props.animate,ref:this.setRefConversation}))))}}]),t}();fe.displayName="Main",t.default=(0,T.default)((0,A.default)((0,X.hoc)(fe)))},bbiacghfif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(!e)return;var r=[];r.push(e);for(;r.length;){var a=r.shift(),o=n(a);if(o)return a;r=r.concat(t(a))}}},bbibiacbfd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("bdbfijejbi")),i=l(n("dicdgcbidg")),u=n("eahceeffa"),s=n("cgffhfegce");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={animationFramesInfo:null},(0,s.blobToArrayBuffer)(n.props.blob).then(i.default).then(function(e){n.setState({animationFramesInfo:e})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.state.animationFramesInfo;if(!e)return this.props.renderPreview();var t=e.width,n=e.height,r=e.frames;return a.createElement(o.default,{className:this.props.className,width:t,height:n,animationFrames:r,startAnimation:Boolean(this.props.loopAnimation||this.props.startAnimation),maxLoops:this.props.loopAnimation?1/0:u.MAX_LOOPS,maxDuration:this.props.loopAnimation?1/0:u.MAX_DURATION,onClick:this.props.onClick})}}]),t}();c.displayName="AnimationCanvas",t.default=c},bbicdddbdj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("cjedbjfabb").EMOJI.ORDERED_CATEGORY_IDS,a=(t.EMOJI_TYPE={APPLE:"APPLE",WHATSAPP:"WHATSAPP"},t.EMOJI_WIDTH={small:20,large:35},t.LARGE_EMOJI_SIZE={MEDIUM:"MEDIUM",LARGE:"LARGE",XLARGE:"XLARGE"},t.CATEGORY_ORDERING=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r),["VARIATION"]));t.VARIATION_CATEGORY=a.indexOf("VARIATION")},bbijaajigb:function(e,t,n){"use strict";e.exports={singleByte:["privacy","blacklist","whitelist","verify"]}},bbjadhadbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("bffjfbgbg")),i=l(n("cjieghfgda")),u=l(n("ihfccfgdf")),s=n("ejbdjaifi");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.mediaData.filehash,a=i.default.has(r);!a&&e.mediaData.mediaStage===o.default.STAGE.RESOLVED&&e.downloadMedia&&e.downloadMedia();var u=null;return a&&(i.default.increaseUsageCount(r),u=i.default.getOrCreateURL(r)),n.state={url:u},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidUpdate",value:function(){var e=this.props.mediaData.filehash;if(i.default.has(e)&&!this.state.url){i.default.increaseUsageCount(e);var t=i.default.getOrCreateURL(e);this.setState({url:t})}}},{key:"componentWillUnmount",value:function(){this.state.url&&i.default.decreaseUsageCount(this.props.mediaData.filehash)}},{key:"render",value:function(){return this.state.url?this.props.children(this.state.url):this.props.placeholderRenderer()}}]),t}();c.CONCERNS={mediaData:["filehash","mediaStage"]},c.displayName="MediaUrlProvider",t.default=(0,u.default)((0,s.hoc)(c),c.CONCERNS)},bbjdcggice:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SenderElement=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("fifhbjiec")),i=l(n("ihfccfgdf")),u=n("ejbdjaifi"),s=l(n("ecbgbhdahb"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.contact;return a.createElement(f,{text:e.formattedShortName,isNumber:!e.name})}}]),t}();c.CONCERNS={contact:["formattedShortName","name"]},c.displayName="Sender",t.default=(0,i.default)((0,u.hoc)(c),c.CONCERNS);var f=t.SenderElement=function(e){var t=e.text,n=e.isNumber;return a.createElement("span",{className:s.default.sender},a.createElement(o.default,{text:t,direction:n?"ltr":"auto"}),":")};f.displayName="SenderElement"},bbjjjbicfb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.intColorToHex=f;var a=n("dcaifjegcg"),o=s(a),i=s(n("ddcfhecgai")),u=s(n("bhggeigghg"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,a.prop)(),r.name=(0,a.prop)(),r.color=(0,a.prop)(),r.count=(0,a.prop)(),r.stale=(0,a.session)(!0),r.hexColor=(0,a.derived)(r._hexColor,["color"]),l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"initialize",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.labeltemColleciton=new i.default,this.triggerLabelUpdate(),this.listenTo(this,"change:name",this.triggerLabelUpdate),this.listenTo(this,"change:color",this.triggerLabelUpdate),this.listenTo(this,"change:count",this.triggerLabelUpdate)}},{key:"_hexColor",value:function(){if(this.color)return f(this.color)}},{key:"_find",value:function(e){return Promise.resolve({id:e})}},{key:"triggerLabelUpdate",value:function(){this.name&&u.default.Label.trigger(`label_updated_${this.id}`)}}]),t}();function f(e){return`#${(parseInt(e,10)>>>0).toString(16).slice(-6)}`}c.Collection="Label",c.Proxy="label",t.default=(0,a.defineModel)(c)},bcadhjihfb:function(e,t){e.exports={muted:"_1X34V",icon:"_1ECO8"}},bcafcjajcb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=o(n("dghbeeheia"));o(n("bfdcadbbif"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.icon?r.createElement("div",{className:a.default.icon},e.icon):null;return r.createElement("div",{className:a.default.note},t,r.createElement("div",{className:a.default.noteBody},e.children))}i.displayName="PiPOverlay"},bcajjbibcd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("eceadcicaf")),i=n("ejbdjaifi"),u=c(n("dacdidjdfi")),s=c(n("ddfbaajaeh")),l=c(n("ceffhbhahb"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));d.call(n);var r=n.props,a=r.multiSelection,o=r.initalSelection,i=r.model,u=void 0;return u=null!=o?o:a.isSelected(i)?1:0,n.state={selected:u},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.listeners.add(this.props.multiSelection,this.props.model.id.toString(),this.onSelectChange),this.props.selectableState&&this.props.listeners.add(this.props.selectableState,"all",this.onSelectableChange)}},{key:"UNSAFE_componentWillUpdate",value:function(e){var t=this.props,n=t.model,r=t.multiSelection,a=t.listeners,o=[n.id.toString(),e.model.id.toString()],i=o[0],u=o[1];r&&i!==u&&(a.remove(r,i,this.onSelectChange),a.add(r,u,this.onSelectChange),this.setState({selected:r.isSelected(e.model)?1:0}))}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.selectableState,r=e.children,o=(0,l.default)(s.default.checkboxChatControl,{[s.default.labelSelection]:"label-selection"===this.props.theme}),i=n&&n.isSelectable,c={};if(i&&t&&Object.assign(c,{theme:t}),i&&Object.assign(c,{noContext:!0}),!r)return null;var f=a.Children.toArray(r)[0],d="label-selection"===t?this.onSelect:null;return a.createElement("div",{className:s.default.checkboxChatWrapper,onClick:d},i&&a.createElement("div",{className:o,onClick:this.onSelect},a.createElement(u.default,{onChange:this.onSelect,checked:this.state.selected})),a.cloneElement(f,c))}}]),t}(),d=function(){var e=this;this.onSelectableChange=function(){e.forceUpdate()},this.onSelectChange=function(t){e.state.selected!==t&&e.setState({selected:t?1:0})},this.onSelect=function(t){t&&t.stopPropagation();var n=e.props,r=n.onSelect,a=n.model,o=void 0;switch(e.state.selected){case 0:o=1;break;case 1:case 2:e.setState({selected:0}),o=0}r&&r(a,!!o,!1)}};f.displayName="CheckboxWrapper",t.default=(0,o.default)((0,i.hoc)(f))},bcbahjefec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n("bfeeicacah")),a=p(n("dhihgagbaa")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=p(n("bdiiahhjbe")),s=p(n("didfdhbecg")),l=p(n("bfejacaeaj")),c=p(n("dcjdgceiej")),f=p(n("caffijjhc")),d=p(n("edjfhjcce"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={_stack:[],_transition:"default",_activeKey:0},r.setRefUIE=function(e){r.refUIE=e},r.popAndUpdate=function(e,t){var n=r.state._stack;n.length<2&&r.pop(t);var a=i.cloneElement(n[n.length-2],e);n[n.length-2]=a,r.pop(t)},r.push=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.props.pushTransition;r.setState({_stack:r.state._stack.concat(e),_transition:t,_activeKey:++r.state._activeKey})},r.pop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.props.popTransition,t=(0,a.default)(r.state._stack);t.length?r.setState({_stack:t,_transition:e,_activeKey:--r.state._activeKey}):r.end()},r.end=function(e){r.context.uim.uie.requestDismiss(e)},r.requestFocus=function(){},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"handleRequestDismiss",value:function(e){this.pop()}},{key:"render",value:function(){var e=this.state,t=e._stack,n=e._transition,a=e._activeKey,o=(0,r.default)(t);return u.default.assert(!!o,"empty-flow")(),o=i.createElement(f.default,{displayName:`FlowDrawer${a}`,key:a,escapable:!0,ref:this.setRefUIE,requestFocus:this.requestFocus,requestDismiss:this.handleRequestDismiss.bind(this)},o),i.createElement(s.default,{transitionName:n,className:d.default.container},this.props.removeTopDrawer?o:t)}}]),t}();m.contextTypes={uim:l.default.instanceOf(c.default)},m.defaultProps={removeTopDrawer:!0,pushTransition:"flow-transition-drawer-push",popTransition:"flow-transition-drawer-pop"},m.displayName="FlowComponent",t.default=m},bcbeeajhgb:function(e,t,n){"use strict";var r=s(n("ddfeabiaci")),a=s(n("bjigbaghc")),o=s(n("bdiiahhjbe")),i=s(n("ccgjijjbbj")),u=s(n("cahfddcdga"));function s(e){return e&&e.__esModule?e:{default:e}}var l=n("bbcaggdbc").WebMessageInfo,c=n("bgiachiigg").Message,f=n("dcdifccjdh"),d={version:"13",parseMsgMessage:function(e,t){if("message"===this.N.tag(e)){var n=this.N.children(e);if(n instanceof ArrayBuffer)try{var r=l.parse(n);return this.parseWebMessageInfo(r,t)}catch(t){return o.default.log(`wmi error: ${String(t)}`)(),void o.default.assert(!1,"parse-error","drop: failed parsing wmi")(e)}else o.default.error("drop: no bytes")(e)}else o.default.error("drop: not message")(e)},parseWebMessageInfo:function(e,t){var n=e.key,r=this.decodeJid(n.remoteJid),s=n.fromMe?r:a.default.me,l=n.fromMe?a.default.me:r,c=this.decodeJid(n.participant),f="in";if(a.default.me.equals(r)&&(f=n.fromMe?"out":"in"),"broadcast"!==s){var d=void 0;try{d=new i.default({fromMe:(0,u.default)(n.fromMe),remote:r,id:(0,u.default)(n.id),participant:c})}catch(e){return void o.default.error("drop: cannot create MsgKey: "+e.stack)()}var p={id:d,from:l,to:s,self:f,participant:c,type:"unknown",t:e.messageTimestamp||0,ack:"fresh"===t?1:e.status-1,author:this.decodeJid(e.participant),invis:!!e.ignore,star:!!e.starred,broadcast:n.fromMe&&e.broadcast,notifyName:e.pushName||"",encFilehash:this.decodeBytes(e.mediaCiphertextSha256),shareDuration:e.message&&e.message.liveLocationMessage?e.duration:void 0,labels:e.labels};return e.message?this.parseMsgProto(e.message,p,t,e.paymentInfo,e.finalLiveLocation,e.quotedPaymentInfo):this.parseMsgStubProto(e,p)}o.default.error("drop: broadcast")(e)},parseMsgStubProto:function(e,t){var n=l.STUBTYPE;switch(e.messageStubType){case n.REVOKE:return t.type="revoked",t;case n.CIPHERTEXT:return t.type="ciphertext",t;case n.FUTUREPROOF:return t.type="unknown",t.subtype="phone",t;default:return t}},parseProtocolMessageProto:function(e,t,n){if("relay"===n){var r=void 0;switch(t.type){case c.ProtocolMessage.TYPE.REVOKE:r="revoke";break;default:r="unknown"}var a=t.key,o=new i.default({fromMe:a.fromMe,remote:this.decodeJid(a.remoteJid),id:a.id,participant:this.decodeJid(a.participant)});e.type="protocol",e.subtype=r,e.protocolMessageKey=o}}};e.exports=(0,r.default)(d,f)},bcbeebghff:function(e,t,n){"use strict";var r,a=n("bdiiahhjbe"),o=(r=a)&&r.__esModule?r:{default:r};var i=["url","mediaKey","filehash","encFilehash","width","height","mimetype"],u=["url","mediaKey","filehash","encFilehash","mimetype"];function s(e,t){for(var n=0;n<t.length;n++)if(!e[t[n]])return!1;return!0}var l={mediaUpload:function(e,t){var n=this;return new Promise(function(r,a){var l=n.queryNode({type:"media",kind:e,id:t.toString()},void 0);n.binSend("sendEphemeral",l,a,{onSend:n.binWrap(function(t){n.BinaryProtocol.read(t).then(function(t){if(o.default.logColor("green","bin-recv: response,media",t)(),"response"!==n.N.tag(t)||"media"!==n.N.attr("type",t))return o.default.error("wap:mediaUpload:malformed")(),void r({status:400});var a=parseInt(n.N.attr("code",t))||200;if(200!==a)return o.default.error("wap:mediaUpload:error "+a)(),void r({status:a});switch(e){case"sticker":var l={directPath:n.N.attr("direct_path",t),url:n.N.attr("url",t),filehash:n.N.attr("filehash",t),encFilehash:n.N.attr("enc_filehash",t),mediaKey:n.N.attr("media_key",t),mimetype:n.N.attr("mimetype",t),height:n.N.attr("height",t),width:n.N.attr("width",t)};return s(l,i)?void r({status:a,sticker:l}):(o.default.error("wap:mediaUpload:missing-field")(),void r({status:400}));case"sticker-pack":var c={directPath:n.N.attr("direct_path",t),url:n.N.attr("url",t),filehash:n.N.attr("filehash",t),encFilehash:n.N.attr("enc_filehash",t),mediaKey:n.N.attr("media_key",t),mimetype:n.N.attr("mimetype",t)};return s(c,u)?void r({status:a,stickerPack:c}):(o.default.error("wap:mediaUpload:missing-field")(),void r({status:400}));case"quick-reply":throw new Error('"quick-reply" not yet implemented');default:throw new Error(`unknown kind ${e}`)}})},r),onDrop:n.wrap(a)},{debugString:"query,media",metricName:"QUERY_MEDIA",ackRequest:!1})})}};e.exports=l},bcbfebgcic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendQueryGroupInviteCode=function(e){var t=void 0;if(a.default.supportsFeature(a.default.F.MD_BACKEND))return Promise.reject(new Error("queryGroupInvite: not supported when not build with MD_BACKEND"));t=o.default.groupInviteCode(e).then(function(e){return 200===e.status?e.code:Promise.reject(new r.ServerStatusCodeError(e.status))});return t},t.sendRevokeGroupInviteCode=function(e){var t=void 0;if(a.default.supportsFeature(a.default.F.MD_BACKEND))return Promise.reject(new Error("queryGroupInvite: not supported when not build with MD_BACKEND"));t=o.default.revokeGroupInvite(e).then(function(e){return 200===e.status?e.code:Promise.reject(new r.ServerStatusCodeError(e.status))});return t},t.sendJoinGroupViaInvite=function(e){var t=void 0;if(a.default.supportsFeature(a.default.F.MD_BACKEND))return Promise.reject(new Error("joinGroupViaInvite: not supported when not build with MD_BACKEND"));t=o.default.acceptGroupInvite(e).then(function(e){return 200===e.status?e.gid:Promise.reject(new r.ServerStatusCodeError(e.status))});return t};var r=n("ddjgcfjicj"),a=i(n("ccaaiecfib")),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}},bcbhbedgh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.MediaError||{MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4};t.default=r},bcbhcfbjff:function(e,t){e.exports={muted:"_3jy1v",quote:"oLwmo",hasAuthor:"_19aTC",bubble:"Eu2_h",meta:"_3qAvH",isTransparent:"_2Hp95",body:"_3FGS1",author:"_3Mf7Z",isFirst:"_1X6iJ"}},bcbjcgdgdf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPERATIONS=void 0,t.default=function(e){var t=e.encFilehash,n=e.directPath,i=e.hosts,s=e.operation,l=e.type;if(!i.length)return{selectedHost:null,fallbackHost:null};var c=void 0,f=void 0,d=void 0,p=void 0,h=!1;if(s===u.DOWNLOAD){var m=i[0],b=n?n.match(/&_nc_hot=([0-9]+)/):null,g=parseInt(b&&b[1],10),v=isNaN(g)?null:Date.now()-g;null!=o.CAT_HOST_TIMESPAN&&o.CAT_HOST_TIMESPAN>0&&(l===r.default.STICKER||null!=v&&v<=o.CAT_HOST_TIMESPAN)?c=1:o.MMS_VCA_ENABLED&&null!=o.MAX_BUCKETS&&(c=(0,a.default)(t,o.MAX_BUCKETS)+100),null!=c&&(f=i[c]),null!=f&&f.supportsDownloadMediaType(l)?d=f:m.supportsDownloadMediaType(l)?d=m:h=!0}for(var y=0;y<i.length;y++){var _=i[y];if(_.isFallback()&&null==p&&(p=_,h)){d=_;break}if(s===u.UPLOAD?null==d&&_.supportsUploadMediaType(l)&&(d=_):null==d&&_.supportsDownloadMediaType(l)&&(d=_),null!=d&&null!=p)break}return{selectedHost:d,fallbackHost:p}};var r=i(n("gbjefdbgb")),a=i(n("bgaigbgdgj")),o=n("cjcabghhji");function i(e){return e&&e.__esModule?e:{default:e}}var u=t.OPERATIONS={DOWNLOAD:"DOWNLOAD",UPLOAD:"UPLOAD"}},bcdafjgefj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},bcdgdcghdi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("bbhdaaahah"),i=(r=o)&&r.__esModule?r:{default:r};var u=function(e){var t=e.children;return a.createElement("div",{className:i.default.tooltip},t)};u.displayName="ErrorTooltip",t.default=u},bcdjifadgi:function(e,t){e.exports={muted:"eHGZy",msgUnread:"_3Xx0y",msgUnreadBody:"_1lo-H"}},bceahhbbcj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendAddParticipants=function(e,t){var n=void 0;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("addParticipants: not supported when not build with MD_BACKEND"));n=a.default.addParticipants(e,t);return n},t.sendRemoveParticipants=function(e,t){var n=void 0;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("sendRemoveParticipants: not supported when not build with MD_BACKEND"));n=a.default.removeParticipants(e,t);return n},t.sendDemoteParticipants=function(e,t){var n=void 0;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("sendDemoteParticipants: not supported when not build with MD_BACKEND"));n=a.default.demoteParticipants(e,t);return n},t.sendPromoteParticipants=function(e,t){var n=void 0;if(r.default.supportsFeature(r.default.F.MD_BACKEND))return Promise.reject(new Error("sendPromoteParticipants: not supported when not build with MD_BACKEND"));n=a.default.promoteParticipants(e,t);return n};var r=o(n("ccaaiecfib")),a=o(n("bihdhbjih"));function o(e){return e&&e.__esModule?e:{default:e}}},bcebbbdfff:function(e,t){e.exports={muted:"_1DaF1",title:"_3dcGh",titleMain:"_3KSMx",meta:"_2V2qB",chat:"_3KF1B",divider:"jLybP",chevron:"_1eKcW",avatar:"_2v7qI",author:"_3iZHE"}},bceghabha:function(e,t){e.exports={muted:"_2fYrl",caption:"_1gsyD",meta:"_20GYl"}},bcfhbihafa:function(e,t){e.exports={muted:"_3_-Se",bubble:"ziVVa",nonAlbumBubble:"_1B0zT",isPreview:"_7CZzC",author:"_3SEoy",forwarded:"_1Mor7",forwardedIndicator:"_2Jc4M",hasAuthor:"pQmpN",meta:"I9Ei4",hasCaption:"TKXOd",caption:"_2T6qL",isPSA:"UCfcT",isPsa:"UCfcT",quote:"_1KUAa",thumb:"QKz-g",inAlbum:"_2Ww6n",cursorPointer:"cMrTV",thumbBody:"_2IYG6",duration:"_3_IKd",icon:"_1aGfY",pipBtn:"_3izSd",isHover:"_pvFP",footer:"_3-TD0",overlay:"_1I2vC",overlayAlbumText:"_3rxI-"}},bcfiaiddii:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("gbfffciea")),i=m(n("bffjfbgbg")),u=m(n("eiiicijcj")),s=m(n("eafjfadchb")),l=m(n("dcjaajabae")),c=m(n("ihfccfgdf")),f=n("ejbdjaifi"),d=n("bheafeifce"),p=(n("cgecdbiihg"),m(n("ichhibhgh"))),h=m(n("beddiafhbh"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=3e3;var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=Array(i),f=0;f<i;f++)c[f]=arguments[f];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.setRefVideoPlayer=function(e){r.refVideoPlayer=e},r.handleOpenMediaViewer=function(){r.props.onOpenMediaViewer&&r.props.onOpenMediaViewer(),o.default.mediaViewerModal(r.props.msg,null,r.getCurrentTimeFromVideo())},r.handleOpenVideoFloater=function(){r.props.onOpenVideoFloater&&r.props.onOpenVideoFloater(),p.default.openPiP((0,d.unproxy)(r.props.msg),r.getCurrentTimeFromVideo(),null)},r.handleMissingMedia=function(){r.props.onMissingMedia&&r.props.onMissingMedia(),o.default.openModal(a.createElement(u.default,{msg:r.props.msg})),r.props.onClose()},r.handleUnsupportedMedia=function(){r.props.onUnsupportedMedia&&r.props.onUnsupportedMedia(),o.default.openModal(a.createElement(s.default,{msg:r.props.msg})),r.props.onClose()},r.handleNeedPokeMedia=function(){r.props.onNeedPokeMedia&&r.props.onNeedPokeMedia(),o.default.openModal(a.createElement(l.default,{msg:r.props.msg})),r.props.onClose()},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidUpdate",value:function(){switch(this.props.mediaData.mediaStage){case i.default.STAGE.ERROR_MISSING:this.handleMissingMedia();break;case i.default.STAGE.ERROR_UNSUPPORTED:this.handleUnsupportedMedia();break;case i.default.STAGE.NEED_POKE:this.handleNeedPokeMedia()}}},{key:"getCurrentTimeFromVideo",value:function(){return this.refVideoPlayer?this.refVideoPlayer.getCurrentTimeFromVideo():0}},{key:"render",value:function(){var e={msg:this.props.msg,mediaData:this.props.mediaData};return a.createElement(h.default,{ref:this.setRefVideoPlayer,type:this.props.type,msgVideoInfo:e,startTime:this.props.startTime,onClose:this.props.onClose,onVideoEnded:this.props.onVideoEnded,onError:this.props.onError,onOpenMediaViewer:this.handleOpenMediaViewer,onOpenVideoFloater:this.handleOpenVideoFloater,onMissingMedia:this.handleMissingMedia,onUnsupportedMedia:this.handleUnsupportedMedia,autoPlay:this.props.autoPlay})}}]),t}();g.CONCERNS={msg:["id"],mediaData:["mediaStage","preview","streamable"]},g.displayName="MsgVideoPlayer",t.default=(0,c.default)((0,f.hoc)(g),g.CONCERNS)},bcfjfagjhe:function(e,t){e.exports={muted:"fPXdA",header:"_8-yzK"}},bcgdigeigb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateMsgAck=function(e,t,n){var u=n.ack,s=n.t,l=n.from,c=n.to,f=e.id,d=f.remote,p=f.id;if(e.updateAck(u),r.default.updateLastReceipt(d,s),o.default.isUser(d)){if(a.default.updateInfo(p,l,c,u,d,s),t&&o.default.isBroadcast(t)){var h=t instanceof o.default?t:(0,i.createWid)(t);a.default.updateInfo(p,l,h,u,d,s)}}else o.default.isStatusV3(d)&&a.default.updateInfo(p,l,d,u,c,s)};var r=u(n("biecbbiiee")),a=u(n("eigdejjai")),o=u(n("jccfhaecf")),i=n("dcbdjheea");function u(e){return e&&e.__esModule?e:{default:e}}},bchahacead:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("dbdfbgehgj")),i=d(n("bdjgfabbia")),u=d(n("ihfccfgdf")),s=n("ejbdjaifi"),l=d(n("ddbdcagdbi")),c=d(n("gbfffciea")),f=d(n("djhbegbdaf"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.filterAdmins=function(e){var t=r.props.groupMetadata.participants.get(e.id);return!(!t||!t.isAdmin)},r.onSelectAdminToMsg=function(e){r.openChat(e.id),c.default.closeModal()},r.openChat=function(e){o.default.find(e).then(function(e){e.quotedMsgAdminGroupJid=r.props.chat.id,c.default.openChatBottom(e)})},r.onMsgAdmin=function(){var e=r.props.groupMetadata.participants.getAdmins();1!==e.length?c.default.openModal(a.createElement(l.default,{title:l10n.t(671),filter:r.filterAdmins,onCancel:function(){return c.default.closeModal()},onSelect:r.onSelectAdminToMsg})):r.openChat(e[0].id)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=a.createElement("span",{role:"button",onClick:this.onMsgAdmin,className:i.default.adminBtn},l10n.t(179));return a.createElement(f.default,{id:178,params:{admins:e}})}}]),t}();h.CONCERNS={mute:["isMuted"],chat:["id"],groupMetadata:["participants"]},h.displayName="AnnouncementsOnlyMsgBar",t.default=(0,u.default)((0,s.hoc)(h),h.CONCERNS)},bcibfcjcbf:function(e,t){e.exports={muted:"_2oHKz",btnContext:"_1mGV6"}},bciccjdabc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("cddgaecgia"),o=(r=a)&&r.__esModule?r:{default:r};var i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.name="HttpTimedOutError",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();t.default=i},bcidefefj:function(e,t){e.exports={muted:"_3ZVmH",container:"_35e3l",containerBg:"_1h1c7",loadingBlock:"_30LsT",fadeIn:"_1eaSE",column:"_3C2U5",lastColumn:"_3k7bP",lastColumnWidth:"C1Los",headContainer:"_2eLFJ",spinner:"_3qukr"}},bcijadidjd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=g(n("gbfffciea")),o=g(n("djcchigfih")),i=g(n("djbhiedbef")),u=n("dajffajabh"),s=g(u),l=g(n("dhfbfehaef")),c=g(n("fffdgbfji")),f=n("chcadgfgad"),d=g(f),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),h=g(n("dggeggcjcd")),m=g(n("cgfjebhhej")),b=g(n("cjidjghdjj"));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props.vcardList;return p.createElement(d.default,{type:f.BoxModalType},p.createElement(o.default,null,p.createElement(s.default,{title:c.default.t(716,{count:t.length,_plural:t.length}),type:u.DRAWER_HEADER_TYPE.POPUP,onCancel:function(){return a.default.closeModal()}}),p.createElement(i.default,null,p.createElement(l.default,null,p.createElement("div",{className:b.default.body},t.map(function(t,n){return e.renderVCard(t,n)}))))))}},{key:"renderVCard",value:function(e,t){var n=m.default.parse(e);return n?p.createElement("div",{className:b.default.vcardWrapper,key:t},p.createElement(h.default,{parsedVCard:n,thumbnail:m.default.thumbnail(e)})):null}}]),t}();v.displayName="MultiVCardModal",t.default=v},bcijeefgje:function(e,t){e.exports={muted:"_3sr1x",suspiciousHostname:"_2owB5",suspiciousCharacter:"_33Lmf",explanation:"IlmF9",url:"_2EVEL"}},bcjafgaahj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("dgbjjgefjd");t.default="DomException"in window?DOMException:r.DOMException},bcjbggbah:function(e,t){e.exports={muted:"qdEPv",result:"_1omcu",selected:"_2saG0",slash:"_3AXnO",shortcutPrefix:"_3kuPz",shortcutSuffix:"_2Cw5t",message:"_2l2Tm"}},bcjhbcbjbf:function(e,t){e.exports={muted:"_3YGrW",thumb:"_1gcLL",active:"_1_w6f",body:"_2sn3C",btnDelete:"_2PHoH",bodyDoc:"_1nsYl"}},bcjidabgad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEffectiveNetworkType=function(){return navigator.connection&&"string"==typeof navigator.connection.effectiveType?navigator.connection.effectiveType:null}},bdacfjbfhj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n("ccjgiajgj")),a=m(n("chdchcgfaf")),o=m(n("cajgdeffge")),i=m(n("eaaagccfda")),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),l=m(n("gbfffciea")),c=m(n("eceadcicaf")),f=n("ejbdjaifi"),d=m(n("egjjcjcg")),p=m(n("degbdgggga")),h=n("hjbbdjjdf");function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=(0,i.default)(function(e,t){d.default.setVideoVolumeSettings(e,t)},500),_=function(e){function t(){var e,n,i;b(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=i=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),i.videoRef=null,i.setRefVideo=function(e){if(i.videoRef!==e&&(i.videoRef=e,e)){var t=d.default.getVideoVolumeSettings();t&&((0,o.default)(t.volume)&&e.setVolume(t.volume),(0,a.default)(t.muted)&&e.setMuted(t.muted))}},i.onVolumeChange=function(e){var t=i.videoRef;if(t){var n=t.getVolume(),r=t.getMuted();y(n,r),i.props.onVolumeChange({volume:n,muted:r})}},i.onOtherPlaying=function(e){e!==i&&i.videoRef&&i.videoRef.pause()},i.onPlaying=function(){l.default.mediaPlaying(i),i.props.onPlaying()},i.setStartTime=function(){i.videoRef&&(0,h.isNumber)(i.props.startTime)&&i.videoRef.setCurrentTime(i.props.startTime)},i.play=function(){var e=i.videoRef;e&&e.getPaused()&&e.play()},i.pause=function(){var e=i.videoRef;e&&(e.getPaused()||e.pause())},i.getPaused=function(){return!i.videoRef||i.videoRef.getPaused()},i.onLoadedMetadata=function(e){null!=i.props.startTime&&i.setStartTime();var t=(0,r.default)(e.target,["duration","volume","muted","videoWidth","videoHeight"]);i.props.onLoadedMetadata(t)},i.getCurrentTime=function(){return i.videoRef?i.videoRef.getCurrentTime():0},i.setCurrentTime=function(e){i.videoRef&&i.videoRef.setCurrentTime(e)},i.getDuration=function(){return i.videoRef?i.videoRef.getDuration():0},i.getVolume=function(){return i.videoRef?i.videoRef.getVolume():0},i.setVolume=function(e){i.videoRef&&i.videoRef.setVolume(e)},i.getMuted=function(){return!!i.videoRef&&i.videoRef.getMuted()},i.setMuted=function(e){i.videoRef&&i.videoRef.setMuted(e)},i.onProgress=function(e){if(i.videoRef){var t=i.videoRef.getBuffered(),n=[];if(t)for(var r=0;r<t.length;r++)n.push([t.start(r),t.end(r)]);i.props.onProgress(n)}},i.onTimeUpdate=function(e){var t=e.target.currentTime;i.props.onTimeUpdate(t)},i.onError=function(e){var t=i.videoRef&&i.videoRef.refVideo&&i.videoRef.refVideo.error?i.videoRef.refVideo.error.code:null;null!=t||null==e.code?i.props.onError(t):i.props.onError(e.code)},g(i,n)}return v(t,s.PureComponent),u(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(l.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(l.default,"pttRecording",this.pause)}},{key:"componentWillUnmount",value:function(){y.flush()}},{key:"componentDidUpdate",value:function(e){e.startTime!==this.props.startTime&&this.setStartTime()}},{key:"render",value:function(){return s.createElement(p.default,{ref:this.setRefVideo,src:this.props.url,poster:this.props.poster,className:this.props.className,onVolumeChange:this.onVolumeChange,onEnded:this.props.onEnded,onError:this.onError,onPause:this.props.onPause,onPlaying:this.onPlaying,onProgress:this.onProgress,onTimeUpdate:this.onTimeUpdate,onLoadedMetadata:this.onLoadedMetadata,autoPlay:this.props.autoPlay},this.props.children)}}]),t}();_.displayName="UrlVideoTag";var E=(0,c.default)((0,f.hoc)(_)),j=function(e){function t(){var e,n,r;b(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.play=function(){r.getComponent().play()},r.pause=function(){r.getComponent().pause()},r.getPaused=function(){return r.getComponent().getPaused()},r.getCurrentTime=function(){return r.getComponent().getCurrentTime()},r.setCurrentTime=function(e){r.getComponent().setCurrentTime(e)},r.getDuration=function(){return r.getComponent().getDuration()},r.getVolume=function(){return r.getComponent().getVolume()},r.setVolume=function(e){r.getComponent().setVolume(e)},r.getMuted=function(){return r.getComponent().getMuted()},r.setMuted=function(e){r.getComponent().setMuted(e)},g(r,n)}return v(t,E),t}();t.default=j},bdbcafgecc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=S(n("jbgeabaaj")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=S(n("fffdgbfji")),u=S(n("djbhiedbef")),s=S(n("cfaiaibca")),l=n("chcadgfgad"),c=S(l),f=n("dajffajabh"),d=S(f),p=S(n("djcchigfih")),h=S(n("cbcfgjhjhj")),m=S(n("dceicchccd")),b=S(n("bijffg")),g=S(n("cgbgedjgag")),v=n("bheafeifce"),y=S(n("eceadcicaf")),_=n("ejbdjaifi"),E=S(n("bfdcadbbif")),j=n("bddhdheedf"),O=S(n("bfbggcdbfb"));function S(e){return e&&e.__esModule?e:{default:e}}var w={NONE_SELECTED:0,ALL_SELECTED:1,PARTIALLY_SELECTED:2},P=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));M.call(n);var a=n.props.modelsToUpdate,o=n.constructLabelCountMap();return n.initialLabelState=(0,r.default)(o,function(e){return e===a.length?w.ALL_SELECTED:e>0?w.PARTIALLY_SELECTED:w.NONE_SELECTED}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"UNSAFE_componentWillMount",value:function(){this.selectedLabels=new m.default([],function(e){return e.id})}},{key:"render",value:function(){var e=o.createElement(s.default,{a8nText:"popup-controls-ok",type:"primary",disabled:0===this.changeSet.size,onClick:this.onUpdateLabelsOK,key:1},i.default.t(931)),t=o.createElement(s.default,{a8nText:"popup-controls-cancel",type:"plain",onClick:this.props.onCancel,key:0},i.default.t(1091)),n=o.createElement(s.default,{a8nText:"popup-controls-cancel",type:"simplified",onClick:this.props.onAddNewLabel,key:2},o.createElement(E.default,{name:"plus-large",className:g.default.plus,display:"inline"}),i.default.t(169));return o.createElement(c.default,{type:l.TowerModalType},o.createElement(p.default,{key:"mange_label_modal",theme:"labels"},o.createElement(d.default,{title:i.default.t(585),type:f.DRAWER_HEADER_TYPE.POPUP,onCancel:this.props.onCancel}),o.createElement(u.default,{"data-list-scroll-container":!0,theme:"padding"},o.createElement(h.default,{shouldScrollIntoViewAndSelect:this.props.shouldScrollIntoViewAndSelect,initialLabelState:this.initialLabelState,selectedLabels:this.selectedLabels,renderContex:"label-selection",onLabelClick:this.props.onLabelClick,onMultiSelect:this.onMultiSelect})),o.createElement("div",{className:g.default.newLabelBtn},n),o.createElement("div",{className:g.default.actionBtns},t,e)))}}]),t}(),M=function(){var e=this;this.changeSet=new Set,this.onMultiSelect=function(t){t&&(e.initialLabelState[t]===w.PARTIALLY_SELECTED?e.changeSet.add("{labelId}_changed"):e.changeSet.has(t)?e.changeSet.delete(t):e.changeSet.add(t),e.forceUpdate())},this.constructLabelCountMap=function(){var t={};return e.props.modelsToUpdate.forEach(function(e){var n=(0,v.unproxy)(e);n.labels&&n.labels.forEach(function(e){t[e]=t[e]?++t[e]:1})}),t},this.onUpdateLabelsOK=function(){(0,j.logLabelOperationEvent)(O.default.LABEL_OPERATIONS.CLICK_POSITIVE,e.props.modelsToUpdate.length,O.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG);var t=e.selectedLabels.list,n=e.selectedLabels.selected,r=t.map(function(e,t){return{id:e.id,type:n[t]?"add":"remove"}});b.default.addOrRemoveLabels(r,e.props.modelsToUpdate),e.props.onLabelUpdateComplete&&e.props.onLabelUpdateComplete()}};P.displayName="ManageLabelModal",t.default=(0,y.default)((0,_.hoc)(P))},bdbfijejbi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("cgijjjgici")),i=l(n("cgeedcdffb")),u=l(n("cciecbcgbi")),s=l(n("bffhabgiib"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r._abortController=new i.default,r._isAnimating=!1,r.state={rgbaBuffer:null},r._startAnimationCountDown=function(){r._isAnimating||(r._isAnimating=!0,(0,u.default)({onFrameChange:function(e){return r.setState({rgbaBuffer:e})},animationFrames:r.props.animationFrames,maxLoops:r.props.maxLoops,maxDuration:r.props.maxDuration,signal:r._abortController.signal}).catch(function(e){if(!(e instanceof o.default))throw e}).finally(function(){r._isAnimating=!1}))},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.startAnimation?this._startAnimationCountDown():this._renderFirstFrame()}},{key:"_renderFirstFrame",value:function(){var e=this.props.animationFrames;0!==e.length&&this.setState({rgbaBuffer:e[0].rgbaBuffer})}},{key:"componentWillUnmount",value:function(){this._abortController.abort()}},{key:"render",value:function(){var e=this.state.rgbaBuffer;return e?a.createElement(s.default,{rgbaBuffer:e,className:this.props.className,width:this.props.width,height:this.props.height,onClick:this.props.onClick,onMouseEnter:this.props.maxLoops===1/0&&this.props.maxDuration===1/0?null:this._startAnimationCountDown}):null}}]),t}();f.displayName="ControlledAnimationCanvas",t.default=f},bdcjhdddde:function(e,t){e.exports={muted:"_2Rq0o",title:"_2AJf5",titleIcon:"_3tCj6",forwardCount:"_1NZZN",spinner:"_20U-x",list:"_3Za3d",footer:"_19xqi"}},bddhdheedf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLabelOperationEvent=function(e,t,n){var r={labelOperation:e};null!=t&&Object.assign(r,{labelCount:t});n&&Object.assign(r,{labelTarget:n});new o.default.LabelEvent(r).commit()};var r,a=n("bfbggcdbfb"),o=(r=a)&&r.__esModule?r:{default:r};n("bfbggcdbfb")},bdeabjehdj:function(e,t,n){"use strict";var r=m(n("ddfeabiaci")),a=m(n("gcfidijgh")),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=m(n("bjigbaghc")),u=m(n("ccaaiecfib")),s=m(n("bdiiahhjbe")),l=m(n("ccgjijjbbj")),c=m(n("dahaahdjfa")),f=m(n("bhggeigghg")),d=m(n("jccfhaecf")),p=n("cbgifejihh"),h=n("eidjcbbdf");function m(e){return e&&e.__esModule?e:{default:e}}var b=n("bbcaggdbc").WebMessageInfo,g=n("ehfgacedb"),v=o({version:"10"},c.default,{parseMsgMessage:function(e,t){if("message"===this.N.tag(e)){if("ciphertext"===this.N.attr("type",e)){var n=this.N.attr("id",e),r=this.N.attr("from",e),a=this.N.attr("participant",e),o=d.default.isBroadcast(r)?a:r,u=void 0;try{u=new l.default({from:o,to:i.default.me,id:n,participant:a})}catch(e){return void s.default.error("drop: cannot create MsgKey: "+e.stack)()}return{type:"ciphertext",t:parseInt(this.N.attr("t",e),10)||0,id:u,from:o,to:i.default.me,participant:a,author:d.default.isBroadcast(r)?void 0:a,star:"true"===this.N.attr("star",e)}}var c=this.N.children(e);if(c instanceof ArrayBuffer)try{var f=b.parse(c);return this.parseWebMessageInfo(f,t)}catch(t){return s.default.log(`wmi error: ${String(t)}`)(),void s.default.assert(!1,"parse-error","drop: failed parsing wmi")(e)}else s.default.error("drop: no bytes")(e)}else s.default.error("drop: not message")(e)},parseWebMessageInfo:function(e,t){var n=e.key,r=this.decodeJid(n.remoteJid),a=n.fromMe?r:i.default.me,o=n.fromMe?i.default.me:r,u=this.decodeJid(n.participant),c=void 0;if(i.default.me.equals(r)&&(c=n.fromMe?"out":"in"),"broadcast"!==a){var f=void 0;try{f=new l.default({fromMe:n.fromMe,remote:r,id:n.id,participant:u})}catch(e){return void s.default.error("drop: cannot create MsgKey: "+e.stack)()}return this.parseMsgProto(e.message,{id:f,from:o,to:a,self:c,participant:u,type:"unknown",t:e.messageTimestamp||0,ack:"fresh"===t?1:e.status-1,author:this.decodeJid(e.participant),invis:!!e.ignore,star:!!e.starred,broadcast:n.fromMe&&e.broadcast,notifyName:e.pushName||"",encFilehash:this.decodeBytes(e.mediaCiphertextSha256)},t)}s.default.error("drop: broadcast")(e)},parseProtocolMessageProto:function(e,t,n){if("relay"===n){var r=t.key,o=new l.default({fromMe:r.fromMe,remote:this.decodeJid(r.remoteJid),id:r.id,participant:this.decodeJid(r.participant)});(0,a.default)(e,{type:"protocol",subtype:"unknown",protocolMessageKey:o})}},parseLiveLocationMessageProto:function(e,t,n){e.type="location",e.isLive=!0,e.lat=void 0!==t.degreesLatitude?t.degreesLatitude:void 0,e.lng=void 0!==t.degreesLongitude?t.degreesLongitude:void 0,e.body=this.decodeBytes(t.jpegThumbnail)||"",e.accuracy=t.accuracyInMeters,e.speed=t.speedInMps,e.degrees=t.degreesClockwiseFromMagneticNorth,e.comment=t.caption,e.sequence=t.sequenceNumber,n&&(e.finalLat=void 0!==n.degreesLatitude?n.degreesLatitude:void 0,e.finalLng=void 0!==n.degreesLongitude?n.degreesLongitude:void 0,e.finalThumbnail=this.decodeBytes(n.jpegThumbnail)||"",e.finalAccuracy=n.accuracyInMeters,e.finalSpeed=n.speedInMps,e.finalDegrees=n.degreesClockwiseFromMagneticNorth,e.finalTimeOffset=n.timeOffset)},parseSendPaymentMessageProto:function(e,t,n){if(e.type="payment",this.callFeatureFlagFun(u.default.F.PAYMENTS,"parsePaymentInfo",e,n),u.default.supportsFeature(u.default.F.PAYMENTS)){e.subtype="send";var r=t.requestMessageKey;e.paymentRequestMessageKey=t.requestMessageKey?new l.default({fromMe:r.fromMe,remote:this.decodeJid(r.remoteJid),id:r.id,participant:this.decodeJid(r.participant)}):void 0,t.noteMessage&&(e.paymentNoteMsg={},t.noteMessage=this.parseMsgProto(t.noteMessage,e.paymentNoteMsg))}},parseRequestPaymentMessageProto:function(e,t,n){e.type="payment",this.callFeatureFlagFun(u.default.F.PAYMENTS,"parsePaymentInfo",e,n),u.default.supportsFeature(u.default.F.PAYMENTS)&&(e.subtype="request",e._currencyCodeIso4217=t.currencyCodeIso4217,e._paymentRequestFrom=t.requestFrom,e._paymentExpiryTimestamp=t.expiryTimestamp,t.noteMessage&&(e.paymentNoteMsg={},t.noteMessage=this.parseMsgProto(t.noteMessage,e.paymentNoteMsg)))},parseGroupInviteMessageProto:function(e,t){e.type="groups_v4_invite",u.default.supportsFeature(u.default.F.GROUPS_V_4_JOIN_PERMISSION)&&(e.inviteCode=t.inviteCode,e.inviteCodeExp=t.inviteExpiration,e.inviteGrp=t.groupJid,e.inviteGrpName=t.groupName,e.inviteGrpJpegThum=this.decodeBytes(t.jpegThumbnail),e.comment=t.caption)},parseContextInfoProto:function(e,t,n){var r=t.quotedMessage,a=t.mentionedJid;e.quotedMsg=r&&this.parseMsgProto(r,{type:"unknown"}),e.quotedMsg&&"payment"===e.quotedMsg.type&&n&&this.callFeatureFlagFun(u.default.F.PAYMENTS,"parsePaymentInfo",e.quotedMsg,n),e.quotedStanzaID=t.stanzaId,e.quotedParticipant=this.decodeJid(t.participant),e.quotedRemoteJid=this.decodeJid(t.remoteJid),e.mentionedJidList=Array.isArray(a)?a.map(this.decodeJid):a,e.isForwarded=t.isForwarded,e.forwardingScore=t.forwardingScore},msgCreateRecord:function(e){var t=this;return Promise.callSynchronously(function(){if(["ptt","audio","image","video","document","sticker","product"].includes(e.type)){var n="ptt"===e.type?"audio":e.type,r=void 0;return e.isMMS&&(r=e.isUnsentPhoneMsg()?{type:e.type}:e.avParams()),e.local&&!e.mediaKey?t.sendMedia(r):(0,a.default)({status:200,type:n},r)}}).catch(function(e){return s.default.error(`wap:msgCreateRecord mPromise error (${(0,h.encodeErrorInfo)()}): ${e.stack}`)(),Promise.reject("wap:msgCreateRecord mPromise error")}).then(function(n){if(n&&200!==n.status){var r=`wap:msgCreateRecord:sendMedia error ${n.status}`;return s.default.error(r)(),Promise.reject(r)}var a=e.id.id,o=(0,p.createMessageKey)(e),i=(0,p.createMsgProtobuf)(e,n||{}),u=!!e.multicast||void 0,l=!!e.urlText||void 0,c=!!e.urlNumber||void 0,d=!!e.clearMedia||void 0,h=new b({key:o,message:i,messageTimestamp:e.t,multicast:u,urlText:l,urlNumber:c,clearMedia:d}),m=t.actionNode("relay",[["message",void 0,b.encode(h).readBuffer()]]);return new Promise(function(n,r){t.binSend("send",m,r,{tag:a,onSend:t.wrap(n),onDrop:t.wrap(r),retryOn5xx:!0,resendGuard:function(){var t=f.default.Msg.get(e.id);return"protocol"===e.type||t&&t.id.equals(e.id)}},{debugString:["action","message",e.type,e.subtype,a].join(),debugObj:{xml:m,pb:h},metricName:"MESSAGE",ackRequest:!1})})})},msgFindQuery:function(e,t,n){var r=this,a=e;return new Promise(function(e,o){var i=void 0,u="";switch(a){case"after":t.id||(a="before");case"before":i={type:"message",kind:a,jid:t.remote,count:t.count.toString(),index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},u=[t instanceof l.default?t.toString():t.remote,t.count].join();break;case"search":i={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString(),jid:t.remote},u=["search",t.page,t.count,t.jid].join();break;case"star":i={type:"star",chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},u="starred";break;case"media":i={type:"media_message",count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},u="media"}var c=r.queryNode(i,void 0);r.binSend("sendEphemeral",c,o,{onSend:r.binWrap(function(t){r.BinaryProtocol.read(t).then(function(t){var n=[],o=r.N.children(t);if(s.default.logColor("green","bin-recv: response,msg",t)(),"response"===r.N.tag(t)&&("message"===r.N.attr("type",t)||"star"===r.N.attr("type",t)||"search"===r.N.attr("type",t)||"media_message"===r.N.attr("type",t))){if(Array.isArray(o)){var i=void 0,u=o.length;for(i=0;i<u;i++){var l=r.parseMsg(o[i],"response");l&&n.push(l)}}"search"===r.N.attr("type",t)?n={eof:"true"===r.N.attr("last",t),messages:n}:"media"===a&&(n={messages:n})}e(n)}).catch(o)},e),onDrop:r.wrap(o),logOnSend:n},{debugString:"query,message,"+u,metricName:"search"===a?"QUERY_SEARCH":"QUERY_MESSAGES",ackRequest:!1})})}});e.exports=(0,r.default)(v,g)},bdebgadbea:function(e,t){e.exports={muted:"_3ED0k",column:"_2xLKR"}},bdebhdhjee:function(e,t){e.exports={"application/":{applixware:"aw","atom+xml":"atom","atomcat+xml":"atomcat","atomsvc+xml":"atomsvc","ccxml+xml":"ccxml","cdmi-":{capability:"cdmia",container:"cdmic",domain:"cdmid",object:"cdmio",queue:"cdmiq"},"davmount+xml":"davmount","docbook+xml":"dbk","dssc+der":"dssc","dssc+xml":"xdssc",ecmascript:"ecma","emma+xml":"emma","epub+zip":"epub",exi:"exi","font-":{tdpfr:"pfr",woff:"woff"},"gml+xml":"gml","gpx+xml":"gpx",gxf:"gxf",hyperstudio:"stk","inkml+xml":["ink","inkml"],ipfix:"ipfix","java-":{archive:"jar",vm:"class","serialized-object":"ser"},javascript:"js",json:"json","jsonml+json":"jsonml","lost+xml":"lostxml","mac-":{binhex40:"hqx",compactpro:"cpt"},"mads+xml":"mads",marc:"mrc","marcxml+xml":"mrcx",mathematica:["ma","nb","mb"],"mathml+xml":"mathml",mbox:"mbox","mediaservercontrol+xml":"mscml","metalink+xml":"metalink","metalink4+xml":"meta4","mets+xml":"mets","mods+xml":"mods",mp21:["m21","mp21"],mp4:"mp4s",msword:["doc","dot"],mxf:"mxf",oda:"oda",ogg:"ogx","omdoc+xml":"omdoc",onenote:["onetoc","onetoc2","onetmp","onepkg"],oxps:"oxps",pdf:"pdf","pgp-":{encrypted:"pgp",signature:["asc","sig"]},pkcs10:"p10","pkcs7-":{mime:["p7m","p7c"],signature:"p7s"},pkcs8:"p8","pkix-":{cert:"cer",crl:"crl",pkipath:"pkipath","attr-cert":"ac"},pkixcmp:"pki","pls+xml":"pls",postscript:["ai","eps","ps"],"pskc+xml":"pskcxml","rdf+xml":"rdf","reginfo+xml":"rif","resource-":{"lists+xml":"rl","lists-diff+xml":"rld"},"rpki-":{ghostbusters:"gbr",manifest:"mft",roa:"roa"},"rsd+xml":"rsd","rss+xml":"rss",rtf:"rtf","sbml+xml":"sbml","scvp-":{"cv-":{request:"scq",response:"scs"},"vp-":{request:"spq",response:"spp"}},sdp:"sdp","set-":{"payment-initiation":"setpay","registration-initiation":"setreg"},"shf+xml":"shf","smil+xml":["smi","smil"],"sparql-":{query:"rq","results+xml":"srx"},srgs:"gram","srgs+xml":"grxml","sru+xml":"sru","ssdl+xml":"ssdl","ssml+xml":"ssml","tei+xml":["tei","teicorpus"],"thraud+xml":"tfi","vnd.":{acucobol:"acu",acucorp:["atc","acutc"],"adobe.":{fxp:["fxp","fxpl"],"xdp+xml":"xdp",xfdf:"xfdf","formscentral.fcdt":"fcdt","air-application-installer-package+zip":"air"},"apple.":{"installer+xml":"mpkg",mpegurl:"m3u8"},audiograph:"aep",bmi:"bmi",businessobjects:"rep","chemdraw+xml":"cdxml",cinderella:"cdy",claymore:"cla",commonspace:"csp",cosmocaller:"cmc","crick.":{clicker:"clkx","clicker.":{keyboard:"clkk",palette:"clkp",template:"clkt",wordbank:"clkw"}},"curl.":{car:"car",pcurl:"pcurl"},dart:"dart","dece.":{data:["uvf","uvvf","uvd","uvvd"],"ttml+xml":["uvt","uvvt"],unspecified:["uvx","uvvx"],zip:["uvz","uvvz"]},dna:"dna",dpgraph:"dpg",dreamfactory:"dfac","dvb.":{ait:"ait",service:"svc"},dynageo:"geo",enliven:"nml","epson.":{esf:"esf",msf:"msf",quickanime:"qam",salt:"slt",ssf:"ssf"},"eszigno3+xml":["es3","et3"],"ezpix-":{album:"ez2",package:"ez3"},fdf:"fdf","fdsn.":{mseed:"mseed",seed:["seed","dataless"]},flographit:"gph",framemaker:["fm","frame","maker","book"],"frogans.":{fnc:"fnc",ltf:"ltf"},"fujitsu.":{oasys:"oas",oasys2:"oa2",oasys3:"oa3",oasysgp:"fg5",oasysprs:"bh2"},"fujixerox.":{ddd:"ddd",docuworks:"xdw","docuworks.binder":"xbd"},fuzzysheet:"fzs","geogebra.":{file:"ggb",tool:"ggt"},geonext:"gxt",geoplan:"g2w",geospace:"g3w",gmx:"gmx",grafeq:["gqf","gqs"],"groove-":{account:"gac",help:"ghf",injector:"grv","tool-":{message:"gtm",template:"tpl"},vcard:"vcg","identity-message":"gim"},"hal+xml":"hal",hbci:"hbci","hp-":{hpgl:"hpgl",hpid:"hpid",hps:"hps",jlyt:"jlt",pcl:"pcl",pclxl:"pclxl"},"ibm.":{minipay:"mpy",modcap:["afp","listafp","list3820"],"rights-management":"irm","secure-container":"sc"},iccprofile:["icc","icm"],igloader:"igl","immervision-":{ivp:"ivp",ivu:"ivu"},intergeo:"i2g","intu.":{qbo:"qbo",qfx:"qfx"},jam:"jam",jisp:"jisp",kahootz:["ktz","ktr"],"kde.":{karbon:"karbon",kchart:"chrt",kformula:"kfo",kivio:"flw",kontour:"kon",kpresenter:["kpr","kpt"],kspread:"ksp",kword:["kwd","kwt"]},kenameaapp:"htke",kidspiration:"kia",kinar:["kne","knp"],koan:["skp","skd","skt","skm"],"lotus-":{approach:"apr",freelance:"pre",notes:"nsf",organizer:"org",screencam:"scm",wordpro:"lwp","1-2-3":"123"},mcd:"mcd",medcalcdata:"mc1",mfer:"mwf",mfmp:"mfm","micrografx.":{flo:"flo",igx:"igx"},mif:"mif","mobius.":{daf:"daf",dis:"dis",mbk:"mbk",mqy:"mqy",msl:"msl",plc:"plc",txf:"txf"},"mophun.":{application:"mpn",certificate:"mpc"},"ms-":{artgalry:"cil",excel:["xls","xlm","xla","xlc","xlt","xlw"],"excel.":{"sheet.":{"macroenabled.12":"xlsm","binary.macroenabled.12":"xlsb"},"addin.macroenabled.12":"xlam","template.macroenabled.12":"xltm"},fontobject:"eot",htmlhelp:"chm",ims:"ims",lrm:"lrm",officetheme:"thmx","pki.":{seccat:"cat",stl:"stl"},powerpoint:["ppt","pps","pot"],"powerpoint.":{"addin.macroenabled.12":"ppam","presentation.macroenabled.12":"pptm","slide.macroenabled.12":"sldm","slideshow.macroenabled.12":"ppsm","template.macroenabled.12":"potm"},project:["mpp","mpt"],"word.":{"document.macroenabled.12":"docm","template.macroenabled.12":"dotm"},works:["wps","wks","wcm","wdb"],wpl:"wpl",xpsdocument:"xps","cab-compressed":"cab"},mseq:"mseq",musician:"mus",mynfc:"taglet",nitf:["ntf","nitf"],"noblenet-":{directory:"nnd",sealer:"nns",web:"nnw"},"nokia.":{"radio-":{preset:"rpst",presets:"rpss"},"n-gage.":{data:"ngdat","symbian.install":"n-gage"}},"novadigm.":{edm:"edm",edx:"edx",ext:"ext"},"osgi.":{dp:"dp",subsystem:"esa"},palm:["pdb","pqa","oprc"],pawaafile:"paw","pg.":{format:"str",osasli:"ei6"},picsel:"efif",pocketlearn:"plf",powerbuilder6:"pbd","recordare.":{musicxml:"mxl","musicxml+xml":"musicxml"},"rn-":{realmedia:"rm","realmedia-vbr":"rmvb"},seemail:"see",sema:"sema",semd:"semd",semf:"semf",smaf:"mmf","spotfire.":{dxp:"dxp",sfs:"sfs"},"stardivision.":{calc:"sdc",draw:"sda",impress:"sdd",math:"smf",writer:["sdw","vor"],"writer-global":"sgl"},"stepmania.":{package:"smzip",stepchart:"sm"},svd:"svd","syncml+xml":"xsm","syncml.":{"dm+wbxml":"bdm","dm+xml":"xdm"},trueapp:"tra",ufdl:["ufd","ufdl"],umajin:"umj",unity:"unityweb","uoml+xml":"uoml",vcx:"vcx",visio:["vsd","vst","vss","vsw"],visionary:"vis",vsf:"vsf","wap.":{wbxml:"wbxml",wmlc:"wmlc",wmlscriptc:"wmlsc"},webturbo:"wtb",wordperfect:"wpd",wqd:"wqd",xara:"xar",xfdl:"xfdl","yamaha.":{"hv-":{dic:"hvd",script:"hvs",voice:"hvp"},openscoreformat:"osf","smaf-":{audio:"saf",phrase:"spf"},"openscoreformat.osfpvg+xml":"osfpvg"},zul:["zir","zirz"],"3gpp2.tcap":"tcap","accpac.simply.":{aso:"aso",imp:"imp"},"ahead.space":"ahead","airzip.filesecure.":{azf:"azf",azs:"azs"},"amazon.ebook":"azw","americandynamics.acc":"acc","amiga.ami":"ami","anser-web-":{"certificate-issue-initiation":"cii","funds-transfer-initiation":"fti"},"aristanetworks.swi":"swi","blueice.multipass":"mpm","cloanto.rp9":"rp9","clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"cluetrust.cartomobile-":{config:"c11amc","config-pkg":"c11amz"},"contact.cmsg":"cdbcmsg","criticaltools.wbs+xml":"wbs","ctc-posml":"pml","cups-ppd":"ppd","dolby.mlp":"mlp","ds-keypoint":"kpxx","ecowin.chart":"mag","fluxtime.clip":"ftc","fsc.weblaunch":"fsc","genomatix.tuxedo":"txd","geometry-explorer":["gex","gre"],"google-earth.":{"kml+xml":"kml",kmz:"kmz"},"handheld-entertainment+xml":"zmm","insors.igm":"igm","intercon.formnet":["xpw","xpx"],"ipunplugged.rcprofile":"rcprofile","irepository.package+xml":"irp","is-xpr":"xpr","isac.fcs":"fcs","kodak-descriptor":"sse","las.las+xml":"lasxml","macports.portpkg":"portpkg","mediastation.cdkey":"cdkey","mozilla.xul+xml":"xul","muvee.style":"msty","neurolanguage.nlu":"nlu","oasis.opendocument.":{chart:"odc",database:"odb",formula:"odf",graphics:"odg",image:"odi",presentation:"odp",spreadsheet:"ods",text:"odt","text-":{master:"odm",template:"ott",web:"oth"},"chart-template":"otc","formula-template":"odft","graphics-template":"otg","image-template":"oti","presentation-template":"otp","spreadsheet-template":"ots"},"olpc-sugar":"xo","oma.dd2+xml":"dd2","openofficeorg.extension":"oxt","openxmlformats-officedocument.":{"presentationml.":{presentation:"pptx",slide:"sldx",slideshow:"ppsx",template:"potx"},"spreadsheetml.":{sheet:"xlsx",template:"xltx"},"wordprocessingml.":{document:"docx",template:"dotx"}},"pmi.widget":"wg","previewsystems.box":"box","proteus.magazine":"mgz","pvi.ptid1":"ptid","quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"realvnc.bed":"bed","rig.cryptonote":"cryptonote","rim.cod":"cod","route66.link66+xml":"link66","sailingtracker.track":"st","shana.informed.":{formdata:"ifm",formtemplate:"itp",interchange:"iif",package:"ipk"},"simtech-mindmapper":["twd","twds"],"smart.teacher":"teacher","solent.sdkm+xml":["sdkm","sdkd"],"sun.xml.":{calc:"sxc",draw:"sxd",impress:"sxi",math:"sxm",writer:"sxw","writer.":{global:"sxg",template:"stw"},"calc.template":"stc","draw.template":"std","impress.template":"sti"},"sus-calendar":["sus","susp"],"symbian.install":["sis","sisx"],"tcpdump.pcap":["pcap","cap","dmp"],"tmobile-livetv":"tmo","trid.tpt":"tpt","triscape.mxs":"mxs","uiq.theme":"utz","wolfram.player":"nbp","wt.stf":"stf","zzazz.deck+xml":"zaz","3gpp.pic-bw-":{large:"plb",small:"psb",var:"pvb"},"3m.post-it-notes":"pwn","android.package-archive":"apk","antix.game-component":"atx","astraea-software.iota":"iota","chipnuts.karaoke-mmd":"mmd","data-vision.rdz":"rdz","denovo.fcselayout-link":"fe_launch","hhe.lesson-player":"les","hydrostatix.sof-data":"sfd-hdstx","jcp.javame.midlet-rms":"rms","joost.joda-archive":"joda","llamagraphics.life-balance.":{desktop:"lbd","exchange+xml":"lbe"},"osgeo.mapguide.package":"mgp","publishare-delta-tree":"qps","tao.intent-module-archive":"tao","yellowriver-custom-menu":"cmp"},"voicexml+xml":"vxml",widget:"wgt",winhlp:"hlp","wsdl+xml":"wsdl","wspolicy+xml":"wspolicy","x-":{abiword:"abw","authorware-":{bin:["aab","x32","u32","vox"],map:"aam",seg:"aas"},bcpio:"bcpio",bittorrent:"torrent",blorb:["blb","blorb"],bzip:"bz",bzip2:["bz2","boz"],cbr:["cbr","cba","cbt","cbz","cb7"],cdlink:"vcd",chat:"chat",conference:"nsc",cpio:"cpio",csh:"csh",director:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],doom:"wad","dtbncx+xml":"ncx","dtbook+xml":"dtb","dtbresource+xml":"res",dvi:"dvi",envoy:"evy",eva:"eva","font-":{bdf:"bdf",ghostscript:"gsf",otf:"otf",pcf:"pcf",snf:"snf",ttf:["ttf","ttc"],type1:["pfa","pfb","pfm","afm"],"linux-psf":"psf"},freearc:"arc",futuresplash:"spl",glulx:"ulx",gnumeric:"gnumeric",gtar:"gtar",hdf:"hdf",latex:"latex",mie:"mie","ms-":{application:"application",shortcut:"lnk",wmd:"wmd",wmz:"wmz",xbap:"xbap"},msaccess:"mdb",msbinder:"obd",mscardfile:"crd",msclip:"clp",msdownload:["exe","dll","com","bat","msi"],msmediaview:["mvb","m13","m14"],msmetafile:["wmf","wmz","emf","emz"],msmoney:"mny",mspublisher:"pub",msschedule:"scd",msterminal:"trm",mswrite:"wri",netcdf:["nc","cdf"],nzb:"nzb",pkcs12:["p12","pfx"],"pkcs7-":{certificates:["p7b","spc"],certreqresp:"p7r"},sh:"sh",shar:"shar",sql:"sql",stuffit:"sit",stuffitx:"sitx",subrip:"srt",sv4cpio:"sv4cpio",sv4crc:"sv4crc",tads:"gam",tar:"tar",tcl:"tcl",tex:"tex",texinfo:["texinfo","texi"],tgif:"obj",ustar:"ustar",xfig:"fig","xliff+xml":"xlf",xpinstall:"xpi",xz:"xz",zmachine:["z1","z2","z3","z4","z5","z6","z7","z8"],"7z-compressed":"7z","ace-compressed":"ace","apple-diskimage":"dmg","cfs-compressed":"cfs","chess-pgn":"pgn","debian-package":["deb","udeb"],"dgc-compressed":"dgc","gca-compressed":"gca","gramps-xml":"gramps","install-instructions":"install","iso9660-image":"iso","lzh-compressed":["lzh","lha"],"mobipocket-ebook":["prc","mobi"],"rar-compressed":"rar","shockwave-flash":"swf","silverlight-app":"xap","t3vm-image":"t3","tex-tfm":"tfm","wais-source":"src","java-jnlp-file":"jnlp","research-info-systems":"ris","x509-ca-cert":["der","crt"]},"xaml+xml":"xaml","xenc+xml":"xenc","xhtml+xml":["xhtml","xht"],xml:["xml","xsl"],"xop+xml":"xop","xproc+xml":"xpl","xslt+xml":"xslt","xspf+xml":"xspf","xv+xml":["mxml","xhvml","xvml","xvm"],yang:"yang","yin+xml":"yin",zip:"zip","andrew-inset":"ez","cu-seeme":"cu","octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy"],"oebps-package+xml":"opf","pics-rules":"prf","prs.cww":"cww","rls-services+xml":"rs","timestamped-data":"tsd","xcap-diff+xml":"xdf","xml-dtd":"dtd","patch-ops-error+xml":"xer","relax-ng-compact-syntax":"rnc"},"audio/":{adpcm:"adp",basic:["au","snd"],midi:["mid","midi","kar","rmi"],mp4:["m4a","mp4a"],mpeg:["mpga","mp2","mp2a","mp3","m2a","m3a"],ogg:["oga","ogg","spx"],s3m:"s3m",silk:"sil","vnd.":{dra:"dra",dts:"dts","nuera.":{ecelp4800:"ecelp4800",ecelp7470:"ecelp7470",ecelp9600:"ecelp9600"},rip:"rip","dece.audio":["uva","uvva"],"digital-winds":"eol","dts.hd":"dtshd","lucent.voice":"lvp","ms-playready.media.pya":"pya"},webm:"weba","x-":{aac:"aac",aiff:["aif","aiff","aifc"],caf:"caf",flac:"flac",matroska:"mka",mpegurl:"m3u","ms-":{wax:"wax",wma:"wma"},"pn-":{realaudio:["ram","ra"],"realaudio-plugin":"rmp"},wav:"wav"},xm:"xm"},"image/":{bmp:"bmp",cgm:"cgm",g3fax:"g3",gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],ktx:"ktx",png:"png",sgi:"sgi","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"vnd.":{djvu:["djvu","djv"],dwg:"dwg",dxf:"dxf",fastbidsheet:"fbs",fpx:"fpx",fst:"fst","ms-":{modi:"mdi",photo:"wdp"},xiff:"xif","adobe.photoshop":"psd","dece.graphic":["uvi","uvvi","uvg","uvvg"],"dvb.subtitle":"sub","fujixerox.edmics-":{mmr:"mmr",rlc:"rlc"},"net-fpx":"npx","wap.wbmp":"wbmp"},webp:"webp","x-":{"3ds":"3ds",cmx:"cmx",freehand:["fh","fhc","fh4","fh5","fh7"],icon:"ico",pcx:"pcx",pict:["pic","pct"],"portable-":{anymap:"pnm",bitmap:"pbm",graymap:"pgm",pixmap:"ppm"},rgb:"rgb",tga:"tga",xbitmap:"xbm",xpixmap:"xpm",xwindowdump:"xwd","cmu-raster":"ras","mrsid-image":"sid"},"prs.btif":"btif"},"model/":{iges:["igs","iges"],mesh:["msh","mesh","silo"],"vnd.":{"collada+xml":"dae",dwf:"dwf",gdl:"gdl",gtw:"gtw",mts:"mts",vtu:"vtu"},vrml:["wrl","vrml"],"x3d+binary":["x3db","x3dbz"],"x3d+vrml":["x3dv","x3dvz"],"x3d+xml":["x3d","x3dz"]},"text/":{calendar:["ics","ifb"],css:"css",csv:"csv",html:["html","htm"],n3:"n3",plain:["txt","text","conf","def","list","log","in"],richtext:"rtx",sgml:["sgml","sgm"],troff:["t","tr","roff","man","me","ms"],turtle:"ttl",vcard:"vcard","vnd.":{curl:"curl","curl.":{dcurl:"dcurl",mcurl:"mcurl",scurl:"scurl"},fly:"fly",graphviz:"gv","in3d.":{"3dml":"3dml",spot:"spot"},"wap.":{wml:"wml",wmlscript:"wmls"},"dvb.subtitle":"sub","fmi.flexstor":"flx","sun.j2me.app-descriptor":"jad"},"x-":{asm:["s","asm"],c:["c","cc","cxx","cpp","h","hh","dic"],fortran:["f","for","f77","f90"],nfo:"nfo",opml:"opml",pascal:["p","pas"],setext:"etx",sfv:"sfv",uuencode:"uu",vcalendar:"vcs",vcard:"vcf","java-source":"java"},"cache-manifest":"appcache","uri-list":["uri","uris","urls"],"prs.lines.tag":"dsc","tab-separated-values":"tsv"},"video/":{"3gpp":"3gp","3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],mp4:["mp4","mp4v","mpg4"],mpeg:["mpeg","mpg","mpe","m1v","m2v"],ogg:"ogv",quicktime:["qt","mov"],"vnd.":{"dece.":{hd:["uvh","uvvh"],mobile:["uvm","uvvm"],pd:["uvp","uvvp"],sd:["uvs","uvvs"],video:["uvv","uvvv"]},fvt:"fvt",mpegurl:["mxu","m4u"],vivo:"viv","dvb.file":"dvb","uvvu.mp4":["uvu","uvvu"],"ms-playready.media.pyv":"pyv"},webm:"webm","x-":{f4v:"f4v",fli:"fli",flv:"flv",m4v:"m4v",matroska:["mkv","mk3d","mks"],mng:"mng","ms-":{asf:["asf","asx"],vob:"vob",wm:"wm",wmv:"wmv",wmx:"wmx",wvx:"wvx"},msvideo:"avi",smv:"smv","sgi-movie":"movie"}},"chemical/x-":{cdx:"cdx",cif:"cif",cmdf:"cmdf",cml:"cml",csml:"csml",xyz:"xyz"},"message/rfc822":["eml","mime"],"x-conference/x-cooltalk":"ice"}},bdecdecede:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("iibggfejb"),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){var t=0;if(!e)return t;e.quotedMsg&&(t+=54);e.caption&&(t+=31);switch(e.type){case l.MSG_TYPE.NOTIFICATION:case l.MSG_TYPE.GROUP_NOTIFICATION:case l.MSG_TYPE.GP2:case l.MSG_TYPE.BROADCAST_NOTIFICATION:case l.MSG_TYPE.E2E_NOTIFICATION:case l.MSG_TYPE.CALL_LOG:case l.MSG_TYPE.CIPHERTEXT:case l.MSG_TYPE.REVOKED:case l.MSG_TYPE.CHAT:e.linkPreview&&(t+=53);var n=(0,s.numCodepoints)(e.body&&e.body.toString());return t+19*(0,o.default)(n/100)+13;case l.MSG_TYPE.IMAGE:return t+(e.mediaData&&e.mediaData.fullWidth&&e.mediaData.fullHeight||0)?Math.floor(Math.min(330/e.mediaData.fullWidth*e.mediaData.fullHeight,330)):330;case l.MSG_TYPE.VIDEO:case l.MSG_TYPE.AUDIO:return e.isGif?t+137:t+166;case l.MSG_TYPE.LOCATION:return t+e.isLive?u.MSG_HEIGHT:i.PREVIEW_HEIGHT;case l.MSG_TYPE.PTT:return t+67;case l.MSG_TYPE.VCARD:return t+74;case l.MSG_TYPE.DOCUMENT:return t+188;case l.MSG_TYPE.STICKER:return t+125;case l.MSG_TYPE.UNKNOWN:default:return t}};var i=n("biadgfadhh"),u=n("icbjhhidg"),s=n("chhhffajfi");var l=n("eadfaddcj")},bdfbccfifg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CACHE_POLICY_TYPE=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cccehdaiaf"),i=(r=o)&&r.__esModule?r:{default:r};var u=t.CACHE_POLICY_TYPE={LOAD:"LOAD",IMMEDIATE:"IMMEDIATE",NONE:"NONE"},s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._collection=e,r._id=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"enableCaching",value:function(){}},{key:"disableCaching",value:function(){}},{key:"collection",get:function(){return this._collection}},{key:"id",get:function(){return this._id}}]),t}();s.policy=u.NONE,t.default=s},bdfbijjhda:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("dfacahcafg"));t.default=function(e,t){var n=e instanceof ArrayBuffer?e.byteLength:e.buffer.byteLength,i=new o.default(t),c=n-l,f=Math.ceil(c/u),d=(0,r.default)(f,function(t){var n=t*u,r=n+l+u,a=e.slice(n,r);return i.sign(a,s)});return Promise.all(d).then(function(e){return a.default.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))})};var a=i(n("cdfccifhg")),o=i(n("bbejegbieb"));function i(e){return e&&e.__esModule?e:{default:e}}var u=65536,s=10,l=16},bdfheihabb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n("bijffg")),o=d(n("eceadcicaf")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=n("ejbdjaifi"),s=n("icghcjegh"),l=d(s),c=d(n("dhbceejbjg")),f=d(n("fifhbjiec"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.updateLabels=function(){r.forceUpdate()},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(a.default,`label_updated_${this.props.label}`,this.updateLabels)}},{key:"render",value:function(){var e=this.props.label,t=a.default.get(e);if(!t||!t.name)return null;if("label-list"===this.props.theme){var n=i.createElement(l.default,{renderAsCircle:"label-list"===this.props.theme,theme:this.props.theme,labels:[e]}),r=i.createElement(f.default,{text:t.name,ellipsify:!0,titlify:!0});return i.createElement(c.default,{theme:"chat-checkbox",image:n,primary:r,secondary:l10n.t(584,{count:parseInt(t.count||0,10),_plural:parseInt(t.count||0,10)})})}var o=(0,s.renderLabelSvg)(t.hexColor),u=i.createElement(f.default,{text:t.name,ellipsify:!0,titlify:!0});return i.createElement(c.default,{theme:"label-selection",image:o,primary:u})}}]),t}();h.displayName="LabelListItem",t.default=(0,o.default)((0,u.hoc)(h))},bdfjbfgea:function(e,t){e.exports={muted:"_3Q9PP",selectedListContainer:"I72vi"}},bdgbijheih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),o=s(n("bdiiahhjbe")),i=s(n("bcjjbcbjaa")),u=n("ddjgcfjicj");function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._writeQueue=[],this.Node=i.default}return r(e,[{key:"read",value:function(){return o.default.error("Attempted to call `read` on BinaryProtocolQueue")(),Promise.reject(new a.Disconnected)}},{key:"write",value:function(e){var t=this;return new Promise(function(n,r){t._writeQueue.push({resolve:n,reject:r,n:e})})}},{key:"dropAllBecauseLogout",value:function(){for(var e=new u.LogoutDrop("cancelled binary protocol call");this._writeQueue.length;){this._writeQueue.shift().reject(e)}}},{key:"getWriteQueue",value:function(){return this._writeQueue}}]),e}();t.default=l},bdgdgicfaf:function(e,t){e.exports={muted:"_1JY4f",symbol:"WVFpp",margin:"_3cO_w"}},bdgdjfajce:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=b(n("bjebjijbfc")),i=b(n("dhhfaeacef")),u=b(n("fifhbjiec")),s=b(n("bffjfbgbg")),l=b(n("ihfccfgdf")),c=n("ejbdjaifi"),f=b(n("bfdcadbbif")),d=n("bhfdfhefca"),p=b(n("eaaihhcibf")),h=b(n("dhbceejbjg")),m=b(n("ccaaiecfib"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.getMenuBtns=function(){var e=r.props,t=e.msg,n=e.mediaData,o=a.createElement(d.MenuBarItem,{icon:a.createElement(f.default,{name:"bubble"}),title:l10n.t(468),onClick:r.props.onGoToMsgClick}),i=void 0,u=void 0,l=void 0;t.star?(i=r.props.onUnstarClick,u="unstar-btn",l=l10n.t(1037)):(i=r.props.onStarClick,u="star-btn",l=l10n.t(987));var c=a.createElement(d.MenuBarItem,{icon:a.createElement(f.default,{name:u}),title:l,onClick:i}),p=a.createElement(d.MenuBarItem,{icon:a.createElement(f.default,{name:"forward"}),title:l10n.t(428),onClick:r.props.openForwardFlow}),h=void 0;return h=!n.renderableUrl&&(!m.default.supportsFeature(m.default.F.REPLACE_MEDIABLOB)||n.mediaStage!==s.default.STAGE.RESOLVED),{btnGoToMsg:o,btnStar:c,btnForward:p,btnDownload:a.createElement(d.MenuBarItem,{icon:a.createElement(f.default,{name:"download"}),title:l10n.t(1089),disabled:h,onClick:r.props.onDownloadClick})}},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.msg,t=e.displayName(!0,!0);e.isGroupMsg&&(t+=" @ "+e.chat.title());var n=this.getMenuBtns(),r=n.btnGoToMsg,s=n.btnStar,l=n.btnForward,c=n.btnDownload;return a.createElement("div",{className:p.default.mediaPanelHeader},a.createElement("div",{className:p.default.info},a.createElement(h.default,{idle:!0,image:a.createElement(i.default,{id:e.sender,size:40}),primary:a.createElement(u.default,{ellipsify:!0,text:t}),secondary:o.default.relativeDateAndTimeStr(e.t),theme:"media"})),a.createElement("div",{className:p.default.mediaPanelTools},a.createElement(d.MenuBar,{key:"media-panel-header"},r,s,l,c,a.createElement(d.MenuBarItem,{a8nText:"btn-close",icon:a.createElement(f.default,{name:"x-viewer"}),title:l10n.t(1096),onClick:this.props.onClose}))))}}]),t}();v.CONCERNS={msg:["star","isGroupMsg","chat","type","isGif","sender","t"],mediaData:["filehash","mediaStage","renderableUrl"]},v.displayName="MediaPanelHeader",t.default=(0,l.default)((0,c.hoc)(v),v.CONCERNS)},bdgehigfig:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendMsgRecord=function(e){return Promise.callSynchronously(function(){var t=e.id;p.default.Chat.find(t.remote).then(function(e){e.isTrusted()||(0,d.sendNotSpam)(e).catch(function(){})});var n=void 0;m.default.isBroadcast(e.to)&&(n=(0,c.broadcastFanout)(e)),e.isNewMsg=!0;var b=e.type===a.default.MSG_TYPE.PROTOCOL&&"revoke"===e.subtype;return e.isGroupMsg||b||!r.default.get(e.to)?p.default.Chat.find(e.id.remote).then(function(t){return(0,h.sendSeen)(t),p.default.Msg.trigger(a.default.NEW_MSG_SENT),Promise.props({reply:(0,f.sendMsgRecord)(e),chat:t})}).then(function(r){var i=r.reply,u=r.chat,c=t.remote,f=t.fromMe&&m.default.equals(t.remote,o.default.me)?3:i.data?i.data.ack:1;return e.updateAck(f),e.type!==a.default.MSG_TYPE.PROTOCOL&&(u.lastReceivedKey=t),p.default.Msg.updateLastReceipt(c,i.t),m.default.isBroadcast(c)&&(n?n.forEach(function(e){var n=new l.default({from:o.default.me,to:e,id:t.id}),r=p.default.Msg.get(n);r&&(r.ack=1,p.default.Msg.updateLastReceipt(e,r.t),p.default.Chat.find(e).then(function(e){e.lastReceivedKey=n}))}):s.default.log("model:msg:createRecord bclist server ack, no recipients")()),"success"}).catch(u.ServerStatusCodeError,function(t){if(408!==t.status){var n=e.toJSON();s.default.log("json.body: "+JSON.stringify(n.body))(),n.body=void 0,s.default.logVerbose("Json: "+JSON.stringify(n))(),s.default.assert(!1,"send-not-200",`Phone responded ${t.status}`)()}return"dropped"}).catch(function(t){return s.default.error("model:msg:createRecord dropped msg: "+e.id.toString())(e.type),s.default.assert(!1,"send-msg-error",`Got error ${String(t)}`)(t),"dropped"}):Promise.reject(new i.default("Contact is blocked",p.default.Contact.assertGet(e.to)))}).finally(function(){e.promises.sendPromise&&e.promises.sendPromise.control.settled()})};var r=b(n("bgfcjjddjf")),a=b(n("eadfaddcj")),o=b(n("bjigbaghc")),i=b(n("beecadabde")),u=n("ddjgcfjicj"),s=b(n("bdiiahhjbe")),l=b(n("ccgjijjbbj")),c=n("ccbagdhfbb"),f=n("cjafhagbj"),d=n("dcbafbaejf"),p=b(n("bhggeigghg")),h=n("dgdhcdgffe"),m=b(n("jccfhaecf"));function b(e){return e&&e.__esModule?e:{default:e}}},bdghdbcbdc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("ceffhbhahb")),i=u(n("eadgafjbag"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleMouseDown=function(e){e.stopPropagation()},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement("div",{className:(0,o.default)(i.default.container,this.props.className),onMouseDown:this._handleMouseDown},this.props.children)}}]),t}();l.displayName="MenuContainer",t.default=l},bdhbdihbca:function(e,t){e.exports={muted:"_1AFtX",cancelIcon:"_2MUsN",inputContainer:"_2gisX",inputEmojiSearch:"_2GXNm",searchRow:"_2Qm0c",ffFix:"_664gn",rowShadow:"_16-WE",rowInput:"_2hMsh"}},bdheiggeaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPin=function(e,t){return function e(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,a.genId)();var l=t.promises;l.setPin&&l.setPin.cancel();var c=void 0,f=void 0;n?c=Math.round(+new Date/1e3):f=t.pin;var d=(0,u.sendConversationPin)(t.id,c,f).cancellable();var p=n?new a.ActionType(l10n.t(36)):new a.ActionType(l10n.t(46));var h=d.then(function(r){var o=void 0;return 200===r.status?(o=n?l10n.t(35):l10n.t(45),new a.ActionType(o,l10n.t(156),function(){return e(t,!n,s)})):405===r.status?new a.ActionType(l10n.t(34)):r.status>=400?n?new a.ActionType(l10n.t(33)):new a.ActionType(l10n.t(44)):void 0}).catch(function(r){i.default.error("models:chat:setPin dropped")(r);var o=n?l10n.t(33):l10n.t(44);return new a.ActionType(o,l10n.t(152),function(){return e(t,n,s)})});o.default.openToast(r.createElement(a.ActionToast,{id:s,initialAction:p,pendingAction:h}));return l.setPin=d.then(function(e){200!==e.status||e._duplicate||(t.pin=c)}).finally(function(){l.setPin=null})}((0,s.unproxy)(e),t)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("ccihhdchab"),o=l(n("gbfffciea")),i=l(n("bdiiahhjbe")),u=n("cihffbbgjc"),s=n("bheafeifce");function l(e){return e&&e.__esModule?e:{default:e}}},bdhgicebce:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParticipantCollection=t.MsgInfoParticipant=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=f(a),i=f(n("fcedgihic")),u=f(n("dhigahgdjb")),s=f(n("ccicaaeiaa")),l=f(n("ccgjijjbbj")),c=f(n("jccfhaecf"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){var e,n,r;d(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,a.prop)(),r.t=(0,a.prop)(),r.contact=(0,a.session)(),p(r,n)}return h(t,o.default),r(t,[{key:"initialize",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.addChild("contact",u.default.gadd(this.id))}}]),t}();m.Collection="MsgInfoParticipant",m.Proxy="msgInfoParticipant",m.idClass=c.default;var b=t.MsgInfoParticipant=(0,a.defineModel)(m),g=t.ParticipantCollection=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,i.default),t}();g.model=b,g.comparator=function(e,t){return(0,s.default)(e.contact,t.contact)};var v=function(e){function t(){var e,n,r;d(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,a.prop)(),r.isPTT=(0,a.prop)(),r.playedRemaining=(0,a.prop)(0),r.readRemaining=(0,a.prop)(0),r.deliveryRemaining=(0,a.prop)(0),r.played=(0,a.collection)(g),r.read=(0,a.collection)(g),r.delivery=(0,a.collection)(g),r.settled=(0,a.derived)(r._settled,["isPTT","playedRemaining","readRemaining"]),p(r,n)}return h(t,o.default),r(t,[{key:"_settled",value:function(){return this.isPTT?!this.playedRemaining:!this.readRemaining}}]),t}();v.Collection="MsgInfo",v.Proxy="msgInfo",v.idClass=l.default,t.default=(0,a.defineModel)(v)},bdigfbgefi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("ddbbigfbec")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n("cahfddcdga"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rctKeyToData=new Map,this.keyToRctKey=new Map}return a(e,[{key:"genNewKeys",value:function(e){var t=e-this.rctKeyToData.size;if(t<=0)return[];for(var n=[],r=0;r<e&&(this.rctKeyToData.has(r)||(n.push(r),t!==n.length));r++);return n}},{key:"recycleKeysAndMap",value:function(e){var t=this,n=new Map,a=new Map,i=this.genNewKeys(e.length),s=new Set(this.rctKeyToData.keys()),l=[];e.forEach(function(e){var r=t.keyToRctKey.get(e.itemKey);void 0!==r?(a.set(e.itemKey,r),n.set(r,e),s.delete(r)):l.push(e)});var c=[].concat(u(i),u(s));l.forEach(function(e){var t=c.pop();a.set(e.itemKey,t),n.set(t,e)});var f=(0,r.default)(e,[function(e){return a.get(e.itemKey)}]).map(function(e){return{rctKey:(0,o.default)(a.get(e.itemKey)),data:e}});return this.rctKeyToData=n,this.keyToRctKey=a,f}}]),e}();t.default=s},bdiihbaeaj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){var n=r({},l,e),a=n.signal,i=n.timeoutIncludesTaskDuration,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["signal","timeoutIncludesTaskDuration"]),c=new u.default(s);return(0,o.default)({signal:a,timeoutIterator:c,timeoutIncludesTaskDuration:i},t)};var a=n("cajjjeihci"),o=s(a),i=n("cjjdbgcihf"),u=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var l=r({},i.defaults,a.defaults)},bdiiibjcij:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("cgcgbfbffj")),o=c(n("eadfaddcj")),i=n("ddjgcfjicj"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),s=c(n("cbcbdjdah")),l=c(n("biecbbiiee"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.hasDocBefore=!0,f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"delete",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.stopListening(),this.reset()}},{key:"queryDocs",value:function(e,t){var n=this;if(t)return this.queryDocBefore?this.queryDocBefore:(this.queryDocBefore=l.default.queryMedia(t.id.remote,o.default.MEDIA_QUERY_LIMIT,"before",t.id,"document").then(function(e){return(!e||e.length<o.default.MEDIA_QUERY_LIMIT)&&(n.hasDocBefore=!1),n.add(e.filter(function(e){return e.isDoc}),{at:0}),{length:e.length}}).catch(i.WapDrop,u.ProtoVersionUndefined,function(){}).catch(404,function(){}).finally(function(){n.queryDocBefore=null,n.trigger("query_doc_before")}),this.trigger("query_doc_before"),this.queryDocBefore);var r=e.msgs;if(0===this.length){if(!r||0===r.length)return this.hasDocBefore=!1,new Promise(function(e){e({eof:!0})});this.add(r.filter(function(e){return e.isDoc}),{at:0})}if(e.msgs.msgLoadState.noEarlierMsgs)return this.hasDocBefore=!1,new Promise(function(e){e({eof:!0})});if(this.length<=2*o.default.MEDIA_QUERY_LIMIT){var a=0===this.length?r.head():this.head();return this.queryDocs(e,a)}return new Promise(function(e){e({eof:!1})})}}]),t}();d.model=s.default,t.default=d},bdjgfabbia:function(e,t){e.exports={muted:"_281ct",adminBtn:"e4PKG"}},bdjihaecid:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StickerItem=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=p(n("dhfbfehaef")),i=p(n("ihfccfgdf")),u=p(n("bgghfidcfh")),s=p(n("ifbjhfegj")),l=n("ddajbaceej"),c=n("ejbdjaifi"),f=n("bheafeifce"),d=p(n("ccaaiecfib"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=t.StickerItem=function(e){function t(){var e,n,r;h(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleClick=function(e){var t=r.props.onClick;t&&t((0,f.unproxy)(r.props.sticker),e)},r._handleEnterKey=function(e){var t=r.props.onEnter;t&&t((0,f.unproxy)(r.props.sticker),e)},r._setRefContainer=function(e){r._refContainer=e},r._handleDownloadMedia=function(){return r.props.sticker.downloadMedia()},m(r,n)}return b(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.sticker.downloadMedia()}},{key:"focus",value:function(){this._refContainer&&(this.hasFocus()||(0,l.focus)(this._refContainer))}},{key:"getOffsetTop",value:function(){return this._refContainer?this._refContainer.offsetTop:0}},{key:"hasFocus",value:function(){return!!this._refContainer&&this._refContainer===document.activeElement}},{key:"render",value:function(){var e=this.props.sticker;return a.createElement(o.default,{onRef:this._setRefContainer,className:s.default.container,handlers:{enter:this._handleEnterKey}},a.createElement("div",{className:s.default.border},a.createElement(u.default,{mediaData:e.mediaData,onClick:this._handleClick,theme:"stickerPanel",loopAnimation:!0,downloadMedia:d.default.supportsFeature(d.default.F.REPLACE_MEDIABLOB)?this._handleDownloadMedia:null})))}}]),t}();g.CONCERNS={sticker:["id","mediaData"]},g.displayName="StickerItem";var v=function(e){function t(){return h(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,(0,i.default)((0,c.hoc)(g),g.CONCERNS)),r(t,[{key:"focus",value:function(){this.getComponent().focus()}},{key:"getOffsetTop",value:function(){return this.getComponent().getOffsetTop()}},{key:"hasFocus",value:function(){return this.getComponent().hasFocus()}}]),t}();t.default=v},beacbddhci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("eagfdbhhhh");function o(e){var t=e.children,n=e.selectable;return r.createElement(a.SelectableSpan,{className:"matched-text",selectable:n},t)}o.displayName="Highlight",o.defaultProps={children:""},t.default=o},beadfddidc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldEnableHsm=function(){return o.default.supportsFeature(o.default.F.MD_BACKEND)&&o.default.supportsFeature(o.default.F.MD_HSM)||o.default.supportsFeature(o.default.F.HSM)};var r,a=n("ccaaiecfib"),o=(r=a)&&r.__esModule?r:{default:r}},beafbeighe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=O(n("djfhiaaehb")),a=O(n("dbafiicfja")),o=O(n("bebajedcaf")),i=O(n("bbfdjfific")),u=O(n("bfhjejbhhd")),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){var t=e.shift();if(Array.isArray(t)){var n=[],O=[],P=[],M=[];t.forEach(function(e){if("c.us"===e.id)O.push(e);else{var t=!!E.default.Chat.get(e.id),r=["delete","clear","archive","unarchive","star","unstar","spam","modify_tag","pin","modify"].includes(e.type);r?t&&r?O.push(e):v.default.log("Model:chat:handle received junk chat record: "+JSON.stringify(e))():n.push(e)}});var C=(0,u.default)(n,function(e){return j.default.isPSA(e.id)});C>-1&&(n[C].name=l10n.t(1351)),O.forEach(function(e){var t=e.type;if("c.us"===e.id){switch(E.default.Chat.disableSortListener(),t){case"clear":v.default.log(`Model:chat:handle:clear:all before:${String(e.before)} kind:${String(e.kind)}`)(),E.default.Chat.forEach(function(t){"number"==typeof e.before?t.deleteMsgsOlderThan(e.before,e.star,e.kind):t.deleteMsgs(e.star,e.kind)});break;case"delete":v.default.log("Model:chat:handle:delete:all")(),E.default.Chat.toArray().forEach(function(e){e.isGroup?e.deleteMsgs(!0):P.push(e)});break;case"archive":v.default.log("Model:chat:handle:archive:all")(),E.default.Chat.forEach(function(e){M.push({id:e.id,archive:!0,pin:void 0})});break;case"unarchive":v.default.log("Model:chat:handle:unarchive:all")(),E.default.Chat.forEach(function(e){M.push({id:e.id,archive:!1})});break;case"unstar":v.default.log("Model:chat:handle:unstar:all")(),E.default.AllStarredMsgs.delete(),E.default.Chat.forEach(function(e){e.unstarAll()});break;default:v.default.error("Model:chat:handle unknown "+JSON.stringify(e),e)()}E.default.Chat.enableSortListener()}else{var n=E.default.Chat.get(e.id);if(!n)return;switch(t){case"clear":case"star":case"unstar":if(e.keys){for(var r=e.keys.length,a="star"===t,o=[],u=[],s=[],c=!1,f=0;f<r;f++){var d=void 0,p=void 0,h=void 0,m=void 0,b=void 0,g=e.keys[f];if(Array.isArray(g)){var _=l(g,3);d=_[0],p=_[1],h=_[2],m=new y.default({fromMe:p,remote:e.id,id:d,participant:h}),(b=E.default.Msg.get(m))?"clear"===t?b.delete():(b.star=a,s.push(b)):a&&(c=!0)}else!(0,i.default)(g)||"star"!==t&&"unstar"!==t||(m=g.id,(b=E.default.Msg.get(g.id))?(b.star=a,s.push(b)):u.push(g));o.push(m&&m.toString())}"star"!==t&&"unstar"!==t||E.default.AllStarredMsgs.process(a,u,s,c),v.default.log("model:Chat:handle:messages:"+[t,e.id,o.join(),e.modifyTag].join())()}else"clear"===t?("number"==typeof e.before?n.deleteMsgsOlderThan(e.before,e.star,e.kind):n.deleteMsgs(e.star,e.kind),v.default.log("model:Chat:handle cleared chat:"+[e.id,e.before,e.modifyTag,e.kind].join())()):"unstar"===t&&(n.unstarAll(),v.default.log("model:Chat:handle unstarred chat: "+e.id)());isNaN(e.modifyTag)||M.push({id:e.id,modifyTag:e.modifyTag});break;case"delete":P.push(n),v.default.log("model:Chat:handle deleted chat for "+String(e.id))();break;case"archive":M.push({id:e.id,archive:!0,pin:void 0});break;case"unarchive":M.push({id:e.id,archive:!1});break;case"spam":M.push({id:e.id,notSpam:e.notSpam});break;case"modify_tag":M.push({id:e.id,modifyTag:e.modifyTag});break;case"pin":M.push({id:e.id,pin:e.pin});break;case"modify":M.push({id:e.id,changeNumberOldJid:e.changeNumberOldJid,changeNumberNewJid:e.changeNumberNewJid})}}});(m.default.supportsFeature(m.default.F.MODEL_STORAGE)?_.default.lock(["chat"],function(e){var t=l(e,1),r=t[0];return r.bulkCreateOrMerge(n.map(function(e){return s({},e,{id:e.id.toString()})})).then(function(){return Promise.map(M,function(e){var t=e.id,n=w(e,["id"]);r.merge(t.toString(),n)})}).then(function(){return r.bulkRemove(P.map(function(e){return e.id.toString()}))})}).catch(function(e){v.default.errorVerbose(`ChatHandler: bulk handle error: ${e}`)(),v.default.assert(!1,"ChatHandler: bulk handle error")(e)}):Promise.resolve()).then(function(){E.default.Chat.add(n,{merge:!0}),M.forEach(function(e){var t=e.id,n=w(e,["id"]),r=E.default.Chat.get(t);r&&r.set(n)}),P.forEach(function(e){return e.delete()})})}else if("leave"===t.cmd)t.gids.forEach(function(e){var t=E.default.Chat.get(e);t&&(0,h.localExitGroup)(t)});else if("preempt"===t.cmd){var T=m.default.supportsFeature(m.default.F.MODEL_STORAGE)?c.default.bulkCreateOrMerge(t.response.map(function(e){return s({},e,{id:e.id.toString()})})):Promise.resolve();T.then(function(){E.default.Chat.add(t.response,{merge:!0}),E.default.Conn.platform===p.PLATFORMS.IPHONE&&((0,o.default)(t.response)?E.default.Msg.trigger(d.default.COLLECTION_HAS_SYNCED):setTimeout(function(){E.default.Msg.trigger(d.default.COLLECTION_HAS_SYNCED)},2500)),E.default.Chat.trigger(d.default.COLLECTION_HAS_SYNCED,{count:t.response.length,binarySize:t.binarySize})})}else if("action"===t.cmd){var A=t.id,N=t.data;if("create"===N[0]||"introduce"===N[0]){var k=N[1],I=N[2],R=[].concat(S((0,a.default)(I.admins,function(e){return{id:e,isAdmin:!0}})),S((0,a.default)(I.superadmins||[],function(e){return{id:e,isAdmin:!0,isSuperAdmin:!0}})),S((0,a.default)(I.regulars,function(e){return{id:e,isAdmin:!1}})));E.default.GroupMetadata.add({id:A,creation:I.creation,owner:k,participants:R,stale:!1,desc:I.desc,descId:I.descId,descTime:I.descTime,descOwner:I.descOwner,restrict:!!I.restrict,announce:!!I.announce},{merge:!0}),E.default.Contact.add({id:A,name:I.subject},{merge:!0});var L=E.default.Chat.get(A);if(!L)return;var D=L.msgs.last();if(!D)return;"gp2"===D.type&&"add"===D.subtype&&(E.default.GroupMetadata.trigger(`group_participant_change_${E.default.Conn.me.toString()}`,A),j.default.equals((0,r.default)(D.recipients),E.default.Conn.me)&&f.default.alertNewMsg(D))}else{if(N.length<3)return void v.default.error("model:chat: incorrect length of payload data for action "+JSON.stringify(t))();var x=t.data[0],U="unknown"===t.data[1]?null:t.data[1],G=void 0;G=x===g.GROUP_ACTIONS.RESTRICT||x===g.GROUP_ACTIONS.ANNOUNCE||x===g.GROUP_ACTIONS.NO_FORWARD?{action:x,value:t.data[2]}:s({action:x},t.data[2]),(0,b.handleGroupAction)({chatId:t.id,author:U},G)}}else v.default.error("model:chat: unknown payload: "+JSON.stringify(t))()};var c=O(n("begbbgieee")),f=O(n("gbfffciea")),d=O(n("eadfaddcj")),p=n("bjigbaghc"),h=n("bafdehfigc"),m=O(n("ccaaiecfib")),b=n("bggbjfdbhg"),g=n("cicdfhbegf"),v=O(n("bdiiahhjbe")),y=O(n("ccgjijjbbj")),_=O(n("ffjiicch")),E=O(n("bhggeigghg")),j=O(n("jccfhaecf"));function O(e){return e&&e.__esModule?e:{default:e}}function S(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function w(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},beagfhhiea:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("cgjbjefebj")),a=c(n("hajciceai")),o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=c(n("ceggedffg")),s=c(n("djegeegcbf")),l=c(n("dfbhcehadj"));function c(e){return e&&e.__esModule?e:{default:e}}var f=s.default.skinToneEmojis,d={"(y)":"","(n)":"",":-)":"",":-(":"",":-p":"",":-|":"",":-\\":"",":-d":"",":-*":"","<3":"","^_^":"",">_<":"",";-)":""},p=(0,a.default)(d).map(r.default).join("|"),h=new RegExp(`(^|\\s|\`\`\`|[*_~])((?:${p})+)(?=$|\\s|\`\`\`|[*_~])`,"ig"),m=new RegExp(`(${p})`,"i"),b=(0,u.default)(h,2,function(e,t){var n=o(e,2)[1];n&&(e.index+=n.length,e[0]=e[0].slice(n.length));return e}),g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,b),i(t,null,[{key:"mutate",value:function(e){return e.split(m).map(function(e){var t=d[e.toLowerCase()];return t?f[t]&&l.default.getVariant(t)||t:e}).join("")}}]),t}();g.fragment=!0,g.mutates=!0,t.default=g},beahjdfigf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,o.default)(e.contact,t.contact)};var r,a=n("ccicaaeiaa"),o=(r=a)&&r.__esModule?r:{default:r}},bebbajcbbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=(h(n("eadfaddcj")),h(n("ceffhbhahb"))),i=h(n("fifhbjiec")),u=h(n("fffdgbfji")),s=h(n("dbbbgjbbgf")),l=h(n("cfiighfhhg")),c=h(n("ihfccfgdf")),f=h(n("bihbdchfhc")),d=h(n("dbabefhajh")),p=n("ejbdjaifi");function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.msg,t=e.comment?a.createElement(s.default,{msg:e},a.createElement(i.default,{text:e.comment,selectable:!0,dirMismatch:e.rtl!==u.default.isRTL(),direction:e.dir})):null,n=void 0;if(this.props.quotedMsg){var r=(0,o.default)(f.default.quote,{[f.default.hasAuthor]:this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg,[f.default.forwarded]:e.showForwarded()});n=a.createElement("div",{className:r},this.props.quotedMsg)}var c="unknown",p=u.default.t(295);this.props.placeholderText&&(c="ciphertext",p=this.props.placeholderText);var h=(0,o.default)({[f.default.hasText]:t,[f.default.noText]:!t});return a.createElement(d.default,{msg:e,displayAuthor:this.props.displayAuthor},n,this.props.paymentInfo,a.createElement("div",{className:h},a.createElement(l.default,{hasCaption:!!t,iconName:c,msg:e},p)),t)}}]),t}();m.CONCERNS={msg:["rtl","dir","comment","isSentByMe","isGroupMsg","isPSA","senderObj"]},m.displayName="PaymentMessagePlaceholder",t.default=(0,c.default)((0,p.hoc)(m),m.CONCERNS)},bebecagjgj:function(e,t){e.exports={muted:"_2_YUG",bodyContainer:"QChXd",list:"_1LsoD",search:"xq3Z0",hidden:"_3jqaL"}},becegcbegb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("bgeijhbbad"));t.default=c;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("ceffhbhahb")),i=s(n("cihjadddhc")),u=n("behbjhhbg");function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,r.default)(u.MIMETYPES,function(e){return"document"===e.msgType});function c(e){var t=e.mimeType,n=e.filename,r=(0,o.default)(i.default.icon,l[t]?l[t].icon:"icon-doc-generic");return a.createElement("div",{className:i.default.container,"data-animate-attach-media":!0},a.createElement("div",{className:i.default.media},a.createElement("div",{className:i.default.document},a.createElement("div",{className:r}),a.createElement("div",{className:i.default.text},n))))}c.displayName="AttachMediaTypeFile"},bechdajic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DAYS_OF_WEEK=["sun","mon","tue","wed","thu","fri","sat"],t.BUSINESS_HOUR_MODES={OPEN_24H:"open_24h",SPECIFIC_HOURS:"specific_hours",APPOINTMENT_ONLY:"appointment_only"}},bechejbabh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("cgcgbfbffj")),o=n("ddjgcfjicj"),i=c(n("ccaaiecfib")),u=c(n("ddeghajfaj")),s=c(n("ceddibdhdb")),l=c(n("bihdhbjih"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.checksum=void 0,r.flushCountsTimer=new s.default(function(){r.hasPendingCounts()&&r.flushCounts()}),r.sortQuickReply=function(e,t){return e.totalCount===t.totalCount?e.id<t.id?-1:1:e.totalCount>t.totalCount?-1:1},r.onCountsFlushed=function(e){var t=e.id,n=e.count,a=r.get(t);a&&(a.count=n,a.pendingCount=0)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"delete",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),delete this.checksum}},{key:"filterShortcuts",value:function(e){return this.filter(function(t){return t.shortcut.toLowerCase().startsWith(e.toLowerCase())}).sort(this.sortQuickReply)}},{key:"sync",value:function(e){i.default.supportsFeature(i.default.F.QUICK_REPLIES_QUERY)&&(this.synced()&&this.checksum===e?this.hasPendingCounts()&&this.flushCounts():this.findQuery({}))}},{key:"periodicFlush",value:function(){i.default.supportsFeature(i.default.F.QUICK_REPLIES_QUERY)&&this.flushCountsTimer.debounceAndCap(2e3,5e3)}},{key:"updateChecksum",value:function(e){this.checksum=e}},{key:"synced",value:function(){return void 0!==this.checksum}},{key:"hasPendingCounts",value:function(){return this.some(function(e){return e.pendingCount>0})}},{key:"getAllPendingCounts",value:function(){var e={};return this.forEach(function(t){var n=t.id,r=t.pendingCount;r>0&&(e[n]=r)}),e}},{key:"flushCounts",value:function(){var e=this,t=this.getAllPendingCounts();l.default.flushQuickReplyCounts(t).then(function(n){n.checksum&&e.updateChecksum(n.checksum),n.data.filter(function(e){var n=e.id;return void 0!==t[n]}).forEach(e.onCountsFlushed)}).catch(o.WapDrop,function(){})}},{key:"_findQuery",value:function(){var e=this,t=this.getAllPendingCounts();return l.default.queryQuickReplies(t).then(function(n){return n.checksum&&e.updateChecksum(n.checksum),n.data.filter(function(e){var n=e.id;return void 0!==t[n]}).forEach(e.onCountsFlushed),n.data})}},{key:"handle",value:function(e){e.checksum&&this.updateChecksum(e.checksum);var t=[],n=[];e.quickReplies.forEach(function(e){"delete"===e.type?t.push(e):n.push(e)}),this.remove(t.map(function(e){return e.id})),this.add(n,{merge:!0})}}]),t}();d.model=u.default,t.default=new d},bedcejaea:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("cgjbjefebj")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n("cefgfgdhj")),i=c(n("beacbddhci")),u=c(n("gjhhbhigc")),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),l=c(n("fffdgbfji"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),a(t,null,[{key:"match",value:function(e,t){var n=t.terms,a=t.boundary,i=void 0!==a&&a,u=t.ignoreDiacritics,s=void 0!==u&&u;if(!n.length)return[];var c=s&&l.default.isLatinAlphabetLanguage(e)&&n.every(function(e){return l.default.isLatinAlphabetLanguage(e)})&&!l.default.isRTL(),f=c?l.default.removeAccents(e):e;return(0,o.default)(f,function(e,t,n){var a=(n?e.map(function(e){return l.default.removeAccents(e)}):e).map(r.default).join("|");if(l.default.isRTL())return new RegExp(`${t?"(?:^|\\b)":""}(\\S+)?(${a})(\\S+)?`,"ig");return new RegExp(`${t?"(?:^|\\b)":""}(${a})`,"ig")}(n,i,c))}}]),t}();f.jsx=function(e,t,n){var r=n.selectable;return s.createElement(i.default,{selectable:r},e)},t.default=f},beddiafhbh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=void 0;var r=I(n("eaaagccfda")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=k(n("ddhijeejag")),u=I(n("ceffhbhahb")),s=I(n("fffdgbfji")),l=I(n("eceadcicaf")),c=n("ejbdjaifi"),f=I(n("bdacfjbfhj")),d=I(n("ccjagcdajg")),p=I(n("bhdgigicfd")),h=n("dcfaachegb"),m=I(n("bjhhaacbib")),b=I(n("didfdhbecg")),g=I(n("dbfiijcdie")),v=I(n("bffjfbgbg")),y=n("cgecdbiihg"),_=I(n("chbfbiahhb")),E=I(n("bigcibhibh")),j=n("bbdfiiibib"),O=I(j),S=I(n("cgajhcgiji")),w=k(n("ecibddhig")),P=I(n("bcjcbbafcj")),M=I(n("bdiiahhjbe")),C=I(n("edbaidcaf")),T=I(n("bcafcjajcb")),A=I(n("bidfjbaebi")),N=I(n("bfdcadbbif"));function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=t.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT=3e3,U=function(e){function t(e){R(this,t);var n=L(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.resetMouseMoveRecently=(0,r.default)(function(){n.setState({mouseMoveRecently:!1})},x),n.buffered=[],n.setRefVideo=function(e){n.refVideo=e},n.setRefContainer=function(e){n.refContainer=e,n.refContainer},n.handleLoadedMetadata=function(e){var t=null!=n.props.startTime?n.props.startTime:0;n.setState({videoMetadata:{duration:e.duration,currentTime:t,volume:e.volume,muted:e.muted,bufferedTime:0}}),n.props.onAspectRatio&&e.videoWidth&&e.videoHeight&&n.props.onAspectRatio(e.videoWidth/e.videoHeight)},n.handleTimeUpdate=function(e){var t=null,r=n.state.videoMetadata;if(r){var o=n.getRelevantBufferedTime(n.buffered,e);t=a({},r,{currentTime:e,bufferedTime:o})}n.setState({videoMetadata:t})},n.handleVolumeChange=function(e){var t=null;n.state.videoMetadata&&(t=a({},n.state.videoMetadata,{volume:e.volume,muted:e.muted})),n.setState({videoMetadata:t})},n.handleEnded=function(){n.props.onVideoEnded&&n.props.onVideoEnded(),n.setState({isVideoPlaying:!1})},n.handleError=function(e){if(20!==e){if(n.props.msgVideoInfo)M.default.assert(!1,"Video Player Media Error",`message video error code: ${null!=e?e:""}`)();else if(n.props.ogVideoInfo){var t=C.default.hostname(n.props.ogVideoInfo.videoMsg.matchedText);M.default.assert(!1,"Video Player Media Error",`source: ${t}, error code: ${null!=e?e:""}`)()}n.setState({isVideoError:!0}),n.props.onError&&n.props.onError()}else n.setState({isVideoPlaying:!1})},n.handlePause=function(){n.setState({isVideoPlaying:!1})},n.handlePlaying=function(){n.setState({isVideoPlaying:!0})},n.handleProgress=function(e){n.buffered=e;var t=n.state.videoMetadata;if(t){var r=t.currentTime,o=n.getRelevantBufferedTime(e,r),i=a({},t,{bufferedTime:o});n.setState({videoMetadata:i})}},n.handleEnterFullscreen=function(e){e.stopPropagation(),g.default.requestFullscreen(n.refContainer)},n.handleExitFullscreen=function(e){e.stopPropagation(),g.default.exitFullscreen()},n.handleFullscreenToggleButtonClick=function(e){n.state.isFullscreenMode?n.handleExitFullscreen(e):n.handleEnterFullscreen(e)},n.state={videoMetadata:null,isVideoPlaying:!1,isVideoError:!1,isMouseOver:!1,mouseMoveRecently:!1,isFullscreenMode:g.default.isFullscreenMode},n}return D(t,i.Component),o(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.props.listeners.add(g.default,"fullscreen_change",function(){g.default.isFullscreenMode&&g.default.fullscreenElement===e.refContainer?e.setState({isFullscreenMode:!0}):g.default.isFullscreenMode||e.setState({isFullscreenMode:!1})})}},{key:"componentWillUnmount",value:function(){this.resetMouseMoveRecently.cancel()}},{key:"getCurrentTimeFromVideo",value:function(){return this.refVideo?this.refVideo.getCurrentTime():0}},{key:"getVolumeFromVideo",value:function(){return this.refVideo?this.refVideo.getVolume():0}},{key:"getMutedFromVideo",value:function(){return!!this.refVideo&&this.refVideo.getMuted()}},{key:"getRelevantBufferedTime",value:function(e,t){for(var n=0,r=0;r<e.length;r++)if(t>=e[r][0]&&t<e[r][1]){n=e[r][1];break}return n}},{key:"renderMedia",value:function(){switch(this.props.type){case y.PLAYER_TYPE.FLOATER:case y.PLAYER_TYPE.MEDIA_VIEWER:return this.renderMsgMedia();case y.PLAYER_TYPE.OG_FLOATER:return this.renderOgMedia()}return null}},{key:"renderOgMedia",value:function(){var e=this.props.ogVideoInfo;if(!e)return null;var t={backgroundImage:`url(${e.previewUrl})`};return i.createElement(i.Fragment,null,this.state.isFullscreenMode?null:i.createElement("div",{className:p.default.preview,style:t}),""!==e.videoUrl?i.createElement(f.default,{ref:this.setRefVideo,key:"floating-media",url:e.videoUrl,startTime:this.props.startTime,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetadata,onPause:this.handlePause,onPlaying:this.handlePlaying,onProgress:this.handleProgress,onTimeUpdate:this.handleTimeUpdate,onVolumeChange:this.handleVolumeChange,autoPlay:this.props.autoPlay},s.default.t(1074)):null)}},{key:"renderMsgMedia",value:function(){var e=this.props.msgVideoInfo;if(!e)return null;var t=e.mediaData.preview;if(this.isMediaRenderable()){var n=t?{backgroundImage:`url(${t.url()})`}:void 0;return i.createElement(i.Fragment,null,this.state.isFullscreenMode||this.props.type!==y.PLAYER_TYPE.FLOATER?null:i.createElement("div",{className:p.default.preview,style:n}),i.createElement(d.default,{ref:this.setRefVideo,key:"floating-media",msg:e.msg,mediaData:e.mediaData,className:p.default.videoTag,startTime:this.props.startTime,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetadata,onPause:this.handlePause,onPlaying:this.handlePlaying,onProgress:this.handleProgress,onTimeUpdate:this.handleTimeUpdate,onVolumeChange:this.handleVolumeChange,autoPlay:this.props.autoPlay},s.default.t(1074)))}return t?i.createElement("img",{key:"floating-media",src:t.url(),draggable:"false"}):null}},{key:"isMediaRenderable",value:function(){switch(this.props.type){case y.PLAYER_TYPE.FLOATER:case y.PLAYER_TYPE.MEDIA_VIEWER:var e=this.props.msgVideoInfo;if(!e)return!1;var t=e.mediaData;return t.mediaStage===v.default.STAGE.RESOLVED||t.streamable&&t.isStreamable();case y.PLAYER_TYPE.OG_FLOATER:return!0}return!0}},{key:"renderMediaStage",value:function(){switch(this.props.type){case y.PLAYER_TYPE.FLOATER:case y.PLAYER_TYPE.MEDIA_VIEWER:var e=this.props.msgVideoInfo;return e?i.createElement("div",{className:p.default.mediaStageWrapper},i.createElement(h.MediaStage,{msg:e.msg,mediaData:e.mediaData})):null;case y.PLAYER_TYPE.OG_FLOATER:var t=this.props.ogVideoInfo;return t&&""===t.videoUrl?i.createElement("div",{className:p.default.mediaStageWrapper},i.createElement(w.Pending,null)):null}return null}},{key:"renderVideoControls",value:function(){if(!this.isMediaRenderable())return null;var e=this.state.videoMetadata;return e?i.createElement(m.default,{refVideo:this.refVideo,videoMetadata:e,isFullscreenMode:this.state.isFullscreenMode,isVideoPlaying:this.state.isVideoPlaying}):null}},{key:"renderErrorMessage",value:function(){return i.createElement(T.default,null,s.default.t(845),this.renderErrorMessageLink())}},{key:"renderErrorMessageLink",value:function(){if(this.props.type!==y.PLAYER_TYPE.OG_FLOATER)return null;if(!this.props.ogVideoInfo)return null;var e=this.props.ogVideoInfo.videoMsg.matchedText;return i.createElement(A.default,{className:p.default.errorLink,href:e},i.createElement("span",null,s.default.t(846)),i.createElement(N.default,{directional:!0,display:"inline",name:"chevron-right-text",className:p.default.errorLinkChevron}))}},{key:"render",value:function(){var e=this,t=void 0,n=void 0,r=void 0,a=this.isMediaRenderable();a&&(n=i.createElement(_.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:this.handleFullscreenToggleButtonClick}));var o=i.createElement(E.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:function(t){t.stopPropagation(),e.props.onClose()}});switch(this.props.type){case y.PLAYER_TYPE.OG_FLOATER:case y.PLAYER_TYPE.FLOATER:t=i.createElement(i.Fragment,null,P.default.isSafari?null:n,o);break;case y.PLAYER_TYPE.MEDIA_VIEWER:var s=void 0;s=this.state.isFullscreenMode?o:a?i.createElement(O.default,{onClick:function(t){t.stopPropagation(),e.props.onClose&&e.props.onClose(),e.props.onOpenVideoFloater&&e.props.onOpenVideoFloater()},theme:j.PIP_BUTTON_THEME.PLAYER}):null,t=i.createElement(i.Fragment,null,n,s),r=function(t){t.stopPropagation(),e.refVideo&&(e.state.isVideoPlaying?e.refVideo.pause():e.refVideo.play())}}var l=void 0;l=this.state.isFullscreenMode?i.createElement(i.Fragment,null,i.createElement(S.default,{theme:"upper"}),i.createElement(S.default,{theme:"lower"})):this.props.type===y.PLAYER_TYPE.MEDIA_VIEWER?i.createElement(S.default,{theme:"full-sharp"}):i.createElement(S.default,{theme:"full-rounded"});var c=this.state.isVideoError?this.renderErrorMessage():null;return i.createElement("div",{ref:this.setRefContainer,key:"elementsWrapped",className:(0,u.default)(p.default.container,{[p.default.fullscreen]:this.state.isFullscreenMode}),onMouseEnter:function(t){e.setState({isMouseOver:!0})},onMouseLeave:function(t){e.setState({isMouseOver:!1})},onMouseDown:function(t){e.state.isFullscreenMode&&t.stopPropagation()},onMouseMove:function(t){e.state.isMouseOver||e.setState({isMouseOver:!0}),e.state.mouseMoveRecently||e.setState({mouseMoveRecently:!0}),e.resetMouseMoveRecently()},onClick:r},i.createElement("div",{className:p.default.videoFloaterMedia},this.renderMedia()),this.renderMediaStage(),c,i.createElement(b.default,{transitionName:"fade-fast"},this.state.isMouseOver&&this.state.mouseMoveRecently?i.createElement(i.Fragment,null,l,this.renderVideoControls(),t):null))}}]),t}();U.displayName="SharedVideoPlayer";var G=(0,l.default)((0,c.hoc)(U)),F=function(e){function t(){var e,n,r;R(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=L(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.getCurrentTimeFromVideo=function(){return r.getComponent().getCurrentTimeFromVideo()},L(r,n)}return D(t,G),t}();t.default=F},bedfbecdgd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaListener=t.SelectionListener=t.WhileFocusedListener=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("gbfffciea")),i=n("ejbdjaifi"),u=l(n("eceadcicaf")),s=l(n("ihfccfgdf"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){var e,n,r;c(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.scrollMsg=function(e,t){r.props.parent.scrollMsg(e,t)},r.flashFocusedMsg=function(e){r.props.parent.highlight(e)},f(r,n)}return d(t,a.PureComponent),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.listeners.add(o.default,"scroll_to_focused_msg",this.scrollMsg),this.props.listeners.add(o.default,"flash_focused_msg",this.flashFocusedMsg)}},{key:"render",value:function(){return null}}]),t}();p.displayName="WhileFocused";t.WhileFocusedListener=(0,u.default)((0,i.hoc)(p));var h=function(e){function t(){var e,n,r;c(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onSelectChange=function(e){r.props.parent.onSelectChange(e)},f(r,n)}return d(t,a.PureComponent),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.listeners,n=e.msgId,r=e.selectedMessages;t.add(r,n,this.onSelectChange)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.listeners,r=t.msgId,a=t.selectedMessages;e.selectedMessages!==a&&(n.remove(e.selectedMessages,r,this.onSelectChange),n.add(a,r,this.onSelectChange))}},{key:"render",value:function(){return null}}]),t}();h.displayName="Selection";t.SelectionListener=(0,u.default)((0,i.hoc)(h));var m=function(e){function t(){return c(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,a.PureComponent),r(t,[{key:"componentDidUpdate",value:function(){this.props.parent.forceUpdate()}},{key:"render",value:function(){return null}}]),t}();m.CONCERNS={mediaData:["isGif"]},m.displayName="MediaListenerClass";t.MediaListener=(0,s.default)((0,i.hoc)(m),m.CONCERNS)},beebhcdhhh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("dhfbfehaef")),i=c(n("djhbegbdaf")),u=c(n("bhheahajjg")),s=c(n("chcadgfgad")),l=c(n("cfaiaibca"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.blockContact=function(e){e.stopPropagation(),e.preventDefault(),r.props.onBlock()},r.onCancel=function(e){e.stopPropagation(),e.preventDefault(),r.props.onCancel()},r.reportSpamBlock=function(e){e.stopPropagation(),e.preventDefault(),r.props.onReportSpamBlock()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=a.createElement(l.default,{a8nText:"popup-controls-block",type:"primary",onClick:this.blockContact,key:0},l10n.t(211)),t=a.createElement(l.default,{a8nText:"popup-controls-report-spam",type:"plain",onClick:this.reportSpamBlock,key:1},l10n.t(888)),n=a.createElement(l.default,{a8nText:"popup-controls-cancel",type:"plain",onClick:this.onCancel,key:2},l10n.t(1091)),r={enter:this.blockContact,escape:this.onCancel},c=[t,e,n],f=a.createElement(u.default,{contact:this.props.contact}),d=a.createElement(i.default,{id:213,params:{contact:f}});return a.createElement(o.default,{handlers:r},a.createElement(s.default,{children:d,actions:c}))}}]),t}();d.displayName="BlockContactPopup",t.default=d},beecadabde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("iffjgahba"),o=(r=a)&&r.__esModule?r:{default:r};var i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.contact=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,o.default)("ContactBlocked")),t}();t.default=i},beeecgdjce:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!Array.isArray(e))return void s.default.assert(!1,"ws2:invalid-msg","ws2: Invalid message, not an array")();var t=e.shift(),p=void 0;switch(t){case"Blocklist":return void(0,r.default)(e);case"Contact":return void(0,u.default)(e);case"Props":p=n("bfgbdiffgd").default;break;case"Location":p=f.default.LiveLocation;break;case"Chat":return void(0,a.default)(e);case"Msg":return void(0,l.default)(e);case"Stream":return void(0,d.default)(e);case"Conn":return void(0,i.default)(e);case"Cmd":return void(0,o.default)(e);case"Presence":return void(0,c.default)(e);default:p=f.default[t]}p?p.handle(e):s.default.error("ws2: Invalid type received",e)()};var r=p(n("difacfecfb")),a=p(n("beafbeighe")),o=p(n("bffejifief")),i=p(n("cjgfiijjee")),u=p(n("bjddijedhj")),s=p(n("bdiiahhjbe")),l=p(n("dgicehhija")),c=p(n("chjfbhjejb")),f=p(n("bhggeigghg")),d=p(n("bgebiidch"));function p(e){return e&&e.__esModule?e:{default:e}}},beeieigghj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.commandeerFile=function(e,t,n,r){throw new Error("OpaqueData:commandeerFile unimplemented")},t.copyFile=function(e,t,n,r){throw new Error("OpaqueData:copyFile unimplemented")},t.getOrCreateOpaqueDataForPath=function(e,t){throw new Error("OpaqueData::getOrCreateOpaqueDataForPath unimplemented")},t.deleteFileAtPath=function(e){throw new Error("OpaqueData::deleteFileAtPath unimplemented")},t.constructData=function(e,t,n){throw new Error("OpaqueData::constructData unimplemented")},t.getNextFileName=function(e){throw new Error("OpaqueData::getNextFileName unimplemented")},t.getAudioDuration=function(e){throw new Error("OpaqueData::getAudioDuration unimplemented")},t.getFileHash=function(e){throw new Error("OpaqueData::getFileHash unimplemented")},t.getFileSize=function(e){throw new Error("OpaqueData::getFileSize unimplemented")},t.compressIfIsFolder=function(e){throw new Error("OpaqueData::compressIfIsFolder unimplemented")};var a=u(n("hgjcbccfg")),o=n("cgffhfegce"),i=u(n("dgdahfddff"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._b64=void 0,r._blob=void 0,r._url=void 0,r._mimetype=void 0,r._released=void 0,s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"url",value:function(){return this.throwIfReleased("OpaqueData:url"),this._url?this._url:this._b64?this._url=`data:image/jpeg;base64,${this._b64}`:this._url=window.URL.createObjectURL(this._blob)}},{key:"filepath",value:function(){throw new Error("OpaqueData:filepath can not be implemented on web")}},{key:"wavFilepath",value:function(){throw new Error("OpaqueData:wavFilepath can not be implemented on web")}},{key:"setWavFilepath",value:function(e){throw new Error("OpaqueData:setWavFilepath can not be implemented on web")}},{key:"validate",value:function(){return this._released?Promise.resolve(!1):this._blob?(0,o.validateBlob)(this._blob):Promise.resolve(!0)}},{key:"size",value:function(){return this.throwIfReleased("OpaqueData:size"),this._blob?this._blob.size:a.default.sizeWhenDecoded(this._b64)}},{key:"formData",value:function(e){return this.throwIfReleased("OpaqueData:formData"),this._forceToBlob()}},{key:"type",value:function(){return this.throwIfReleased("OpaqueData:type"),this._mimetype||"undefined"}},{key:"_forceToBlob",value:function(){this.throwIfReleased("OpaqueData:_forceToBlob");var e=this._blob;if(e)return e;var t=this._b64;if(t){this._b64=void 0,this._url=void 0;var n=this._mimetype;return this._blob=new Blob([a.default.decode(t)],n?{type:n}:void 0)}throw new Error("OpaqueData:_forceToBlob no b64 or blob")}},{key:"_releaseImpl",value:function(){this._mimetype=void 0,this._blob?(this._blob=void 0,this._url&&(window.URL.revokeObjectURL(this._url),this._url=void 0)):(this._b64=void 0,this._url=void 0)}},{key:"isBlobEqual",value:function(e){return e?this._blob===e._blob:!this._blob}}]),t}();l.createFromBase64Jpeg=function(e){return new Promise(function(t){var n=new l;return n._b64=e,n._mimetype="image/jpeg",t(n)})},l.createFromData=function(e,t){return new Promise(function(n){var r=new l;return r._blob=e instanceof Blob&&e.type===t?e:new Blob([e],{type:t}),r._mimetype=t,n(r)})},t.default=l},beejfjjdjf:function(e,t){e.exports={muted:"_3q-81",bubble:"-N6Gq",meta:"_1RNhZ",isPSA:"_35jKp",isPsa:"_35jKp"}},begdabbfeh:function(e,t){e.exports={muted:"_314B5",panel:"_1ebw2",body:"FkdAD",cancelButton:"OWYLS"}},begicajfb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=te(n("chihjdheic")),a=te(n("djfhiaaehb")),o=te(n("dgabgdahbi")),i=te(n("cfjeggiiia")),u=te(n("ddgaeajhag")),s=te(n("dbafiicfja")),l=te(n("eaaagccfda")),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=ee(n("cajijabhgb")),d=ee(n("ddhijeejag")),p=te(n("cgfjiaegih")),h=te(n("dbdfbgehgj")),m=te(n("cgbdjhghfb")),b=te(n("cefeghcbch")),g=te(n("gbfffciea")),v=te(n("eadfaddcj")),y=te(n("dhigahgdjb")),_=te(n("ceffhbhahb")),E=te(n("cicjcfabii")),j=te(n("bggeiidigb")),O=te(n("ddajbaceej")),S=te(n("dgjddffcfg")),w=te(n("dacfecidja")),P=te(n("ccaaiecfib")),M=n("dhfbfehaef"),C=te(M),T=te(n("fffdgbfji")),A=te(n("bijffg")),N=te(n("eceadcicaf")),k=te(n("dbciicjiad")),I=te(n("bfbggcdbfb")),R=te(n("biecbbiiee")),L=te(n("baiheeddah")),D=te(n("dceicchccd")),x=te(n("dagdiahdfi")),U=te(n("bjbedjfe")),G=te(n("caijdggfg")),F=te(n("gfgihaeab")),B=te(n("ceddibdhdb")),$=te(n("dcaibchbg")),V=te(n("bjaehhfffd")),H=te(n("becfabjeeg")),W=te(n("bjedheiidd")),Y=te(n("fbjjefaic")),K=te(n("caffijjhc")),q=te(n("bcifhbgija")),z=n("cicgeajfge"),Q=n("hbhjdibhf"),J=n("ejbdjaifi"),Z=n("chhhffajfi"),X=te(n("cbedjffdai"));function ee(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function te(e){return e&&e.__esModule?e:{default:e}}var ne={THROTTLE:450},re=50,ae=75,oe=5,ie=10,ue=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.refPanel=null,n.flatListController=new j.default,n._batchState={},n.setRefSearch=function(e){return n.refSearch=e},n.setRefInputHotkey=function(e){return n.refInputHotkey=e},n.SmbFilterSesssion=new V.default,n.hasLabelEditGK=!1,n._debounceSetState=new B.default(function(){n.setState(n._batchState),n._batchState={}}),n.debounceSetState=function(e,t,r){Object.assign(n._batchState,e),void 0===t?n._debounceSetState.onOrBeforeRepaint():void 0===r?n._debounceSetState.debounce(t):n._debounceSetState.debounceAndCap(t,r)},n.updateLabelFeatureFlagChange=function(){!n.hasLabelEditGK&&P.default.supportsFeature(P.default.F.LABELS_EDIT)&&(n.hasLabelEditGK=!0,n.props.listeners.add(A.default,"bulk_msg_chat_label_change",function(){n.searchQuery&&!n.searchQuery.isEmptyQuery&&(n.ftsMsgs.updateFtsAfterMsgLabelUpdate(),n.onSearch(n.searchQuery.trimmed,{label:n.searchQuery.filter.label,kind:n.searchQuery.filter.kind}))}),n.multiSelection=n.props.multiSelection||new D.default([],function(e){return e.id.toString()}),n.selectableState=new F.default(n.props.selectable||!1),n.props.listeners.add(n.multiSelection,"all",n.updateShowMultiselectBar),n.setState({chatlistKeyId:1}))},n.updateShowMultiselectBar=function(){var e=n.state.showMultiSelectBar,t=n.multiSelection&&n.multiSelection.getSelected().length>0&&!n.props.hideMultiSelectBar;!1===e&&t&&n.setState({showMultiSelectBar:!0})},n.scrollChatListToTop=function(){var e=n.refPanel;if(e){var t=e.scrollTop;0!==e.scrollTop&&(t<e.clientHeight?(0,q.default)(e,"scroll",{duration:300,container:e,offset:-(e.scrollTop+e.getBoundingClientRect().top)}):e.scrollTop=0)}},n.getFilteredContacts=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(0,i.default)(e);if(!a&&n.isEmptyFilterQuery(t))return[];a=T.default.accentFold(a);var o=S.default.numberSearch(a);return y.default.getFilteredContacts().filter(function(e){if(!e.searchMatch(a,o,t.label))return!1;if(!r){var n=h.default.get(e.id);if(n&&n.isVisible)return!1}return!0})},n.getFilteredChats=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,i.default)(e);if(r||!n.isEmptyFilterQuery(t)){r=T.default.accentFold(r);var a=S.default.numberSearch(r);return P.default.supportsFeature(P.default.F.LABELS_DISPLAY)?h.default.filter(function(e){var n=t.label&&e.contact.searchMatch(r,a,t.label),o=!r||e.contact.searchMatch(r,a),i=!t.kind&&!t.label||e.matchFilter(t);return n||o&&i}):h.default.filter(function(e){return e.contact.searchMatch(r,a)&&e.isVisible})}return h.default.filter(function(e){return!e.archive&&e.isVisible})},n.fullTextSearch=function(e,t){var r=(0,i.default)(e||n.searchQuery.query);(0,Z.numCodepoints)(r)>=v.default.FTS_MIN_CHARS||t&&t.label?(n.state.searching||n.debounceSetState({searching:!0}),n._fts()):n.isFTSSearching()?n.cancelSearch():n.ftsMsgs.reset()},n.shouldFTSSearch=function(e){return!(!n.ftsMsgs.hasMoreMsgs||n.isFTSSearching()||(0,Z.numCodepoints)(n.searchQuery.query||"")<v.default.FTS_MIN_CHARS)&&e.scrollTop+v.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight},n.mapGroupToContacts=function(e,t){for(var n=new Map,r=function(r){var a=e[r];a&&a.forEach(function(e){e&&(n.has(e)||n.set(e,[]),n.get(e).push(t[r]))})},a=0;a<e.length;a++)r(a);var i=[];return n.forEach(function(e,t,n){i.push([t,e])}),i.sort(function(e,t){return e[1].length===t[1].length?null!=e[0].t&&null!=t[0].t?t[0].t-e[0].t:null!=e[0].t?-1:1:t[1].length-e[1].length}),(0,o.default)(i,ie)},n.onSearch=function(e,t){var r=P.default.supportsFeature(P.default.F.LABELS_DISPLAY)?t:{};if(!e&&n.isEmptyFilterQuery(r))return n.searchQuery.updateQuery(e),n.searchQuery.updateLabelQuery({}),void n.onStopSearch();e===n.searchQuery.query&&n.isEmptyFilterQuery(r)||(n.fullTextSearch(e,r),n.commonGroupSearch(),n.throttledFilteredChats(e,r),n.throttledFilteredContacts(e,r),n.searchQuery.updateQuery(e),n.searchQuery.updateLabelQuery(r))},n.hasSearchText=function(){return P.default.supportsFeature(P.default.F.LABELS_DISPLAY)?!!n.searchQuery.query||!n.isEmptyFilterQuery(n.searchQuery.filter):!!n.searchQuery.query},n.isFTSSearching=function(){var e=n._batchState;return"searching"in e?e.searching:n.state.searching},n.cancelSearch=function(){n._fts.cancel(),n.commonGroupSearch.cancel(),n.ftsMsgs.resetSearch(),n.ftsMsgs.reset(),n._ftsPromise&&n._ftsPromise.cancel(),n._findCommonGroupsPromise&&n._findCommonGroupsPromise.cancel(),n.setState({groupChats:[]}),n.isFTSSearching()&&n.debounceSetState({searching:!1},ae)},n.cancelThrottled=function(){n.throttledFilteredChats.cancel(),n.throttledFilteredContacts.cancel(),n.throttledOnScroll.cancel()},n.onStopSearch=function(){return new Promise(function(e){var t;n.isEmptyFilterQuery(n.searchQuery.filter)||(t=n.SmbFilterSesssion.sessionId,new I.default.ChatFilterEvent({actionType:I.default.CHAT_FILTER_ACTION_TYPES.SEARCH_WITH_FILTER,filterType:I.default.CHAT_FILTER_TYPES.OTHER_LABELS,sessionId:t}).commit()),n.cancelSearch(),n.searchQuery.clear(),n.cancelThrottled(),n.refSearch&&n.refSearch.setSearchText(n.searchQuery.query),n.setState({chats:n.getFilteredChats(),contacts:n.getFilteredContacts(),searching:!1},function(){return e()})})},n.onFocusList=function(e){e.repeat||n.chatlist&&(n.refSearch&&!n.refSearch.isAtEnd()||(e.preventDefault(),e.stopPropagation(),(0,M.shouldIndicateFocus)(),n.chatlist.focusFirst()))},n.onOpenFirst=function(e){e.preventDefault();var t=n.searchQuery.query,r=n.searchQuery.filter,o=(0,a.default)(n.getFilteredChats(t,r))||(0,a.default)(n.getFilteredContacts(t,r));o&&h.default.find(o.id).then(function(e){n.onStopSearch(),(0,M.shouldIndicateFocus)(),g.default.openChatFromUnread(e).then(function(t){t&&g.default.focusChatTextInput(e)})})},n.onFocusSearch=function(e){g.default.existsDrawerLeft(function(e){e||((0,M.shouldIndicateFocus)(),O.default.focus(n.refSearch))})},n.indicateFocus=function(){(0,M.indicateFocus)(n.refInputHotkey,["#FBFBFB","#D9F3FF"])},n.onScroll=function(e){n.throttledOnScroll(e.target)},n.getEmptyChatlistState=function(e,t,r){return e&&e.length||t&&t.length||r&&r.length?null:n.props.labelFilter?n.state.searching?d.createElement("span",null):d.createElement(z.NoResultForLabel,{labelId:n.props.labelFilter}):n.searchQuery.query?n.state.searching?d.createElement(z.Searching,null):d.createElement(z.Search,null):h.default.some(function(e){return e.isVisible})?d.createElement(z.AllArchived,null):d.createElement(z.ListChats,null)},n.setRefPanel=function(e){n.refPanel=e},n.onCancelLabelSelection=function(){n.setState({showMultiSelectBar:!1}),n.multiSelection&&n.multiSelection.unsetAll(),n.selectableState&&n.selectableState.setSelectable(!!n.props.selectable)},n.ftsMsgs=new w.default,n.selection=new $.default([],function(e){return e.id.toString()}),n.searchQuery=new G.default,n.updateLabelFeatureFlagChange(),n._fts=n.props.debounce(function(){var e=n.searchQuery.trimmed;n._ftsPromise&&n._ftsPromise.cancel(),n._ftsPromise=Promise.resolve().then(function(){n.isFTSSearching()||n.debounceSetState({searching:!0},ae)}).then(function(){return n.ftsMsgs.search({count:v.default.FTS_NUM_RESULTS,filter:n.searchQuery.filter,searchTerm:e})}).checkpoint(n.props.rejectOnUnmount()).then(function(e){n.debounceSetState({searching:!1},ae)}).catch(f.Unmount,function(){}).catch(Promise.CancellationError,function(){}).finally(function(){n._ftsPromise=void 0}).catch(function(){n.isFTSSearching()&&n.debounceSetState({searching:!1},ae)})},v.default.FTS_TYPING_DELAY),n.throttledFilteredChats=n.props.throttle(function(e,t){var r=n.getFilteredChats(e,t);n.debounceSetState({chats:r},ae,re)},ne.THROTTLE,{leading:!1,trailing:!0}),n.throttledFilteredContacts=n.props.throttle(function(e,t){var r=n.getFilteredContacts(e,t);n.debounceSetState({contacts:r},ae,re)},ne.THROTTLE,{leading:!1,trailing:!0}),n.throttledOnScroll=n.props.throttle(function(e){n.shouldFTSSearch(e)&&n.fullTextSearch()},100),n.commonGroupSearch=(0,l.default)(function(){var e=n.searchQuery.trimmed;if(e){var t=n.getFilteredContacts(e,{},!0);if(0===t.length||t.length>oe)n.setState({groupChats:[]});else{var r=(0,s.default)(t,function(e){return(0,Q.findCommonGroups)(e).then(function(){return e.commonGroups})});n._findCommonGroupsPromise&&n._findCommonGroupsPromise.cancel(),n._findCommonGroupsPromise=Promise.all(r).then(function(r){if(e===n.searchQuery.trimmed){var a=n.mapGroupToContacts(r,t);n.setState({groupChats:a})}}).catch(function(){}).finally(function(){n._findCommonGroupsPromise=null})}}else n.setState({groupChats:[]})},750);var r=n.props.labelFilter,u=n.props.labelFilter?{label:r}:void 0;return n.state={searching:!!u,chats:n.getFilteredChats("",u),contacts:n.getFilteredContacts("",u),groupChats:[],showMultiSelectBar:!1,chatlistKeyId:0,textsize:X.default.get().textsize},n.searchQuery.updateLabelQuery(u),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),c(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.labelFilter,r=t.listeners;n&&this.onSearch("",{label:n}),r.add(P.default,P.default.FEATURE_CHANGE_EVENT,this.updateLabelFeatureFlagChange),this.props.listeners.add(h.default,"remove",function(t){if(e.searchQuery.query){var n=(0,u.default)(e.state.chats,t);e.state.chats&&n.length!==e.state.chats.length&&e.debounceSetState({chats:n})}else e.throttledFilteredChats.cancel(),e.debounceSetState({chats:e.getFilteredChats()})}),this.props.listeners.add(y.default,"remove",function(t){if(e.searchQuery.query||!e.isEmptyFilterQuery(e.searchQuery.filter)){var n=(0,u.default)(e.state.contacts,t);e.state.contacts&&n.length!==e.state.contacts.length&&e.debounceSetState({contacts:n})}else e.throttledFilteredContacts.cancel(),e.debounceSetState({contacts:e.getFilteredContacts()})}),this.props.listeners.add(h.default,"sort change:archive",function(){!e.searchQuery.query&&e.isEmptyFilterQuery(e.searchQuery.filter)&&(e.throttledFilteredChats.cancel(),e.debounceSetState({chats:e.getFilteredChats()}))}),this.props.listeners.add(y.default,"sort",function(){!e.searchQuery.query&&e.isEmptyFilterQuery(e.searchQuery.filter)&&(e.throttledFilteredContacts.cancel(),e.debounceSetState({contacts:e.getFilteredContacts()}))}),this.props.listeners.add(this.ftsMsgs,"bulk_remove reset",function(){!e.searchQuery.query&&e.isEmptyFilterQuery(e.searchQuery.filter)&&(e.throttledFilteredChats.cancel(),e.debounceSetState({chats:e.getFilteredChats()}))}),this.props.listeners.add(g.default,"focus_chat_search",this.onFocusSearch),this.props.listeners.add(g.default,"textsize_change",function(t){e.debounceSetState({textsize:t})}),this.props.listeners.add(R.default,"new_msg_sent",function(){e.hasSearchText()||!e.isEmptyFilterQuery(e.searchQuery.filter)?e.onStopSearch().then(function(){return e.scrollChatListToTop()}):e.scrollChatListToTop()})}},{key:"componentWillUnmount",value:function(){this.cancelSearch(),this.cancelThrottled(),this._debounceSetState.cancel()}},{key:"isEmptyFilterQuery",value:function(e){return!e||!(e.label||e.kind)}},{key:"_showUnread",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,n=t.chats,a=t.contacts,o=t.groupChats,i=this.ftsMsgs.toArray(),u=this.getEmptyChatlistState(n,a,i);u||(u=d.createElement(b.default,{key:this.state.chatlistKeyId,ref:(0,J.GetRef)("chatlist",this),flatListController:this.flatListController,chats:n,contacts:a||[],groupChats:o,isSearching:!!this.hasSearchText(),searchQuery:this.searchQuery,ftsResult:i,selection:this.selection,onFocusSearch:this.onFocusSearch,multiSelection:this.multiSelection,selectableState:this.selectableState}));var s={down:this.onFocusList,enter:this.onOpenFirst},l=this.state.searching&&this.props.labelFilter||this.state.searching&&this.ftsMsgs.length?d.createElement("div",{key:"spinner",className:W.default.spinner},d.createElement(H.default,{stroke:6,size:24})):null,c=void 0,f=(0,r.default)(v.default.TEXTSIZE_CLASS_MAP,function(t){return t.scale===e.state.textsize});f&&(c=f.classname);var h=(0,_.default)(W.default.chatListPanel,c),g=this.ftsMsgs.hasMoreMsgs&&i.length||this._showUnread()?this.onScroll:void 0,y=void 0,j=void 0,O=void 0;return this.state.showMultiSelectBar&&this.multiSelection?y=d.createElement(K.default,{key:"multiSelectBar",displayName:"MultiSelect",escapable:!0,requestDismiss:this.onCancelLabelSelection},d.createElement(L.default,{theme:"chatlist-panel",selectedModels:this.multiSelection,labelEditEnabled:!0,iconColor:"#8d9194",onCancel:this.onCancelLabelSelection})):O=d.createElement(C.default,{key:"ListSearchHotKey",handlers:s,onFocus:this.indicateFocus,ref:this.setRefInputHotkey,className:W.default.panelSearch},d.createElement(k.default,{ref:this.setRefSearch,onSearch:this.onSearch,loading:this.state.searching,SmbFilterSession:this.SmbFilterSesssion,listFilterEnabled:!0})),this.props.labelFilter||(j=d.createElement(d.Fragment,null,d.createElement(m.default,{mute:x.default.globalMute()}),d.createElement(p.default,null),O,y)),d.createElement("div",{id:"side",className:h},j,d.createElement(E.default,{flatListControllers:[this.flatListController],onRef:this.setRefPanel,className:W.default.panelBody,onScroll:g,id:"pane-side"},u,l))}}]),t}();ue.displayName="ChatlistPanel",t.default=(0,U.default)((0,Y.default)((0,N.default)((0,J.hoc)(ue))))},begjfegacj:function(e,t){e.exports={muted:"_339PA",commentInput:"k7wLF",search:"cIdsW",groupInfo:"_2MxY2",onSendInvite:"aSzLC"}},behbcejhad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=_(n("ddhijeejag")),i=y(n("ceffhbhahb")),u=n("igiffibee"),s=y(n("cajbifjffe")),l=y(n("eceadcicaf")),c=y(n("bjbedjfe")),f=y(n("dgjacfgggf")),d=y(n("jjhbchhce")),p=_(n("cajijabhgb")),h=n("cjedbjfabb"),m=y(n("cgjijjgidi")),b=y(n("bfdcadbbif")),g=y(n("edbaidcaf")),v=n("ejbdjaifi");function y(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return j.call(n),n.state={imgSrcUrl:null,hiResAvail:!1},n.updateImgSrcUrl(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.props.listeners.add(window,"dpichange",function(){return e.updateImgSrcUrl(e.props)})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.updateImgSrcUrl(e)}},{key:"render",value:function(){var e=this.props,t=e.lat,n=e.lng,r=e.name,a=e.width,l=e.height,c=e.className,f=e.linkify,d={pointerEvents:"none",width:a,height:this.state.hiResAvail?void 0:l},p=(0,i.default)(c,{[m.default.hidden]:!this.state.hiResAvail}),h=this.state.hiResAvail?null:o.createElement(b.default,{name:"map-placeholder",display:"inline"}),g=o.createElement(s.default,{src:this.state.imgSrcUrl||"",className:p,style:d,hasPrivacyChecks:!1,onLoad:this.onImgLoaded,noXHR:!0});return f?o.createElement("a",{href:(0,u.getMapUrl)(t,n,r),target:"_blank",className:m.default.container},h,g):o.createElement("span",{className:m.default.container},h,g)}}]),t}();E.defaultProps={linkify:!0,showMarker:!0};var j=function(){var e=this;this.updateImgSrcUrl=function(t){var n=t.height+50,a="color:red|"+t.lat+", "+t.lng,o=t.lat+", "+t.lng,i=t.width+"x"+n,u=d.default.currentRes===d.default.RES.HIGH?2:1,s=l10n.getLocale(),l=g.default.GSM_NAME,c=g.default.build(h.G_MAPS_IMG_URL,r({zoom:15,size:i,scale:u,language:s,client:l},t.showMarker?{markers:a}:null,t.showMarker?null:{center:o}));e.lastURL!==c&&(e.lastURL=c,g.default.gsmURL(c,g.default.GSM_NUMS).checkpoint(t.rejectOnUnmount()).then(function(t){e.setState({imgSrcUrl:t,hiResAvail:f.default.isCached(t)})}).catch(p.Unmount,function(){}))},this.onImgLoaded=function(t){e.state.hiResAvail||e.setState({hiResAvail:!0}),e.props.onLoad&&e.props.onLoad()}};E.displayName="Map",t.default=(0,l.default)((0,c.default)((0,v.hocWithDefaults)(E)))},behbjhhbg:function(e,t,n){"use strict";var r=i(n("bgeijhbbad")),a=i(n("chihjdheic")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb"));function i(e){return e&&e.__esModule?e:{default:e}}var u=n("cgdjcibhia"),s=n("ddeicfhhch"),l={"text/plain":{ext:"TXT",msgType:"document",icon:"icon-doc-txt",canSend:!0},"text/rtf":{ext:"RTF",msgType:"document",icon:"icon-doc-doc",canSend:!0,signatureMimetype:"application/rtf"},"text/vcard":{ext:"VCF",msgType:"vcard"},"application/zip":{ext:"ZIP",icon:"icon-doc-generic",msgType:"document"},"application/pdf":{ext:"PDF",msgType:"document",icon:"icon-doc-pdf",canSend:!0,signatureMimetype:"application/pdf",previewType:"pdf"},"application/msword":{ext:"DOC",msgType:"document",icon:"icon-doc-doc",canSend:!0,signatureMimetype:"application/x-msi",previewType:"msoffice"},"application/vnd.ms-excel":{ext:"XLS",msgType:"document",icon:"icon-doc-xls",canSend:!0,signatureMimetype:"application/x-msi",previewType:"msoffice"},"application/vnd.ms-powerpoint":{ext:"PPT",msgType:"document",icon:"icon-doc-ppt",canSend:!0,signatureMimetype:"application/x-msi",previewType:"msoffice"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{ext:"DOCX",msgType:"document",icon:"icon-doc-doc",canSend:!0,signatureMimetype:"application/zip",previewType:"msoffice"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{ext:"PPTX",msgType:"document",icon:"icon-doc-ppt",canSend:!0,signatureMimetype:"application/zip",previewType:"msoffice"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{ext:"XLSX",msgType:"document",icon:"icon-doc-xls",canSend:!0,signatureMimetype:"application/zip",previewType:"msoffice"},"audio/aac":{msgType:"audio",ext:"AAC"},"audio/mp4":{msgType:"audio"},"audio/amr":{msgType:"audio"},"audio/mpeg":{msgType:"audio"},"audio/ogg; codecs=opus":{msgType:"audio",ext:"OGG"},"audio/wav":{msgType:"audio",ext:"wav"},"video/mp4":{msgType:"video",ext:"MP4"},"video/3gpp":{msgType:"video"},"image/jpeg":{msgType:"image"},"image/png":{msgType:"image"}},c={MIMETYPES:l,DOC_MIMES:"*",EXT_TO_MIME:u(),isAllowedDocumentMimetype(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("*"===this.DOC_MIMES)return n?e:e||"application/octet-stream";for(var r in l){var a=l[r];if("document"===a.msgType)if((n?a.signatureMimetype:r)===e&&a.canSend&&t&&t.toLowerCase().endsWith(a.ext.toLowerCase()))return r}return!1},getExtension(e){var t=l[e];return t?"."+(t.ext||e.split("/")[1]).toLowerCase():""},previewType(e){var t=(0,a.default)(l,function(t,n){return t.previewType&&(n===e||t.signatureMimetype===e)});return t?t.previewType:void 0},MIMETYPE_DETERMINING_LENGTH:262,getMediaMimeType(e,t){var n=t;n.length>262&&(n=n.subarray(0,262));var r=s(n);if(r)return r.mime;if("image"===e)return"image/jpeg";throw new o.MediaEncryptionError("unknown mime decrypt error for type:"+e)},getDocTypes:()=>(0,r.default)(l,function(e){return"document"===e.msgType})};e.exports=c},beiahcfigb:function(e,t,n){"use strict";e.exports={"#":1,"":1,"*":2,"0":3,"":3,"1":4,"":4,"2":5,"":5,"3":6,"":6,"4":7,"":7,"5":8,"":8,"6":9,"":9,"7":10,"":10,"8":11,"":11,"9":12,"":12,"":13,"":14,"":15,"":17,"":18,"":19,"":20,"":21,"":23,"":25,"":26,"":28,"":30,"":31,"":80,"":90,"":103,"":110,"":112,"":145,"":149,"":156,"":225,"":269,"":287,"":288,"":289,"":290,"":292,"":294,"":295,"":296,"":297,"":298,"":299,"":300,"":302,"":304,"":305,"":306,"":307,"":308,"":309,"":310,"":312,"":327,"":333,"":352,"":353,"":355,"":356,"":357,"":358,"":359,"":362,"":364,"":365,"":366,"":367,"":369,"":370,"":373,"":374,"":378,"":382,"":383,"":387,"":388,"":389,"":390,"":391,"":392,"":393,"":394,"":396,"":397,"":398,"":401,"":402,"":411,"":412,"":413,"":414,"":415,"":416,"":417,"":419,"":421,"":422,"":427,"":428,"":429,"":430,"":436,"":437,"":438,"":439,"":440,"":443,"":444,"":445,"":446,"":447,"":448,"":449,"":450,"":459,"":460,"":462,"":463,"":464,"":465,"":466,"":467,"":469,"":470,"":473,"":474,"":475,"":479,"":480,"":482,"":486,"":487,"":488,"":501,"":513,"":515,"":522,"":535,"":579,"":581,"":582,"":584,"":585,"":586,"":587,"":588,"":589,"":590,"":591,"":592,"":594,"":595,"":600,"":601,"":602,"":603,"":627,"":628,"":631,"":632,"":634,"":637,"":638,"":639,"":640,"":641,"":645,"":646,"":650,"":652,"":653,"":654,"":657,"":658,"":659,"":660,"":661,"":662,"":664,"":665,"":666,"":667,"":668,"":669,"":670,"":671,"":672,"":677,"":685,"":691,"":692,"":699,"":705,"":711,"":717,"":723,"":729,"":735,"":741,"":747,"":753,"":759,"":760,"":761,"":763,"":764,"":766,"":767,"":768,"":771,"":774,"":775,"":776,"":777,"":785,"":791,"":932,"":1069,"":1071,"":1085,"":1096,"":1115,"":1121,"":1133,"":1139,"":1145,"":1151,"":1163,"":1169,"":1172,"":1178,"":1179,"":1180,"":1181,"":1182,"":1193,"":1206,"":1212,"":1213,"":1219,"":1230,"":1238,"":1240,"":1241,"":1242,"":1243,"":1245,"":1246,"":1247,"":1248,"":1249,"":1250,"":1251,"":1252,"":1255,"":1256,"":1257,"":1258,"":1259,"":1260,"":1261,"":1263,"":1265,"":1266,"":1267,"":1268,"":1270,"":1272,"":1273,"":1279,"":1285,"":1286,"":1294,"":1295,"":1296,"":1297,"":1298,"":1300,"":1301,"":1323,"":1330,"":1333,"":1334,"":1335,"":1336,"":1342,"":1344,"":1347,"":1350,"":1351,"":1352,"":1354,"":1355,"":1358,"":1359,"":1360,"":1373,"":1376,"":1380,"":1381,"":1382,"":1383,"":1391,"":1392,"":1399,"":1402,"":1405,"":1409,"":1410,"":1411,"":1412,"":1413,"":1414,"":1429,"":1430,"":1431,"":1432,"":1433,"":1434,"":1435,"":1436,"":1437,"":1438,"":1439,"":1440,"":1526,"":1527,"":1528,"":1532,"":1533,"":1534,"":1535,"":1540,"":1541,"":1543,"":1544,"":1546,"":1549,"":1550,"":1551,"":1553,"":1555,"":1557,"":1559,"":1560,"":1561,"":1563,"":1564,"":1565,"":1566,"":1568,"":1571,"":1572,"":1575,"":1578,"":1579,"":1580,"":1581,"":1585,"":1609,"":1621,"":1634,"":1655,"":1685,"":1686,"":1689,"":1690,"":1691,"":1693,"":1695,"":1698,"":1701,"":1703,"":1704,"":1705,"":1707,"":1709,"":1711,"":1712,"":1719,"":1726,"":1727,"":1729,"":1734,"":1735,"":1740,"":1777,"":1780,"":1781,"":1782,"":1783,"":1784,"":1785,"":1792,"":2304,"":2305,"":2306,"":2307,"":2309,"":2310,"":2320,"":2347,"":2351,"":2352,"":2353,"":2354,"":2361,"":2362,"":2378,"":2379,"":2384,"":2385,"":2389,"":2391,"":2392,"":2399,"":2409,"":2412,"":2413,"":2414,"":2415,"":2416,"":2417,"":2418,"":2419,"":2420,"":2421,"":2422,"":2423,"":2425,"":2426,"":2427,"":2428,"":2429,"":2432,"":2442,"":2443,"":2449,"":2450,"":2451,"":2454,"":2460,"":2463,"":2464,"":2466,"":2481,"":2482,"":2483,"":2485,"":2492,"":2498,"":2504,"":2517,"":2518,"":2519,"":2522,"":2524,"":2525,"":2526,"":2527,"":2529,"":2533,"":2535,"":2538,"":2539,"":2542,"":2543,"":2544,"":2546,"":2547,"":2548}},beifdajhid:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoMediaHostsError=t.AbortError=void 0;var r=n("cgijjjgici");Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return o(r).default}});var a=o(n("iffjgahba"));function o(e){return e&&e.__esModule?e:{default:e}}t.NoMediaHostsError=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,a.default)("NoMediaHostsError")),t}()},beifejbdga:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e,t){if(1===e.length)return e;var n=[],a=void 0;for(;a=e.pop();){for(var o=a,i=r(o,5),u=i[0],s=i[3],l=i[4],c=r(t[l],3),f=c[0],d=f.nestable,p=f.compatibility,h=c[2],m=!0,b=n.length,g=b-1;g>=0;--g){var v=r(n[g],5),y=v[2],_=v[3],E=v[4];if(u>_)break;var j=r(t[E],3),O=j[0],S=O.mutates,w=O.format,P=O.compatibility,M=j[2];if(s>y){if(h<M&&n.splice(g,1))continue;m=!1;break}if(S&&!(m=!1))break;if(p)break;if((d||P||!(h<M)||!n.splice(g,1))&&(!p&&!w)){m=!1;break}}m&&n.push(a)}return n}},beiggaad:function(e,t,n){"use strict";var r,a=n("ddfeabiaci"),o=(r=a)&&r.__esModule?r:{default:r};var i=n("cccfbheica");e.exports=(0,o.default)({version:"17",supportsFeatureFlags:!0,implementedFeatures:{}},i)},beijddaacj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("eceadcicaf")),i=n("ejbdjaifi"),u=h(n("ebjaejiaba")),s=n("iaibjaeb"),l=h(s),c=n("dacdidjdfi"),f=h(c),d=h(n("ccjbgacbad")),p=h(n("deabjbejhf"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={selected:r.props.selections.isSelected(r.props.chat)||!!r.props.checked},r.onSelectChange=function(e){r.state.selected!==e&&r.setState({selected:e})},r.onSelect=function(){if(!r.props.disabled){var e=r.props.onSelect;e&&e(r.props.chat,!r.state.selected,!1)}},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.listeners.add(this.props.selections,this.props.chat.id.toString(),this.onSelectChange)}},{key:"render",value:function(){var e=this.props,t=e.chat,n=e.active,r=e.customSecondaryText,o=e.disabled,i=void 0;if(t instanceof u.default)i=a.createElement(l.default,{theme:o?"chat-checkbox-no-delete":"chat-checkbox",active:n,chat:t,mode:s.Mode.INFO,noContext:!0,onClick:this.props.disabled?null:this.onSelect,secondary:r});else{var h=this.props.chat;i=a.createElement(p.default,{contact:h,disabled:o,onSelect:this.onSelect,customSecondaryText:r,active:n,allowBlockedContacts:this.props.allowBlockedContacts})}return a.createElement("div",{className:d.default.checkboxChatWrapper},a.createElement("div",{className:d.default.checkboxChatControl},a.createElement(f.default,{onChange:this.onSelect,checked:this.state.selected?c.CHECKBOX_STATE.CHECKED:c.CHECKBOX_STATE.UNCHECKED,disabled:o})),i)}}]),t}();b.displayName="CheckboxChatWrapper",t.default=(0,o.default)((0,i.hoc)(b))},bejbgaghc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryGroupInviteCode=function(e){return function(e){if(e.groupInviteCodePromise)return e.groupInviteCodePromise;return e.groupInviteCodePromise=(0,i.sendQueryGroupInviteCode)(e.id).then(function(t){e.inviteCode=t}).finally(function(){e.groupInviteCodePromise=null})}((0,s.unproxy)(e))},t.revokeGroupInvite=function(e){return function(e){if(e.revokeGroupInvitePromise)return e.revokeGroupInvitePromise;return e.revokeGroupInvitePromise=(0,i.sendRevokeGroupInviteCode)(e.id).then(function(t){e.inviteCode=t}).catch(a.ServerStatusCodeError,function(e){throw e}).catch(function(e){u.default.error("models:groupMetadata:participantCollection:revokeGroupInvite dropped")(e)}).finally(function(){e.revokeGroupInvitePromise=null})}((0,s.unproxy)(e))},t.joinGroupViaInvite=function(e){return(0,i.sendJoinGroupViaInvite)(e).then(function(e){return o.default.supportsFeature(o.default.F.MD_BACKEND)?r.default.gadd(e):r.default.find(e)})};var r=l(n("dbdfbgehgj")),a=n("ddjgcfjicj"),o=l(n("ccaaiecfib")),i=n("bcbfebgcic"),u=l(n("bdiiahhjbe")),s=n("bheafeifce");function l(e){return e&&e.__esModule?e:{default:e}}},bejccccege:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=m(n("dgjddffcfg")),o=m(n("cbbhbjebii")),i=n("dbhfachiij"),u=m(n("gbfffciea")),s=(m(n("eadfaddcj")),m(n("fffdgbfji"))),l=m(n("bdiiahhjbe")),c=m(n("cfiighfhhg")),f=m(n("egibbfjcd")),d=m(n("dbabefhajh")),p=n("bfjajhbdf"),h=m(p);function m(e){return e&&e.__esModule?e:{default:e}}function b(){if(e.mas||e.windowsStore)return o.default.manualDownload();u.default.openToast(r.createElement(h.default,{msg:s.default.t(1049),id:(0,p.genId)()})),o.default.update().then(function(e){e===i.DownloadState.UPDATE_NOT_AVAILABLE?(l.default.error("Got unsupported message but no newer release found")(),u.default.openToast(r.createElement(h.default,{msg:s.default.t(817),id:(0,p.genId)()}))):e===i.DownloadState.UPDATE_DOWNLOADED?o.default.restart():l.default.error("Got unsupported message but updater errored")()})}function g(e){var t=e.msg,n=e.displayAuthor,o=(e.displayType,t.isSentByMe||!t.subtype?r.createElement("span",{className:f.default.action,role:"button",onClick:b},s.default.t(1042)):null);return r.createElement(d.default,{msg:t,displayAuthor:n},r.createElement(c.default,{iconName:"unknown",msg:t},a.default.msgText(t)," ",o))}window.updater=o.default,g.displayName="UnsupportedMsg"}).call(t,n("ddghcccjbh"))},bejfdgbdag:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("cgffhfegce");var o=n("fdhajffgc"),i=n("dbajccegac"),u=void 0,s=0;var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.oggBlob=t}return r(e,[{key:"generateBlob",value:function(){return this.oggBlobToWAVBlob(this.oggBlob,1)}},{key:"oggBlobToWAVBlob",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return new Promise(function(r,i){var l=new o,c=[],f=[],d=(s++,u||new window.AudioContext),p={outputBufferSampleRate:d.sampleRate,bufferLength:4096};l.onmessage=function(e){if(null==e.data){for(var a=function(e){c.forEach(function(t,n){for(var r=t[e]||t[0],a=0;a<r.length;a++)f.push(r[a])})},o=0;o<n;o++)a(o);var i=t.encodeWAV(f,d,n),l=new Blob([i.readByteArray()],{type:"audio/wav"});0==--s&&u&&(u.close&&u.close(),u=void 0),r(l)}else c.push(e.data),n=c[0].length},l.postMessage({command:"decode-init",config:p}),(0,a.blobToArrayBuffer)(e).then(function(e){l.postMessage({command:"decode",pages:new Uint8Array(e)}),l.postMessage({command:"decode-done"})})})}},{key:"encodeWAV",value:function(e,t,n){var r=new i(void 0,!0);r.ensureCapacity(44+2*e.length),r.writeString("RIFF"),r.writeUint32(36+2*e.length),r.writeString("WAVE"),r.writeString("fmt "),r.writeUint32(16),r.writeUint16(1),r.writeUint16(n),r.writeUint32(t.sampleRate),r.writeUint32(t.sampleRate*n*2),r.writeUint16(2*n),r.writeUint16(16),r.writeString("data"),r.writeUint32(2*e.length);for(var a=0;a<e.length;a++){var o=Math.max(-1,Math.min(e[a],1));o*=o>0?32767:32768,r.writeInt16(Math.floor(o))}return r}}]),e}();e.exports=l},bfababcidc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.msgFindQuery=function(e,t,n,o,u){if("before"===e)return function(e,t,n,o){return(0,r.getBefore)(e,e.count).then(function(r){var u=r.messages.map(i.hydrateMessage);if(0===r.remaining)return u;var s=void 0;return u.length?((s=u[0].id.clone()).direction="before",s.count=e.count-r.remaining):s=e,c("before",s,t,n,o).then(function(e){if(e.status>=400)return a.default.error(`msgFindQuery returned ${e.status}, returning local results if possible`)(),u.length?u:e;var t=e;return[].concat(l(t),l(u))})})}(t,n,o,u);return c(e,t,n,o,u)},t.queryVCard=function(e){return u.default.queryVCard(e).then(function(e){var t=e;return(0,o.storeMessages)(t).then(function(){return e})})};var r=n("chghbbjidc"),a=s(n("bdiiahhjbe")),o=n("cceagdehdf"),i=n("jjjgjgeie"),u=s(n("bihdhbjih"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function c(e,t,n,r,a){return u.default.msgFindQuery(e,t,r).then(function(r){if(r.status>=400)return r;var i="media"===e||"search"===e?r.messages:r;return(0,o.storeMessages)(i).then(function(){return(0,o.addMessagesToHistory)(t.remote,i,n,a)}).then(function(){return r})})}},bfajcggcdf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Gallery=void 0;var r=j(n("cgbgdfdgcc")),a=j(n("hhegggegb")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=j(n("effbcehec")),s=j(n("gbfffciea")),l=j(n("eadfaddcj")),c=j(n("ceffhbhahb")),f=n("cicgeajfge"),d=j(n("fffdgbfji")),p=j(n("eceadcicaf")),h=j(n("bffjfbgbg")),m=j(n("eiiicijcj")),b=j(n("cifjfjfegc")),g=j(n("becfabjeeg")),v=j(n("ihfccfgdf")),y=n("ejbdjaifi"),_=n("bheafeifce"),E=j(n("bicjggdg"));function j(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=function(e){function t(){var e,n,r;O(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onScroll=function(e){r.handleScroll(e.currentTarget)},r.handleScroll=(0,a.default)(function(e){var t=r.props.mediaMsgs;t.hasMediaBefore&&e.scrollTop+l.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&r.queryMedia(t.head())},100),S(r,n)}return w(t,i.Component),o(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.mediaMsgs.hasMediaBefore&&this.queryMedia()}},{key:"componentDidMount",value:function(){this.props.listeners.add(this.props.mediaMsgs,"add remove reset"),this.props.listeners.add(this.props.mediaMsgs,"query_media_before")}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"queryMedia",value:function(e){var t=this,n=this.props.mediaMsgs;n.hasMediaBefore&&this.props.listeners.uiIdle(function(){n.queryMedia((0,_.unproxy)(t.props.chat),e)})}},{key:"render",value:function(){var e=this,t=this.props.mediaMsgs,n=this.props,a=n.fullCollection,o=n.selectedMessages,u=n.chat,s=t.map(function(n,r){var u=void 0;return!e.props.fullCollection&&r>=t.length-6&&r<=t.length-4&&(u="hideableSecondRow"),i.createElement(A,{msg:n,hoverEvent:a,selectable:e.props.selectable,selectedMessages:o,onMessageSelect:e.props.onMessageSelect,theme:u,key:n.id.toString()})});return s.reverse(),a||(s=(0,r.default)(s,0,6)),i.createElement(N,{medias:s,mediaCollection:t,fullCollection:a,chat:(0,_.unproxy)(u),onScroll:this.onScroll})}}]),t}();P.CONCERNS={chat:["linkCount","docCount"]},P.displayName="MediaGallery";var M=function(e){function t(){O(this,t);var e=S(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));C.call(e);var n=e.props,r=n.msg,a=n.selectedMessages;return e.state={selected:!(!a||!a.isSelected(r))},e}return w(t,i.Component),o(t,[{key:"componentDidMount",value:function(){this.props.selectedMessages&&this.props.listeners.add(this.props.selectedMessages,this.props.msg.id.toString(),this.onSelectChange)}},{key:"render",value:function(){var e=this.props.msg,t=e.mediaData,n=t.type===h.default.TYPE.IMAGE&&t.renderableUrl?this.onDragStart:null,r=(0,c.default)(this.props.className);return i.createElement(b.default,{classes:r,onClick:this.onClick,hoverEvent:this.props.hoverEvent,selectable:this.props.selectable,selected:this.state.selected,onMessageSelect:this.props.onMessageSelect,onDragStart:n,msg:e,theme:this.props.theme,imgRef:(0,y.GetRef)("img",this)})}}]),t}(),C=function(){var e=this;this.onSelectChange=function(t){e.state.selected!==t&&e.setState({selected:t})},this.onClick=function(t){var n=e.props,r=n.msg,a=n.selectable,o=n.onMessageSelect,u=r.mediaData;if(a&&o)o(r,!e.state.selected);else if(u.mediaStage!==h.default.STAGE.ERROR_MISSING){t&&t.stopPropagation();var l=void 0,c=r.id;if(u.isGif||u.type===h.default.TYPE.IMAGE){var f=e.img;l=function(e){return c.equals(e)&&f?f:null}}s.default.mediaViewerModal(r,l)}else s.default.openModal(i.createElement(m.default,{msg:r}))},this.onDragStart=function(t){t.nativeEvent.dataTransfer.setData(l.default.DRAG_TYPE_LOCAL_IMAGE,!0),t.nativeEvent.dataTransfer.setData("text/uri-list",e.props.msg.mediaData.renderableUrl)}};function T(e,t){if(null!=e&&e>0&&null!=t&&t>0){var n=[];return n.push(d.default.t(591,{count:t,_plural:t})),n.push(d.default.t(383,{count:e,_plural:e})),n.join(d.default.t(413))}return null!=t&&t>0?d.default.t(591,{count:t,_plural:t}):null!=e&&e>0?d.default.t(383,{count:e,_plural:e}):d.default.t(812)}M.displayName="MediaCanvas";var A=(0,p.default)((0,y.hoc)(M)),N=t.Gallery=function(e){function t(){return O(this,t),S(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,i.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.mediaCollection,n=e.fullCollection,r=e.chat,a=e.onScroll,o=this.props.medias||this.props.productMedias;if(!o)return null;var s=(0,c.default)(E.default.container,{[E.default.drawer]:n,[E.default.galleryEmpty]:0===t.length}),l=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o));if(t.queryMediaBefore&&(n||l.length<6)){var d=(0,c.default)(E.default.more,E.default.canvasComponent,{[E.default.canvasSecondRow]:!n&&l.length>=3,[E.default.canvasFirst]:0===t.length});l.push(i.createElement("div",{className:d,key:"spinner"},i.createElement(g.default,{stroke:6,size:24})))}if(0===t.length){if(n)return t.queryMediaBefore?i.createElement("div",{className:(0,c.default)(E.default.drawer,E.default.drawerBody)},i.createElement(f.Loading,null)):i.createElement(f.MediaMsgs,null);t.queryMediaBefore||t.hasMediaBefore||(s=(0,c.default)(s,E.default.galleryEmpty),l=[T(Math.max(r?r.docCount:0,0),Math.max(r?r.linkCount:0,0))])}else for(var p=0;p<6;p++)l.push(i.createElement("div",{className:E.default.canvasEmpty,key:"empty"+p}));return i.createElement("div",{onScroll:a,"data-a8n":u.default.key("media-gallery"),className:s},l)}}]),t}();N.displayName="Gallery",t.default=(0,p.default)((0,v.default)((0,y.hoc)(P),P.CONCERNS))},bfajhabbdf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sectionIdToIcon=void 0,t.default=s;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("bheebijggd")),o=i(n("bfdcadbbif"));function i(e){return e&&e.__esModule?e:{default:e}}var u=t.sectionIdToIcon={[a.default.RECENT]:"panel-recent",[a.default.SMILEYS_PEOPLE]:"panel-emoji-people",[a.default.ANIMALS_NATURE]:"panel-emoji-nature",[a.default.FOOD_DRINK]:"panel-emoji-food",[a.default.ACTIVITY]:"panel-emoji-activity",[a.default.TRAVEL_PLACES]:"panel-emoji-travel",[a.default.OBJECTS]:"panel-emoji-objects",[a.default.SYMBOLS]:"panel-emoji-symbols",[a.default.FLAGS]:"panel-emoji-flags"};function s(e){return r.createElement(o.default,{name:u[e.sectionId]})}s.displayName="EmojiSectionIcon"},bfccafhbbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeOptions=void 0;var r=_(n("ddddbcgaef")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("ejbdjaifi"),u=n("cdgeeegaih"),s=_(n("ceffhbhahb")),l=_(n("bbhhbdicgc")),c=_(n("bggeiidigb")),f=_(n("cicjcfabii")),d=_(n("ccajjgdjf")),p=_(n("chgaccicf")),h=_(n("djeajhjhb")),m=_(n("dhbghcbcbi")),b=_(n("ihfccfgdf")),g=_(n("djhhbaegjb")),v=_(n("caffijjhc")),y=_(n("didfdhbecg"));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var j=t.ThemeOptions=(0,p.default)({MEDIA_CAPTION:null}),O={active:!1,offset:0,omitted:"",query:"",results:[],scrollTop:0},S=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=a=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state=O,a.flatListController=new c.default,a.setRefList=function(e){return a.list=e},a.onEnter=w(function(){return a.handleSelect(a.state.offset)},a),a.onInactive=w(function(){return a.setState(O)},a),a.onSearch=function(e){var t=a.state.omitted;if((!t||!(0,r.default)(e,t))&&a.props.chat&&a.props.chat.isGroup){var n=a.props.chat.groupMetadata.participants;a.setState({active:!0,offset:0,omitted:null,query:e,results:(0,u.getResults)(e,n)})}},a.onEscape=function(){a.setState({active:!1,offset:0,omitted:a.state.query,query:"",results:[]})},a.onUp=w(function(){var e=Math.max(a.state.offset-1,0);a.setOffset(e)},a),a.onDown=w(function(){var e=a.state.results.length-1,t=Math.min(a.state.offset+1,e);a.setOffset(t)},a),a.renderItem=function(e){var t=e.index,n=e.contact;return o.createElement(m.default,{key:n.id.toString(),contact:n,term:a.state.query,selected:t===a.state.offset,theme:a.props.theme===j.MEDIA_CAPTION?"mediaCaption":null,onMouseDown:function(e){return e.preventDefault()},onMouseUp:function(){return a.handleSelect(t)},onMouseEnter:function(){return a.setOffset(t,!0)}})},E(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.plugin;e.registerHandler(this,h.default.ENTER,this.onEnter),e.registerHandler(this,h.default.TAB,this.onEnter),e.registerHandler(this,h.default.SEARCH,this.onSearch),e.registerHandler(this,h.default.INACTIVE,this.onInactive),e.registerHandler(this,h.default.UP,this.onUp),e.registerHandler(this,h.default.DOWN,this.onDown)}},{key:"componentWillUnmount",value:function(){var e=this.props.plugin;e.unregisterHandler(this,h.default.ENTER),e.unregisterHandler(this,h.default.TAB),e.unregisterHandler(this,h.default.SEARCH),e.unregisterHandler(this,h.default.INACTIVE),e.unregisterHandler(this,h.default.UP),e.unregisterHandler(this,h.default.DOWN)}},{key:"handleSelect",value:function(e){var t=this.state.results[e];if(t&&t.id){var n=this.props.chat.assignedColor(t.id);this.props.plugin.handleSelect(t,n)}}},{key:"setOffset",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e!==this.state.offset&&this.setState({offset:e},function(){!n&&t.list&&t.list.scrollIntoViewIfNeeded(e)})}},{key:"renderList",value:function(){var e=this.state,t=e.results,n=e.query,r=e.offset;if(!e.active||!t.length)return null;var a=t.map(function(e,t){return{height:52,itemKey:e.id.toString(),contentKey:`${n}${t===r?"-selected":""}`,index:t,contact:e}});return o.createElement(v.default,{displayName:"MentionSuggestions",escapable:!0,requestDismiss:this.onEscape,requestRecentFocusOnUnmount:!1},o.createElement("div",{className:(0,s.default)(g.default.overlayContainer,{[g.default.mediaCaption]:this.props.theme===j.MEDIA_CAPTION})},o.createElement(f.default,{className:g.default.resultsContainer,flatListControllers:[this.flatListController]},o.createElement(l.default,{ref:this.setRefList,data:a,flatListController:this.flatListController,renderItem:this.renderItem}))))}},{key:"render",value:function(){return o.createElement(y.default,{component:"div",className:g.default.positioningContainer,transitionName:"slide-up"},this.renderList())}}]),t}();function w(e,t){return function(n,r){return!(!t.state.active||!t.state.results.length)&&((!n||!(0,d.default)(n))&&(e.call(t,n,r),!0))}}S.CONCERNS={chat:["groupMetadata","isGroup"]},S.displayName="Suggestions",t.default=(0,b.default)((0,i.hoc)(S),S.CONCERNS)},bfcjfjfjjj:function(e,t){e.exports={muted:"hcznv",spinner:"_38l_q"}},bfdhjgffdh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=N(n("dfabffebdg")),i=n("deibcghej"),u=N(n("cehjjfagii")),s=N(n("gbfffciea")),l=N(n("biddiiafgd")),c=N(n("eadfaddcj")),f=N(n("ceffhbhahb")),d=N(n("bjjjdidhhi")),p=n("bhhdeihhhf"),h=N(p),m=n("bgddggdhc"),b=N(n("ghbbeafj")),g=N(n("bfhbfhhceg")),v=N(n("bdiiahhjbe")),y=n("ddbddjjgia"),_=N(n("deifjeacc")),E=N(n("didfdhbecg")),j=n("cgejchjdhj"),O=N(n("cighigadh")),S=N(n("bfdcadbbif")),w=N(n("caffijjhc")),P=N(n("dbjbhajgfd")),M=N(n("bcifhbgija")),C=n("bedfbecdgd"),T=n("bheafeifce"),A=N(n("dbfbdfhfee"));function N(e){return e&&e.__esModule?e:{default:e}}var k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.refAlbumComponents={},n.setRefContext=function(e){return n.refContext=e},n.didCancel=!1,n.highlightAnimation=null,n.setRefHighlightTail=function(e){return n.refHighlightTail=e},n.setRefBubble=function(e){return n.refBubble=e},n.mouseOver=function(e){e.buttons||n.state.hover||n.setState({hover:!0})},n.mouseDown=function(){n.state.hover&&n.setState({hover:!1})},n.contextMenu=function(e){e.stopPropagation()},n.openForwardFlow=function(e){for(var t=n.props.msgs,r=void 0,o=0;o<t.length;o++)if(t[o].isUnsentMedia){r=l10n.t(414,{_plural:1});break}r?s.default.openModal(a.createElement(l.default,{title:l10n.t(417),onOK:function(){return s.default.closeModal()},okText:l10n.t(1225)},r)):e?n.onSelectClick():s.default.openModal(a.createElement(b.default,{msgs:t}),{transition:"modal-flow"})},n.onSelectClick=function(e){e&&e.stopPropagation(),n.props.msgs.forEach(function(t){n.props.onMessageSelect((0,T.unproxy)(t),!n.state.selected,e)})},n.onStarMessage=function(e){s.default.sendStarMsgs(n.props.msgs[0].chat,e)},n.onUnstarMessage=function(){s.default.sendUnstarMsgs(n.props.msgs[0].chat,n.props.msgs)},n.onDeleteMessage=function(){var e=n.props.msgs;s.default.openModal(a.createElement(d.default,{chat:e[0].chat,msgList:e,deletePrompt:!0,revokePrompt:e[0].canRevoke(),isMsgVisible:n.props.isMsgVisible}))},n.onMenu=function(e,t){var r=n.props.msgs;if(t&&n.state.contextMenu)n.setState({contextMenu:null});else{var o=t?n.refContext&&n.refContext.component&&n.refContext.component.refContext:e,i=[];if(r.every(function(e){return e.canForward()})&&i.push(a.createElement(h.default,{key:"forward",a8n:"mi-msg-forward",action:function(){n.openForwardFlow(!0)}},l10n.t(429))),r.every(function(e){return e.canStar()})){var u=r.filter(function(e){return!e.star});0===u.length?i.push(a.createElement(h.default,{key:"star",a8n:"mi-msg-unstar",action:n.onUnstarMessage},l10n.t(1034))):i.push(a.createElement(h.default,{key:"star",a8n:"mi-msg-star",action:function(){n.onStarMessage(u)}},l10n.t(986)))}i.push(a.createElement(h.default,{key:"delete",a8n:"mi-msg-delete",action:n.onDeleteMessage},l10n.t(357))),n.setState({contextMenu:{menu:i,anchor:o,theme:p.ThemeOptions.COMPACT}})}},n.onAlbumGridRendered=function(e,t){e?n.refAlbumComponents[t.id.toString()]=e:delete n.refAlbumComponents[t.id.toString()]},n.scrollMsg=function(e,t){v.default.info("scroll msg")(),v.default.info(t)();var r=(0,m.forbiddenFindDOMNode)(n);r?(v.default.info("node found")(),v.default.info("calling DOM.scrollAt ")(),(0,j.scrollAt)(r,r.offsetParent,t).then(e)):v.default.info("node not found!")()},n.highlight=function(e){var t=n.refHighlightTail,r=n.refBubble;r&&(n.props.msgs[0].type===c.default.MSG_TYPE.STICKER||(n.setState({highlighting:!0}),n.highlightAnimation&&(n.didCancel=!0,n.highlightAnimation.cancel()),n.highlightAnimation=(n.highlightAnimation||Promise.resolve()).then(function(){var e=void 0,a=void 0;t&&(e=(0,M.default)(t,{opacity:[1,0]},{duration:250}),a=(0,M.default)(t,{opacity:[0,1]},{duration:250,delay:250}));var o=n.props.msgs[0].isSentByMe,i=o?"#dcf8c6":"#ffffff",u=o?"#b3cba1":"#cccccc",s=(0,M.default)(r,{backgroundColor:[u,i]},{duration:250}),l=(0,M.default)(r,{backgroundColor:[i,u]},{duration:250,delay:250});return Promise.all(t?[e,a,s,l]:[s,l])}).cancellable().then(function(){n.onHighlightComplete(e)}).catch(Promise.CancellationError,function(){(0,M.default)(t,"stop",!0),(0,M.default)(r,"stop",!0)}).finally(function(){n.didCancel?n.didCancel=!1:n.highlightAnimation=null})))},n.state={contextMenu:null,hover:!1,highlighting:!1,selected:e.msgs.length>0&&e.selectedMessages.isSelected((0,T.unproxy)(e.msgs[0]))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentWillUnmount",value:function(){this.refBubble&&(0,M.default)(this.refBubble,"finish",!0)}},{key:"onSelectChange",value:function(e){this.state.selected!==e&&this.setState({selected:e})}},{key:"contextOpen",value:function(){this.onMenu(void 0,!0)}},{key:"contextClose",value:function(){this.setState({contextMenu:null})}},{key:"onHighlightComplete",value:function(e){this.setState({highlighting:!1},function(){e&&e()})}},{key:"render",value:function(){var e=this,t=this.props,n=t.msgs,r=t.position,s=t.isMsgVisible,l=t.albumId,d=t.isFocusedAlbum,p=t.selectedMessages,h=n[0],m=n[1],b=h.isSentByMe,v=h.isGroupMsg,j=h.type===c.default.MSG_TYPE.STICKER,M=n.length>c.default.ALBUM_MIN_SIZE?n.length-c.default.ALBUM_MIN_SIZE+1:null,T=r===y.MsgPosition.FRONT||r===y.MsgPosition.SINGLE||j,N=j&&T&&(b||!v),k=(0,f.default)(O.default.msg,{[O.default.msgontinuation]:r===y.MsgPosition.FRONT||r===y.MsgPosition.MID}),I=(0,f.default)(O.default.message,{[O.default.messageTransparent]:j,"message-out":b,"message-in":!b,tail:T,[O.default.tailOverrideHide]:N}),R=(0,f.default)(O.default.albumBubbleContainer,{[O.default.messageBackground]:!j,[O.default.hasBorderBox]:!j}),L=void 0,D=void 0;T&&(L=a.createElement("span",{className:"tail-container"}),D=a.createElement("span",{className:"tail-container highlight",ref:this.setRefHighlightTail}));var x=!b&&v,U=(0,f.default)(O.default.author,{[O.default.groupStickerAuthor]:j}),G=x?a.createElement("div",{className:U},a.createElement(u.default,{msg:n[0],contact:n[0].senderObj,albumId:l})):null,F=void 0;h.canQuickForward()&&(F=a.createElement("div",{className:(0,f.default)(O.default.btnForward,{[O.default.authorForward]:x}),onClick:function(){e.openForwardFlow(!1)},role:"button"},a.createElement(S.default,{name:"forward-chat"})));var B=void 0;(this.state.hover||this.state.contextMenu)&&(B=a.createElement(_.default,{msg:h,position:r,key:"icon-context",ref:this.setRefContext,onToggle:function(t){e.onMenu(t)}}));var $=void 0;$=this.state.contextMenu?"none":h.isRTL?"pop-fast-reverse":"pop-fast";var V=void 0;this.state.contextMenu&&(V=a.createElement(w.default,{displayName:"MsgContextMenu",escapable:!0,popable:!0,requestDismiss:function(){return e.contextClose()}},a.createElement(P.default,{contextMenu:this.state.contextMenu})));var H=this.props.selectable?a.createElement(A.default,{checked:!!this.state.selected,onClick:this.onSelectClick}):null,W=void 0;this.props.isFocusedAlbum&&(W=a.createElement(C.WhileFocusedListener,{parent:this}));var Y=a.createElement(C.SelectionListener,{parent:this,msgId:n[0].id.toString(),selectedMessages:p}),K=n.length>c.default.ALBUM_MIN_SIZE?n[0]:null;return j?a.createElement("div",{className:k},a.createElement(E.default,{transitionName:"delay-leave"},H),a.createElement("div",{className:I},L,G,a.createElement("div",{className:O.default.groupStickerContainer},a.createElement(g.default,{msg:h,menuTransition:$,position:r,onOpenForwardFlow:this.openForwardFlow,isMsgVisible:s,scrollMsg:this.scrollMsg,highlight:this.highlight,isFocused:d}),a.createElement(g.default,{msg:m,menuTransition:$,position:r,onOpenForwardFlow:this.openForwardFlow,isMsgVisible:s,scrollMsg:this.scrollMsg,highlight:this.highlight}))),Y):a.createElement("div",{className:k},a.createElement(E.default,{transitionName:"delay-leave"},H),a.createElement("div",{className:I,onMouseOver:this.mouseOver,onMouseDown:this.mouseDown,onMouseUp:this.mouseOver,onMouseLeave:this.mouseDown,ref:this.setRefBubble},L,D,a.createElement("div",{className:R},G,a.createElement("div",{className:O.default.gridContainer},a.createElement(o.default,{msg:n[0],albumMsgs:n,albumPosition:i.AlbumPosition.TOP_LEFT,isMsgVisible:s,ref:function(t){e.onAlbumGridRendered(t,n[0])}}),a.createElement(o.default,{msg:n[1],albumMsgs:n,albumPosition:i.AlbumPosition.TOP_RIGHT,isMsgVisible:s,ref:function(t){e.onAlbumGridRendered(t,n[1])}}),a.createElement(o.default,{msg:n[2],albumMsgs:n,albumPosition:i.AlbumPosition.BOTTOM_LEFT,isMsgVisible:s,ref:function(t){e.onAlbumGridRendered(t,n[2])}}),a.createElement(o.default,{msg:n[3],albumMsgs:n,albumPosition:i.AlbumPosition.BOTTOM_RIGHT,isMsgVisible:s,zoomMsg:K,numAdditionalMedia:M,ref:function(t){e.onAlbumGridRendered(t,n[3])}}))),a.createElement(E.default,{transitionName:$},B),F),V,W,Y)}}]),t}();k.displayName="AlbumWrapper",t.default=k},bfdijdeegj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("hgeacfdgi")),i=h(n("bhiafccjai")),u=h(n("ccaaiecfib")),s=h(n("didfdhbecg")),l=h(n("gigddihfd")),c=h(n("djdgcejjgf")),f=h(n("dbjfgbgci")),d=n("ejbdjaifi"),p=h(n("eceadcicaf"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isOpen:!1},r.openVoipWindow=function(){u.default.supportsFeature(u.default.F.WEB_VOIP_VOICE_CALL)&&r.setState({isOpen:!0})},r.closeVoipWindow=function(){r.setState({isOpen:!1})},r.onCallAccept=function(){},r.onCallReject=function(){r.setState({isOpen:!1})},r.onCallEnd=function(){r.setState({isOpen:!1})},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){c.default.register(this)}},{key:"componentWillUnmount",value:function(){c.default.unregister()}},{key:"render",value:function(){return this.state.isOpen?a.createElement(s.default,{transitionName:"voip",className:l.default.wrapper,component:"div"},a.createElement(i.default,null,a.createElement(f.default,{callUi:o.default,onCallAccept:this.onCallAccept,onCallReject:this.onCallReject,onCallEnd:this.onCallEnd}))):null}}]),t}();b.displayName="VoipModalManager",t.default=(0,p.default)((0,d.hoc)(b))},bfdjgcjbeh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=_(n("beebhcdhhh")),o=_(n("gbfffciea")),i=_(n("biddiiafgd")),u=_(n("dcjaicbbhg")),s=_(n("dbgdaechch")),l=_(n("bhhdeihhhf")),c=_(n("djhbegbdaf")),f=_(n("fffdgbfji")),d=_(n("dhhcghbjeb")),p=_(n("bhheahajjg")),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),m=_(n("dadhidfcfe")),b=_(n("ihfccfgdf")),g=n("dfdebdgdei"),v=n("ejbdjaifi"),y=n("dcbafbaejf");function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var j=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=r=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.reportSpam=function(){(0,y.sendSpamReport)(r.props.chat),o.default.closeModal()},r.reportSpamBlock=function(){var e=r.props,t=e.chat,n=e.contact;(0,y.sendSpamReport)(t),(0,g.blockContact)(n),o.default.closeModal()},r.reportSpamBlockClear=function(){(0,y.sendSpamBlockClear)(r.props.chat),o.default.closeModal()},r.onReportSpam=function(){o.default.openModal(h.createElement(m.default,{isBusiness:r.props.contact.isBusiness,isGroupChat:!1,onReport:r.reportSpam,onReportBlockClear:r.reportSpamBlockClear,onCancel:function(){return o.default.closeModal()}}))},r.blockContact=function(){(0,g.blockContact)(r.props.contact),o.default.closeModal()},r.unblockContact=function(){(0,g.unblockContact)(r.props.contact),o.default.closeModal()},r.onBlockContact=function(){o.default.openModal(h.createElement(a.default,{contact:r.props.contact,onCancel:function(){return o.default.closeModal()},onBlock:r.blockContact,onReportSpamBlock:r.reportSpamBlock}))},r.onUnblockContact=function(){var e=h.createElement(p.default,{contact:r.props.contact});o.default.openModal(h.createElement(i.default,{okText:f.default.t(1026),onOK:r.unblockContact,cancelText:f.default.t(1091),onCancel:function(){return o.default.closeModal()}},h.createElement(c.default,{id:1027,params:{contact:e}})))},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.PureComponent),r(t,[{key:"menus",value:function(){var e=this.props,t=e.chat,n=e.contact,r=e.onSelectMessages,a=[];return t.isPSA||a.push(h.createElement(l.default,{key:"info",a8n:"mi-contact",action:function(){return o.default.chatInfoDrawer(t)}},f.default.t(1097))),n.isBusiness&&a.push(h.createElement(l.default,{key:"report",a8n:"report",action:this.onReportSpam},f.default.t(889)),h.createElement(l.default,{key:"block",a8n:"block",action:n.isBlocked()?this.onUnblockContact:this.onBlockContact},n.isBlocked()?f.default.t(1026):f.default.t(211))),a.push(h.createElement(l.default,{a8n:"mi-select-messages",key:"select",action:r},f.default.t(1279))),t.mute.canMute()&&a.push(h.createElement(d.default,{key:"mute",onMute:function(e){return o.default.muteChat(t,e)},mute:t.mute})),a.push(h.createElement(l.default,{key:"clear",a8n:"mi-clear",action:function(){return o.default.clearChatMsgs(t)}},f.default.t(298))),a.push(h.createElement(u.default,{key:"delete",onDeleteOrExit:function(){return o.default.deleteOrExitChat(t)},chat:t})),a}},{key:"render",value:function(){return this.props.toContextMenuManager?h.createElement("div",null,this.menus()):h.createElement(s.default,{type:"dropdown_menu",key:"ContactMenuDropdown",flipOnRTL:!0,dirX:"LEFT"},this.menus())}}]),t}();j.CONCERNS={chat:["isPSA","mute"],contact:["isBusiness"]},j.displayName="ContactMenuDropdown",t.default=(0,b.default)((0,v.hoc)(j),j.CONCERNS)},bfebbjhgbh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=S(n("bebajedcaf")),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=O(n("ddhijeejag")),u=O(n("dfhjacfbjg")),s=S(n("biddiiafgd")),l=S(n("gbfffciea")),c=S(n("bjigbaghc")),f=S(n("dhfbfehaef")),d=O(n("dbcedfihd")),p=S(n("djaachhgag")),h=S(n("hfhhcchgj")),m=n("bfjajhbdf"),b=S(m),g=S(n("fffdgbfji")),v=n("cfffidafid"),y=S(n("bfdcadbbif")),_=S(n("ceghehfgdc")),E=S(n("ceffhbhahb")),j=n("eadfaddcj");function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),f=0;f<o;f++)s[f]=arguments[f];return n=a=w(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={email:"",emailError:void 0,confirmEmail:"",confirmEmailError:void 0,subject:c.default.isSMB?g.default.t(972):g.default.t(973),subjectError:void 0,description:"",descriptionError:void 0,screenshots:[],isDragging:!1},a.setAttachButton=function(e){a.attachButton=e},a.setEmailAddr=function(e){a.emailAddrInput=e},a.onSend=function(){var e={},t=a.state,n=t.email,o=t.confirmEmail,s=t.subject,f=t.description,d=t.screenshots,h=n.trim(),v=o.trim();if(a.validateEmail(h)||(e.emailError=g.default.t(959)),a.validateConfirmEmail(v)||(e.confirmEmailError=g.default.t(960)),a.validateDescription(f)||(e.descriptionError=g.default.t(971)),a.validateSubject(s)||(e.subjectError=g.default.t(968)),(0,r.default)(e)){a.setState({email:h,confirmEmail:v,emailError:void 0,confirmEmailError:void 0,descriptionError:void 0,subjectError:void 0}),d.map(function(e){e.url&&(URL.revokeObjectURL(e.url),delete e.url)});var y=c.default.me?(0,p.default)(c.default.me.user):null,_=s.trim()||g.default.t(956);u.uploadUserReport(y,h,_,f,d),a.props.onSend&&a.props.onSend({subject:_,description:f,numScreenshots:d.length}),l.default.closeModal(),l.default.openToast(i.createElement(b.default,{msg:g.default.t(967),id:(0,m.genId)()}))}else e.email=h,e.confirmEmail=v,a.setState(e)},a.onCancel=function(){a.props.onCancel&&a.props.onCancel(),l.default.closeModal()},a.onSubjectChange=function(e){var t={subject:e,subjectError:a.state.subjectError};a.state.subjectError&&a.validateSubject(t.subject)&&(t.subjectError=void 0),a.setState(t)},a.onSubjectBlur=function(){var e=void 0;a.validateSubject(a.state.subject)||(e=g.default.t(968)),a.state.subjectError!==e&&a.setState({subjectError:e})},a.onDescriptionChange=function(e){var t={description:e,descriptionError:a.state.descriptionError};a.state.descriptionError&&a.validateDescription(t.description)&&(t.descriptionError=void 0),a.setState(t)},a.onDescriptionBlur=function(){var e=void 0;!a.state.description&&!a.state.descriptionError||a.validateDescription(a.state.description)||(e=g.default.t(971)),a.state.descriptionError!==e&&a.setState({descriptionError:e})},a.onEmailChange=function(e){var t={email:e,emailError:a.state.emailError};a.state.emailError&&a.validateEmail(t.email)&&(t.emailError=void 0),a.setState(t)},a.onEmailBlur=function(){var e=void 0,t=a.state.email.trim(),n={};!a.state.email&&!a.state.emailError||a.validateEmail(t)||(e=g.default.t(959)),a.state.emailError!==e&&(n.emailError=e),a.state.email!==t&&(n.email=t),(0,r.default)(n)||a.setState(n)},a.onConfirmEmailChange=function(e){var t={confirmEmail:e,confirmEmailError:a.state.confirmEmailError};a.state.confirmEmailError&&a.validateConfirmEmail(t.confirmEmail)&&(t.confirmEmailError=void 0),a.setState(t)},a.onConfirmEmailBlur=function(){var e=void 0,t=a.state.confirmEmail.trim(),n={};!a.state.confirmEmail&&!a.state.confirmEmailError||a.validateConfirmEmail(t)||(e=g.default.t(960)),a.state.confirmEmailError!==e&&(n.confirmEmailError=e),a.state.confirmEmail!==t&&(n.confirmEmail=t),(0,r.default)(n)||a.setState(n)},a.validateEmail=function(e){return d.validateEmail(e)},a.validateConfirmEmail=function(e){return a.state.email===e},a.validateDescription=function(e){return e.length>j.SEND_LOGS_MIN_DESC_LENGTH},a.validateSubject=function(e){return!0},a.onFilePick=function(e){e.preventDefault(),e.stopPropagation(),a.reachMaxScreenshots()||(0,v.getFiles)(e,"image/*").then(function(e){a.attachButton&&(a.attachButton.value="");var t=e.filter(function(e){return e.size<=j.SEND_LOGS_MAX_SCREENSHOT_SIZE});t.length<e.length&&l.default.openToast(i.createElement(b.default,{msg:g.default.t(962),id:(0,m.genId)()}));var n=a.state.screenshots.concat(t).slice(0,j.SEND_LOGS_MAX_SCREENSHOTS);n.map(function(e){e.url||(e.url=URL.createObjectURL(e))}),a.setState({screenshots:n})})},a.onDragChange=function(e,t){a.setState({isDragging:e})},a.handleAttachClick=function(e){a.attachButton&&!a.reachMaxScreenshots()&&a.attachButton.click()},a.stopPropagation=function(e){e.stopPropagation()},w(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){this.emailAddrInput&&this.emailAddrInput.restoreFocus()}},{key:"componentWillUnmount",value:function(){this.state.screenshots.map(function(e){var t=e.url;return t&&URL.revokeObjectURL(t)})}},{key:"reachMaxScreenshots",value:function(){return this.state.screenshots.length>=j.SEND_LOGS_MAX_SCREENSHOTS}},{key:"deleteScreenshot",value:function(e){var t=this.state.screenshots.slice(),n=t.splice(e,1),r=a(n,1)[0];r.url&&URL.revokeObjectURL(r.url),this.setState({screenshots:t})}},{key:"getScreenshotsList",value:function(){var e=this,t=this.state.screenshots.map(function(t,n){if(!t.url)return null;var r=`url(${t.url})`,a=`screenshot-${n}`;return i.createElement("div",{key:a,className:_.default.screenshotsImg,style:{backgroundImage:r}},i.createElement("button",{className:_.default.btnDelete,onClick:function(){e.deleteScreenshot(n)}},i.createElement(y.default,{name:"x-alt-light"})))});return t.length?i.createElement("div",{className:_.default.screenshotPreview},t):null}},{key:"getScreenshotAction",value:function(){if(this.reachMaxScreenshots()){var e=j.SEND_LOGS_MAX_SCREENSHOTS;return i.createElement("div",{className:(0,E.default)(_.default.action,_.default.disabled)},g.default.t(970,{count:e,_plural:e}))}return this.state.isDragging?i.createElement("div",{className:_.default.action},g.default.t(965)):i.createElement("div",{className:_.default.action,onClick:this.handleAttachClick},g.default.t(966))}},{key:"render",value:function(){var e={enter:this.stopPropagation},t=i.createElement("div",{className:_.default.screenshots},this.getScreenshotsList(),this.getScreenshotAction(),i.createElement("input",{accept:"image/*",type:"file",multiple:!0,onClick:this.stopPropagation,onChange:this.onFilePick,ref:this.setAttachButton,disabled:this.reachMaxScreenshots()}));return i.createElement(s.default,{title:g.default.t(969),okText:g.default.t(955),onOK:this.onSend,onCancel:this.onCancel,onDrop:this.onFilePick,onDragChange:this.onDragChange},i.createElement(f.default,{handlers:e},i.createElement(h.default,{ref:this.setEmailAddr,value:this.state.email,error:this.state.emailError,maxLength:j.SEND_LOGS_MAX_EMAIL_LENGTH,onChange:this.onEmailChange,onBlur:this.onEmailBlur,placeholder:g.default.t(957)}),i.createElement(h.default,{editable:!0,value:this.state.confirmEmail,error:this.state.confirmEmailError,maxLength:j.SEND_LOGS_MAX_EMAIL_LENGTH,onChange:this.onConfirmEmailChange,onBlur:this.onConfirmEmailBlur,placeholder:g.default.t(958)}),i.createElement(h.default,{value:this.state.subject,error:this.state.subjectError,maxLength:j.SEND_LOGS_MAX_SUBJECT_LENGTH,onChange:this.onSubjectChange,onBlur:this.onSubjectBlur,placeholder:g.default.t(961)}),i.createElement(h.default,{value:this.state.description,error:this.state.descriptionError,maxLength:j.SEND_LOGS_MAX_DESC_LENGTH,onChange:this.onDescriptionChange,onBlur:this.onDescriptionBlur,placeholder:g.default.t(366),multiline:!0}),t))}}]),t}();P.displayName="SendLogsPopup",t.default=P},bffadhdafi:function(e,t){e.exports=[65,26,32,26,73,1,11,1,5,1,6,23,24,31,32,449,451,7,21,2,16,5,14,1,130,4,6,2,4,4,5,1,7,1,2,3,4,1,2,20,21,83,84,140,147,166,167,38,40,49,55,-1,46,-1,2,-1,3,-1,3,-1,2,-56,64,-1,3,-1,2,-1,14,-48,82,-3,4,-101,116,-2,9,-2,12,-23,24,-30,57,-91,102,-58,67,-2,6,-3,4,-24,28,-1,10,-1,4,-1,6,-43,46,-119,167,55,56,1,2,4,12,4,5,3,10,10,12,29,30,2,3,8,10,2,4,22,23,7,8,1,4,4,7,4,10,2,4,2,3,1,9,1,5,2,3,3,7,12,14,7,8,2,7,1,2,6,10,2,4,22,23,7,8,2,3,2,3,2,6,3,27,4,5,1,8,10,12,3,4,1,13,1,2,9,10,3,4,22,23,7,8,2,3,5,8,4,12,1,2,2,5,1,16,2,6,11,19,1,9,2,3,8,10,2,4,22,23,7,8,2,3,5,8,2,3,1,7,2,4,2,12,1,5,2,3,3,7,18,29,1,2,6,9,3,4,4,7,2,3,1,2,2,5,2,5,3,6,12,16,2,3,2,5,3,4,3,6,1,7,1,15,13,27,3,4,8,9,3,4,23,24,16,19,1,4,4,23,3,8,2,6,10,25,2,3,11,12,3,4,23,24,10,11,5,8,8,9,3,4,2,11,2,9,1,2,2,6,10,11,2,17,2,3,8,9,3,4,41,43,4,9,3,4,3,4,2,6,14,18,26,28,2,3,18,21,24,25,9,10,1,3,7,15,3,9,8,14,10,12,3,15,48,49,2,14,7,15,13,50,2,3,1,3,2,3,1,3,1,7,4,5,7,8,3,4,1,2,1,3,2,3,4,5,2,11,1,3,5,6,1,10,10,12,4,36,24,26,27,28,1,2,1,6,10,11,36,54,1,6,1,3,5,54,8,9,6,7,13,50,45,49,1,7,1,3,2,4,25,27,4,7,16,20,13,14,2,4,6,7,15,16,40,41,1,6,1,3,377,378,4,6,7,8,1,2,4,6,41,42,4,6,33,34,4,6,7,8,1,2,4,6,15,16,57,58,4,6,67,72,29,32,16,32,86,88,6,9,639,640,26,31,89,96,13,14,4,18,18,21,2,11,18,32,13,14,3,18,52,54,1,8,8,9,2,13,7,8,1,4,10,48,10,16,89,96,5,7,34,35,1,6,70,80,31,35,4,6,3,7,2,3,6,19,40,42,5,16,44,48,26,32,11,48,23,25,2,5,56,57,1,10,1,2,2,10,6,19,10,16,10,16,14,100,48,49,1,6,1,2,5,6,9,13,27,36,9,14,32,36,2,4,1,4,56,57,1,3,3,4,1,4,2,10,48,56,2,7,15,18,60,67,43,45,11,22,1,14,1,8,4,5,6,7,3,11,192,256,278,280,6,8,38,40,6,8,8,9,1,2,1,2,1,2,31,33,53,54,7,8,1,4,3,4,7,10,4,6,6,10,13,18,3,4,7,24,1,1,-1,98,1,14,1,17,13,114,1,5,1,3,10,11,1,4,5,11,1,2,1,2,1,2,4,5,11,13,4,9,5,9,2,18,41,470,69,95,1,263,78,528,1,340,256,1024,47,48,47,48,133,139,4,7,2,14,38,39,1,6,1,3,56,63,2,17,23,32,7,8,7,8,7,8,7,8,7,8,7,8,7,8,7,557,3,28,9,13,2,3,5,7,5,9,86,92,3,4,90,91,4,9,43,44,94,95,43,96,45,48,48,64,28,31,50,65,12,16,47,48,119,123,99,101,31,32,6582,6656,20976,20992,1165,1232,317,320,28,48,47,64,30,32,80,82,6,48,102,103,49,110,11,12,3,4,4,5,25,27,1,9,8,16,52,64,68,78,12,36,13,14,38,46,25,36,2,13,30,36,48,49,2,6,2,3,17,18,11,15,7,8,25,26,41,47,2,4,2,13,3,4,8,9,1,3,10,12,32,33,51,52,1,4,2,4,5,7,1,2,1,25,17,19,8,19,6,8,6,8,6,15,7,8,7,8,54,64,117,118,2,3,4,7,10,16,11172,11184,23,27,49,2101,6766,6768,106,144,7,19,5,10,-1,2,-10,11,-532,534,-144,176,-13,14,-2,114,-143,177,26,32,26,37,89,92,6,8,6,8,6,8,3,38,12,13,26,27,19,20,2,3,15,17,14,48,123,128,1,2,1,5,45,48,9,86,2,67,45,176,29,32,49,96,36,45,30,35,38,48,30,31,37,41,14,56,158,160,10,16,36,40,36,40,40,48,52,63,1,145,311,320,22,32,8,160,-287,288,-225,228,-1,3,-5,9,-40,43,-4,5,-165,167,-82,89,-484,488,-8,18,-294,325,-199,210,-175,175,1,2,54,69,7,31,10,28,49,53,2,4,7,18,1,3,25,32,10,19,36,41,1,10,17,26,35,36,3,14,52,61,10,14,1,3,16,17,20,31,18,19,28,31,2,3,1,3,6,72,7,8,1,2,4,5,15,16,11,17,47,48,3,16,10,18,2,3,8,10,2,4,22,23,7,8,2,3,5,8,3,4,4,6,2,4,3,5,1,7,1,6,7,163,56,64,2,5,1,2,19,20,1,2,1,35,51,57,1,2,4,6,1,3,4,12,10,176,50,56,4,6,1,3,27,63,51,59,2,3,1,3,4,15,10,48,43,44,1,2,2,8,1,10,10,64,27,32,2,6,1,10,16,208,47,56,1,3,1,101,83,95,1,257,1,7,2,4,40,46,2,6,8,17,1,7,2,5,40,42,4,17,1,3,9,38,57,320,9,10,38,52,8,18,29,32,32,57,1,8,1,3,1,76,7,8,2,3,38,59,1,10,10,16,6,7,2,3,37,41,2,3,1,2,1,8,10,320,19,21,4,267,922,1024,111,112,5,16,196,2944,1071,5120,583,9216,569,576,31,32,10,14,2,98,30,37,1,11,48,55,15,25,10,11,7,8,21,26,19,707,91,192,69,80,47,67,13,77,2,32,6130,6144,755,10240,287,368,396,2704,107,112,13,16,9,16,10,12,1,3,1,4961,246,256,39,41,62,65,9,25,2,9,30,34,59,306,20,128,25,160,85,86,71,72,2,4,1,3,2,4,4,5,12,13,1,2,7,8,65,66,4,6,8,9,7,8,28,29,4,5,5,6,1,4,7,8,340,342,51,52,57,58,57,58,57,58,57,58,8,60,512,567,4,54,8,9,14,15,7,3451,-208,215,-109,116,-1445,1447,-270,542,31,32,58,64,61,118,29,42,44,48,9,16,2,3504,42711,42752,4149,4160,222,224,5762,5776,7473,10576,542,788480,65534,65536,65534]},bffbahfgga:function(e,t){e.exports={muted:"_3JUot",inputContainer:"_12h2d",label:"_2rGJA",input:"_1EoYL"}},bffbhdadij:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,n){var r=new o.default;r.onerror=function(e){r.terminate(),n(new i.DecodeWebpResultsError("worker error",e))},r.onmessageerror=function(e){r.terminate(),n(new i.DecodeWebpResultsError("worker message error",e))},r.onmessage=function(e){r.terminate();var n=e.data;t(n)},r.postMessage({webpBuffer:e},[e])})};var r,a=n("dachjgjeda"),o=(r=a)&&r.__esModule?r:{default:r},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb"))},bffcbhabha:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n("gbfffciea")),o=h(n("fifhbjiec")),i=h(n("fffdgbfji")),u=h(n("dgdjiicfdg")),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),l=h(n("ihfccfgdf")),c=n("ejbdjaifi"),f=h(n("egjjcjcg")),d=h(n("biddiiafgd")),p=h(n("djhbfghcdb"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(){a.default.closeModal()}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={},r.onChange=function(e){var t=e.target;t instanceof HTMLInputElement&&r.setState({mute:parseInt(t.value,10)})},r.onMute=function(){a.default.closeModal();var e=r.getMuteDuration();f.default.setLastChatMuteDuration(e),r.props.onMute(3600*e+(0,u.default)().unix(),!0)},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.PureComponent),r(t,[{key:"getMuteDuration",value:function(){return null!=this.state.mute&&0!==this.state.mute?this.state.mute:f.default.getLastChatMuteDuration()||8}},{key:"render",value:function(){var e=this,t=this.props.onCancel||b,n=this.getMuteDuration(),r=[{label:i.default.t(1217),duration:8},{label:i.default.t(1215),duration:168},{label:i.default.t(1216),duration:8760}].map(function(t){var r=t.duration;return s.createElement("li",{key:"mute-"+r},s.createElement("label",{className:p.default.label},s.createElement("input",{type:"radio",name:"duration",className:p.default.input,value:t.duration,checked:n===r,onChange:e.onChange}),t.label))}),a=s.createElement(o.default,{text:i.default.t(723,{name:this.props.chat.title()})});return s.createElement(d.default,{title:a,okText:i.default.t(1201),onOK:this.onMute,onCancel:t},s.createElement("form",null,s.createElement("ol",null,r)))}}]),t}();g.CONCERNS={chat:["id","formattedTitle"]},g.displayName="MutePopup",t.default=(0,l.default)((0,c.hoc)(g),g.CONCERNS)},bffejifief:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift();switch(t.type){case"picture":(0,i.changeProfilePicThumb)(t.jid,t.tag);break;default:o.default.handle([t])}return Promise.resolve()};var r,a=n("dhggbbghfb"),o=(r=a)&&r.__esModule?r:{default:r},i=n("cdghjejjij")},bffhabgiib:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag"));function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._onRefChange=function(e){e?(r._ctx=e.getContext("2d"),r._imageData=r._ctx.createImageData(r.props.width,r.props.height)):(r._ctx=null,r._imageData=null)},o(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"_updateCanvas",value:function(){var e=this._ctx,t=this._imageData,n=this.props.rgbaBuffer;e&&t&&n&&(t.data.set(new Uint8Array(n)),e.putImageData(t,0,0))}},{key:"componentDidMount",value:function(){this._updateCanvas()}},{key:"componentDidUpdate",value:function(){this._updateCanvas()}},{key:"render",value:function(){return a.createElement("canvas",{className:this.props.className,width:this.props.width,height:this.props.height,onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,ref:this._onRefChange})}}]),t}();i.displayName="RGBACanvas",t.default=i},bffjfbgbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0};t.cleanFilename=b,t.cleanIncomingFilename=function(e){if(!e)return e;var t=b(e);if(e!==t&&t){var n=t.split("."),r=n.length>=2&&n.pop();["bat","exe","cmd","com","lnk","pif","scr","vb","vbe","vbs","wsh","js","ps1","hta","sh","csh","msi","app","scpt","applescript","reg","vbe","wsf","sct"].includes(r)&&(l.default.logVerbose(`cleanIncomingFilename:extension: ${r||""}`)(),l.default.assert(!1,"rtlo char in executable filename")())}return t};var i=n("dcaifjegcg"),u=d(i),s=d(n("eadfaddcj")),l=d(n("bdiiahhjbe")),c=d(n("ccaaiecfib")),f=n("daichdjff");function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.type=(0,i.prop)(f.OUTWARD_TYPES.UNKNOWN),r.mmsUrl=(0,i.prop)(),r.directPath=(0,i.prop)(),r.mediaKey=(0,i.prop)(),r.uploadHash=(0,i.prop)(),r.mediaStage=(0,i.prop)(f.STAGE.INIT),r.size=(0,i.prop)(),r.filehash=(0,i.prop)(),r.mimetype=(0,i.prop)(),r.mediaBlob=(0,i.prop)(),r.renderableUrl=(0,i.prop)(),r.fullHeight=(0,i.prop)(),r.fullWidth=(0,i.prop)(),r.aspectRatio=(0,i.prop)(),r.rgbaBuffer=(0,i.prop)(),r.rgbaHeight=(0,i.prop)(),r.rgbaWidth=(0,i.prop)(),r.animationDuration=(0,i.prop)(0),r.animatedAsNewMsg=(0,i.prop)(!1),r.preview=(0,i.prop)(),r.sidecar=(0,i.prop)(),r.duration=(0,i.prop)(),r.durationFloat=(0,i.prop)(),r.isGif=(0,i.prop)(),r.gifAttribution=(0,i.prop)(),r.streamable=(0,i.derived)(r._isStreamable,["isGif","mediaStage","sidecar","type","_swStreamingSupported"]),r._swStreamingSupported=(0,i.prop)(!1),r._listeningToSwSupport=(0,i.prop)(!1),r.filename=(0,i.prop)(),r.pageCount=(0,i.prop)(),r.documentPreview=(0,i.prop)(),r.subtype=(0,i.prop)(),p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),a(t,[{key:"initialize",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this)}},{key:"set",value:function(e,n,a){var i=void 0,u=a;return"string"==typeof e?i={[e]:n}:(i=e,u=n),i=function(e){var t=e.type,n=e.subtype,a=void 0;if("template"===t){switch(n){case s.default.TEMPLATE_SUBTYPE.IMAGE:a=f.OUTWARD_TYPES.IMAGE;break;case s.default.TEMPLATE_SUBTYPE.VIDEO:a=f.OUTWARD_TYPES.VIDEO;break;case s.default.TEMPLATE_SUBTYPE.DOCUMENT:a=f.OUTWARD_TYPES.DOCUMENT;break;case s.default.TEMPLATE_SUBTYPE.LOCATION:a=f.OUTWARD_TYPES.IMAGE}return r({},e,{type:a})}return e}(i=function(e){var t=e.filename||e.caption;if(t&&e.type===m.TYPE.DOCUMENT)return t=b(t),r({},e,{filename:t,caption:t});return e}(i)),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"set",this).call(this,i,u)}},{key:"_isStreamable",value:function(){return this.isStreamable()}},{key:"isStreamable",value:function(){return this.isStreamableType()&&this.listenToServiceWorkerSupport()}},{key:"_updateStreamingSupported",value:function(e){this._swStreamingSupported=e}},{key:"listenToServiceWorkerSupport",value:function(){if(this._listeningToSwSupport)return this._swStreamingSupported;var e=n("gcbhjhjhg").default;return this.listenTo(e,"change:streamingSupported",this._updateStreamingSupported),this._swStreamingSupported=Boolean(e.streamingSupported),this._listeningToSwSupport=!0,this._swStreamingSupported}},{key:"isStreamableType",value:function(){var e=!1;return e=c.default.supportsFeature(c.default.F.VIDEO_STREAMING)&&Boolean(this.type===f.OUTWARD_TYPES.VIDEO)&&!this.isGif&&(this.mediaStage===f.STAGE.INIT||this.mediaStage===f.STAGE.RESOLVED)&&null!=this.fullWidth&&null!=this.fullHeight&&Boolean(this.sidecar&&this.sidecar.byteLength>0),e}}]),t}();h.Proxy="mediaData";var m=(0,i.defineModel)(h);function b(e){return e?e.replace(/[\u202a-\u202e\u2066-\u2068]/g,""):e}m.TYPE=f.OUTWARD_TYPES,m.STAGE=f.STAGE,t.default=m},bfggfbdghf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={TRENDING:"TRENDING",HAHA:"HAHA",SAD:"SAD",LOVE:"LOVE",REACTIONS:"REACTIONS",SPORTS:"SPORTS",TV:"TV"}},bfgjcdgecg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationArchive=function(e,t,n){return o.default.sendConversationArchive(e,t,n).then(function(n){if(r.default.supportsFeature(r.default.F.MODEL_STORAGE)&&200===n.status&&!n._duplicate){var o={archive:t};return t&&(o.pin=void 0),a.Chat.merge(e.toString(),o).then(function(){return n})}return n})};var r=i(n("ccaaiecfib")),a=n("cefcddgdgg"),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}},bfhbfhhceg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=E(n("dbdfbgehgj")),i=E(n("gbfffciea")),u=E(n("bjjjdidhhi")),s=n("bhhdeihhhf"),l=E(s),c=E(n("deifjeacc")),f=n("ddbddjjgia"),d=E(n("didfdhbecg")),p=E(n("dghebhejhb")),h=E(n("cijjejhjfh")),m=E(n("caffijjhc")),b=E(n("dbjbhajgfd")),g=n("bheafeifce"),v=n("bedfbecdgd"),y=n("ejbdjaifi"),_=E(n("eceadcicaf"));function E(e){return e&&e.__esModule?e:{default:e}}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,f=Array(c),d=0;d<c;d++)f[d]=arguments[d];return n=r=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.addRevokeListener=function(){r.props.listeners.add(r.props.msg,"change:isRevoked",r.handleRevoke)},r.handleRevoke=function(){i.default.refreshMessages()},r.state={contextMenu:null,hover:!1},r.setRefContext=function(e){return r.refContext=e},r.mouseOver=function(e){e.buttons||r.state.hover||r.setState({hover:!0})},r.mouseDown=function(){r.state.hover&&r.setState({hover:!1})},r.onReplyMessage=function(){var e=(0,g.unproxy)(r.props.msg),t=e.chat;t.composeQuotedMsg=e,i.default.focusChatTextInput(t)},r.onPrivateReplyMessage=function(){var e=(0,g.unproxy)(r.props.msg);o.default.find(e.sender).then(function(e){return Promise.props({ok:i.default.openChatBottom(e),chat:e})}).then(function(t){var n=t.ok,a=t.chat;n&&(a.composeQuotedMsg=e,r.props.msg&&r.props.msg.chat&&(a.composeQuotedMsgRemoteJid=r.props.msg.chat.id))})},r.onStarMessage=function(){var e=(0,g.unproxy)(r.props.msg);i.default.sendStarMsgs(e.chat,[e])},r.onUnstarMessage=function(){var e=(0,g.unproxy)(r.props.msg);i.default.sendUnstarMsgs(e.chat,[e])},r.onDeleteMessage=function(){var e=r.props,t=e.msg,n=e.isMsgVisible;i.default.openModal(a.createElement(u.default,{chat:t.chat,msgList:[t].map(g.unproxy),deletePrompt:!0,revokePrompt:t.canRevoke(),isMsgVisible:n}))},r.openContactChat=function(){o.default.find(r.props.msg.author).then(function(e){i.default.openChatFromUnread(e).then(function(t){t&&i.default.focusChatTextInput(e)})})},r.onMenu=function(e,t){if(t&&r.state.contextMenu)r.setState({contextMenu:null});else{var n=t?r.refContext&&r.refContext.component&&r.refContext.component.refContext:e,o=(0,g.unproxy)(r.props.msg),i=[];o.canReply()&&i.push(a.createElement(l.default,{key:"reply",a8n:"mi-msg-reply",action:r.onReplyMessage},l10n.t(886))),(o.canPrivateReply()||o.canPrivateReplyInRestrictedGrp())&&i.push(a.createElement(l.default,{key:"private_reply",a8n:"mi-msg-reply",action:r.onPrivateReplyMessage},l10n.t(852))),o.canForward()&&i.push(a.createElement(l.default,{key:"forward",a8n:"mi-msg-forward",action:function(){r.props.onOpenForwardFlow(!0)}},l10n.t(432))),o.canStar()&&(o.star?i.push(a.createElement(l.default,{key:"star",a8n:"mi-msg-unstar",action:r.onUnstarMessage},l10n.t(1037))):i.push(a.createElement(l.default,{key:"star",a8n:"mi-msg-star",action:r.onStarMessage},l10n.t(987)))),i.push(a.createElement(l.default,{key:"delete",a8n:"mi-msg-delete",action:r.onDeleteMessage},l10n.t(363))),o.isGroupMsg&&o.author&&!o.isSentByMe&&i.push(a.createElement(l.default,{key:"author",a8n:"mi-msg-author",action:r.openContactChat},l10n.t(673,{author:o.displayName()}))),r.setState({contextMenu:{menu:i,anchor:n,theme:s.ThemeOptions.COMPACT}})}},j(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.addRevokeListener()}},{key:"componentDidUpdate",value:function(e){this.props.msg.id.equals(e.msg.id)||(this.props.listeners.remove(e.msg,"change:isRevoked",this.handleRevoke),this.addRevokeListener())}},{key:"contextOpen",value:function(){this.onMenu(void 0,!0)}},{key:"contextClose",value:function(){this.setState({contextMenu:null})}},{key:"scrollMsg",value:function(e,t){this.props.scrollMsg(e,t)}},{key:"highlight",value:function(e){this.props.highlight(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.msg,r=t.menuTransition,o=void 0;(this.state.hover||this.state.contextMenu)&&(o=a.createElement(c.default,{msg:n,position:f.MsgPosition.SINGLE,key:"icon-context",ref:this.setRefContext,onToggle:function(t){e.onMenu(t)},isGroupedSticker:!0}));var i=void 0;this.props.isFocused&&(i=a.createElement(v.WhileFocusedListener,{parent:this}));var u=void 0;return this.state.contextMenu&&(u=a.createElement(m.default,{displayName:"MsgContextMenu",escapable:!0,popable:!0,requestDismiss:function(){return e.contextClose()}},a.createElement(b.default,{contextMenu:this.state.contextMenu}))),a.createElement("div",{className:h.default.stickerItem,onMouseOver:this.mouseOver,onMouseDown:this.mouseDown,onMouseUp:this.mouseOver,onMouseLeave:this.mouseDown},a.createElement(p.default,{mediaData:n.mediaData,msg:n}),a.createElement("div",{className:h.default.stickerMenu},a.createElement(d.default,{transitionName:r},o)),u,i)}}]),t}();O.displayName="GroupedSticker",t.default=(0,_.default)((0,y.hoc)(O))},bfhcddbbhg:function(e,t){e.exports={muted:"_2hLgs",albumGridClass:"_36Yqt",albumTopLeft:"_1b8RS",albumTopRight:"_2ip-H",albumBottomLeft:"_3mNmN",albumBottomRight:"_125Xa",numberText:"_1XSxP"}},bfiaijhcgh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("diifagijfe")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("dbhhbejbcb"),u=c(i),s=c(n("dgbdeadddb")),l=n("eagfdbhhhh");function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this,t=this.props.emojis,n=(0,r.default)(t);if(0===n)return null;var a=void 0;switch(n){default:case 3:a=i.SIZE.MEDIUM;break;case 2:a=i.SIZE.LARGE;break;case 1:a=i.SIZE.XLARGE}var c=t.map(function(t,n){return o.createElement(u.default,{animation:e.props.animation,size:a,emoji:t,key:t+n,selectable:!0})});return o.createElement(l.SelectableDiv,{selectable:!0,className:s.default.wrapper},c)}}]),t}();f.displayName="MultiEmoji",t.default=f},bfidcjhfda:function(e,t,n){"use strict";var r=i(n("bdiiahhjbe")),a=i(n("jccfhaecf")),o=n("dcbdjheea");function i(e){return e&&e.__esModule?e:{default:e}}var u=n("dbajccegac"),s=n("dicfecifhd");e.exports=function(e){var t=void 0,n={},i=e.nibbleEncode;for(t=0;t<e.singleByte.length;t++)e.singleByte[t]&&(n[e.singleByte[t]]=t);for(t=0;t<e.doubleByte.length;t++)e.doubleByte[t]&&(n[e.doubleByte[t]]=t+s.SINGLE_BYTE_MAX);this.writeNode=function(e,t){if(t){if(3!==t.length)throw new Error("invalid node");var n=t[1]?2*Object.keys(t[1]).filter(function(e){return!!t[1][e]}).length:0;this.writeListStart(e,1+n+(t[2]?1:0)),this.writeString(e,t[0]),this.writeAttributes(e,t[1]),this.writeChildren(e,t[2])}},this.writeString=function(e,t,i){if("string"!=typeof t&&!(t instanceof a.default))throw r.default.error(`writer:writeString passed non-string/wid type: ${typeof t}`)(t),new Error("invalid string");if(t instanceof a.default)this.writeJid(e,t);else{var u=n.hasOwnProperty(t)?n[t]:void 0,l=void 0,c=void 0;if("c.us"!==t||i)if(void 0===u)if(t.indexOf("@")<1)this.writeStringRaw(e,t);else try{var f=(0,o.createWid)(t);this.writeJid(e,f)}catch(n){this.writeStringRaw(e,t)}else{if(u<s.SINGLE_BYTE_MAX)this.writeToken(e,u);else{var d=u-s.SINGLE_BYTE_MAX;switch(c=d%256,d>>8){case 0:l=s.DICTIONARY_0;break;case 1:l=s.DICTIONARY_1;break;case 2:l=s.DICTIONARY_2;break;case 3:l=s.DICTIONARY_3;break;default:throw new Error("double byte dictionary token out of range: "+t+" "+u)}}this.writeToken(e,l),this.writeToken(e,c)}else this.writeToken(e,n["s.whatsapp.net"])}},this.writeStringRaw=function(e,t){var n=u.numUtf8Bytes(t);if(n>=4294967296)throw new Error("string too large to encode (len = "+n+"): "+t);n>=1<<20?(e.pushByte(s.BINARY_32),e.pushInt32(n)):n>=256?(e.pushByte(s.BINARY_20),e.pushInt20(n)):(e.pushByte(s.BINARY_8),e.pushByte(n)),e.pushString(t)},this.writeJid=function(e,t){var n=t.user,r=t.server,a=t.agent,o=t.device;if(a||o){if(a>255||o>255||"c.us"!==r&&"s.whatsapp.net"!==r)throw new Error(`invalid agent:${a} or device:${o} or server:${r} for wid ${t.toString()}`);e.pushByte(s.JID_AD),e.pushByte(a||0),e.pushByte(o||0),n?this.writePackedBytesStringFallback(e,n):this.writeToken(e,s.LIST_EMPTY)}else e.pushByte(s.JID_PAIR),n?this.writePackedBytesStringFallback(e,n):this.writeToken(e,s.LIST_EMPTY),this.writeString(e,r)},this.writeToken=function(e,t){if(t<245)e.pushByte(t);else if(t<=500)throw new Error("invalid token")},this.writeAttributes=function(e,t){if(t){for(var n in this.isAttr=!0,t)t[n]&&(this.writeString(e,n),this.writeString(e,t[n]));this.isAttr=!1}},this.writeChildren=function(e,t){var n=void 0;if(t)if("string"==typeof t)this.writeString(e,t,!0);else if(t instanceof ArrayBuffer){if((n=t.byteLength)>=4294967296)throw new Error("invalid children; too long (len = "+n);n>=1<<20?(e.pushByte(s.BINARY_32),e.pushInt32(n)):n>=256?(e.pushByte(s.BINARY_20),e.pushInt20(n)):(e.pushByte(s.BINARY_8),e.pushByte(n)),e.pushBytes(t)}else{if(!Array.isArray(t))throw new Error("invalid children");n=t.length,this.writeListStart(e,n);for(var r=0;r<n;r++)this.writeNode(e,t[r])}},this.writeListStart=function(e,t){0===t?e.pushByte(s.LIST_EMPTY):t<256?(e.pushByte(s.LIST_8),e.pushByte(t)):(e.pushByte(s.LIST_16),e.pushInt16(t))},this.writePackedBytesStringFallback=function(e,t){try{this.writePackedBytes(e,t)}catch(n){r.default.warnVerbose(`writer:encode-fallback "${n.message}"`)(t),this.writeString(e,t)}},this.writePackedBytes=function(e,t){try{this.writePackedBytesImpl(e,t,s.NIBBLE_8)}catch(n){r.default.warn(`writer:enc nib fail, try hex "${n.message}"`)(t),this.writePackedBytesImpl(e,t,s.HEX_8)}},this.writePackedBytesImpl=function(e,t,n){var r=u.numUtf8Bytes(t);if(r>s.PACKED_MAX)throw new Error("too many bytes to nibble-encode: len = "+r);var a=[],o=void 0,i=0;r%2>0&&(i=128);var l=i|Math.ceil(r/2);a.push(n),a.push(l);for(var c=Math.floor(r/2),f=0;f<c;f++)o=this.packBytePair(n,t[2*f],t[2*f+1]),a.push(o);i>0&&(o=this.packBytePair(n,t[r-1],"\0"),a.push(o));var d=new Uint8Array(a);e.pushUint8Array(d)},this.packBytePair=function(e,t,n){var r=void 0,a=void 0;switch(e){case s.NIBBLE_8:r=this.packNibble(t),a=this.packNibble(n);break;case s.HEX_8:r=this.packHex(t),a=this.packHex(n);break;default:throw new Error("invalid byte pack type: "+e)}return r<<4|a},this.packNibble=function(e){if(!i.hasOwnProperty(e))throw new Error("invalid byte to nibble-pack: "+e);return i[e]},this.packHex=function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"A":case"B":case"C":case"D":case"E":case"F":return parseInt(e,16);case"\0":return 15;default:throw new Error("packHex:invalid byte: "+e)}}}},bfidigcji:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("ejbdjaifi"),i=s(n("ihfccfgdf")),u=s(n("dgacgafafa"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.stickerPack,t=e.id,n=e.name,r=e.url;return a.createElement(u.default,{id:t,name:n,url:r})}}]),t}();l.CONCERNS={stickerPack:["id","name","url"]},l.displayName="StickerPackIconFirstParty",t.default=(0,i.default)((0,o.hoc)(l),l.CONCERNS)},bfifafibjc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=l(n("ceffhbhahb")),u=l(n("dbhcbbgdji")),s=l(n("dcicgjefd"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=a=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a._setRefResizeObserver=function(e){a._refResizeObserver=e,a.props.onRef&&a.props.onRef(e),a._handleResize()},a._handleResize=function(){var e=a._refResizeObserver;if(e){var t={height:e.offsetHeight,width:e.offsetWidth};a._prevDimensions&&a._prevDimensions.width===t.width&&a._prevDimensions.height===t.height||(a._prevDimensions=t,a.props.onResize(r({},t)))}},c(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=(e.onResize,e.onRef,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","className","onResize","onRef"]));return o.createElement("div",r({className:(0,i.default)(s.default.container,n),ref:this._setRefResizeObserver},a),t,o.createElement(u.default,{onResize:this._handleResize}))}}]),t}();f.displayName="ResizeObserver",t.default=f},bfifighhia:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("caegbedegd")),i=s(n("bhhdiiaihb")),u=s(n("ceggedffg"));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,i.default)("*"),c=(0,u.default)(/(?:^|[\s\W_])\*([^\s\u20e3]|[^\s\u20e3][^\n]*?\S)\*(?=$|[[\s\W_])/g,1,l),f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),r(t,null,[{key:"jsx",value:function(e,t,n){var r=n.selectable,i=void 0!==r&&r;return a.createElement(o.default,{selectable:i},e)}}]),t}();t.default=f},bfihjhiege:function(e,t){e.exports={muted:"uBPnx",fit:"_3NteO",fitRelative:"_1kgcV",fitScaledown:"_3eeXM",fitZoomin:"_14CNR",nativeCover:"_3WAy7",nativeScaleDown:"_39KgN"}},bfjbdahdag:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("fifhbjiec")),i=d(n("dafiibaihc")),u=d(n("ihfccfgdf")),s=n("ejbdjaifi"),l=n("gaifbabbj"),c=d(n("dbbbgjbbgf")),f=d(n("dgdadejebh"));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.spacer,r=e.trusted,u=(r?l.Configuration.TrustedConversation:l.Configuration.UntrustedConversation)({mentions:t.mentionMap(),links:t.getLinks(),selectable:!0}),s=t.text;return s?a.createElement(a.Fragment,null,a.createElement(f.default,{msg:t}),a.createElement(c.default,{msg:t,"data-id":t.id,spacer:n},a.createElement(i.default,{text:s,textLimit:t.initialPageSize},function(e){return a.createElement(o.default,{direction:t.dir,dirMismatch:!(!t.dir||t.rtl===l10n.isRTL()),formatters:u,inferLinesDirection:!0,selectable:!0,text:t.text,textLimit:e.textLimit})}))):null}}]),t}();p.CONCERNS={msg:["t","id","dir","rtl","text","initialPageSize"]},p.displayName="Caption",t.default=(0,u.default)((0,s.hoc)(p),p.CONCERNS)},bfjchhccjd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e)return!1;var n=e.parentElement;if(!n)return!1;var r=t>=0?t:n.childNodes.length+t;return e===n.childNodes[r]}},bfjegcdcag:function(e,t){e.exports={muted:"_385-r",container:"_2LSbZ",title:"_3EN0l","padding-large":"_1ur1f",paddingLarge:"_1ur1f",padding:"_2ZVEo","group-desc-padding":"ujWpH",groupDescPadding:"ujWpH","padding-product":"_2x5h1",paddingProduct:"_2x5h1",animate:"_2j5ir","well-animation2":"_3e_bD",wellAnimation2:"_3e_bD"}},bfjeggfcij:function(e,t){e.exports={muted:"_1Owwf",playerWrapper:"_2sTOw"}},bfjfgcfade:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n("bidcddiaag")),o=u(n("decdhbjfjc")),i=u(n("jjjdieajj"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=n("digcccheca"),c=n("bjgibbgbai"),f=n("debfbiicee"),d={ArrowLeft:c.EMOJI_LEFT,ArrowRight:c.EMOJI_RIGHT,Enter:c.EMOJI_ENTER,Tab:c.EMOJI_TAB},p=50,h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.hooks={[f.CHANGE](e,t){""===t.refInput.textContent&&this.handle(c.EMOJI_INACTIVE)}},r.handlers={onKeyDown(e,t){var n=this;8!==e.keyCode&&e.repeat&&(this._lastSyncKeyDownWasRepeat=!0,setTimeout(function(){delete n._lastSyncKeyDownWasRepeat},0));var r=d[e.key];return!!r&&this.handle(r,[e,t])},onSelect(e,t){if(this.ctx.isComposing)return!1;if(this._lastSyncKeyDownWasRepeat)return!1;var n=window.getSelection();if(!n.modify)return!1;var r=m(t,n);return r?(r=r.slice(1),this.handle(c.EMOJI_SEARCH,[r]),!1):this.handle(c.EMOJI_INACTIVE)}},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l),r(t,[{key:"handleSelect",value:function(e){this.ctx.forceFocus(),m(this.ctx,window.getSelection(),!0)&&(this.ctx.replaceSelection(e),this.handle(c.EMOJI_INACTIVE))}}]),t}();function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null,u=null,s="",l=0,c=null;return(0,a.default)(e,t,function(e,t,n){if("@"===e||" "===e&&" "===u)return!0;if(":"===u)if(" "===r);else{if(a=e,Boolean(i.default[a]))return c=s,!0;if(/\W/.test(e))return c=n.slice(t+1)+s,!0}var a;return 0===t&&(s=n+s),r=u,u=e,(l+=1)>=p||void 0}),!c&&l<p&&":"===u&&(c=s),n&&c&&c.length&&(0,o.default)(t,c.length),c}e.exports=h},bgabfdfhj:function(e,t){e.exports={muted:"_3Q5ur",multiControls:"_35W3r",chatListPanel:"_3yBED",drawerHeader:"_1g08n",multiselectIcon:"TRZQd",multiCount:"_9hazY",mediaGalleryTheme:"_14YVp"}},bgabieacgg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.find=function(e,t){var n=performance.now();return i.default.chatFindQuery(e,function(e){t.binarySize=e.binarySize}).then(function(e){return"preempted"!==e&&(t.timing=Math.ceil(performance.now()-n),t.size=e.length,o.default.supportsFeature(o.default.F.MODEL_STORAGE))?a.default.bulkCreateOrMerge(e.map(function(e){return r({},e,{id:e.id.toString()})})).then(function(){return e}):e})};var a=u(n("begbbgieee")),o=u(n("ccaaiecfib")),i=u(n("bihdhbjih"));function u(e){return e&&e.__esModule?e:{default:e}}},bgaeiiadg:function(e,t){e.exports={muted:"_3-Yb0",border:"_2DxRd"}},bgaigbgdgj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=atob(e),r=0,a=0;a<n.length;a++){var o=n.charCodeAt(a),i=o>>4,u=15&o;r=(((r=((r<<4)+i)%t)<<4)+u)%t}return r}},bgajdijche:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=j(n("ddhijeejag")),o=E(n("effbcehec")),i=E(n("fffdgbfji")),u=E(n("bdiiahhjbe")),s=E(n("eigdejjai")),l=n("hjbcfjaai"),c=E(n("eceadcicaf")),f=E(n("bjbedjfe")),d=n("ejbdjaifi"),p=E(n("bjebjijbfc")),h=E(n("ccaaiecfib")),m=j(n("cajijabhgb")),b=E(n("bfdcadbbif")),g=E(n("becfabjeeg")),v=E(n("cdeaahaeee")),y=E(n("eadfaddcj")),_=n("ddjgcfjicj");function E(e){return e&&e.__esModule?e:{default:e}}function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=function(e){function t(){return O(this,t),S(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,a.Component),r(t,[{key:"render",value:function(){var e=a.createElement(C,{statusV3:this.props.status,onOpenStatus:this.props.onOpenStatus}),t=void 0,n=void 0;return h.default.supportsFeature(h.default.F.STATUS_V3_UI_SENDING)&&(t=a.createElement("div",{className:v.default.updateWrapper},a.createElement("div",{className:v.default.updateTitle},i.default.t(1006)),a.createElement("div",{className:v.default.uploadButtons},a.createElement("div",{className:v.default.buttonContainer},a.createElement(b.default,{name:"status-v3-upload"}),a.createElement("p",null,i.default.t(1007))),a.createElement("div",{className:v.default.buttonContainer},a.createElement(b.default,{name:"status-v3-camera"}),a.createElement("p",null,i.default.t(993))))),n=a.createElement("hr",null)),a.createElement("div",{className:v.default.outStatusPanel},t,n,e)}}]),t}();P.displayName="StatusV3OutStatusPanel";var M=function(e){function t(){return O(this,t),S(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.statusV3,n=e.listeners;t&&(n.add(t,"change:msgsChanged"),t.loadMore(t.totalCount).catch(function(e){u.default.error(`error while loading all out status: ${String(e)}`)()}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.statusV3!==e.statusV3&&(this.props.statusV3&&this.props.listeners.remove(this.props.statusV3,"change:msgsChanged"),e.statusV3&&this.props.listeners.add(e.statusV3,"change:msgsChanged"))}},{key:"render",value:function(){var e=this,t=this.props.statusV3;if(t&&t.msgs.length>0){var n=t.msgs.map(function(n){return a.createElement(A,{key:n.id.toString(),msg:n,status:t,onOpenStatus:e.props.onOpenStatus})});return a.createElement("div",{className:v.default.viewWrapper},a.createElement("div",{className:v.default.viewTitle},i.default.t(1008)),a.createElement("div",{className:v.default.viewUpdates},n))}return a.createElement("div",{className:v.default.viewWrapper},a.createElement("div",{className:v.default.placeholderIcon},a.createElement("div",{className:v.default.placeholderIcon},a.createElement(b.default,{name:"status-v3-placeholder"}))),a.createElement("div",{"data-a8n":o.default.key("status-placeholder"),className:v.default.placeholderText},i.default.t(1002)))}}]),t}();M.displayName="StatusV3OutViewerImpl";var C=(0,c.default)((0,d.hoc)(M)),T=function(e){function t(){O(this,t);var e=S(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={},e}return w(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;s.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then(function(t){e.props.listeners.add(t.read,"add remove",function(){e.setState({seenCount:t.read.length})}),e.setState({seenCount:t.read.length})}).catch(m.Unmount,function(){}).catch(_.EphemeralDrop,function(){})}},{key:"render",value:function(){var e=this,t=this.props,n=t.msg,r=t.status,o=n.mediaData,i=void 0;if(o&&o.preview)i={backgroundImage:`url(${o.preview.url()})`};else if(n.type===y.default.MSG_TYPE.CHAT){i={backgroundColor:n.statusV3TextBg}}var u=void 0;n.type===y.default.MSG_TYPE.CHAT&&(u=a.createElement(l.StatusV3Text,{msg:n,theme:"status-panel"}));var s=void 0;return s=void 0!==this.state.seenCount?a.createElement(a.Fragment,null,a.createElement(b.default,{name:"status-v3-seen"}),a.createElement("div",{className:v.default.seenCount},this.state.seenCount)):a.createElement(g.default,{stroke:3,size:12}),a.createElement("div",{className:v.default.outDetail},a.createElement("div",{className:v.default.statusImage,style:i,onClickCapture:function(t){e.props.onOpenStatus(r,n),t.preventDefault(),t.stopPropagation()}},u),a.createElement("div",{className:v.default.seen},s),a.createElement("div",{className:v.default.timestamp},p.default.relativeDateAndTimeStr(n.t)))}}]),t}();T.displayName="StatusV3OutDetailImpl";var A=(0,f.default)((0,c.default)((0,d.hoc)(T)));t.default=P},bgcdajbhif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=w(n("bebajedcaf")),a=w(n("iidhbgeed")),o=w(n("chihjdheic")),i=w(n("dbafiicfja")),u=w(n("dgabgdahbi")),s=w(n("cbeddgjfaj")),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},f=w(n("cgcgbfbffj")),d=w(n("bjebjijbfc")),p=w(n("eadfaddcj")),h=w(n("bjigbaghc")),m=n("ddjgcfjicj"),b=w(n("ccaaiecfib")),g=w(n("bdiiahhjbe")),v=w(n("bfbggcdbfb")),y=w(n("biecbbiiee")),_=w(n("beeieigghj")),E=w(n("bfgbdiffgd")),j=w(n("jcfjeeiii")),O=w(n("bihdhbjih")),S=n("dcbdjheea");function w(e){return e&&e.__esModule?e:{default:e}}var P=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.default),l(t,[{key:"delete",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),delete this.checksum}},{key:"_find",value:function(e){return Promise.resolve({id:e})}},{key:"findQuery",value:function(e,n){var r=this;return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"findQuery",this).call(this,e,n).then(function(e){return Promise.all(e.map(function(e){if(e){var t=0;return e.msgs.forEach(function(n){t<e._msgs.length&&e._msgs[t].id.toString()===n.id.toString()?++t:n.delete()}),e._msgs.length>0?r.addStatusMessages(e.id,e._msgs):Promise.resolve()}})).then(function(){return e})})}},{key:"_findQuery",value:function(e){var t=this;return O.default.statusQuery().then(function(e){return t.checksum=e.checksum,Promise.map(e.statuses,function(e){e.totalCount!==e._msgs.length&&e.totalCount<=20&&g.default.warn(`Received ${e._msgs.length} status V3 messages when total count is ${e.totalCount} for ${e.id}`)();var t=e.pic;return t?_.default.createFromData(t,"image/jpeg").then(function(t){return e.pic=t,e}):e})})}},{key:"loadMore",value:function(e,t,n){return O.default.statusQuery(e,t,n&&n.id,"after").then(function(e){return e.status>=400?(g.default.error("model:statusv3:findQuery error "+e.status)(),Promise.reject(e.status)):(e.forEach(function(e){e.invis=!0}),g.default.log(`model:statusv3:loadMore:${e.length}`)(),y.default.processMultipleMessages((0,S.createWid)(p.default.STATUS_WID),e,{add:"after",isHistory:!0}))})}},{key:"sync",value:function(e){var t=this,n=window.performance.now();return!e||this.checksum&&this.checksum!==e?this.findQuery({},{set:this.hasSynced()}).catch(m.WapDrop,function(){}).finally(function(){t.trigger("sync")}).tap(function(e){var r=window.performance.now(),a=Math.round(r-n);t.logMetrics({type:"sync",syncTime:a}),t.forEach(function(e){e.msgs.length>e.totalCount&&g.default.log(`Total count: ${e.totalCount}, msgs length: ${e.msgs.length}`)()})}):Promise.resolve(void 0)}},{key:"logMetrics",value:function(e){var t=void 0;t="sync"===e.type?new v.default.WebcStatusSync({webcStatusSyncT:e.syncTime}):new v.default.WebcStatusSession({webcStatusSessionId:e.sessionId});var n=this.filter(function(e){return!e.contact.isMe}),r=n.filter(function(e){return!e.contact.statusMute}),a=r.filter(function(e){return e.hasUnread}),o=r.filter(function(e){return!e.hasUnread}),i=n.filter(function(e){return e.contact.statusMute}),u=(0,s.default)(r.map(function(e){return e.unreadCount})),l=(0,s.default)(r.map(function(e){return e.readCount})),c=(0,s.default)(i.map(function(e){return e.totalCount}));t.webcStatusRecentItemCount=u,t.webcStatusRecentRowCount=a.length,t.webcStatusViewedItemCount=l,t.webcStatusViewedRowCount=o.length,t.webcStatusMutedItemCount=c,t.webcStatusMutedRowCount=i.length,t.commit()}},{key:"hasSynced",value:function(){return!!this.checksum}},{key:"handleUpdate",value:function(e,t,n){var r=e.id.fromMe?h.default.me:e.author;if(this.updateChecksum(t),this.hasSynced()){if(n)return!0;var a=this.get(r);if(a){var s=a.totalCount===a.msgs.length;if("revoke"===e.subtype){var l=(0,u.default)(a.msgs.toArray(),a.totalCount-a.unreadCount),c=(0,i.default)(l,function(e){return e.id.toString()}),f={totalCount:a.totalCount-1};(0,o.default)(c,function(t){return t===e.protocolMessageKey.toString()})||a.readKeys[e.protocolMessageKey.toString()]||(f.unreadCount=a.unreadCount-1),a.set(f)}else{var d={totalCount:a.totalCount+1};e.invis||(d.unreadCount=a.unreadCount+1),d.t=e.t,a.set(d)}return!s&&e.body&&_.default.createFromBase64Jpeg(e.body).then(function(e){a.pic=e}),s}return this.add({id:r,t:e.t,unreadCount:e.invis?0:1,totalCount:1}),!0}return!1}},{key:"handleScore",value:function(e,t){var n=this.get(e);n?n.score=t:g.default.log("models:statusV3:score:no_status:"+[e,t].join())()}},{key:"updateChecksum",value:function(e){e?this.hasSynced()&&(this.checksum=e):g.default.info("models:statusV3:no_checksum")()}},{key:"handle",value:function(e){var t=e.shift();if(Array.isArray(t))g.default.warn("models:statusV3:unexpected update")(t);else switch(t.type){case"read":this.updateChecksum(t.checksum);var n=this.get(t.chat);n?n.handleReadStatus(t.key):g.default.log("models:statusV3:read:no_status:"+[t.chat,t.key].join())(t);break;case"privacy":break;case"score":for(var r=0;r<t.scores.length;r++){var a=t.scores[r],o=a.jid,i=a.score;this.handleScore(o,i)}this.sort();break;default:g.default.warn("models:statusV3:unknown:"+t.type,t)()}}},{key:"addStatusMessages",value:function(e,t){return y.default.processMultipleMessages((0,S.createWid)(p.default.STATUS_WID),t,{add:"after",isHistory:!0})}},{key:"getUnexpired",value:function(e){var t=this.filter(function(e){return e.totalCount>0&&d.default.globalUnixTime()-e.t<=86400&&e.contact.isMyContact&&!e.contact.isMe});return e?(0,a.default)(t,function(e){return e.unreadCount>0}):(0,a.default)(t,function(e){return 0===e.unreadCount})}},{key:"getMyStatus",value:function(){var e=this.filter(function(e){return e.contact.isMe});return(0,r.default)(e)?void 0:d.default.globalUnixTime()-e[0].t>86400?void 0:e[0]}}]),t}();P.model=j.default,P.comparator=function(e,t){return E.default.statusRanking&&b.default.supportsFeature(b.default.F.STATUS_RANKING)&&e.score!==t.score?t.score-e.score:t.t-e.t},t.default=new P},bgdcgdigif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CALL_TYPES=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("dcaifjegcg"),i=(r=o)&&r.__esModule?r:{default:r},u=n("cgejjichfa");function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.CALL_TYPES={VOICE:"VOICE",VIDEO:"VIDEO"};var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.callId=(0,o.session)(),r.state=(0,o.session)(u.CALL_UI_STATES.NONE),r.from=(0,o.session)(),r.to=(0,o.session)(),r.type=(0,o.session)(),r.muted=(0,o.session)(),r.peerMuted=(0,o.session)(),r.speaker=(0,o.session)(),r.outgoing=(0,o.session)(),r.startTime=(0,o.session)(),r.showFullscreenCallView=(0,o.session)(!1),r.showCallStatusBar=(0,o.session)(!1),r.externalInputAvailable=(0,o.session)(),r.interrupted=(0,o.session)(),r.peerBusy=(0,o.session)(),r.peerVideoState=(0,o.session)(),r.voipWindowId=(0,o.session)(),s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"onStateChange",value:function(){}},{key:"onAudioOutputChange",value:function(){}},{key:"overrideOutputRoute",value:function(e){return Promise.resolve()}}]),t}();l.Proxy="callUi",t.default=l},bgdibijceg:function(e,t){e.exports={1:["AS","AI","AG","BS","BB","BM","VG","CA","KY","DM","DO","GD","GU","JM","MS","MP","PR","KN","LC","VC","SX","TT","TC","VI","US"],7:["KZ","RU"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CX","CC"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["YT","RE"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["AX","FI"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],379:["VA"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["BQ","CW"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]}},bgebiidch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){switch(e[0]){case"asleep":break;case"update":var t=e[2],n=void 0,i=void 0;"number"==typeof e[1]?i=e[1]:n=!!e[1],o.default.update(t,n,i);break;case"killsw":o.default.killServiceWorker();break;case"update_desktop":var u=r(e,5),s=(u[0],u[1]),l=u[2],c=u[3],f=u[4],d=o.default.activeVersion.lt(s)?Number.parseInt(l,10):void 0,p=o.default.activeVersion.lt(c);o.default.update(void 0,p,d,f);break;case"desktop_manual_download":break;default:a.default.error("Stream:handle unknown cmd "+e[0],e)()}};var a=i(n("bdiiahhjbe")),o=i(n("cbbhbjebii"));function i(e){return e&&e.__esModule?e:{default:e}}},bgedbhhbbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=g(n("effbcehec")),o=n("dacdidjdfi"),i=g(o),u=g(n("gbfffciea")),s=g(n("ceffhbhahb")),l=g(n("bdiiahhjbe")),c=g(n("dgdjiicfdg")),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),d=g(n("dagdiahdfi")),p=n("bfjajhbdf"),h=g(p),m=g(n("eedjbihej")),b=g(n("ejdjhbacj"));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y={title:0,hour:1,day:24,week:168},_=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={notifications:d.default.getGlobalNotifications(),sounds:d.default.getGlobalSounds(),previews:d.default.getGlobalPreviews(),dnd:y.title},r.onSounds=function(){var e=!r.state.sounds;r.setState({sounds:e}),d.default.setGlobalSounds(e)},r.onNotifications=function(){var e=!r.state.notifications;r.setState({notifications:e}),d.default.setGlobalNotifications(e)},r.onPreviews=function(){var e=!r.state.previews;r.setState({previews:e}),d.default.setGlobalPreviews(e)},r.onDND=function(e){if(e.target&&e.target.value){var t=parseInt(e.target.value,10);if(0===t)return r.setState({dnd:y.title}),void d.default.globalMute().unmute();r.setState({dnd:t});var n=(0,c.default)().unix()+60*t*60;d.default.globalMute().mute(n)}},r.onClose=function(){u.default.closeModal()},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.Component),r(t,[{key:"componentWillUnmount",value:function(){this.state.dnd!==y.title&&u.default.openToast(f.createElement(h.default,{msg:this.globalMuteDurationLabel(this.state.dnd),id:(0,p.genId)()}))}},{key:"globalMuteDurationLabel",value:function(e){switch(this.state.dnd){case 1:return l10n.t(462);case 24:return l10n.t(461);case 168:return l10n.t(463);default:return l.default.log("DoNotDisturbSettings:globalMuteDurationLabel non standard global mute duration:"+e)(),l10n.t(460)}}},{key:"render",value:function(){var e=[];if(window.Notification){e.push(f.createElement("div",{className:b.default.section,onClick:this.onNotifications,key:0},f.createElement("div",{"data-a8n":a.default.key("menu-icon-notifications"),className:b.default.control},f.createElement(i.default,{onChange:this.onNotifications,checked:this.state.notifications?o.CHECKBOX_STATE.CHECKED:o.CHECKBOX_STATE.UNCHECKED})),f.createElement("div",{"data-a8n":a.default.key("option-desktop-notifications"),className:b.default.label},l10n.t(832))));var t=(0,s.default)(b.default.section,{[b.default.disabled]:!this.state.notifications});e.push(f.createElement("div",{className:t,onClick:this.onPreviews,key:1},f.createElement("div",{"data-a8n":a.default.key("menu-icon-notifications"),className:b.default.control},f.createElement(i.default,{onChange:this.onPreviews,checked:this.state.previews?o.CHECKBOX_STATE.CHECKED:o.CHECKBOX_STATE.UNCHECKED})),f.createElement("div",{"data-a8n":a.default.key("option-msg-previews"),className:b.default.label},l10n.t(833),f.createElement(m.default,{theme:"muted",block:!0},l10n.t(834)))))}return f.createElement("div",{className:b.default.container},f.createElement("div",{className:b.default.section,onClick:this.onSounds},f.createElement("div",{"data-a8n":a.default.key("menu-icon-notifications"),className:b.default.control},f.createElement(i.default,{onChange:this.onSounds,checked:this.state.sounds?o.CHECKBOX_STATE.CHECKED:o.CHECKBOX_STATE.UNCHECKED})),f.createElement("div",{"data-a8n":a.default.key("option-sounds"),className:b.default.label},l10n.t(836))),e,f.createElement("div",{className:(0,s.default)(b.default.section,b.default.sectionWide)},f.createElement("div",{className:b.default.select},f.createElement("select",{"data-a8n":a.default.key("alert-dnd-options"),value:this.state.dnd,onChange:this.onDND},f.createElement("option",{value:y.title},l10n.t(835)),f.createElement("option",{value:y.hour},l10n.t(720)),f.createElement("option",{value:y.day},l10n.t(719)),f.createElement("option",{value:y.week},l10n.t(721))))))}}]),t}();_.displayName="DoNotDisturbSettings",t.default=_},bgefgjjhb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("fifhbjiec")),i=l(n("didfdhbecg")),u=n("caceaafdic"),s=l(n("eahbabfhi"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={date:void 0,visible:!0},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"updateDateMarkerText",value:function(e){this.setState({date:e})}},{key:"setVisibility",value:function(e){this.setState({visible:e})}},{key:"render",value:function(){var e=void 0;return this.state.date&&this.state.visible&&(e=a.createElement("div",{className:s.default.sticky},a.createElement(u.SystemBubble,null,a.createElement(o.default,{direction:"auto",text:this.state.date})))),a.createElement(i.default,{transitionName:"slide-down-date"},e)}}]),t}();f.displayName="StickyDateMarker",t.default=f},bgfcjjddjf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n("cgcgbfbffj")),o=i(n("chghgadcbg"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listenTo(e,"add",e.blockContact),e.listenTo(e,"remove",e.unblockContact),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"blockContact",value:function(e){e.contact().isContactBlocked=!0}},{key:"unblockContact",value:function(e){e.contact().isContactBlocked=!1}}]),t}();u.model=o.default,t.default=new u},bgfebdjaae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.auth,n=e.encFilehash,u=e.hostname,s=e.signal,l=e.type,c=e.onProgress,f=(0,a.default)({auth:t,encFilehash:n,hostname:u,query:{resume:1},type:l}),d={encFilehash:e.encFilehash,type:e.type,url:f};return o.default.log("mmsGetUploadProgress: start",d)(),(0,r.default)(f,{method:"post",signal:s,onProgress:c}).then(function(e){if(e.ok)return e.json();switch(e.status){case 401:throw new i.MMSUnauthorizedError("mmsGetUploadProgress",{url:f});case 404:throw new i.MediaNotFoundError("mmsGetUploadProgress",{url:f});default:throw new i.HttpStatusCodeError(e.status,"mmsGetUploadProgress",{url:f})}}).then(function(e){if(!e.resume)throw new i.HttpInvalidResponseError("mmsGetUploadProgress: missing resume",{url:f});return{directPath:e.direct_path,resume:e.resume,url:e.url}}).then(function(e){return o.default.log("mmsGetUploadProgress: success",d)(),e}).catch(function(e){throw e instanceof i.MediaNotFoundError?o.default.log("mmsGetUploadProgress: expected error",d,e)():o.default.error("mmsGetUploadProgress: error",d,e)(),e})};var r=u(n("dgjijbgdai")),a=u(n("cfgbadhada")),o=u(n("bdiiahhjbe")),i=n("fgeddfbg");function u(e){return e&&e.__esModule?e:{default:e}}},bggbjfdbhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleGroupAction=function(e,t){var n=e.chatId,s=i.default.Chat.get(n);if(!s)return void o.default.error(`model:chat: unknown chat for ${n.toString()}, action ${JSON.stringify(t)}`)();if(!r.default.supportsFeature(r.default.F.MD_BACKEND))return function(e,t,n){var r=t.author,o=Promise.resolve();if(n.action===a.GROUP_ACTIONS.SUBJECT){var i={name:n.subject};o=(0,u.updateLocal)(e.contact.id,i)}return o.then(function(){(0,a.handleGroupAction)(e,r,n)})}(s,e,t)};var r=s(n("ccaaiecfib")),a=n("cicdfhbegf"),o=s(n("bdiiahhjbe")),i=s(n("bhggeigghg")),u=n("dcjbdhhjge");function s(e){return e&&e.__esModule?e:{default:e}}},bggcifcgdc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=I(n("ceffhbhahb")),i=I(n("fffdgbfji")),u=I(n("caaaaajeei")),s=I(n("ejegihaeh")),l=I(n("djbgihfhif")),c=I(n("dbdfbgehgj")),f=I(n("gbfffciea")),d=I(n("bjigbaghc")),p=I(n("bjjiehdfge")),h=I(n("djcchigfih")),m=I(n("djbhiedbef")),b=n("dajffajabh"),g=I(b),v=I(n("ccaaiecfib")),y=I(n("bdiiahhjbe")),_=I(n("gicgagfjj")),E=I(n("bhfgbcfeae")),j=I(n("cacbgbjgef")),O=I(n("ihfccfgdf")),S=n("becfabjeeg"),w=I(S),P=I(n("eedjbihej")),M=n("cbcbdjdah"),C=n("bgjddhffji"),T=n("ejbdjaifi"),A=n("bheafeifce"),N=n("ddjgcfjicj"),k=n("cjcghajbag");function I(e){return e&&e.__esModule?e:{default:e}}var R=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));L.call(n);var r=s.default.get(e.product.catalogWid);return n.state={fetching:!(r&&r.fetchedFromServer&&r.productCollection&&e.product.fetchedFromServer),fetchedCatalog:e.refreshCarousel&&r?r:null,deletedProduct:e.product.reviewStatus===k.PRODUCT_REVIEW_STATUS.REJECTED},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;if(v.default.supportsFeature(v.default.F.CATALOG)){var t=this.props,n=t.product,r=t.refreshCarousel,a=t.sessionId,o=n.catalogWid,i=n.id.toString();o&&i&&(s.default.findProduct(o,i).catch(function(t){e.setState({fetching:!1,deletedProduct:!0}),y.default.error("Failed to fetch catalog collection",t)()}),r&&s.default.findCarouselCatalog(o).then(function(t){var n=Array.isArray(t)?t[0]:t;n&&e.setState({fetching:!1,fetchedCatalog:n})}).catch(N.WapDrop,function(e){y.default.warn(e.toString())()}),(0,C.logProductDetailView)((0,A.unproxy)(n),a))}}},{key:"componentWillUnmount",value:function(){if(v.default.supportsFeature(v.default.F.CATALOG)){var e=this.props.product,t=e.catalogWid,n=e.id.toString();if(t&&n){var r=s.default.get(t),a=r&&r.msgProductCollection.get(n);a&&a.fetchedFromServer&&r&&r.msgProductCollection.remove(a)}}}},{key:"renderLoadingBar",value:function(){var e=this.state,t=e.fetching,n=e.deletedProduct,r=this.isRejected(this.props.product),s=n||r,l=s?a.createElement(P.default,{className:u.default.text,theme:"small",color:"danger"},i.default.t(860)):[a.createElement(w.default,{size:14,color:S.colorOptions.highlight,key:"DetailDrawer-loadingBar-spinner"}),a.createElement(P.default,{className:(0,o.default)(u.default.text,u.default.loadingText),theme:"small",key:"DetailDrawer-loadingBar-msg"},i.default.t(871))];return a.createElement("div",{className:(0,o.default)({[u.default.loadingContainer]:t||s,[u.default.shiftUp]:!t&&!s})},l)}},{key:"renderDrawerMenu",value:function(){var e=this.props.product,t=this.state.deletedProduct,n=this.isRejected(e),r=t||n;return!e.fetchedFromServer||r?null:a.createElement(p.default,{onSendProduct:this.onSendProduct,onReportProduct:this.onReportProduct})}},{key:"renderDrawerHeader",value:function(){return a.createElement(g.default,{a8n:"drawer-title-profile",title:i.default.t(857),onBack:this.onBack,type:b.DRAWER_HEADER_TYPE.SMALL,menu:this.renderDrawerMenu()})}},{key:"render",value:function(){if(!v.default.supportsFeature(v.default.F.CATALOG))return null;var e=this.props,t=e.product,n=e.sessionId,r=this.state,o=r.deletedProduct,u=r.fetching,s=r.fetchedCatalog,c=this.isRejected(t),f=o||c;return a.createElement(h.default,{onDrop:this.onBack,key:"product-details-drawer"},this.renderDrawerHeader(),a.createElement(m.default,null,this.renderLoadingBar(),a.createElement(j.default,{product:t,deletedProduct:f,fetching:u,sessionId:n}),a.createElement(E.default,{product:t,onSendChat:this.onSendChat,deletedProduct:f,sessionId:n}),s?a.createElement(l.default,{catalog:s,onProductCatalog:this.onProductCatalog,onProductDetail:this.onProductDetail,filterProductId:t.id.toString(),title:i.default.t(854),animation:!1,sessionId:n}):null))}}]),t}();R.CONCERNS={product:["id","catalogWid","productImageCollection","fetchedFromServer","name","reviewStatus"]};var L=function(){var e=this;this.onReportProduct=function(){var t=e.props,n=t.product,r=t.sessionId;f.default.openModal(a.createElement(_.default,{product:n,sessionId:r}))},this.onSendChat=function(){var t=e.props.product,n=t.catalogWid,r=s.default.get(n);if(r){var a=r.productCollection.get(t.id),o=a?(0,A.unproxy)(a):(0,A.unproxy)(t);if(o){if(n.toString()===d.default.me.toString())return e.onSendProduct();var i=o.productImageCollection.head(),u=i&&i.mediaData;u&&c.default.find(n).then(function(e){f.default.openChatFromUnread(e).then(function(t){if(t){var r=(0,A.unproxy)((0,M.createProductInquiry)(o,n,u));e.composeQuotedMsg=r,f.default.focusChatTextInput(e),window.innerWidth<=1024&&f.default.closeDrawerRight()}})})}}},this.onSendProduct=function(){var t=e.props,n=t.chat,r=t.product,a=r.catalogWid,o=r.productImageCollection,i=r.name,u=s.default.get(a);if(u){var l=u.productCollection.get(r.id),c=l?(0,A.unproxy)(l):(0,A.unproxy)(r);if(c){var d=o.head();if(d){var p=void 0;if(d.mediaData&&d.mediaData.mediaBlob&&d.mediaData.mediaBlob._blob&&(p=d.mediaData.mediaBlob._blob),c&&a&&p){var h=new File([p],`${i}.jpg`,{type:"image/jpeg"});0===c.priceAmount1000&&(c.priceAmount1000=null,c.currency=null),f.default.attachProduct({chat:n,fileOrigin:1,file:h,product:c,catalogWid:a})}}}}},this.onBack=function(){var t=e.props.onBack;if(t)return t()},this.onProductCatalog=function(){var t=e.props,n=t.onProductCatalog,r=t.sessionId;if(n)return n(r)},this.onProductDetail=function(t){var n=e.props,r=n.onProductDetail,a=n.sessionId;if(r)return r(t,a)},this.isRejected=function(e){return e.reviewStatus===k.PRODUCT_REVIEW_STATUS.REJECTED}};R.displayName="ProductDetails",t.default=(0,O.default)((0,T.hoc)(R),R.CONCERNS)},bggdbeiaie:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=l(n("ihfccfgdf")),u=n("ejbdjaifi"),s=l(n("cjfiaefceb"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"genCircle",value:function(e){var t=100+this.props.stroke;return o.createElement("circle",r({cx:t/2,cy:t/2,r:50,fill:"none",strokeLinecap:"round",strokeWidth:this.props.stroke},e))}},{key:"genDasharray",value:function(e,t,n,r){for(var a="",o=0;o<e;o++)a+=o===e-1?`${t} ${n-e*(r+t)+r} `:`${t} ${r} `;return a}},{key:"render",value:function(){var e=this.props,t=e.statusV3,n=e.stroke,r=e.size,a=100+n,i=`0 0 ${a} ${a}`,u=t.totalCount,l=10,c=50*Math.PI*2;c-10*u<1&&(l=c/u/1.2);var f=(c-l*u)/u,d=c/4-l/2,p=t.contact.isMe?0:t.unreadCount,h=u-p,m=void 0;if(p){var b=d+u*(l+f),g=void 0;1!==u&&(g=this.genDasharray(p,f,c,l)),m=this.genCircle({strokeDashoffset:b,strokeDasharray:g,className:s.default.unread})}var v=void 0;if(h){var y=d+h*(l+f),_=void 0;1!==u&&(_=this.genDasharray(h,f,c,l)),v=this.genCircle({strokeDashoffset:y,strokeDasharray:_,className:s.default.read})}return o.createElement("svg",{className:s.default.ring,width:r,height:r,viewBox:i},m,v)}}]),t}();c.CONCERNS={statusV3:["unreadCount","totalCount","contact"]},c.defaultProps={size:48,stroke:4},c.displayName="StatusV3ImageRing",t.default=(0,i.default)((0,u.hocWithDefaults)(c),c.CONCERNS)},bggdhciede:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPushname=function(e){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,a.genId)();var f=(0,l.default)(t);var d=new a.ActionType(l10n.t(144));var p=i.default.pushname;var h=f.then(function(t){return new a.ActionType(l10n.t(141),l10n.t(156),function(){return e(p,n)})}).catch(u.ServerStatusCodeError,function(e){if(e.status>=400)return new a.ActionType(l10n.t(142))}).catch(function(t){throw s.default.error("models:conn:setPushname dropped")(t),new a.ActionType(l10n.t(142),l10n.t(152),function(){return e(status,n)})});o.default.openToast(r.createElement(a.ActionToast,{id:n,initialAction:d,pendingAction:h}));return f.then(function(e){e._duplicate||(i.default.pushname=t,c.default.setPushname(t))})}(e)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("ccihhdchab"),o=f(n("gbfffciea")),i=f(n("bjigbaghc")),u=n("ddjgcfjicj"),s=f(n("bdiiahhjbe")),l=f(n("gfhdfcfge")),c=f(n("egjjcjcg"));function f(e){return e&&e.__esModule?e:{default:e}}},bggeiidigb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"registerContainer",value:function(e){this._containerAPI=e,this._listHandlers&&e.onRegisterList()}},{key:"unregisterContainer",value:function(){delete this._containerAPI}},{key:"triggerScroll",value:function(){this._listHandlers&&this._listHandlers.handleScroll()}},{key:"triggerLayout",value:function(e){this._listHandlers&&this._listHandlers.handleLayout(e)}},{key:"registerList",value:function(e){this._listHandlers=e,this._containerAPI&&this._containerAPI.onRegisterList()}},{key:"unregisterList",value:function(){delete this._listHandlers}},{key:"getScrollTop",value:function(){return this._containerAPI.getScrollTop()}},{key:"setScrollTop",value:function(e){this._containerAPI.setScrollTop(e)}}]),e}();t.default=a},bgghfidcfh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=v(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=v(n("dcaiaeaebb")),u=n("ejbdjaifi"),s=v(n("bjbedjfe")),l=v(n("bffhabgiib")),c=v(n("ihfccfgdf")),f=v(n("didbbgcjac")),d=v(n("cgchdicacf")),p=v(n("djebbfefcf")),h=v(n("bbibiacbfd")),m=v(n("cjdaccjhdg")),b=v(n("bbjadhadbg")),g=v(n("ccaaiecfib"));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){var t=e.className,n=e.loopAnimation,r=e.mediaData,a=e.startAnimation,i=e.renderPreview,u=e.downloadMedia,s=e.onClick;if(r.animationDuration>0&&!n)return o.createElement(p.default,{className:t,mediaData:r,startAnimation:a,onClick:s,placeholderRenderer:g.default.supportsFeature(g.default.F.REPLACE_MEDIABLOB)?i:null,downloadMedia:g.default.supportsFeature(g.default.F.REPLACE_MEDIABLOB)?u:null});var l=function(e){return o.createElement("img",{className:t,draggable:"false",onClick:s,src:e})};return g.default.supportsFeature(g.default.F.REPLACE_MEDIABLOB)?null!=u?o.createElement(b.default,{mediaData:r,placeholderRenderer:i,downloadMedia:u},l):i():r.renderableUrl?l(r.renderableUrl):i()}function _(e){var t=e.className,n=e.loopAnimation,r=e.mediaData,a=e.startAnimation,i=e.renderPreview,u=e.downloadMedia,s=e.onClick;if(r.animationDuration>0){if(g.default.supportsFeature(g.default.F.REPLACE_MEDIABLOB))return null!=u?o.createElement(m.default,{mediaData:r,render:function(e){return o.createElement(h.default,{className:t,loopAnimation:n,blob:e,renderPreview:i,startAnimation:a,onClick:s})},renderPlaceholder:i,downloadMedia:u}):i();var c=r.animationDuration>0&&r.mediaBlob&&r.mediaBlob._blob;return c?o.createElement(h.default,{className:t,loopAnimation:n,blob:c,renderPreview:i,startAnimation:a,onClick:s}):i()}return r.rgbaBuffer?o.createElement(l.default,{className:t,height:r.rgbaHeight,onClick:s,rgbaBuffer:r.rgbaBuffer,width:r.rgbaWidth}):i()}var E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={},n._animatedAsNewMsg=n.props.mediaData.animatedAsNewMsg,n._renderPreview=function(){var e=n.props.mediaData.preview,t=e&&e.url(),r=n._getClassName();return t?o.createElement("img",{className:r,draggable:"false",onClick:n.props.onClick,src:t}):o.createElement(f.default,{className:(0,a.default)(d.default.placeholder,r)})};var r=(0,i.default)();return r.isFulfilled()?n.state.supportsWebp=r.value():r.checkpoint(n.props.rejectOnUnmount()).then(function(e){return n.setState({supportsWebp:e})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"_getClassName",value:function(){return(0,a.default)({[d.default.conversation]:"conversation"===this.props.theme,[d.default.quoted]:"quoted"===this.props.theme,[d.default.composeBoxQuoted]:"composeBoxQuoted"===this.props.theme,[d.default.stickerPanel]:"stickerPanel"===this.props.theme,[d.default.clickable]:Boolean(this.props.onClick)})}},{key:"render",value:function(){var e=this.state.supportsWebp;if(null==e)return this._renderPreview();var t=this._getClassName(),n=this.props.mediaData,r=Boolean(this.props.isNewMsg&&!this._animatedAsNewMsg),a=Boolean(this.props.loopAnimation);return e?o.createElement(y,{className:t,mediaData:n,loopAnimation:a,startAnimation:r,renderPreview:this._renderPreview,onClick:this.props.onClick,downloadMedia:this.props.downloadMedia}):o.createElement(_,{className:t,mediaData:n,loopAnimation:a,startAnimation:r,renderPreview:this._renderPreview,onClick:this.props.onClick,downloadMedia:this.props.downloadMedia})}}]),t}();E.CONCERNS={mediaData:["animatedAsNewMsg","animationDuration","mediaBlob","preview","renderableUrl","rgbaBuffer","rgbaHeight","rgbaWidth"]},E.displayName="Sticker",t.default=(0,s.default)((0,c.default)((0,u.hoc)(E),E.CONCERNS))},bggjbiacd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.className,n=e.element,o=e.emoji,u=e.selectable,f=e.selected,d=e.size,p=e.src,h=e.onLoad,m=e.tabIndex,b=s(o);if(!b)return null;var g=void 0,v=void 0;p||(g=l(b,d),v=c(b,d));var y=(0,a.default)(t,v,{selected:f});return"span"===n?r.createElement("span",{className:y,style:g,onLoad:h,tabIndex:m,"data-unicode":e["data-unicode"],"data-variant":e["data-variant"],"data-emoji-index":e["data-emoji-index"]}):r.createElement(i.default,{alt:o,className:y,draggable:!1,onLoad:h,plainText:o,selectable:u,style:g,src:p})};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("ceffhbhahb")),o=u(n("djegeegcbf")),i=u(n("cajbifjffe"));function u(e){return e&&e.__esModule?e:{default:e}}var s=o.default.getEmojiFromUnicode,l=o.default.getStyle,c=o.default.getClasses},bghbcggigd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=b(n("dhigahgdjb")),u=n("bjgiedaj"),s=b(n("bhheahajjg")),l=n("bbcaggdbc"),c=b(n("djbfhebjhe")),f=b(n("caacedccf")),d=b(n("ceffhbhahb")),p=b(n("djhbegbdaf")),h=b(n("bfdcadbbif")),m=b(n("iiaihjfbi"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=l.PaymentInfo.STATUS,y="failed",_="processing",E="waiting",j="success",O=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),h=0;h<a;h++)l[h]=arguments[h];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.getPaymentTypeMsg=function(){var e;if(!r.props.receiverJid)return null;var t=i.default.get(r.props.receiverJid);switch(e=t?o.createElement(s.default,{contact:t,showNotifyName:!0}):(0,c.default)(r.props.receiverJid),r.props.messageStubType){case"send":return o.createElement(p.default,{id:1241,params:{receiverName:e}});case"request":return o.createElement(p.default,{id:1240,params:{receiverName:e}});default:return null}},r.getCurrencyRegex=function(e){switch(e){case"MXN":return/(^\D{3})(.*(?=\.))(.*)/g;default:return/(^\D)(.*(?=\.))(.*)/g}},r.renderAmount=function(){var e=(0,u.format)(r.props.currency,r.props.amount1000),t=r.getCurrencyRegex(r.props.currency).exec(e);if(!t)return null;var n=[t[1],t[2],t[3]],a=n[0],i=n[1],s=n[2];return o.createElement("div",{className:f.default.container},o.createElement("div",{className:(0,d.default)(f.default.thumb,{"bg-payments":!r.props.isQuoted})},o.createElement("div",{className:f.default.amount},o.createElement("span",{className:f.default.amountCurrency},a),o.createElement("span",{className:f.default.amountInteger},i),o.createElement("span",{className:f.default.amountDecimal},s))))},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"paymentStatusStr",value:function(e){var t=void 0,n=void 0;switch(e){case v.PROCESSING:t=l10n.t(1247),n=_;break;case v.SENT:t=l10n.t(1252),n=_;break;case v.NEED_TO_ACCEPT:t=l10n.t(1246),n=E;break;case v.COMPLETE:t=l10n.t(1243),n=j;break;case v.COULD_NOT_COMPLETE:t=l10n.t(1244),n=y;break;case v.REFUNDED:n=y,t=l10n.t(1250);break;case v.EXPIRED:n=y,t=l10n.t(1245);break;case v.REJECTED:n=y,t=l10n.t(1251);break;case v.CANCELLED:n=_,t=l10n.t(1242);break;case v.WAITING_FOR_PAYER:n=E,t=l10n.t(1257);break;default:t="",n=E}return this.props.isGroupMsg&&(n=_),[t,n]}},{key:"render",value:function(){var e=this.paymentStatusStr(this.props.paymentStatus),t=r(e,2),n=t[0],a=t[1],i=(0,d.default)({[f.default.bubbleOut]:this.props.isSentByMe,[f.default.bubbleIn]:!this.props.isSentByMe,[f.default.quotedMsg]:!!this.props.isQuoted,[f.default.quotedMsgInComposeBox]:"composeBox"===this.props.theme}),u="send"===this.props.messageStubType?o.createElement(h.default,{name:"payment-send"}):o.createElement(h.default,{name:"payment-request"}),s=o.createElement("div",{className:f.default.icon},o.createElement(h.default,{className:f.default.iconSymbol,name:"currency-dollar"}),u),l=this.getPaymentTypeMsg(),c=void 0;if(this.props.isQuoted&&this.props.quotedMsgAuthor)c=o.createElement("div",{className:f.default.quotedMsgAuthor},this.props.quotedMsgAuthor,l);else{var p=void 0;if(n){var b=this.props.hasCaption?o.createElement("div",{className:f.default.status},n):o.createElement(m.default,{msg:this.props.msg,className:f.default.status},n);p=o.createElement(o.Fragment,null,o.createElement("div",{className:f.default.receiverTxt},l),b)}else p=this.props.hasCaption?o.createElement("div",{className:f.default.receiverTxt},l):o.createElement(m.default,{msg:this.props.msg,className:f.default.receiverTxt},l);c=o.createElement("div",{className:(0,d.default)(f.default.body,f.default[a])},o.createElement("div",{className:f.default.bodyIcon},s),o.createElement("div",{className:f.default.bodyText},p))}return o.createElement("div",{className:i},this.renderAmount(),c)}}]),t}();O.displayName="PaymentInfo",t.default=O},bghjfahjfd:function(e,t){e.exports={muted:"Kc873",cursorAuto:"_2W3Ap"}},bgidiahdfc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("hajciceai"));t.default=function(e){if(e===c)return;c=e;var t=o.default.skinToneVariations,i=void 0,s=void 0,d=void 0;e===a.EMOJI_TYPE.APPLE?(i=n("jjjdieajj"),s=n("cjjefedaad"),d=n("hddfjdhii")):(i=n("dacbiajefj"),s=n("beiahcfigb"),d=n("cifhabcfgj"));var p=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(i),h=f(f({},s),i),m={};(0,r.default)(i).forEach(function(e){var n=o.default.variantToUnicode(e,t[0]);i[n]&&(m[e]=e,t.map(function(t){var n=o.default.variantToUnicode(e,t);m[n]=e}))}),o.default.skinToneEmojis=m;var b={},g=Object.keys(p).length,v=g-g%l,y=Math.floor(Math.sqrt(g-v));Object.keys(d).forEach(function(e){var t=a.CATEGORY_ORDERING.indexOf(e),n=d[e];n.forEach(function(e,n){b[e]=t})}),o.default.configure({emojiType:e,emojiMap:h,emojiToUnicode:p,emojiCategory:d,emojiCached:new u.default(g),emojiIdToCategory:b,lastBucketId:v,lastBucketCols:y})};var a=n("bbicdddbdj"),o=s(n("djegeegcbf")),i=s(n("cjedbjfabb")),u=s(n("ifbfjgchd"));function s(e){return e&&e.__esModule?e:{default:e}}var l=i.default.EMOJI.BUCKET_SIZE,c=void 0;function f(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}},bgiegbhhbf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,a=[],o=0;o<t.length;++o){for(var i=r(t[o],2),u=i[0],s=i[1],l=u.match(e,s,n),c=[],f=l.length,d=0,p=l[d];d<f;p=l[++d])c[d]=[p[0],p[1],p[2],p[3],o,p[4]];c.length&&a.push(c)}for(var h=0;h<a.length;h++){var m=t[a[h][0][4]][0].conflictResolvers;if(m)for(var b=0;b<a.length;b++){var g=t[a[b][0][4]][0],v=m.get(g);v&&v(a[h],a[b])}}for(var y=[],_=0;_<a.length;++_)y[_]=a[_].length-1;var E=[],j=0;for(;a.length;){for(var O=0,S=-1;O<a.length;++O)a[O][y[O]][0]>S&&(j=O,S=a[O][y[O]][0]);E.push(a[j][y[j]]),--y[j]<0&&(a.splice(j,1),y.splice(j,1))}return E}},bgjaficfde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("bhhdeihhhf")),i=s(n("ihfccfgdf")),u=n("ejbdjaifi");function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.disabled,r=this.props.onArchive.bind(null,!t.archive);return a.createElement(o.default,{a8n:"mi-archive",action:r,key:"ArchiveMenuItem",disabled:n},t.archive?l10n.t(1025):l10n.t(180))}}]),t}();l.CONCERNS={chat:["archive"]},l.displayName="ArchiveMenuItem",t.default=(0,i.default)((0,u.hoc)(l),l.CONCERNS)},bgjddhffji:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logBusinessProfileCatalogView=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_CARD_IMPRESSION,catalogEntryPoint:o.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE,catalogOwnerJid:e,catalogSessionId:t}).commit()},t.logProfileProductClick=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_CARD_ITEM_CLICK,catalogEntryPoint:o.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logCarouselViewMoreClick=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_CARD_MORE_CLICK,catalogOwnerJid:e,catalogSessionId:t}).commit()},t.logCatalogListView=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_LIST_IMPRESSION,catalogOwnerJid:e,catalogSessionId:t}).commit()},t.logCatalogListDetailClick=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_LIST_ITEM_CLICK,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logDetailImageClick=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_IMAGE_CLICK,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logDetailLinkClick=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_LINK_CLICK,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logFullImageView=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_FULL_IMAGE_IMPRESSION,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logImageNavigate=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_FULL_IMAGE_SWIPE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logProductDetailView=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_DETAIL_IMPRESSION,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logReportProduct=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_REPORT_PRODUCT,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logReportProductSuccess=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_REPORT_PRODUCT_SUCCESS,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logReportProductFailure=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_REPORT_PRODUCT_FAILURE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logProductInquiryClick=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_QUOTED_PRODUCT_IN_CONVERSATION_CLICK,catalogEntryPoint:o.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_MESSAGE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()},t.logProductMsgClick=function(e,t){new o.default.CatalogView({catalogViewAction:o.default.CATALOG_VIEW_ACTION.ACTION_PRODUCT_IN_CONVERSATION_CLICK,catalogEntryPoint:o.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_MESSAGE,productId:e.id.toString(),catalogOwnerJid:e.catalogWid.toString(),catalogSessionId:t}).commit()};var r,a=n("bfbggcdbfb"),o=(r=a)&&r.__esModule?r:{default:r}},bhaaifddjf:function(e,t){e.exports={muted:"r8VY9",container:"qiFt5",wrapper:"FXIEb",mask:"_1HTIY",bg:"_3MP3K",foreground:"_2ON21",filled:"_3u9U6",empty:"_2KImX",active:"xiH0N"}},bhacbjbjic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;return e.every(function(e,n){return e===t[n]})}},bhagdhdadd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=3988292384,a=void 0;function o(e,t){var n=t;for(a||(a=function(){for(var e=new Uint32Array(256),t=0,n=0,a=0;t<256;n=++t){for(a=0;a<8;++a)n=1&n?n>>>1^r:n>>>1;e[t]=n}return e}());e.size();)n=a[255&(n^e.readUint8())]^n>>>8;return~n>>>0}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4294967295;return e.peek(o,t)}},bhaigiibeh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=L(n("ddhijeejag")),o=R(n("eadfaddcj")),i=R(n("gbfffciea")),u=R(n("ceffhbhahb")),s=R(n("djcchigfih")),l=R(n("djbhiedbef")),c=n("dajffajabh"),f=R(c),d=R(n("dgjacfgggf")),p=n("dcecgegjfc"),h=L(p),m=R(n("bdiiahhjbe")),b=R(n("jgcieiibj")),g=R(n("dgfecega")),v=R(n("beeieigghj")),y=R(n("didfdhbecg")),_=R(n("cdjhjdcbeg")),E=R(n("becfabjeeg")),j=R(n("ceddibdhdb")),O=R(n("edbaidcaf")),S=R(n("ccfdaijebj")),w=n("ejbdjaifi"),P=R(n("bfdcadbbif")),M=R(n("bbcjhfahhb")),C=n("bfbggcdbfb"),T=R(n("bjbedjfe")),A=L(n("cajijabhgb")),N=n("ffchhcfdj"),k=R(N),I=R(n("cdcfgefbba"));function R(e){return e&&e.__esModule?e:{default:e}}function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var G="CAPTURE_MEDIA",F={ANIMATING:"ANIMATING",LOADING:"LOADING",RECORDING:"RECORDING",SENDING:"SENDING"},B=function(e){function t(){var e,n,r;D(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=x(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={state:F.ANIMATING,stream:void 0,img:void 0,caption:void 0,videoSize:void 0},r.videoRef=null,r.startTimer=new j.default(function(e){r.loadNewStream(e)}),r.loadNewStream=function(e){e?(r.setState({state:F.LOADING,stream:e}),(0,p.isSrcObjectInVideoElement)()||(e?(window.URL.revokeObjectURL(r.url),r.url=window.URL.createObjectURL(e)):(window.URL.revokeObjectURL(r.url),r.url=void 0))):r.state.state===F.ANIMATING&&r.setState({state:F.LOADING})},r.stopStreamTimer=new j.default(function(e){e&&h.stop(e),(0,p.isSrcObjectInVideoElement)()||(r.url=window.URL.revokeObjectURL(r.url))}),r.onCapture=function(){if(r.videoRef){var e=r.videoRef.underlyingVideo();if(e){var t=r.props.chat,n=document.createElement("canvas");n.height=e.videoHeight,n.width=e.videoWidth;var a=n.getContext("2d");if(a){a.translate(n.width,0),a.scale(-1,1),a.drawImage(e,0,0,e.videoWidth,e.videoHeight);var o=r.props.onCaptured;if(o)d.default.canvasToBlob(n).then(function(e){o(e)});else{r.stopStreamTimer.onOrBefore(500,r.state.stream),r.mediaLogger=new M.default,r.mediaLogger.logAdd(G,"image",C.MEDIA_PICKER_ORIGIN_TYPE.MENU_CAMERA_CAPTURE),r.mediaLogger.chatRecipients=t&&t.groupMetadata?t.groupMetadata.participants.length:1;var i=n.toDataURL("image/jpeg");r.setState({state:F.SENDING,stream:void 0,img:i})}}else m.default.warn("CaptureDrawer:onCapture can not get 2d context")()}}},r.onVideoLoaded=function(e){r.setState({state:F.RECORDING,videoSize:{width:e.videoWidth,height:e.videoHeight}})},r.onRetake=function(){r.setState({state:F.LOADING,caption:void 0});var e=h.start("camera");Promise.race([e,r.props.rejectOnUnmount()]).checkpoint(r.props.rejectOnUnmount()).then(function(e){e&&((0,p.isSrcObjectInVideoElement)()||(r.url=window.URL.createObjectURL(e)),r.setState({stream:e}))}).catch(A.Unmount,function(){e.then(function(e){return h.stop(e)}).catch(function(){})}).catch(A.GUM.NotAllowedError,function(){r.props.onBack(),i.default.openModal(a.createElement(k.default,{messaging:N.Messaging.CAMERA_FAIL,type:k.default.TYPE.GUIDE_UNBLOCK}))}).catch(A.GUM.GUMError,function(){r.props.onBack(),i.default.openModal(a.createElement(k.default,{messaging:N.Messaging.CAMERA_MISSING,type:k.default.TYPE.GUIDE_NONE}))})},r.onSend=function(){var e=r.state,t=e.img,n=e.caption,a=r.props.onSend;if(a)if(t){var o=t,i=r.refCaptionInput&&r.refCaptionInput.refInput,u=[];if(n&&i){var s=i.serialize(n),l=[s[0].trim(),s[1]],c=l[0],f=l[1];c.length&&(n=c,u=f.mentionedJidList||[])}a({getImg:v.default.createFromBase64Jpeg(O.default.parseDataURL(o).data),caption:n,mentionedJidList:u}),r.mediaLogger.logSend()}else m.default.assert(t,"capture-drawer-no-img")();else m.default.assert(a,"capture-drawer-no-onSend")()},r.onCaptionChange=function(e){r.setState({caption:e})},r.setRefCaptionInput=function(e){r.refCaptionInput=e},x(r,n)}return U(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.startTimer.onOrBefore(300,this.props.stream)}},{key:"componentWillUnmount",value:function(){this.startTimer.cancel(),this.url&&window.URL.revokeObjectURL(this.url),this.state.stream&&h.stop(this.state.stream),this.mediaLogger&&this.mediaLogger.logCancel()}},{key:"render",value:function(){var e=void 0,t=void 0,n=void 0,r=void 0,i=void 0;switch(this.state.state){case F.ANIMATING:case F.LOADING:if(i=a.createElement(E.default,{stroke:4,size:50}),this.state.state===F.ANIMATING)break;case F.RECORDING:var d=(0,u.default)(I.default.video,{[I.default.videoInactive]:this.state.stream&&this.state.state===F.LOADING}),p=this.state.stream?a.createElement(S.default,{autoPlay:!0,ref:(0,w.GetRef)("videoRef",this),onPlay:this.onVideoLoaded,src:this.url?this.url:void 0,srcObject:this.url?void 0:this.state.stream}):null;n=this.state.stream?a.createElement("div",{key:"webcam"},a.createElement(g.default,{type:this.props.layoutType,size:this.state.videoSize},a.createElement("div",{className:d,"data-animage-capture-webcam":!0},p))):null,e=this.state.state===F.RECORDING?a.createElement("div",{className:I.default.btn,key:"btn-capture"},a.createElement(_.default,{large:!0,onClick:this.onCapture},a.createElement(P.default,{name:"camera-light"}))):null;break;case F.SENDING:n=a.createElement(g.default,{type:this.props.layoutType,size:this.state.videoSize},a.createElement("img",{className:I.default.image,"data-animate-capture-snapshot":!0,src:this.state.img})),e=a.createElement("div",{className:(0,u.default)(I.default.btn,I.default.btnSend),key:"btn-send"},a.createElement(_.default,{large:!0,onClick:this.onSend},a.createElement(P.default,{name:"send-light",directional:!0}))),t=a.createElement("div",{className:I.default.retakeBtn,onClick:this.onRetake},a.createElement("div",{className:I.default.retakeIcon},a.createElement(P.default,{name:"refresh-light"})),l10n.t(909)),r=this.props.chat?a.createElement(b.default,{ref:this.setRefCaptionInput,chat:this.props.chat,maxLength:o.default.MAX_CAPTION_LENGTH,multiline:!0,onEnter:this.onSend,onChange:this.onCaptionChange,placeholder:l10n.t(157),showRemaining:!0,spellCheck:!0,supportsEmoji:!0,value:this.state.caption}):null;break;default:m.default.log("captureDrawer:render Unhandled video capture state "+this.state.state)()}var h=this.props.caption?a.createElement(y.default,{transitionName:"media-caption",className:I.default.caption},r):null;return a.createElement(s.default,{key:"attach-capture-modal",theme:"capture"},a.createElement(f.default,{title:l10n.t(1017),type:c.DRAWER_HEADER_TYPE.OFFSET,onCancel:this.props.onBack},t),a.createElement(l.default,{overflow:"hidden"},a.createElement("div",{className:I.default.container},i,a.createElement("div",{className:I.default.body},a.createElement(y.default,{transitionName:"capture",className:I.default.videoContainer},n))),a.createElement("div",{className:I.default.footer},h,a.createElement(y.default,{transitionName:"pop_delay"},e))))}}]),t}();B.defaultProps={caption:!1},B.displayName="CaptureDrawer";var $=(0,T.default)((0,w.hoc)(B)),V=function(e){function t(){var e,n,r;D(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=x(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.loadNewStream=function(e){r.getComponent().loadNewStream(e)},x(r,n)}return U(t,$),t}();t.default=V},bhbihjaicd:function(e,t,n){"use strict";var r=n("fdhajffgc"),a=function e(t){var n=t;if(!e.isRecordingSupported())throw"Recording is not supported in this browser";this.audioContext=new window.AudioContext,this.config=n=n||{},this.config.command="encode-init",this.config.bufferLength=n.bufferLength||4096,this.config.monitorGain=n.monitorGain||0,this.config.numberOfChannels=n.numberOfChannels||1,this.config.originalSampleRate=this.audioContext.sampleRate,this.config.encoderSampleRate=n.encoderSampleRate||48e3,this.config.streamPages=n.streamPages||!1,this.config.leaveStreamOpen=n.leaveStreamOpen||!1,this.config.maxBuffersPerPage=n.maxBuffersPerPage||40,this.config.encoderApplication=n.encoderApplication||2049,this.config.encoderFrameSize=n.encoderFrameSize||20,this.config.streamOptions=n.streamOptions||{optional:[],mandatory:{googEchoCancellation:!1,googAutoGainControl:!1,googNoiseSuppression:!1,googHighpassFilter:!1}},this.storePage=this._storePage.bind(this),this.streamPage=this._streamPage.bind(this),this.state="inactive",this.eventTarget=document.createDocumentFragment(),this.createAudioNodes()};a.isRecordingSupported=function(){return window.AudioContext&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia},a.prototype.addEventListener=function(e,t,n){this.eventTarget.addEventListener(e,t,n)},a.prototype.clearStream=function(){this.stream&&(this.stream.getTracks().forEach(function(e){e.stop()}),delete this.stream)},a.prototype.createAudioNodes=function(){var e=this;this.scriptProcessorNode=this.audioContext.createScriptProcessor(this.config.bufferLength,this.config.numberOfChannels,this.config.numberOfChannels),this.scriptProcessorNode.onaudioprocess=function(t){e.encodeBuffers(t.inputBuffer)},this.monitorNode=this.audioContext.createGain(),this.setMonitorGain(this.config.monitorGain),this.config.sampleRate<this.audioContext.sampleRate&&this.createButterworthFilter()},a.prototype.createButterworthFilter=function(){this.filterNode=this.audioContext.createBiquadFilter(),this.filterNode2=this.audioContext.createBiquadFilter(),this.filterNode3=this.audioContext.createBiquadFilter(),this.filterNode.type=this.filterNode2.type=this.filterNode3.type="lowpass";var e=this.config.sampleRate/2;this.filterNode.frequency.value=this.filterNode2.frequency.value=this.filterNode3.frequency.value=e-e/3.5355,this.filterNode.Q.value=.51764,this.filterNode2.Q.value=.70711,this.filterNode3.Q.value=1.93184,this.filterNode.connect(this.filterNode2),this.filterNode2.connect(this.filterNode3),this.filterNode3.connect(this.scriptProcessorNode)},a.prototype.encodeBuffers=function(e){if("recording"===this.state){for(var t=[],n=0;n<e.numberOfChannels;n++)t[n]=e.getChannelData(n);this.encoder.postMessage({command:"encode",buffers:t}),this.duration+=e.duration,this.eventTarget.dispatchEvent(new CustomEvent("duration",{detail:this.duration}))}},a.prototype.initStream=function(e){if(this.stream)this.eventTarget.dispatchEvent(new Event("streamReady"));else{if(e)return this.stream=e,this.sourceNode=this.audioContext.createMediaStreamSource(e),this.sourceNode.connect(this.filterNode||this.scriptProcessorNode),this.sourceNode.connect(this.monitorNode),void this.eventTarget.dispatchEvent(new Event("streamReady"));var t=this;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia({audio:this.config.streamOptions}).then(function(e){t.stream=e,t.sourceNode=t.audioContext.createMediaStreamSource(e),t.sourceNode.connect(t.filterNode||t.scriptProcessorNode),t.sourceNode.connect(t.monitorNode),t.eventTarget.dispatchEvent(new Event("streamReady"))}).catch(function(e){t.eventTarget.dispatchEvent(new ErrorEvent("streamError",{error:e}))})}},a.prototype.pause=function(){"recording"===this.state&&(this.state="paused",this.eventTarget.dispatchEvent(new Event("pause")))},a.prototype.removeEventListener=function(e,t,n){this.eventTarget.removeEventListener(e,t,n)},a.prototype.resume=function(){"paused"===this.state&&(this.state="recording",this.eventTarget.dispatchEvent(new Event("resume")))},a.prototype.setMonitorGain=function(e){this.monitorNode.gain.value=e},a.prototype.start=function(){"inactive"===this.state&&this.stream&&(this.encoder=new r,this.config.streamPages?this.encoder.addEventListener("message",this.streamPage):(this.recordedPages=[],this.totalLength=0,this.encoder.addEventListener("message",this.storePage)),this.encodeBuffers=function(){delete this.encodeBuffers},this.duration=0,this.state="recording",this.monitorNode.connect(this.audioContext.destination),this.scriptProcessorNode.connect(this.audioContext.destination),this.eventTarget.dispatchEvent(new Event("start")),this.eventTarget.dispatchEvent(new CustomEvent("duration",{detail:this.duration})),this.encoder.postMessage(this.config))},a.prototype.stop=function(){"inactive"!==this.state&&(this.state="inactive",this.audioContext.close&&this.audioContext.close(),this.monitorNode.disconnect(),this.scriptProcessorNode.disconnect(),this.config.leaveStreamOpen||this.clearStream(),this.encoder.postMessage({command:"encode-done"}))},a.prototype._storePage=function(e){var t=e.data;if(this.recordedPages.push(t),this.totalLength+=t.length,4&t[5]){this.encoder.removeEventListener("message",this.storePage);for(var n=new Uint8Array(this.totalLength),r=0,a=0;a<this.recordedPages.length;a++)n.set(this.recordedPages[a],r),r+=this.recordedPages[a].length;this.eventTarget.dispatchEvent(new CustomEvent("dataAvailable",{detail:new Blob([n],{type:"audio/ogg; codecs=opus"})})),this.recordedPages=[],this.eventTarget.dispatchEvent(new Event("stop"))}},a.prototype._streamPage=function(e){var t=e.data;this.eventTarget.dispatchEvent(new CustomEvent("dataAvailable",{detail:new Blob([t],{type:"audio/ogg; codecs=opus"})})),4&t[5]&&(this.encoder.removeEventListener("message",this.streamPage),this.eventTarget.dispatchEvent(new Event("stop")))},e.exports=a},bhcacchcde:function(e,t){e.exports={muted:"lIVRp",section:"_2eMOq",control:"_3__0E",label:"DiGkU"}},bhcdajjdgi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=v(n("dhigahgdjb")),o=n("cicgeajfge"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=v(n("beijddaacj")),s=n("dhfbfehaef"),l=v(s),c=n("bbhhbdicgc"),f=v(c),d=v(n("cbgeijgefb")),p=v(n("dgjddffcfg")),h=v(n("bdebgadbea")),m=n("bfjajhbdf"),b=v(m),g=v(n("gbfffciea"));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _={SEC_CONTACTS:"SEC_CONTACTS"},E={ROW_CONTACTS:"ROW_CONTACTS"},j=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.setList=function(e){return r.list=e},r.state={filteredData:r.calculateFilteredData(r.props.searchText)},r.renderItem=function(e){switch(e.type){case _.SEC_CONTACTS:return i.createElement(d.default,{header:l10n.t(1102)});case E.ROW_CONTACTS:var t=e.data,n=r.props,a=n.isDisabled,o=n.customSecondaryText;return i.createElement(u.default,{key:t.id.toString(),customSecondaryText:o&&o(t.id),chat:t,active:r.props.activeChat,selections:r.props.selectedChats,disabled:a&&a(t.id),checked:!!r.props.isSelected&&r.props.isSelected(t.id),onSelect:r.handleSelect,allowBlockedContacts:r.props.allowBlockedContacts});default:throw new c.UnknownDataError(e)}},r.handleSelect=function(e,t,n){var a=r.props,o=a.selectedChats,u=a.maxContacts,s=a.activeChat,l=a.onSelectionChanged;t&&"number"==typeof u&&o.getSelected().length>=u?g.default.openToast(i.createElement(b.default,{id:(0,m.genId)(),msg:l10n.t(717,{count:u,_plural:u})})):(o.setVal(e,t,n),s.setVal(e,n),l&&l(e,t))},r.onFocusList=function(e){e.preventDefault(),e.stopPropagation(),(0,s.shouldIndicateFocus)(),r.props.activeChat.setFirst(!0),r.list&&r.list.scrollIntoViewIfNeeded(r.props.activeChat.index)},r.onNext=function(e){e.preventDefault(),e.stopPropagation(),r.props.activeChat.setNext(!0),r.list&&r.list.scrollIntoViewIfNeeded(r.props.activeChat.index)},r.onPrev=function(e){e.stopPropagation(),e.preventDefault(),r.props.activeChat.prev()>-1?(r.props.activeChat.setPrev(!0),r.list&&r.list.scrollIntoViewIfNeeded(r.props.activeChat.index)):r.props.onLeaveList&&(r.props.onLeaveList(e),r.clearActive())},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.props.activeChat.init(this.flattenData(this.state.filteredData)),this.props.getInitialItems&&this.props.getInitialItems().forEach(function(t){return e.props.selectedChats.setVal(t,!0)})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.searchText!==this.props.searchText){var t=this.calculateFilteredData(e.searchText);this.setState({filteredData:t}),this.props.activeChat.init(this.flattenData(t))}}},{key:"calculateFilteredData",value:function(e){return{contacts:this.calculateFilteredContacts(e)}}},{key:"calculateFilteredContacts",value:function(e){var t=e,n=this.props,r=n.filter,o=n.useAllContacts?a.default.toArray():a.default.getFilteredContacts();if(r&&(o=o.filter(function(e){return r(e)})),!t)return o;t=l10n.accentFold(t);var i=p.default.numberSearch(t);return o.filter(function(e){return e.searchMatch(t,i)})}},{key:"flattenData",value:function(e){return e.contacts}},{key:"isEmpty",value:function(){return!this.state.filteredData.contacts.length}},{key:"getData",value:function(){var e=[],t=this.state.filteredData.contacts;return t.length&&(e.push({itemKey:_.SEC_CONTACTS,type:_.SEC_CONTACTS}),e.push.apply(e,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.map(function(e){return{itemKey:e.id.toString(),type:E.ROW_CONTACTS,data:e}})))),e}},{key:"getList",value:function(){return this.isEmpty()?null:i.createElement(f.default,{ref:this.setList,flatListController:this.props.flatListController,forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem})}},{key:"toggleFirst",value:function(e){if(this.state.filteredData.contacts.length){var t=this.state.filteredData.contacts[0],n=!this.props.selectedChats.isSelected(t);this.handleSelect(t,n,e)}}},{key:"clearActive",value:function(){this.props.activeChat.unset()}},{key:"render",value:function(){var e=this.getList();e||(e=this.props.searchText?i.createElement(o.Search,null):i.createElement(o.ListChats,null));var t={down:this.onNext,up:this.onPrev};return i.createElement(l.default,{handlers:t,className:h.default.column,onFocus:this.onFocusList},e)}}]),t}();j.displayName="ContactsSelectModal",t.default=j},bhcdbgbbad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=j(n("djfhiaaehb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=j(n("dbdfbgehgj")),u=j(n("bjigbaghc")),s=j(n("dcjdgceiej")),l=j(n("bfejacaeaj")),c=j(n("gbfffciea")),f=j(n("fifhbjiec")),d=j(n("chjdbchg")),p=j(n("djhbegbdaf")),h=j(n("bdiiahhjbe")),m=j(n("bfdcadbbif")),b=j(n("ihfccfgdf")),g=n("ejbdjaifi"),v=j(n("djbfhebjhe")),y=j(n("jccfhaecf")),_=j(n("cffhcdjiff")),E=n("jegbhjbde");function j(e){return e&&e.__esModule?e:{default:e}}var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"stopEvent",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"openInfoDrawer",value:function(){var e=this;return function(t){e.stopEvent(t),c.default.chatInfoDrawer(e.props.msg.chat)}}},{key:"openGroupInviteLinkDrawer",value:function(){var e=this;return function(t){e.stopEvent(t);var n=e.props.msg.chat;c.default.openDrawerRight(o.createElement(d.default,{chat:n,groupMetadata:n.groupMetadata,onBack:function(){return c.default.closeDrawerRight()}}),"slide-left",e.context.uim)}}},{key:"openExpandedGroupDesc",value:function(){var e=this;return function(t){e.stopEvent(t);var n=e.props.msg.chat;c.default.chatInfoDrawer(n,!0)}}},{key:"openChat",value:function(e){var t=this;return function(n){t.stopEvent(n),i.default.find(e).then(function(e){c.default.openChatFromUnread(e).then(function(t){t&&c.default.focusChatTextInput(e)})})}}},{key:"getFormattedText",value:function(e){return o.createElement(f.default,{direction:"auto",text:e})}},{key:"isMe",value:function(e){return y.default.equals(e,u.default.me)}},{key:"_renderGroupNotificationL10n",value:function(e,t,n,r){var a=t?(0,E.getFormattedName)(t,!this.props.clickable):null;switch(e){case"add":return this.isMe(t)?o.createElement(p.default,{id:1165}):o.createElement(p.default,{id:1164,params:{name:a}});case"remove":return this.isMe(t)?o.createElement(p.default,{id:1177}):o.createElement(p.default,{id:1176,params:{name:a}});case"leave":return this.isMe(t)?o.createElement(p.default,{id:1173}):o.createElement(p.default,{id:1172,params:{name:a}});case"picture":return"remove"===r?this.isMe(t)?o.createElement(p.default,{id:1269}):o.createElement(p.default,{id:1268,params:{name:a}}):this.isMe(t)?o.createElement(p.default,{id:1267}):o.createElement(p.default,{id:1266,params:{name:a}});case"subject":var i=this.getFormattedText(r);return this.isMe(t)?o.createElement(p.default,{id:1189,params:{subject:i}}):o.createElement(p.default,{id:1188,params:{subject:i,name:a}});case"modify":if(this.isMe(t)){var u=(0,v.default)(r);return o.createElement(p.default,{id:1167,params:{new_number:u,name:a}})}return o.createElement(p.default,{id:1166,params:{name:a}});default:h.default.log("wa:groupNotification:unknown message subtype: "+e)()}}},{key:"_renderGp2L10n",value:function(e,t,n,a,i){var u=t?(0,E.getFormattedName)(t,!this.props.clickable):null,s=i?(0,r.default)(i):void 0,l=s?(0,E.getFormattedName)(s,!this.props.clickable):null,c=(0,E.getFormattedNames)(i,!this.props.clickable);switch(e){case"add":return t?this.isMe(t)?o.createElement(p.default,{id:1182,params:{participants:c}}):this.isMe(s)?o.createElement(p.default,{id:1179,params:{name:u}}):o.createElement(p.default,{id:1178,params:{participants:c,name:u}}):this.isMe(s)?o.createElement(p.default,{id:1165}):o.createElement(p.default,{id:1164,params:{name:l}});case"remove":return t?y.default.equals(t,s)?o.createElement(p.default,{id:1177}):this.isMe(t)?o.createElement(p.default,{id:1183,params:{participants:c}}):this.isMe(s)?o.createElement(p.default,{id:1181,params:{name:u}}):o.createElement(p.default,{id:1180,params:{participants:c,name:u}}):this.isMe(s)?o.createElement(p.default,{id:1177}):o.createElement(p.default,{id:1176,params:{name:l}});case"leave":return this.isMe(s)?o.createElement(p.default,{id:1173}):o.createElement(p.default,{id:1172,params:{name:c}});case"picture":return"remove"===a?this.isMe(t)?o.createElement(p.default,{id:1269}):o.createElement(p.default,{id:1268,params:{name:u}}):this.isMe(t)?o.createElement(p.default,{id:1267}):o.createElement(p.default,{id:1266,params:{name:u}});case"subject":var f=this.getFormattedText(a);return this.isMe(t)?o.createElement(p.default,{id:1189,params:{subject:f}}):o.createElement(p.default,{id:1188,params:{name:u,subject:f}});case"modify":var d=(0,v.default)(t),m=(0,v.default)(s);return d===n?o.createElement(p.default,{id:1167,params:{name:n,new_number:m}}):o.createElement(p.default,{id:1166,params:{name:n}});case"create":return this.isMe(t)?a?o.createElement(p.default,{id:1144,params:{subject:this.getFormattedText(a)}}):o.createElement(p.default,{id:1145}):a?o.createElement(p.default,{id:1142,params:{subject:this.getFormattedText(a),name:u}}):o.createElement(p.default,{id:1143,params:{name:u}});case"delete":return this.isMe(t)?o.createElement(p.default,{id:1154}):o.createElement(p.default,{id:1153,params:{name:u}});case"promote":var b=i.length;return 1===b&&this.isMe(s)?o.createElement(p.default,{id:1175}):o.createElement(p.default,{id:1174,params:{count:b,participants:c},plural:b});case"demote":var g=i.length;return 1===g&&this.isMe(s)?o.createElement(p.default,{id:1169}):o.createElement(p.default,{id:1168,params:{count:g,participants:c},plural:g});case"invite":return this.isMe(s)?o.createElement(p.default,{id:1171}):o.createElement(p.default,{id:1170,params:{name:l}});case"revoke_invite":return this.isMe(t)?o.createElement(p.default,{id:1159}):o.createElement(p.default,{id:1158,params:{name:u}});case"description":return this.isMe(t)?o.createElement(p.default,{id:1149}):o.createElement(p.default,{id:1147,params:{name:u}});case"announce":return"on"===a?this.isMe(t)?o.createElement(p.default,{id:1141}):o.createElement(p.default,{id:1140,params:{name:u}}):this.isMe(t)?o.createElement(p.default,{id:1139}):o.createElement(p.default,{id:1138,params:{name:u}});case"restrict":return"on"===a?this.isMe(t)?o.createElement(p.default,{id:1187}):o.createElement(p.default,{id:1186,params:{name:u}}):this.isMe(t)?o.createElement(p.default,{id:1185}):o.createElement(p.default,{id:1184,params:{name:u}});case"no_frequently_forwarded":return"on"===a?this.isMe(t)?o.createElement(p.default,{id:1163}):o.createElement(p.default,{id:1162,params:{name:u}}):this.isMe(t)?o.createElement(p.default,{id:1161}):o.createElement(p.default,{id:1160,params:{name:u}});case"announce_msg_bounce":return o.createElement(p.default,{id:1137});case"v4_add_invite_sent":return o.createElement(p.default,{id:1054,params:{participants:c,count:i.length}});case"v4_add_invite_join":return o.createElement(p.default,{id:1053,params:{participants:c,count:i.length}});default:h.default.log("wa:groupNotification:unknown message subtype: "+e)()}}},{key:"_renderIcon",value:function(e,t){if("gp2"===e&&"announce"===t)return o.createElement("div",{className:_.default.icon},o.createElement(m.default,{name:"megaphone"}))}},{key:"_getClickHandler",value:function(e,t){if(this.props.clickable)switch(t){case"picture":case"subject":return this.openInfoDrawer();case"revoke_invite":return this.openGroupInviteLinkDrawer();case"description":return this.openExpandedGroupDesc()}}},{key:"render",value:function(){var e=this.props.msg,t=e.type,n=e.subtype,r=e.author,a=e.body,i=e.recipients,u=e.displayName();if("group_notification"!==t&&"gp2"!==t)return null;var s="gp2"===t?this._renderGp2L10n(n,r,u,a,i):this._renderGroupNotificationL10n(n,r,u,a);if(!s)return null;var l=this._getClickHandler(t,n);return l&&(s=o.cloneElement(s,{onClick:l})),o.createElement("span",{role:l?"button":void 0,className:_.default.notification},this._renderIcon(t,n),s)}}]),t}();O.CONCERNS={msg:["type","subtype","author","body","recipients","chat"]},O.contextTypes={uim:l.default.instanceOf(s.default)},O.displayName="GroupNotification",t.default=(0,b.default)((0,g.hoc)(O),O.CONCERNS)},bhcdgaheib:function(e,t){e.exports={muted:"_27gQg",ellipsify:"_19RFN",inlineblock:"_1ovWX",dirMismatch:"_1wsdb",clickable:"_18GNg"}},bhcegecbha:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n("djfhiaaehb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=h(n("bdiiahhjbe")),u=h(n("fffdgbfji")),s=h(n("biddiiafgd")),l=h(n("gbfffciea")),c=h(n("dfijbgdefb")),f=h(n("ccaaiecfib")),d=h(n("cjieghfgda")),p=h(n("cfdjcihjjd"));function h(e){return e&&e.__esModule?e:{default:e}}var m=n("bfigfgcaaj"),b=n("bbhejgbajf"),g=n("dgdjiicfdg"),v=n("eadfaddcj"),y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"_getDownloadData",value:function(e){var t=this,n=Array.isArray(e)?e:[e];return Promise.map(n,function(e){if(e.isGif)return t._mp4ToGif(e);if(e.type===v.MSG_TYPE.VCARD)return t._getVcardDownloadData(e);if(e.mediaData.mediaBlob)return{name:c.default.getDefaultName(e),url:e.mediaData.renderableUrl,blob:e.mediaData.mediaBlob._forceToBlob()};if(f.default.supportsFeature(f.default.F.REPLACE_MEDIABLOB)){var n=e.mediaData.filehash,r=d.default.get(n);if(r)return{name:c.default.getDefaultName(e),url:d.default.getOrCreateURL(n),blob:r}}return Promise.reject("Unable to download because blob cannot be found")}).then(function(e){return e.length>1?b(e).then(function(e){var t={t:Math.round(Date.now()/1e3),type:"unknown",mimetype:"application/zip"};return{blob:e,name:c.default.getDefaultName(t)}}):(0,r.default)(e)}).catch(function(e){i.default.error("Failed to get download data!")(e)})}},{key:"_mp4ToGif",value:function(e){return new Promise(function(e,t){throw new Error("unimplemented")}).then(function(t,n){return{url:t,blob:n,name:`WhatsApp-Image-${g.unix(e.t).format("YYYYMMDD")}.gif`}}).catch(function(){return{url:e.mediaData.renderableUrl,blob:e.mediaData.mediaBlob._forceToBlob(),name:c.default.getDefaultName(e)}})}},{key:"_getVcardDownloadData",value:function(e){return{name:c.default.getDefaultName(e),blob:new Blob([e.body],{type:"text/vcard"})}}},{key:"initDownload",value:function(e){var t=e;if(!window.Modernizr.adownload){var n=u.default.t(1353).replace("__chrome_homepage__",v.BROWSER_LINK.CHROME).replace("__firefox_homepage__",v.BROWSER_LINK.FIREFOX).replace("__opera_homepage__",v.BROWSER_LINK.OPERA);return l.default.openModal(o.createElement(s.default,{onOK:function(){return l.default.closeModal()},okText:u.default.t(1225)},n)),void i.default.assert(!1,"safari, adownload is false in download mgr")()}m.startDownloading();var a=document.createElement("a");this._getDownloadData(t).then(function(e){i.default.assert(e.url||e.blob,"download-url-creation-error",Array.isArray(t)?"download a zip file":`download ${t.id.toString()} type ${t.type} with state ${t.mediaData&&t.mediaData.mediaStage}`)(),a.href=e.url||window.URL.createObjectURL(e.blob),a.download=e.name,a.style.display="none",Array.isArray(t)&&1===t.length&&(t=(0,r.default)(t)),i.default.assert(a.href,"no-download-url",Array.isArray(t)?"download a zip file":`download ${t.id.toString()} type ${t.type} with state ${t.mediaData&&t.mediaData.mediaStage}`)(),document.body&&document.body.appendChild(a),a.click(),document.body&&document.body.removeChild(a),e.url||(0,p.default)(100).then(function(){window.URL.revokeObjectURL(a.href)})}).catch(function(e){i.default.error(`Download failed, error: ${String(e)}`)()})}}]),e}();t.default=new y},bhdgigicfd:function(e,t){e.exports={muted:"_3BYuk",container:"_3b8_6",fullscreen:"_2V_gW",videoFloaterMedia:"Rxe5u",videoTag:"_2vGFe",mediaStageWrapper:"_2-Jil",preview:"JZ2FH",errorLink:"_2MfdM",errorLinkChevron:"ooG8r"}},bhedcifgbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("ccdhdfebfj")),i=u(n("bcbahjefec"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.push(a.createElement(o.default,{chat:this.props.chat,onConfirm:this.props.onConfirm}))}}]),t}();t.default=s},bheebijggd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var a=n("cjedbjfabb").EMOJI,o=a.CATEGORIES,i=a.ORDERED_CATEGORY_IDS,u=r({RECENT:"RECENT"},o,{SEARCH_RESULT:"SEARCH_RESULT"});t.default=u;var s={[u.RECENT]:u.RECENT,[u.SMILEYS_PEOPLE]:u.SMILEYS_PEOPLE,[u.ANIMALS_NATURE]:u.ANIMALS_NATURE,[u.FOOD_DRINK]:u.FOOD_DRINK,[u.ACTIVITY]:u.ACTIVITY,[u.TRAVEL_PLACES]:u.TRAVEL_PLACES,[u.OBJECTS]:u.OBJECTS,[u.SYMBOLS]:u.SYMBOLS,[u.FLAGS]:u.FLAGS};t.ORDERED_TAB_SECTION_IDS=[s.RECENT].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i))},bheehfahbe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=H(n("diifagijfe")),a=H(n("djfhiaaehb")),o=H(n("chihjdheic")),i=H(n("iidhbgeed")),u=H(n("bebajedcaf")),s=H(n("bhdddbafig")),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=H(n("effbcehec")),f=H(n("gbfffciea")),d=H(n("biddiiafgd")),p=H(n("dhigahgdjb")),h=H(n("chdfbgffgh")),m=H(n("ceffhbhahb")),b=H(n("djcchigfih")),g=H(n("djbhiedbef")),v=n("dajffajabh"),y=H(v),_=V(n("cajijabhgb")),E=H(n("ddajbaceej")),j=H(n("dgjddffcfg")),O=n("dhfbfehaef"),S=H(O),w=H(n("fffdgbfji")),P=H(n("dfigcajgai")),M=H(n("bjbedjfe")),C=n("ejbdjaifi"),T=V(n("ddhijeejag")),A=H(n("didfdhbecg")),N=H(n("cdjhjdcbeg")),k=H(n("becfabjeeg")),I=n("bfjajhbdf"),R=H(I),L=n("eagfdbhhhh"),D=H(n("bfdcadbbif")),x=H(n("cacgcabfhd")),U=n("cicgeajfge"),G=H(n("bfgbdiffgd")),F=H(n("cicjcfabii")),B=H(n("bggeiidigb")),$=n("dfdebdgdei");function V(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function H(e){return e&&e.__esModule?e:{default:e}}function W(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Y=(0,I.genId)("max_participant_toast"),K=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=W(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={searchText:"",participants:r.props.participants,shouldFocus:!0,isBusy:!1},r.flatListController=new B.default,r.setRefParticipantList=function(e){r.refParticipantList=e},r.setRefList=function(e){r.refList=e},r.onKeyDown=function(e){if("Backspace"===e.key&&!r.state.searchText&&!(0,u.default)(r.state.participants)){e.preventDefault();var t=r.state.participants;r.setState({participants:t.slice(0,t.length-1),shouldFocus:!0})}},r.onInput=function(e){r.setState({searchText:e.target.value})},r.onReset=function(){r.setState({searchText:"",shouldFocus:!0})},r.focus=function(){E.default.focus(r.refInput)},r.onBack=function(){r.props.onBack()},r.onContinue=function(){r.props.onContinue(r.state.participants)},r.onDelete=function(e,t){var n=(0,i.default)(r.state.participants,function(e){return!e.id.equals(t.id)});r.setState({participants:n,shouldFocus:!n.length})},r.onContactClick=function(e,t){(0,o.default)(r.state.participants,function(e){return e.id.equals(t.id)})?r.removeContact(t):t.isBlocked()?f.default.openModal(T.createElement(d.default,{title:w.default.t(162),onOK:function(){r.unblockAndAddContact(t),f.default.closeModal()},onCancel:function(){return f.default.closeModal()},okText:w.default.t(1339),cancelText:w.default.t(1220)},w.default.t(158))):r.addContact(t)},r.onFocusList=function(e){r.refList&&(e.preventDefault(),e.stopPropagation(),(0,O.shouldIndicateFocus)(),r.refList&&r.refList.focusFirst())},r.onFocusParticipants=function(e){e.repeat||r.refInput&&0!==r.refInput.selectionStart||r.refParticipantList&&(e.preventDefault(),e.stopPropagation(),S.default.flashFocus=0,r.refParticipantList&&r.refParticipantList.focusLast())},r.onSelectFirst=function(e){e.preventDefault(),e.stopPropagation();var t=(0,a.default)(r.getFilteredContacts());t&&r.onContactClick(e,t)},r.onFocusSearch=function(e){(0,O.shouldIndicateFocus)(),E.default.focus(r.refInput)},r.setRefInput=function(e){r.refInput=e},r.setRefSizer=function(e){r.refSizer=e},W(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,T.Component),l(t,[{key:"componentDidMount",value:function(){this.focus()}},{key:"componentDidUpdate",value:function(){this.adjustInput()}},{key:"getFilteredContacts",value:function(){var e=(0,s.default)(p.default.getFilteredContacts(),this.state.participants),t=this.state.searchText;if(!t)return e;t=w.default.accentFold(t);var n=j.default.numberSearch(t);return e.filter(function(e){return e.searchMatch(t,n)})}},{key:"adjustInput",value:function(){if(this.refInput){var e=this.refInput.offsetParent.offsetWidth-10,t=this.refSizer.offsetWidth,n=t>e?e:t;this.refInput.style.width=n+"px";var r=void 0;r=e-this.refInput.offsetLeft-n>0?e-this.refInput.offsetLeft:e,this.refInput.style.width=r+"px",this.state.shouldFocus&&this.focus()}}},{key:"addContact",value:function(e){var t=this.state.participants;if(t.length>=G.default.maxParticipants){var n=w.default.t(53,{max:G.default.maxParticipants});f.default.openToast(T.createElement(R.default,{msg:n,id:Y}))}else this.setState({participants:t.concat(e),searchText:"",shouldFocus:!0})}},{key:"removeContact",value:function(e){var t=this.state.participants;this.setState({participants:(0,i.default)(t,function(t){return!e.id.equals(t.id)}),shouldFocus:!0})}},{key:"unblockAndAddContact",value:function(e){var t=this;this.setState({isBusy:!0}),(0,$.unblockContact)(e).checkpoint(this.props.rejectOnUnmount()).then(function(){t.addContact(e),t.setState({isBusy:!1})}).catch(_.Unmount,function(){}).catch(function(e){t.setState({isBusy:!1})})}},{key:"render",value:function(){var e=void 0;this.state.isBusy?e=T.createElement("div",{className:x.default.spinner},T.createElement(k.default,{stroke:6,size:24})):(0,r.default)(this.state.participants)&&(e=T.createElement(N.default,{a8nText:"group-participants-btn",onClick:this.onContinue},T.createElement(D.default,{name:"forward-light",directional:!0})));var t=(0,r.default)(this.state.participants)?" ":w.default.t(506),n={down:this.onFocusList,enter:this.state.searchText?this.onSelectFirst:(0,r.default)(this.state.participants)?this.onContinue:function(){},up:this.onFocusParticipants};n[w.default.LR("left","right")]=this.onFocusParticipants;var a=this.getFilteredContacts(),o=void 0;return o=0===a.length?T.createElement(U.SearchContacts,null):T.createElement(h.default,{ref:this.setRefList,flatListController:this.flatListController,contacts:a,onClick:this.onContactClick,onFocusSearch:this.onFocusSearch,showPersonGroupDivisionHeader:!1}),T.createElement(b.default,null,T.createElement(y.default,{title:w.default.t(1364),type:v.DRAWER_HEADER_TYPE.LARGE,onBack:this.onBack}),T.createElement(g.default,null,T.createElement("div",{className:x.default.search},T.createElement("div",null,T.createElement(S.default,{handlers:n,className:x.default.inputLine},T.createElement("div",{"data-list-scroll-container":!0},T.createElement(P.default,{ref:this.setRefParticipantList,theme:"list-names",contacts:this.state.participants,onDelete:this.onDelete,onFocusSearch:this.onFocusSearch})),T.createElement("input",{"data-a8n":c.default.key("inputarea"),className:(0,m.default)(x.default.inputarea,L.SELECTABLE_INPUT_CSS_CLASS),ref:this.setRefInput,placeholder:t,onKeyDown:this.onKeyDown,onChange:this.onInput,value:this.state.searchText,type:"text"}),T.createElement("span",{className:x.default.inputareaSizer,ref:this.setRefSizer},this.state.searchText)))),T.createElement(F.default,{className:x.default.contacts,flatListControllers:[this.flatListController]},o),T.createElement(A.default,{transitionName:"btn",className:x.default.drawerSection},e)))}}]),t}();K.defaultProps={participants:[]},K.displayName="NewGroupParticipantsDrawer",t.default=(0,M.default)((0,C.hocWithDefaults)(K))},bhfcdbibdf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.parentNode)return;e.parentNode.removeChild(e)}},bhfdfhefca:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuBarItem=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.MenuBar=f;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("didfdhbecg")),i=c(n("ceffhbhahb")),u=c(n("effbcehec")),s=c(n("caffijjhc")),l=c(n("daddjfeaa"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=e.children;return a.createElement("div",{className:l.default.menu},t)}f.displayName="MenuBar";var d=t.MenuBarItem=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClose=function(){n.setState({active:!1})},n.handleClick=function(e){n.props.onClick&&n.props.onClick(e),e.isDefaultPrevented()||(e.preventDefault(),n.state.active||n.onOpen())},n.state={active:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"onOpen",value:function(){this.setState({active:!0})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.icon,r=e.transitionName,c=e.title,f=e.selected,d=e.disabled,p=this.state.active,h=t&&p?a.createElement(s.default,{displayName:"MenuBarMenuItem",escapable:!0,popable:!0,requestDismiss:this.onClose},a.Children.only(t)):null,m=(0,i.default)(l.default.item,{[l.default.selected]:f,[l.default.active]:p,[l.default.disabled]:d});return a.createElement("div",{"data-a8n":u.default.key(this.props.a8nText),className:m},a.createElement("div",{role:"button",onMouseDown:this.handleClick,title:c},n),a.createElement(o.default,{transitionName:r},h))}}]),t}();d.defaultProps={transitionName:"dropdown",disabled:!1},d.displayName="MenuBarItem"},bhfeffjbfg:function(e,t){e.exports={muted:"_3uCkJ",searchContainer:"_2wmGC",section:"SI-QE",blank:"XWe4-",row:"_1Yyly",noResults:"_2Vtro"}},bhfgbcfeae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=j(n("ddhijeejag")),o=j(n("dbcedfihd")),i=E(n("cbidhfhhbb")),u=E(n("fffdgbfji")),s=E(n("eadfaddcj")),l=E(n("bjgiedaj")),c=E(n("fijafegab")),f=E(n("fifhbjiec")),d=E(n("cfaiaibca")),p=E(n("ihfccfgdf")),h=E(n("bjigbaghc")),m=n("ejbdjaifi"),b=n("bgjddhffji"),g=n("bheafeifce"),v=n("gaifbabbj"),y=n("bidfjbaebi"),_=E(n("eedjbihej"));function E(e){return e&&e.__esModule?e:{default:e}}function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var O=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onReadMore=function(){n.setState({isDescExpanded:!0})},n.onClickUrl=function(e,t){e.stopPropagation();var r=n.props,a=r.product,i=r.sessionId;(0,b.logDetailLinkClick)((0,g.unproxy)(a),i);var u=t&&o.findLink(t);u&&(0,y.openExternalLink)(u.url)},n.state={isDescExpanded:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"renderMessageBusinessButton",value:function(){var e=this.props,t=e.onSendChat,n=e.product,r=e.deletedProduct;if(!n.fetchedFromServer||r)return null;var o=u.default.t(858);return a.createElement("div",{className:i.default.buttonContainer,title:o},a.createElement(d.default,{onClick:t,type:"primary"},o))}},{key:"renderLink",value:function(e){var t=this,n=this.props,r=n.product,u=n.deletedProduct;if(!r.fetchedFromServer||!e||u)return null;var s=v.Configuration.TrustedGroupDesc({links:o.findLinks(e)});return a.createElement("div",{className:i.default.descBlock},a.createElement(f.default,{selectable:!0,formatters:s,text:e,onClick:function(n){return t.onClickUrl(n,e)}}))}},{key:"renderDesc",value:function(){var e=this.props.product,t=this.state.isDescExpanded;if(!e.description&&!e.url&&!e.retailerId)return null;var n=!(!e||!e.description)&&e.description.length>s.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH,r=void 0;return e.description&&(r=a.createElement("div",{className:i.default.descBlock},a.createElement(f.default,{selectable:!0,text:e.description,textLimit:t?1/0:s.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH}),n&&!t?a.createElement("span",{className:i.default.more,role:"button",onClick:this.onReadMore},` ${u.default.t(878)}`):null)),a.createElement(_.default,{theme:"plain",block:!0,className:i.default.description},r,this.renderLink(e.url),e.retailerId?a.createElement("div",{className:i.default.descBlock},a.createElement(f.default,{text:e.retailerId,selectable:!0,direction:"inherit"})):null)}},{key:"render",value:function(){var e=this.props.product,t=e.catalogWid.equals(h.default.me)?null:this.renderMessageBusinessButton();return a.createElement(c.default,{theme:"padding-product",animation:!1},a.createElement(_.default,{theme:"title",block:!0,className:i.default.name},a.createElement(f.default,{text:e.name,selectable:!0})),e.currency&&null!=e.priceAmount1000&&0!==e.priceAmount1000?a.createElement(_.default,{block:!0,className:i.default.price,color:"dark",theme:"plain"},a.createElement(f.default,{text:l.default.format(e.currency,e.priceAmount1000),selectable:!0,direction:"inherit"})):null,this.renderDesc(),t)}}]),t}();O.CONCERNS={product:["name","url","description","currency","priceAmount1000","fetchedFromServer","retailerId","catalogWid"]},O.displayName="ProductDetailsInfo",t.default=(0,p.default)((0,m.hoc)(O),O.CONCERNS)},bhgfchijhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryProduct=function(e,t,n,r){var a=e.toString({legacy:!0});return o.default.queryProduct(a,t,n,r)},t.queryCatalog=function(e,t,n,r,a){var i=e.toString({legacy:!0});return o.default.queryProductCatalog(i,t,n,r,a)};var r,a=n("bihdhbjih"),o=(r=a)&&r.__esModule?r:{default:r}},bhgjdccfde:function(e,t){e.exports={muted:"SLy0F",tile:"fzCXy",backgroundColor:"_3GHFH"}},bhhdeihhhf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeOptions=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("bgddggdhc"),u=m(n("dhfbfehaef")),s=m(n("effbcehec")),l=m(n("ceffhbhahb")),c=m(n("dcjdgceiej")),f=m(n("ddchejfidi")),d=m(n("chgaccicf")),p=m(n("bfejacaeaj")),h=n("hjbbdjjdf");function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=t.ThemeOptions=(0,d.default)({COMPACT:null}),v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={hover:!1,focus:!1},r.onMouseEnter=function(){r.setState({hover:!0})},r.onMouseLeave=function(){r.setState({hover:!1})},r.onFocus=function(){r.setState({focus:!0})},r.onBlur=function(){r.setState({focus:!1})},r.onClick=function(e){r.onAction(e)},r.onEnter=function(e){e.repeat||r.onAction(e)},r.onAction=function(e){var t=r.props.action;if(t&&!(!1===t(e))){var n=r.context.uim;n&&n.uie.requestDismiss()}},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"triggerInput",value:function(){this.filePicker&&(0,i.forbiddenAssertDOMNode)(this.filePicker).click()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.tooltip,a=e.type,i=e.disabled,c=void 0!==i&&i,d=e.theme,p=this.state,m=p.hover,b=p.focus,v=(m||b)&&n?n:null,_=(0,h.isString)(t)?o.createElement("div",{className:(0,l.default)(f.default.ellipsify,f.default.action,{[f.default.compact]:d===g.COMPACT}),role:"button",title:t},t):t,E={enter:this.onEnter},j=(0,l.default)(f.default.item,f.default.shortcut,{[f.default.hover]:m||b,[f.default.text]:"text"===a,[f.default.emoji]:"emoji"===a,[f.default.icon]:"icon"===a,[f.default.disabled]:c}),O=c?{}:{handlers:E,onContextMenu:y,onMouseDown:y,onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur};return o.createElement(u.default,r({component:"li","data-a8n":s.default.key(this.props.a8n),className:j,"data-animate-dropdown-item":!0},O),_,v)}}]),t}();function y(e){e.preventDefault()}v.defaultProps={type:"text"},v.contextTypes={uim:p.default.instanceOf(c.default)},v.displayName="DropdownItem",t.default=v},bhhdiiaihb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var r=2*e.length+t[1].length,a=t[0].length-r;return a>0&&(t.index+=a,t[0]=t[0].slice(a)),n.lastIndex--,t}}},bhheahajjg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=O;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=m(n("ceffhbhahb")),u=m(n("fifhbjiec")),s=m(n("ccaaiecfib")),l=m(n("ihfccfgdf")),c=n("ejbdjaifi"),f=n("gaifbabbj"),d=m(n("bfdcadbbif")),p=m(n("haehdhfbi")),h=m(n("icghcjegh"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(){return b(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,o.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.element,n=e.contact,r=e.highlightText,a=e.titlify,l=e.ellipsify,c=e.you,m=e.selectable,b=e.useShortName,g=e.useDisplayName,v=e.onClick,y=e.showLabel,_=e.showBusinessCheckmark,E=e.showNotifyName,j=void 0;r&&(j=f.Configuration.Search({terms:[r]}));var O=(0,i.default)(n.isPSA?p.default.psa:null),S=void 0;S=g&&n.displayName?n.displayName:c?b&&n.shortName||n.formattedName:E&&!n.name&&n.notifyName?`~${n.notifyName}`:n.formattedUser;var w=o.createElement(u.default,{text:S,element:t,className:O,formatters:j,titlify:a,ellipsify:l,direction:"auto",selectable:m,onClick:v}),P=y&&(n.labels||this.props.labels)?o.createElement("div",{className:p.default.labels},o.createElement(h.default,{labels:this.props.labels||n.labels,showName:!1})):null;return n.isPSA||s.default.supportsFeature(s.default.F.VNAME_V_2)&&_&&n.showBusinessCheckmark?o.createElement("span",{className:p.default.verified},w,o.createElement("div",{className:p.default.icon},o.createElement(d.default,{name:"psa-verified"})),P):P?o.createElement("span",{className:p.default.hasLabels},w,P):w}}]),t}();y.CONCERNS={contact:["isPSA","formattedUser","formattedName","shortName","displayName","showBusinessCheckmark","labels","name","notifyName"]},y.defaultProps={element:"span"},y.displayName="ContactNameClass";var _=(0,l.default)((0,c.hocWithDefaults)(y),y.CONCERNS),E=function(e){function t(){return b(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,o.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.element,n=e.chat,r=e.highlightText,a=e.titlify,i=e.ellipsify,s=e.onClick,l=e.showLabel,c=void 0;r&&(c=f.Configuration.Search({terms:[r]}));var d=l&&(n.labels||this.props.labels)?o.createElement("div",{className:p.default.labels},o.createElement(h.default,{labels:this.props.labels||n.labels,showName:!1})):null,m=o.createElement(u.default,{text:n.title(),element:t,formatters:c,titlify:a,ellipsify:i,direction:"auto",onClick:s});return d?o.createElement("div",{className:d?p.default.hasLabels:null},m,d):m}}]),t}();E.CONCERNS={chat:["formattedTitle","labels"]},E.displayName="GroupNameClass";var j=(0,l.default)((0,c.hoc)(E),E.CONCERNS);function O(e){var t=e.chat,n=e.contact,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["chat","contact"]);if(t&&!t.isUser)return o.createElement(j,r({chat:t},a));var i=n||t.contact;return o.createElement(_,r({contact:i},a))}O.displayName="Name"},bhhgagadei:function(e,t,n){"use strict";var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("ddjfcdfihc"),i=n("dfeigdcjhi"),u=(r=i)&&r.__esModule?r:{default:r};var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),document.addEventListener("keydown",function(e){var t=(0,o.getAction)(e);t&&(0,u.default)(t)})}return a(e,[{key:"trigger",value:function(e){}},{key:"menuBatchRenderWith",value:function(e){}}]),e}();e.exports=new s},bhiafccjai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("gbfffciea")),i=(s(n("bffjfbgbg")),s(n("gejffefga"))),u=s(n("cahefccjdd"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.getInitialMediaStyle(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"getInitialMediaStyle",value:function(){if(this.props.initialStyle)return{initialStyle:this.props.initialStyle,aspectRatio:.67};var e=void 0;o.default.getConversationHeaderOffset(function(t){e=t});return e||(e={right:window.innerWidth,bottom:0}),{initialStyle:{width:330*.67,left:e.right<window.innerWidth?e.right-330*.67-10:window.innerWidth-330*.67-10,bottom:window.innerHeight-10-330-e.bottom},aspectRatio:.67}}},{key:"render",value:function(){var e={x:10,y:10};return a.createElement(i.default,{aspectRatio:.67,margin:e,minWidth:145,className:u.default.voipFloater,initialStyle:this.state.initialStyle},this.props.children)}}]),t}();l.displayName="FloatingVoipWindow",t.default=l},bhibhdeccd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.backwardsEmojiTextsTrie=void 0,t.default=function(e){var t=u[e],n=void 0;t&&(n=r.default.skinToneEmojis[t]&&o.default.getVariant(t));return n||t};var r=i(n("djegeegcbf")),a=i(n("cjdfbfihbe")),o=i(n("dfbhcehadj"));function i(e){return e&&e.__esModule?e:{default:e}}var u={"(y)":"","(Y)":"","(n)":"","(N)":"",":-)":"",":-(":"",":-p":"",":-P":"",":-|":"",":-\\":"",":-D":"",":-*":"",":-o":"","<3":"","^_^":"",">_<":"",";-)":""};var s=Object.keys(u);t.backwardsEmojiTextsTrie=a.default.fromBackwardsStrings(s)},bhichefhgf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancelUploadMedia=function(e){e.uploadPromise&&e.uploadPromise.control.cancel()},t.uploadMedia=function(e,t,n){if(t.uploadPromise)return t.uploadPromise;var b=new r.default,g=b.signal,v=new p.default.MediaUpload2;function y(e){v.set({overallMediaSize:e.byteLength})}function _(e){e instanceof h.HttpStatusCodeError&&v.set({resumeHttpCode:e.status})}function E(){v.set({overallUploadResult:p.default.MEDIA_UPLOAD_RESULT_TYPE.DUPLICATE,overallIsFinal:!0,resumeHttpCode:200}),v.markOverallCumT(),v.commit()}function j(e){var t=e.hostName,n=e.hostClass,r=e.failCount;v.set({overallDomain:t,overallConnectionClass:n,overallRetryCount:r})}function O(){v.set({resumeHttpCode:404,overallUploadResult:p.default.MEDIA_UPLOAD_RESULT_TYPE.OK,overallIsFinal:!0}),v.markOverallCumT(),v.commit()}function S(e){v.set({overallUploadResult:(0,d.getMetricUploadErrorResultType)(e),overallIsFinal:!0}),v.markOverallCumT(),v.commit()}function w(e){v.set({overallT:e})}function P(e,t,n){var r=new p.default.MediaUpload2(v);r.set({overallUploadResult:(0,d.getMetricUploadErrorResultType)(e),overallIsFinal:!1,overallT:t,overallRetryCount:n}),v.markOverallCumT(),r.commit()}return t.uploadPromise=Promise.resolve().then(function(){t.consolidate({uploadStage:f.UPLOAD_STAGE.UPLOADING});var r=t.mediaBlob;if(r)return r.formData();if(t.filehash){var a=u.default.get(t.filehash);if(a)return a}return(0,m.downloadMedia)(e,t,!0,n,g).then(function(){var e=t.mediaBlob;if(e)return e.formData();if(t.filehash){var n=u.default.get(t.filehash);if(n)return n}throw new Error("cant upload media w/out mediaBlob after download")})}).then(function(e){var r,a=t.entries.getUploadEntry();return r=n,v.set({connectionType:p.default.CONNECTION_TYPE.HOSTNAME,overallMediaType:(0,d.getMetricMediaType)(r),overallMmsVersion:4,overallAttemptCount:t.userAttemptCount,networkStack:p.default.NETWORK_STACK_TYPE.NATIVE,overallUploadMode:p.default.MEDIA_UPLOAD_MODE_TYPE.REGULAR}),s.default.encryptAndUpload({blob:e,mediaKey:a&&a.mediaKey,type:n,signal:g,onArrayBufferCreated:y,onCheckExistingSuccess:E,onCheckExistingError:_,onUploadHostFound:j,onUploadAttemptSuccess:w,onUploadAttemptError:P,onUploadSuccess:O,onUploadError:S}).then(function(e){var r=e.directPath,a=e.encFilehash,u=e.mediaKey,s=e.url,l=e.sidecar,c=t.entries.addEntry(s,u,a,n,l,r);if(!c)throw new Error("could not create media entry");return n!==i.default.PTT&&n!==i.default.AUDIO||o.canPlayOgg()||!t.mediaBlob?c:o.gatherAndSetMetadata(t,t.mediaBlob).then(function(){return c})})}).addRawControl("cancel",function(){return b.abort()}).then(function(e){if(g.aborted)throw new l.AbortError;return t.consolidate({uploadStage:f.UPLOAD_STAGE.UPLOADED}),a.default.log("MediaAlgo.uploadMedia: success",e.uploadHash)(),e}).catch(function(e){throw a.default.error("MediaAlgo.uploadMedia: error",e)(),e}).finally(function(){delete t.uploadPromise}).catch(c.MediaNotOnPhone,function(e){t.consolidate({uploadStage:f.UPLOAD_STAGE.ERROR_MISSING})}).catch(l.MediaTooLargeError,function(e){t.consolidate({uploadStage:f.UPLOAD_STAGE.ERROR_TOO_LARGE})}).catch(function(e){t.consolidate({uploadStage:f.UPLOAD_STAGE.NEED_UPLOAD})}).endWithControls("cancel"),t.uploadPromise};var r=b(n("cgeedcdffb")),a=b(n("bdiiahhjbe")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("fabajdgab")),i=b(n("gbjefdbgb")),u=b(n("cjieghfgda")),s=(b(n("beeieigghj")),b(n("dejgiicjih"))),l=n("ddbdaadcgc"),c=n("bafdjibgig"),f=n("daichdjff"),d=n("dcihijcig"),p=b(n("bfbggcdbfb")),h=n("fgeddfbg"),m=n("dahcghhcfg");function b(e){return e&&e.__esModule?e:{default:e}}},bhifaggjcb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("ceffhbhahb")),o=i(n("dhhbgegf"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.children,n=e.side,i=e.ellipsify,u=e.onClick,s=(0,a.default)({[o.default.clickable]:u}),l=(0,a.default)(o.default.main,{[o.default.mainEllipsify]:i}),c=n?r.createElement("div",{className:o.default.side},n):null;return r.createElement("div",{className:s,onClick:u},r.createElement("div",{className:o.default.body},r.createElement("div",{className:l},t),c))};u.displayName="Row",t.default=u},bhjegffigh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateLocal=function(e,t){if(a.default.supportsFeature(a.default.F.MODEL_STORAGE))return r.default.merge(e.toString(),t);return Promise.resolve()};var r=o(n("begbbgieee")),a=o(n("ccaaiecfib"));function o(e){return e&&e.__esModule?e:{default:e}}},biadgfadhh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PREVIEW_HEIGHT=void 0;var r=O(n("bebajedcaf")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=O(n("bdiiahhjbe")),u=O(n("ceffhbhahb")),s=O(n("cjeajhjegi")),l=O(n("cehjjfagii")),c=O(n("jhcabjcaf")),f=O(n("bfjbdahdag")),d=O(n("dfeecdfijg")),p=O(n("behbcejhad")),h=O(n("deibgadgic")),m=O(n("cieaeggjg")),b=O(n("dbbbgjbbgf")),g=O(n("ihfccfgdf")),v=O(n("cbjacjjfgc")),y=O(n("edbaidcaf")),_=n("eagfdbhhhh"),E=n("igiffibee"),j=n("ejbdjaifi");function O(e){return e&&e.__esModule?e:{default:e}}var S=t.PREVIEW_HEIGHT=150,w=["foursquare.com","facebook.com","maps.google.com"],P=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.loc=function(){var e=n.props.msg.get("loc");if(e)return 2===(e=e.split("\n")).length?{name:e[0],addr:e[1]}:{name:e}},n.getLocationDetails=function(e){var t=n.props.msg,a=n.loc(),l=t.clientUrl||e,c=void 0,f=void 0,d=void 0,p=y.default.hostname(l),h=(0,r.default)(w.filter(function(e){return p.includes(e)})),m=h?o.createElement("span",{className:s.default.link},p):null,g=y.default.isHttp(l);if(!g)return l.toLowerCase().startsWith("javascript:")&&i.default.assert(!1,"URL error",`Bad url: ${l}`)(),null;if(!h&&g&&a&&!l.includes("javascript")){c=a.name?o.createElement(_.SelectableLink,{className:s.default.title,dir:"auto",href:l,plainText:`${a.name}\n${l}`,selectable:!0,target:"_blank",title:a.name},a.name):null;var v=(0,u.default)(s.default.address,{[s.default.hasURL]:m});f=a.addr?o.createElement(_.SelectableDiv,{className:v,selectable:!0,title:a.addr},a.addr):null}return(c||f||m)&&(d=o.createElement("div",{className:s.default.text},o.createElement(b.default,{msg:t,"data-id":t.id},c,f,m))),d},n.onClick=function(e){e.stopPropagation()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"render",value:function(){var e=this.props.msg,t=e.lat,n=e.lng,r=this.loc(),a=r&&r.name,i=(0,E.getMapUrl)(t,n,a),b=this.getLocationDetails(i),g=b||e.hsmEnabled?null:o.createElement(v.default,null),y=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg,j=e.showForwarded(),O=y?o.createElement("div",{className:s.default.author},o.createElement(l.default,{msg:e,contact:e.senderObj})):null,w=j?o.createElement(d.default,{msg:e,className:s.default.forwardedIndicator}):null,P=(0,u.default)(s.default.container,{[s.default.hasCaption]:b,[s.default.hasAuthor]:y,[s.default.forwarded]:j}),M={height:S},C=this.props.quotedMsg?o.createElement("div",{className:s.default.quote},this.props.quotedMsg):null,T=void 0,A=void 0;return e.hsmEnabled&&(T=e.caption?o.createElement("div",{className:s.default.caption},o.createElement(f.default,{msg:e,spacer:!e.footer})):null,A=o.createElement(h.default,{msg:e})),o.createElement("div",null,o.createElement(c.default,{className:P,contact:e.senderObj,msg:e},O,w,C,o.createElement(_.SelectableDiv,{className:s.default.thumb,onClick:this.onClick,plainText:i,selectable:!0,style:M},o.createElement(p.default,{lat:e.lat,lng:e.lng,width:270,height:S,name:a,className:s.default.thumbBody}),g),b,T,A,o.createElement("div",{className:s.default.meta},o.createElement(m.default,{msg:e}))))}}]),t}();P.CONCERNS={msg:["clientUrl","id","isSentByMe","isGroupMsg","lat","lng","senderObj","rtl","caption","footer","dir","type","hsmEnabled"]},P.displayName="Location",t.default=(0,g.default)((0,j.hoc)(P),P.CONCERNS)},biahchiahj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("ccaaiecfib")),i=h(n("eceadcicaf")),u=h(n("fagbfehid")),s=h(n("bbcccehdad")),l=n("cgjafchgje"),c=h(l),f=h(n("febicjijd")),d=n("ddajbaceej"),p=n("ejbdjaifi");function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e){function t(){var e,n,r;m(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={hasFetchedData:u.default.hasFetchedData(),hasStickers:u.default.length>0,menuShadow:!1,selectedStickerPackIndex:0},r._setRefEmptyContent=function(e){r._refEmptyContent=e},r._setRefContent=function(e){r._refContent=e},r._setRefMenu=function(e){r._refMenu=e},r._handleContainerClick=function(e){r._stopEvent(e),r.restoreFocus()},r._handleContentFocusNext=function(e){r._stopEvent(e),r._refMenu&&r._refMenu.focus()},r._handleContentFocusPrev=function(e){r._stopEvent(e),r._refMenu&&r._refMenu.focus()},r._handleEmptyFocusPrev=function(e){r._stopEvent(e),r._focusPrev()},r._handleEmptyFocusNext=function(e){r._stopEvent(e),r._focusNext()},r._handleItemClick=function(e){r.setState({selectedStickerPackIndex:e})},r._handleMenuFocusBelow=function(e){r._stopEvent(e),r._refContent&&r._refContent.focus()},r._handleMenuFocusNext=function(e){r._stopEvent(e),r._focusNext()},r._handleMenuFocusPrev=function(e){r._stopEvent(e),r._focusPrev()},r._handleScroll=function(e){r._lastScrollTop=e,r.setState({menuShadow:e>0})},r._handleStickerPacksChange=function(){r.setState({hasFetchedData:u.default.hasFetchedData(),hasStickers:u.default.length>0})},b(r,n)}return g(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(u.default,"change:length",this._handleStickerPacksChange),this.props.listeners.add(u.default,"change:pageFetchStates",this._handleStickerPacksChange),this.props.listeners.uiIdle(function(){e.restoreFocus(),u.default.fetchAt(0)})}},{key:"componentWillUnmount",value:function(){var e=this._lastScrollTop;this.props.onDisplayCache&&null!=e&&this.props.onDisplayCache({scrollTop:e})}},{key:"restoreFocus",value:function(){var e=this;this.props.listeners.uiIdle(function(){if(e._refEmptyContent){if(document.activeElement===e._refEmptyContent)return;(0,d.focus)(e._refEmptyContent)}else e._refMenu&&e._refMenu.focus()})}},{key:"_focusPrev",value:function(){this.props.onFocusPrev&&this.props.onFocusPrev()}},{key:"_focusNext",value:function(){this.props.onFocusNext&&this.props.onFocusNext()}},{key:"_stopEvent",value:function(e){e&&(e.preventDefault(),e.stopPropagation())}},{key:"render",value:function(){var e=o.default.isRecentStickersEnabled(),t=e?1:0,n=this.state.selectedStickerPackIndex;return e||!this.state.hasFetchedData||this.state.hasStickers?a.createElement("div",{className:f.default.panelContainer,onClick:this._handleContainerClick},a.createElement(s.default,{ref:this._setRefMenu,onFocusBelow:this._handleMenuFocusBelow,onFocusNext:this._handleMenuFocusNext,onFocusPrev:this._handleMenuFocusPrev,onItemClick:this._handleItemClick,selectedStickerPackIndex:n,shadow:this.state.menuShadow,recentStickersEnabled:e,specialItemsCount:t}),a.createElement(c.default,{ref:this._setRefContent,onFocusNext:this._handleContentFocusNext,onFocusPrev:this._handleContentFocusPrev,onScroll:this._handleScroll,onSticker:this.props.onSticker,selectedStickerPackIndex:n,recentStickersEnabled:e,specialItemsCount:t})):a.createElement(l.StickerPanelEmpty,{containerClassName:f.default.panelContainer,onClick:this._handleContainerClick,onFocusPrev:this._handleEmptyFocusPrev,onFocusNext:this._handleEmptyFocusNext,onRef:this._setRefEmptyContent})}}]),t}();v.displayName="StickerPanel";var y=function(e){function t(){return m(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,(0,i.default)((0,p.hoc)(v))),r(t,[{key:"restoreFocus",value:function(){this.getComponent().restoreFocus()}}]),t}();t.default=y},biahggehgf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.requestDeletePicture=function(e){var t=void 0;t=o.default.supportsFeature(o.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):s.default.deletePicture(e).then(function(e){return e.status&&200!==e.status?Promise.reject(new a.ServerStatusCodeError(e.status)):e});return t.then(function(t){return t._duplicate?t:o.default.supportsFeature(o.default.F.MODEL_STORAGE)?i.ProfilePicThumb.remove(e.toString()).then(function(){return t}):t})},t.sendSetPicture=function(e,t,n){var r=void 0;r=o.default.supportsFeature(o.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):s.default.sendSetPicture(e,t,n).then(function(e){return 200!==e.status?Promise.reject(new a.ServerStatusCodeError(e.status)):e});return r.then(function(t){if(t._duplicate)return t;if(o.default.supportsFeature(o.default.F.MODEL_STORAGE)){var n=e.toString();return i.ProfilePicThumb.createOrMerge(n,{id:n,tag:t.tag,eurl:t.eurl}).then(function(){return t})}return t})},t.profilePicFindThumbFromPhone=function(e,t){return s.default.profilePicFindThumbFromPhone(e,t).then(function(e){if(o.default.supportsFeature(o.default.F.MODEL_STORAGE)){var t=e.id.toString();return i.ProfilePicThumb.createOrMerge(t,{id:t,tag:e.tag,raw:e.raw}).then(function(){return e})}return e})},t.profilePicFind=function(e){var t=void 0;t=o.default.supportsFeature(o.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):s.default.profilePicFind(e).then(function(e){return null!=e.status&&200!==e.status?Promise.reject(new a.ServerStatusCodeError(e.status)):e});var n=function(t){return u.default.lock(["profile-pic-thumb"],function(n){var a=r(n,1),o=a[0];return o.get(e.toString()).then(function(n){return n?o.merge(e.toString(),t):o.create(t)})})},i={id:e.toString(),tag:void 0,eurl:void 0,raw:void 0};return t.then(function(e){return o.default.supportsFeature(o.default.F.MODEL_STORAGE)?(i.tag=e.tag,i.eurl=e.eurl,i.raw=null,n(i).then(function(){return e})):e}).catch(a.ServerStatusCodeError,function(e){if(!o.default.supportsFeature(o.default.F.MODEL_STORAGE))throw e;return o.default.supportsFeature(o.default.F.MD_BACKEND)&&404===e.status||!o.default.supportsFeature(o.default.F.MD_BACKEND)&&401===e.status?(i.tag="",i.raw=null):(i.tag=null,i.eurl=null),n(i).then(function(){throw e})})};var a=n("ddjgcfjicj"),o=l(n("ccaaiecfib")),i=n("cefcddgdgg"),u=l(n("ffjiicch")),s=l(n("bihdhbjih"));function l(e){return e&&e.__esModule?e:{default:e}}},biaifggagf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n("gcfidijgh")),a=v(n("fcdbffdgh")),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=v(n("cgcgbfbffj")),s=v(n("daejhdfjb")),l=v(n("ccaaiecfib")),c=v(n("hgeacfdgi")),f=v(n("bdiiahhjbe")),d=n("dbdaeccafe"),p=n("bhgjacgcdd"),h=v(p),m=n("ddcbacabaj"),b=v(m),g=n("cgejjichfa");function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.pendingOffers={},r.pendingVoipCapChecks={},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),i(t,[{key:"handleQuery",value:function(e){return Promise.resolve()}},{key:"handle",value:function(e){var t=this,r=e.shift();if(r.data&&r.data[0]){var a=b.default.parseCallSignalingMsg(r);if(!a)return;var i={};n("bfgbdiffgd").default.getWebVoipInternalTester()&&l.default.supportsFeature(l.default.F.DESKTOP_VOIP_VOICE_CALL)&&(Array.isArray(r.data[0])&&(r.data=r.data[0]),(0,m.base64DecodeRecursively)(r.data),i={peer_jid:a.peer_jid,payload:r.data,peer_platform:a.peer_platform,peer_app_version:a.peer_version,epoch_msec:null!=a.t?String(1e3*a.t):void 0,elapsed_msec:null!=a.e?String(1e3*a.e):void 0,is_offline:r.data[1].offline});var u=a.call_id,s=void 0,v=null,y=null,_=null;switch(a.type){case d.TYPE.OFFER:if(s=g.CALL_STATES.INCOMING_RING,v=a.isVideoCall,y=a.isGroupCall,_=a.t,h.default.isInitialized()){this.pendingVoipCapChecks[u]=(0,p.checkVoipCapability)(o({},a));var E=r.data[2].find(function(e){return"enc"===e[0]});this.pendingOffers[u]=Promise.sit("receivedKey",function(e){return b.default.receiveCallOfferKey(e,E),r}).endWithControls("receivedKey")}break;case d.TYPE.OFFER_RECEIPT:s=g.CALL_STATES.CONNECTING;break;case d.TYPE.PREACCEPT:s=g.CALL_STATES.OUTGOING_RING;break;case d.TYPE.ACCEPT_RECEIPT:case d.TYPE.ACCEPT:s=g.CALL_STATES.ACTIVE;break;case d.TYPE.REJECT:s=g.CALL_STATES.REJECTED,c.default.callId===u&&h.default.endCall(),this.cleanupPendingOffer(u);break;case d.TYPE.TERMINATE:s=g.CALL_STATES.ENDED,c.default.callId===u&&h.default.endCall(),this.cleanupPendingOffer(u)}this.pendingVoipCapChecks[u]?this.pendingVoipCapChecks[u].then(function(e){var o=void 0;o=!y&&(v?e&&l.default.supportsFeature(l.default.F.DESKTOP_VOIP_VIDEO_CALL):e),t.processIncomingCall(u,r.from,s,{isVideo:v,isGroupCall:y,canHandleLocally:o,offerTime:_}),o&&t.pendingOffers[u]&&n("bfgbdiffgd").default.getWebVoipInternalTester()&&l.default.supportsFeature(l.default.F.DESKTOP_VOIP_VOICE_CALL)?t.pendingOffers[u].then(function(){h.default.handleIncomingSignalingMessage(a,i)}):t.cleanupPendingOffer(u)}).finally(function(){delete t.pendingVoipCapChecks[u]}):this.pendingOffers[u]?(this.processIncomingCall(u,r.from,s),n("bfgbdiffgd").default.getWebVoipInternalTester()&&l.default.supportsFeature(l.default.F.DESKTOP_VOIP_VOICE_CALL)&&this.pendingOffers[u].then(function(){h.default.handleIncomingSignalingMessage(a,i)})):(this.processIncomingCall(u,r.from,s,{isVideo:v,isGroupCall:y,canHandleLocally:!1,offerTime:_}),h.default.isInitialized()&&n("bfgbdiffgd").default.getWebVoipInternalTester()&&l.default.supportsFeature(l.default.F.DESKTOP_VOIP_VOICE_CALL)&&h.default.handleIncomingSignalingMessage(a,i))}else{var j=void 0;switch(r.type){case"offer_key":var O=this.pendingOffers[r.id];O?O.control.receivedKey(r.key):f.default.warn("received offer_key: no pending offer")();break;case"accept":j=g.CALL_STATES.ACTIVE,this.cleanupPendingOffer(r.id);break;case"reject":j=g.CALL_STATES.REJECTED,this.cleanupPendingOffer(r.id);break;case"terminate":j=g.CALL_STATES.ENDED,this.cleanupPendingOffer(r.id)}this.processIncomingCall(r.id,void 0,j)}}},{key:"processIncomingCall",value:function(e,t,n,o){var i=o;if(n){var u={id:e};null!=t&&(u.peerJid=t),i&&(i=(0,a.default)(i,function(e){return null==e}),(0,r.default)(u,i)),this.add(u,{merge:!0}),this.assertGet(e).setState(n)}}},{key:"cleanupPendingOffer",value:function(e){delete this.pendingOffers[e]}}]),t}();_.model=s.default,t.default=new _},bibjgdifc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("ihfccfgdf")),i=n("ejbdjaifi"),u=l(n("ifijdebbd")),s=l(n("ddjcbfehh"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.chatPreference;return a.createElement("div",{className:s.default.container},a.createElement("div",{className:s.default.body},a.createElement(u.default,{wallpaperColor:e.wallpaperColor}),this.props.children))}}]),t}();c.CONCERNS={chatPreference:["wallpaperColor"]},c.displayName="MsgPreview",t.default=(0,o.default)((0,i.hoc)(c),c.CONCERNS)},bicbefgjgg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("dagibffcjf")),i=s(n("biehbcgiib")),u=s(n("cjijbdhgbf"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._handleAspectRatio=function(e){((null==n.state.aspectRatio||0===n.state.aspectRatio)&&e||null!=n.state.aspectRatio&&0!==n.state.aspectRatio&&e&&Math.abs(e-n.state.aspectRatio)>.01)&&n.setState({aspectRatio:e})};var r=(0,u.default)(n.props.ogVideoInfo.previewUrl),a=r.width&&r.height?r.width/r.height:void 0;return n.state={aspectRatio:a},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){return a.createElement(o.default,{aspectRatio:this.state.aspectRatio,previewUrl:this.props.ogVideoInfo.previewUrl,animationStartStyle:this.props.animationStartStyle},a.createElement(i.default,{ogVideoInfo:this.props.ogVideoInfo,startTime:this.props.startTime,onClose:this.props.onClose,onError:this.props.onError,onAspectRatio:this._handleAspectRatio,autoPlay:!0}))}}]),t}();l.displayName="FloatingOgVideoPlayer",t.default=l},bicjggdg:function(e,t){e.exports={muted:"Zifpo",canvasComponent:"_3iJaK",canvasEmpty:"_1L19m",canvasSecondRow:"_3ChBw",canvasFirst:"_1uPx1",more:"_2raSX",container:"_26Nvu",galleryEmpty:"_1goQ0",drawer:"_2BqsJ",drawerBody:"aA-bE"}},bidcddiaag:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(1!==t.rangeCount)return;if(!t.getRangeAt(0).collapsed)return;var u=t.anchorNode,l=t.anchorOffset;if(u&&u===e.refInput){if(-1===(l-=1))return;u=u.childNodes[l],l=u.textContent.length}u=(0,o.default)(u)?s(u):u,(0,r.default)(u,function(e){var t=s(e);return t?[t]:[]},function(e){var t=void 0,r=void 0;if((0,i.isEmojiEl)(e))return t=a.default.fromNode(e,!0).toPlainString(),n(t,0,t);var o=(r=e===u?e.textContent.slice(0,l):e.textContent).lastIndexOf("\n"),s=o>=0;s&&(r=r.slice(o+1));for(var c=r.length-1;c>=0;c--)if(t=r.charAt(c),n(t,c,r))return!0;return!!s||void 0})};var r=u(n("bbiacghfif")),a=u(n("cebdcdcgja")),o=u(n("ccagfiehde")),i=n("dfcggebdjj");function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e;do{if((t=t&&t.previousSibling)&&t.nodeType!==Node.TEXT_NODE&&!(0,i.isEmojiEl)(t))return null}while(t&&(0,o.default)(t));return t}},bidgicbbjf:function(e,t){e.exports={"-open-menu-width":"110px",openMenuWidth:"110px",muted:"WdkvY",menu:"_3GnEH",button:"_1rWTA",open:"_19THG",full:"_1rv_w",closeButton:"_3Kbqm",firstButton:"Kwld2",secondButton:"OoTjh",thirdButton:"_2pZnl"}},biecbbiiee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MsgCollection=void 0;var r=O(n("diibgbjaeh")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=O(n("cgcgbfbffj")),u=O(n("eadfaddcj")),s=n("ddjgcfjicj"),l=n("bfababcidc"),c=O(n("bdiiahhjbe")),f=O(n("cbcbdjdah")),d=O(n("ccgjijjbbj")),p=O(n("cahfddcdga")),h=n("dfjijdgbhd"),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ebggjhghhi")),b=O(n("bhggeigghg")),g=n("hjbbdjjdf"),v=O(n("bihdhbjih")),y=O(n("jccfhaecf")),_=n("dcbdjheea"),E=n("eaaehfdjdg"),j=O(E);function O(e){return e&&e.__esModule?e:{default:e}}var S=t.MsgCollection=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.lastReceivedReceipt={},e.lastReceivedPaymentTransaction={},e.preAck={},e.pendingAdd={},e.ftsCache={},e.keysForResyncReceipts=void 0,e.listenTo(j.default,"change:stream",function(){j.default.stream===E.STREAM.DISCONNECTED&&(this.preAck={})}),e.listenTo(e,"remove",e.removeFromCollection),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"removeFromCollection",value:function(e){e.chat&&e.chat.removeFromCollection(e)}},{key:"_findQuery",value:function(e,t){var n=this,r=void 0;switch(e.direction){case"before":case"after":r=e.direction;break;default:r="before"}var a={add:r,isHistory:!0};return(0,l.msgFindQuery)(r,e,a,t,this.get(e)).then(function(t){if(t.status>=400)return c.default.error("model:Msg:findQuery error "+t.status)(),Promise.reject(t.status);return t.forEach(function(e){e.invis=!0}),c.default.log(`model:Msg:findQuery:got:${t.length}:${e.direction}`)(),n.processMultipleMessages(e.remote,t,a,function(){var t=n.get(e),r=b.default.Chat.get(e.remote);return t?t.msgChunk:r?r.msgs:void 0})})}},{key:"getStarred",value:function(e,t,n,r){var a=this,o={count:"number"!=typeof t||isNaN(t)?u.default.PAGE_SIZE:t,chat:e||void 0,remote:n&&n.remote,id:n&&n.id,fromMe:n&&n.fromMe,participant:n&&n.participant,media:r?"gif":void 0},i={add:"search"};return(0,l.msgFindQuery)("star",o,i).then(function(e){var t=e.status;return e.status>=400?(499===t?c.default.log("model:Msg:getStarred error 499 (unimplemented)")():c.default.error(`model:Msg:getStarred error ${t}`)(),Promise.reject(t)):a.processMultipleMessages(void 0,e,i)})}},{key:"queryVCard",value:function(e){var t=this;return(0,l.queryVCard)(e).then(function(e){return 499===e.status?(c.default.log("model:Msg:queryVCard error 499 (unimplemented)")(),Promise.reject(new s.E499)):t.processMultipleMessages(void 0,e,{add:"search"})})}},{key:"incrementalStarredUpdate",value:function(e){return this.processMultipleMessages(void 0,e,{add:"search"})}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments[2],a=this,o=arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=`${e}__${i.label||i.kind||""}`;if(1!==t||o)return this._search(e,t,n,o,i.label,i.kind);var l=this.ftsCache[s];if(l)return l;var c=this._search(e,t,n,o,i.label,i.kind);this.ftsCache[s]=c;var f=function(){a.ftsCache[s]=null};return(0,r.default)(f,u.default.FTS_TTL),c.catch(f),c}},{key:"_search",value:function(e,t,n,r,a,o){var i=this,f={searchTerm:e,page:(0,g.isNumber)(t)&&0!==t?t:1,count:(0,g.isNumber)(n)&&0!==n?n:u.default.PAGE_SIZE,remote:r,label:a,kind:o},d={add:"search"};return(0,l.msgFindQuery)("search",f,d).then(function(e){if(404===e.status)return Promise.reject(new s.E404);if(e.status>=400)return c.default.error("model:Msg:search error "+e.status)(),Promise.reject(e.status);var t=Array.isArray(e)?e:e.messages,n=!!Array.isArray(e)||e.eof;return Promise.props({messages:i.processMultipleMessages(void 0,t,d),eof:n})})}},{key:"queryMedia",value:function(e,t,n,r,a){var o=this,i={remote:e,count:(0,g.isNumber)(t)&&0!==t?t:u.default.PAGE_SIZE,id:r&&r.id,fromMe:r&&r.fromMe,participant:r&&r.participant,direction:n||"before",media:a},s={add:"search"};return(0,l.msgFindQuery)("media",i,s).then(function(e){return e.status>=400?(c.default.error("model:Msg:media error "+e.status)(),Promise.reject(e.status)):a?o.processMultipleMessages(void 0,e,{add:"search"}):Promise.props({docCount:e.docCount,linkCount:e.linkCount,mediaCount:e.mediaCount,messages:o.processMultipleMessages(void 0,e.messages,s)})})}},{key:"getContext",value:function(e,t,n){var r=this,a=this.get(e);if(a)return Promise.all([(0,l.msgFindQuery)("before",e,{add:"before",isHistory:!0},n),(0,l.msgFindQuery)("after",e,{add:"after",isHistory:!0},n)]).spread(function(n,o){return Array.isArray(n)&&Array.isArray(o)?(a.search=!1,Promise.all([r.processMultipleMessages(e.remote,n,{add:"before",isHistory:!0},t),r.processMultipleMessages(e.remote,o,{add:"after",isHistory:!0},t)])):(c.default.error("model:msg:getContext fetch error",n,o)(),Promise.reject(n.status||o.status))});var o={add:"after",isHistory:!0};return(0,l.msgFindQuery)("after",e,o,n).then(function(n){return Array.isArray(n)?y.default.isStatusV3(n[0].id.remote)?Promise.reject("statusV3, stop querying before the msg"):r.processMultipleMessages(e.remote,n,o,t):(c.default.error("model:msg:getContext:after fetch error",n)(),Promise.reject(n.status))}).then(function(t){var a=(0,p.default)(t[0]),o=a.id.clone();o.count=e.count+1;var i={add:"before",isHistory:!0};return Promise.all([(0,l.msgFindQuery)("before",o,i,n).then(function(t){if(!Array.isArray(t))return c.default.error("model:msg:getContext:before fetch error",t)(),Promise.reject(t.status);if(!t[t.length-1].id.equals(e))return c.default.error("model:msg:getContext:before ctx message mismatch",t)(),Promise.reject(405);return r.processMultipleMessages(e.remote,t,i,function(){return a.msgChunk})}),Promise.resolve(t)])})}},{key:"_hasSynced",value:function(){return m.waitForBBEvent(this,u.default.COLLECTION_HAS_SYNCED)}},{key:"delete",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.lastReceivedReceipt={},this.lastReceivedPaymentTransaction={},this.preAck={}}},{key:"getKeysForResyncReceipts",value:function(){var e=[],t=a({},this.lastReceivedReceipt,this.lastReceivedPaymentTransaction);for(var n in t){var r=(0,_.createWid)(n),o=b.default.Chat.get(r),i=void 0;if(o&&(i=o.getFirstMsgWithStatus()),i){var u=i.id;u.t=this.lastReceivedReceipt[r]||i.t||0,u.payT=this.lastReceivedPaymentTransaction[r],e.push(u)}else c.default.error("Msg:resyncReceipts wid in lastReceivedReceipt, but no msg: "+r.toString())()}return e}},{key:"setKeysForResyncReceipts",value:function(e){this.keysForResyncReceipts=e}},{key:"resetKeysForResyncReceipts",value:function(){this.keysForResyncReceipts=void 0}},{key:"resyncReceipts",value:function(){var e=this;c.default.log("Msg:resyncReceipts")();var t=this.keysForResyncReceipts||this.getKeysForResyncReceipts();return 0===t.length?Promise.resolve():v.default.resyncReceipts(t).then(function(t){Array.isArray(t)?(c.default.log("Msg:resyncReceipts success")(),(b.default.Chat.promises.initializeRestFromTabletCache?b.default.Chat.promises.initializeRestFromTabletCache:Promise.resolve()).then(function(){t.forEach(function(t){e.updateLastReceipt(t.id,t.t),e.updateLastTransactionTime(t.id,t.payT),t.acks.forEach(function(n){if(4===n.length){var r=new d.default({fromMe:n[1],remote:t.id,id:n[0],participant:n[2]}),a=e.get(r);a&&a.updateAck(n[3])}else c.default.error("Msg:resyncReceipts invalid response: "+JSON.stringify(n))()}),t.msgs.length>0&&e.processMultipleMessages(t.id,t.msgs,{update:!0,isHistory:!1}).catch(s.LogoutDrop,function(){})})})):c.default.error("Msg:resyncReceipts error",t)()}).catch(s.LogoutDrop,s.EphemeralDrop,s.BrowserReplacedDrop,function(){}).catch(function(e){throw c.default.error(`Msg:resyncReceipts dropped ${String(e)} ${e?e.stack:"no stack"}`)(),new Error("Msg:resyncReceipts dropped")}).finally(function(){e.resetKeysForResyncReceipts()})}},{key:"updateLastReceipt",value:function(e,t){var n=this.lastReceivedReceipt[e];t&&(!n||t>n)&&(this.lastReceivedReceipt[e]=t)}},{key:"updateLastTransactionTime",value:function(e,t){var n=this.lastReceivedPaymentTransaction[e];t&&(!n||t>n)&&(this.lastReceivedPaymentTransaction[e]=t)}},{key:"processMultipleMessages",value:function(e,t,n,r){var a=this,o=function(){return(0,h._processMultipleMessages)(e,t,n,r)};if(e){var i=void 0,u=this.pendingAdd[e];return(i=u?u.then(o):o()).finally(function(){e&&a.pendingAdd[e]===i&&(a.pendingAdd[e]=null)}).catch(function(){}),this.pendingAdd[e]=i}return o()}},{key:"markAllAsStale",value:function(){this.forEach(function(e){return e.unset("recvFresh")})}}]),t}();S.model=f.default,t.default=new S},biedfadfag:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n("cgcgbfbffj")),o=i(n("diafggiefe"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"toArray",value:function(){var e=this;return function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"filter",this).call(this,function(t){return t.old&&e.remove(t),t})}}]),t}();u.model=o.default,t.default=u},biehbcgiib:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("beddiafhbh"),u=(r=i)&&r.__esModule?r:{default:r},s=n("cgecdbiihg");var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"render",value:function(){return o.createElement(u.default,{type:s.PLAYER_TYPE.OG_FLOATER,ogVideoInfo:this.props.ogVideoInfo,startTime:this.props.startTime,onClose:this.props.onClose,onVideoEnded:this.props.onVideoEnded,onError:this.props.onError,onAspectRatio:this.props.onAspectRatio,autoPlay:this.props.autoPlay})}}]),t}();l.displayName="OgVideoPlayer",t.default=l},bieicghjif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=y(n("ddhijeejag")),i=n("ccihhdchab"),u=n("dcaifjegcg"),s=v(u),l=v(n("dbdfbgehgj")),c=v(n("gbfffciea")),f=v(n("bjigbaghc")),d=n("ddjgcfjicj"),p=y(n("cajijabhgb")),h=v(n("bdiiahhjbe")),m=v(n("gabccaieg")),b=v(n("bihdhbjih")),g=v(n("jccfhaecf"));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,u.prop)(),r.duration=(0,u.prop)(),r.participants=(0,u.collection)(m.default),r.active=(0,u.session)(!1),r.keepAliveTimer=(0,u.session)(),r.stopPromise=(0,u.session)(),_(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),r(t,[{key:"initialize",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.listenTo(this.participants,"remove reset",function(){e.hasParticipants()||e.delete()});var n=l.default.get(this.id);n&&!n.liveLocation&&(n.liveLocation=this)}},{key:"delete",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.stopViewingMap(),this.participants.delete(),this.getCollection().remove(this.id);var e=l.default.get(this.id);e&&(e.liveLocation=void 0)}},{key:"hasParticipants",value:function(){return this.participants.length>0}},{key:"startViewingMap",value:function(){this.active||(this.active=!0,this._updateLiveLocations(),this._startKeepAlive())}},{key:"stopViewingMap",value:function(){this.active&&(this.active=!1,this._pauseLiveLocations(),this._stopKeepAlive())}},{key:"userHasLiveLocation",value:function(e){return!!this.participants.get(e)}},{key:"iHaveLiveLocation",value:function(){return this.userHasLiveLocation(f.default.me)}},{key:"stopMyLiveLocation",value:function(e){var t=this;if(!this.iHaveLiveLocation())return Promise.reject(new p.ActionError);if(this.stopPromise)return this.stopPromise;var n=this.stopPromise=b.default.disableLiveLocation(this.id),r=new i.ActionType(l10n.t(93)),a=e||(0,i.genId)(),u=n.then(function(e){return 200===e.status?new i.ActionType(l10n.t(92)):e.status>=400?new i.ActionType(l10n.t(89)):void 0}).catch(function(e){return h.default.error("models:liveLocation:disableLiveLocation dropped")(e),new i.ActionType(l10n.t(89),l10n.t(152),t.stopMyLiveLocation.bind(t,a))});return c.default.openToast(o.createElement(i.ActionToast,{id:a,initialAction:r,pendingAction:u})),n.then(function(e){if(200===e.status&&!e._duplicate){var n=t.participants.get(f.default.me);n&&n.disable()}}).finally(function(){t.stopPromise=null})}},{key:"_updateLiveLocations",value:function(){this.update().catch(function(){})}},{key:"_pauseLiveLocations",value:function(){b.default.unsubscribeLiveLocation(this.id).catch(d.WapDrop,function(){})}},{key:"_sendKeepAlive",value:function(){b.default.subscribeLiveLocation(this.id,!1).catch(d.WapDrop,function(){})}},{key:"_startKeepAlive",value:function(){if(null==this.keepAliveTimer){var e=this.duration;null!=e&&0!==e&&(this.keepAliveTimer=window.setInterval(this._sendKeepAlive.bind(this),1e3*e))}}},{key:"_stopKeepAlive",value:function(){null!=this.keepAliveTimer&&(window.clearInterval(this.keepAliveTimer),this.keepAliveTimer=null)}}]),t}();E.Collection="LiveLocation",E.Proxy="liveLocation",E.idClass=g.default,t.default=(0,u.defineModel)(E)},bifahbdaeg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("bgddggdhc"),i=y(n("dgibicjjj")),u=n("cgejchjdhj"),s=y(n("ddajbaceej")),l=n("dhfbfehaef"),c=y(l),f=y(n("eceadcicaf")),d=y(n("ihfccfgdf")),p=n("ejbdjaifi"),h=n("bheafeifce"),m=y(n("cbeecgcage")),b=y(n("bcifhbgija")),g=y(n("dgiechcbec")),v=n("hjbbdjjdf");function y(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));E.call(n);var r=e.msg,a=e.author,o=e.active;return n.state={active:!!o&&o.value===r,author:a||null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.active&&this.props.listeners.add(this.props.active,this.props.msg.id.toString(),this.onActiveChange)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.author!==this.props.author&&this.setState({author:e.author})}},{key:"render",value:function(){var e=this.props.msg,t=a.createElement(m.default,{msg:e}),n=a.createElement(g.default,{msg:e,msgType:"Search",author:this.state.author,searchQuery:this.props.searchText?[this.props.searchText]:[]}),r={enter:this.onEnter};return a.createElement(c.default,{handlers:r,onFocus:this.indicateFocus,onBlur:this.onBlur},a.createElement(i.default,{ref:this.setRefCell,contextEnabled:this.contextEnabled,theme:"chat-search",active:!!this.state.active,primaryDetail:t,secondary:n,primary:void 0,onClick:this.onClick}))}}]),t}();_.CONCERNS={msg:["id","chat","isSentByMe","senderObj","rtl","dir","type"]};var E=function(){var e=this;this.onActiveChange=function(t,n){if("focus"===t){var r=(0,o.forbiddenAssertDOMNode)(e);s.default.focus(r),n&&(0,u.scrollIntoViewIfNeeded)(r)}e.setState({active:!!t})},this.onClick=function(t){if((0,v.isFunction)(e.props.onClick)){var n=(0,h.unproxy)(e.props.msg),r=n.chat,a=r.getSearchContext(n);a.msg=n,e.props.onClick(t,r,a)}},this.onEnter=function(t){t.preventDefault(),t.stopPropagation(),(0,l.shouldIndicateFocus)(),e.onClick(t)},this.indicateFocus=function(t){(0,l.indicateFocus)(e.refCell,["#e9eaeb","#cbdde7"],{complete:e.onBlur})},this.onBlur=function(t){var n=(0,o.forbiddenAssertDOMNode)(e.refCell);(0,b.default)(n,"stop"),n.style.backgroundColor=""},this.contextEnabled=function(){return!1},this.setRefCell=function(t){e.refCell=t}};_.displayName="MessageClass",t.default=(0,f.default)((0,d.default)((0,p.hoc)(_),_.CONCERNS))},bifbhbbiie:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("dfacahcafg"),o=(r=a)&&r.__esModule?r:{default:r},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag"));var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.PureComponent),i(t,[{key:"_renderColumns",value:function(){var e=this,t=this.props,n=t.numColumns,r=t.numItems,a=t.offset,i=t.renderItem,u=t.selectedIndex,s=0,l=r-n;return 1===a&&(n+=1,s=-1),a===l-1&&(n+=1),(0,o.default)(n,function(t){var n=t+s+a;return n<0?null:n>=r?null:i(n,n===u,e.props.menuWidth)})}},{key:"render",value:function(){return u.createElement(u.Fragment,null,this._renderColumns())}}]),t}();s.displayName="CarouselMenuItems",t.default=s},bifgjibich:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logFilterEvent=function(e){new o.default.QuickReply({quickReplyAction:o.default.QUICK_REPLY_ACTION.ACTION_CHAT_IMPRESSION,quickReplyCount:e}).commit()},t.logSelectEvent=function(){new o.default.QuickReply({quickReplyAction:o.default.QUICK_REPLY_ACTION.ACTION_CHAT_CLICK,quickReplyKeywordMatched:!1}).commit()},t.logCancelEvent=function(){new o.default.QuickReply({quickReplyAction:o.default.QUICK_REPLY_ACTION.ACTION_CHAT_CLICK_CANCEL}).commit()};var r,a=n("bfbggcdbfb"),o=(r=a)&&r.__esModule?r:{default:r}},bifjfdedi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("ihfccfgdf")),i=n("ejbdjaifi"),u=c(n("dgiechcbec")),s=c(n("fifhbjiec")),l=c(n("dhgeaaaega"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.presence;if(n.isActive()){var r=n.getFormattedString();if(r)return a.createElement(s.default,{className:l.default.chatstateTyping,direction:"inherit",ellipsify:!0,titlify:!0,text:r})}var o=t.previewMessage;return o?a.createElement(u.default,{msg:o,msgType:"LastMessage"}):null}}]),t}();f.displayName="ChatStateInfo",f.CONCERNS={chat:["previewMessage"],chatstate:["id","type"]},f.WEAK_CONCERNS={presence:["hasData","withholdDisplay"]},f.displayName="ChatstateInfo";var d=(0,o.default)((0,i.hoc)(f),f.CONCERNS,f.WEAK_CONCERNS);t.default=function(e){var t=e.chat;return a.createElement(d,{chat:t,presence:t.presence,chatstate:t.presence.chatstate})}},bigcibhibh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("dadagidhdg")),i=s(n("bfdcadbbif")),u=s(n("ceffhbhahb"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement("div",{className:(0,u.default)(o.default.closeBtn,{[o.default.fullscreen]:this.props.isFullscreenMode}),onClick:this.props.onClick},a.createElement(i.default,{name:"video-x"}))}}]),t}();l.displayName="CloseButton",t.default=l},bigicfbcdh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("daahhbhaaf")),o=i(n("bfdcadbbif"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){return r.createElement("div",{className:e.inactive?a.default.inactive:a.default.offline,onClick:e.onClick},r.createElement("div",null,r.createElement("div",{className:a.default.circle},r.createElement(o.default,{name:e.svgName})),r.createElement("div",{className:a.default.text},e.text)))}u.displayName="RetryOverlay"},bihbdchfhc:function(e,t){e.exports={muted:"_2-Hk-",hasText:"_3ZzfG",noText:"_1llsm",quote:"T55bS",hasAuthor:"_2zxsH",forwarded:"_2cLXT"}},bihdbbidff:function(e,t){e.exports={muted:"_1IVXA",container:"_2fsn0",popupPanel:"QRsOy",wrapper:"aNhVd",emojiIcon:"_2dEi2",sendIcon:"_2Oy0E",lineWrapper:"_2Gbfq"}},biheibdage:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ATTACH_MEDIA_STATE=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},i=n("dcaifjegcg"),u=b(i),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),l=n("cgffhfegce"),c=b(n("bdiiahhjbe")),f=n("ddgbhifaji"),d=b(n("cieaaiahhf")),p=n("bfbggcdbfb"),h=n("cbcbdjdah"),m=b(n("beeieigghj"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v={READY:"ready",PROCESSING:"processing",ERROR:"error"};t.ATTACH_MEDIA_STATE=v;var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,i.prop)(),r.file=(0,i.prop)(),r.uiProcessed=(0,i.prop)(),r.fileOrigin=(0,i.prop)(),r.state=(0,i.session)(),r.mediaPrep=(0,i.session)(),r.mimetype=(0,i.session)(),r.processPromise=(0,i.session)(),r.exception=(0,i.session)(),r.chat=(0,i.session)(),r.caption=(0,i.session)(),r.type=(0,i.session)(h.TYPE.UNKNOWN),r.preview=(0,i.session)(),r.fullPreview=(0,i.session)(),r.fullPreviewSize=(0,i.session)(),r.filename=(0,i.session)(),r.pdfPages=(0,i.session)(),r.isGif=(0,i.session)(),r.gifAttribution=(0,i.session)(),r.previewable=(0,i.derived)(r._previewable,["preview","fullPreview","type","filename","fullPreviewSize","mimetype"]),g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),a(t,[{key:"_previewable",value:function(){if(!this.type||!this.mimetype||!this.fullPreview)return!1;switch(this.type){case h.TYPE.DOCUMENT:return!!this.filename;case h.TYPE.IMAGE:case h.TYPE.VIDEO:return!(!this.fullPreviewSize||!this.preview);case h.TYPE.AUDIO:case h.TYPE.PTT:case h.TYPE.UNKNOWN:return!0;default:throw new Error(`Unsupported attach media type ${this.type}`)}}},{key:"initialize",value:function(){if(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),!(this.file instanceof Promise))throw new Error("cannot process non-promise file");this.processFile(this.file)}},{key:"processFile",value:function(e){this.state=v.PROCESSING,this.processPromise=this._processFilePromiseHelper(e)}},{key:"_processFileData",value:function(e){return this.fileOrigin===p.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY&&e.file instanceof File?(0,l.copyFile)(e.file).then(function(t){return r({},e,{file:t})}):Promise.resolve(e)}},{key:"_processFilePromiseHelper",value:function(e){var t=this;return e.then(function(e){return t._processFileData(e)}).then(function(e){t.set(e);var n={},r=e.file,a=e.isGif,o=e.gifAttribution;a?(n.asGif=a,n.gifAttribution=o):e.type===l.FILETYPE.DOCUMENT&&(n.asDocument=!0),n.precomputedFields={fullHeight:e.fullPreviewSize?e.fullPreviewSize.height:void 0,fullWidth:e.fullPreviewSize?e.fullPreviewSize.width:void 0,preview:e.preview,duration:e.duration};var i=m.default.createFromData(r,r.type),u=(0,f.prepRawMedia)(i,n);return t.set({mediaPrep:u}),u.waitForPrep().then(function(e){var n=e.documentPreview,r=window.URL.createObjectURL(e.mediaBlob),a={file:e.mediaBlob,fullPreview:r,type:e.type,filename:e.filename,mimetype:e.mimetype,preview:e.preview,state:v.READY,isGif:e.isGif,fullPreviewSize:void 0,pdfPages:void 0};e.fullWidth&&e.fullHeight&&(a.fullPreviewSize={height:e.fullHeight,width:e.fullWidth}),e.type===h.TYPE.IMAGE&&(a.preview=r),e.type===h.TYPE.DOCUMENT&&n&&(a.fullPreview=n.url,a.preview=n.thumbUrl,a.fullPreviewSize={height:n.height,width:n.width},a.pdfPages=n.pdfPages),t.set(a),c.default.assert(t.previewable,"AttachMedia processFile","Invariant violated, processed file is not previewable")()})}).catch(s.InvalidMediaFileType,s.InvalidImageFileType,function(n){return t._processFilePromiseHelper(e.then(function(e){return e.type=l.FILETYPE.DOCUMENT,e}))}).catch(d.default,s.MediaFileFailedLoad,s.MediaFileEmpty,function(e){return t.set({exception:e,state:v.ERROR}),t}).catch(function(e){return t.set({exception:new s.InvalidMediaFileType,state:v.ERROR}),t})}},{key:"sendToChat",value:function(e,t){if(!this.mediaPrep)throw new Error("MediaPrep not available");if(this.state===v.ERROR)throw new Error(this.exception);if(!(this.state!==v.PROCESSING||this.previewable&&t.addEvenWhilePreparing))throw new Error("Media still processing");if(this.state!==v.READY){var n={mimetype:this.mimetype};switch(this.type){case h.TYPE.VIDEO:n.isGif=this.isGif,n.gifAttribution=this.gifAttribution;case h.TYPE.IMAGE:n.width=this.fullPreviewSize.width,n.height=this.fullPreviewSize.height,n.body=this.preview,t.placeholderProps=n;break;case h.TYPE.DOCUMENT:n.pageCount=this.pdfPages,n.filename=this.filename,n.body=this.preview,t.placeholderProps=n;break;case h.TYPE.AUDIO:case h.TYPE.PTT:}this.mediaPrep.sendToChat(e,t)}else this.mediaPrep.sendToChat(e,t)}},{key:"getFileType",value:function(){if(!(this.file instanceof Blob||this.file instanceof File))throw new Error("expected file to be a Blob or File");return(0,l.typeFromMimetype)(this.file.type)}},{key:"delete",value:function(){this.fullPreview&&window.URL.revokeObjectURL(this.fullPreview),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this)}}]),t}();y.Proxy="attachMedia",t.default=(0,i.defineModel)(y)},bihjahgcja:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("iffjgahba"),o=(r=a)&&r.__esModule?r:{default:r};var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.reasons=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,o.default)("ForwardError")),t}();t.default=i},biigiejiib:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendQueryGroup=function(e){var t=void 0;if(a.default.supportsFeature(a.default.F.MD_BACKEND))return Promise.reject(new Error("queryGroup: not supported when not build with MD_BACKEND"));t=l.default.groupMetadataFind(e);return t.then(function(t){if(t.id)return function(e,t){(0,u.isString)(t)&&i.default.Contact.find(e).then(function(e){if(!e.name){var n={name:t};(0,s.updateLocal)(e.id,n).then(function(){e.set(n)})}})}(e,t.subject),{id:t.id,owner:t.owner,creation:t.creation,desc:t.desc,descId:t.descId,descOwner:t.descOwner,descTime:t.descTime,restrict:t.restrict,announce:t.announce,noFrequentlyForwarded:t.noFrequentlyForwarded,participants:t.participants};o.default.warn("Store:GroupMetadata Unexpected server response")(t)}).catch(r.ServerStatusCodeError,function(t){if(t.status>=400)return{id:e,stale:!1}})},t.sendQueryGroupInvite=function(e){var t=void 0;if(a.default.supportsFeature(a.default.F.MD_BACKEND))return Promise.reject(new Error("queryGroup: not supported when not build with MD_BACKEND"));t=l.default.groupInviteInfo(e).then(function(e){return 200!==e.status?Promise.reject(new r.ServerStatusCodeError(e.status)):e});return t},t.groupMetadataFindFromPhone=function(e){if(a.default.supportsFeature(a.default.F.MD_BACKEND))return Promise.reject(new Error("groupMetadataFindFromPhone: not supported in MD_BACKEND mode"));return l.default.groupMetadataFindFromPhone(e)};var r=n("ddjgcfjicj"),a=c(n("ccaaiecfib")),o=c(n("bdiiahhjbe")),i=c(n("bhggeigghg")),u=n("hjbbdjjdf"),s=n("dcjbdhhjge"),l=c(n("bihdhbjih"));function c(e){return e&&e.__esModule?e:{default:e}}},biiiheaiih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconnect=void 0;var r=n("dcdiaahjj"),a=i(r),o=i(n("eaaehfdjdg"));function i(e){return e&&e.__esModule?e:{default:e}}t.reconnect=(new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isReconnecting=!1,this.reconnectIfDisconnected=function(){t.isReconnecting||a.default.displayInfo!==r.StreamInfo.OFFLINE||(t.isReconnecting=!0,o.default.poke(),o.default.summary(),setTimeout(function(){return t.isReconnecting=!1},3e3))}}).reconnectIfDisconnected},biijfeijcb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TOTAL_SEARCH_HEIGHT=void 0;var r=g(n("chihjdheic")),a=g(n("ciajhadgcb")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.findEmojiRowAt=O,t.getNumColumns=S;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=g(n("dgbjhghjfc")),s=g(n("bbhhbdicgc")),l=g(n("bggeiidigb")),c=g(n("cicjcfabii")),f=g(n("bcifhbgija")),d=g(n("ecdffdifib")),p=g(n("bheebijggd")),h=g(n("ehjcaiibe")),m=n("dfihaffaee"),b=g(m);function g(e){return e&&e.__esModule?e:{default:e}}var v=t.TOTAL_SEARCH_HEIGHT=parseInt(h.default["-total-search-height"],10),y=parseInt(h.default["-title-height"],10),_={[p.default.SEARCH_RESULT]:function(){throw new Error("Search results should not be shown with a title.")},[p.default.RECENT]:function(){return l10n.t(408)},[u.default.SMILEYS_PEOPLE]:function(){return l10n.t(409)},[u.default.ANIMALS_NATURE]:function(){return l10n.t(403)},[u.default.FOOD_DRINK]:function(){return l10n.t(405)},[u.default.ACTIVITY]:function(){return l10n.t(402)},[u.default.TRAVEL_PLACES]:function(){return l10n.t(411)},[u.default.OBJECTS]:function(){return l10n.t(407)},[u.default.SYMBOLS]:function(){return l10n.t(410)},[u.default.FLAGS]:function(){return l10n.t(404)}},E=0;E=parseInt(h.default["-scrollbar-width"].replace(/px$/,""),10);var j=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._rowComponents=new Map,n._flatListController=new l.default,n._renderBlanks=!1,n._getRowsAndSectionDataMemoized=(0,d.default)(function(e){var t=e.numColumns,n=e.data,r=e.showTitles,o=v,i={},u=[];return n.forEach(function(e,s){var l=e.sectionId,c=e.emojiIds,f=0,d=o;if(0!==c.length){r&&(u.push({kind:"title",itemKey:`section_${l}_title`,index:u.length,title:_[l](),sectionId:l,height:y,offsetTop:o}),f+=y,o+=y);var p=(0,a.default)(c,t),b=s===n.length-1;p.forEach(function(e,t){var n=t===p.length-1&&!b?m.EMOJI_HEIGHT+parseInt(h.default["-section-bottom-margin"],10):m.EMOJI_HEIGHT;u.push({kind:"emojis",itemKey:`section_${l}_emoji_${t}`,index:u.length,emojiIds:e,sectionId:l,height:n,offsetTop:o}),f+=n,o+=n}),i[l]={height:f,offsetTop:d}}}),{rows:u,sectionData:i}}),n._handleEmojiFocus=function(e){var t=n._refScrollContainer;t&&n.props.onEmojiFocus(e,t)},n._handleScroll=function(e){n._animationFrameID||(n._animationFrameID=requestAnimationFrame(n._handleScrollOnAnimationFrame))},n._handleScrollOnAnimationFrame=function(){if(delete n._animationFrameID,n._refScrollContainer){var e=n._refScrollContainer.scrollTop;n.props.onScroll&&n.props.onScroll(e);var t=n._getSectionIdFromScrollTop(e);t&&n.props.onSection&&n.props.onSection(t)}},n._setRefScrollContainer=function(e){n._refScrollContainer=e},n._renderRow=function(e){switch(e.kind){case"title":return i.createElement("div",{className:h.default.title},e.title);case"emojis":return i.createElement(b.default,{emojiIds:e.emojiIds,focusAbove:function(t){n._focusEmojiAt(e.index,-1,t)},focusBelow:function(t){n._focusEmojiAt(e.index,1,t)},numColumns:n._getNumColumns(),onEmoji:n.props.onEmoji,onEmojiFocus:n._handleEmojiFocus,ref:function(t){t?n._rowComponents.set(e.itemKey,t):n._rowComponents.delete(e.itemKey)},allowVariantPrompt:e.sectionId!==p.default.RECENT});default:throw e.kind,new Error(`Invalid row kind: ${e.kind}`)}},n._getRowsAndSectionData(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),o(t,[{key:"componentDidMount",value:function(){this._refScrollContainer&&this._refScrollContainer.scrollTop!==this.props.initialScrollTop&&(this._refScrollContainer.scrollTop=this.props.initialScrollTop)}},{key:"focusFirstVisibleEmoji",value:function(e){var t=this._getFirstVisibleEmojiRowComponent(e||0);t&&t.focusEmojiAt(0)}},{key:"scrollToSection",value:function(e,t){var n=this,r=t||0,a=this._refScrollContainer;if(!a)return Promise.resolve();var o=this._getRowsAndSectionData().sectionData[e];if(!o)return Promise.resolve();var i=o.offsetTop;if(a.scrollTop===i)return Promise.resolve();if(this._activeAnimation){if(this._activeAnimation.sectionId===e)return this._activeAnimation.promise;(0,f.default)(this._activeAnimation.scrollTarget,"stop"),this._activeAnimation&&this._activeAnimation.promise.cancel()}if(a.scrollTop===i)return Promise.resolve();var u=document.createElement("div");u.style.position="absolute",u.style.top=`${i+r}px`,u.style.left="0px",a.appendChild(u);var s=(0,f.default)(u,"scroll",{container:a,duration:300,easing:[.99,.13,.13,.99]}).then(function(){}).delay(100);return this._activeAnimation={promise:s,sectionId:e,scrollTarget:u},s.finally(function(){a.removeChild(u),n._activeAnimation&&n._activeAnimation.promise===s&&delete n._activeAnimation}),s}},{key:"scrollToTop",value:function(){this._refScrollContainer&&(this._refScrollContainer.scrollTop=0)}},{key:"selectFirstVisibleEmoji",value:function(e){var t=this._getFirstVisibleEmojiRowComponent(e||0);t&&t.selectFirstEmoji()}},{key:"_getCurrentSearchInputHeight",value:function(){return this.props.searchInputVisible?v:0}},{key:"_getNumColumns",value:function(){return S(this.props.width)}},{key:"_getRowsAndSectionData",value:function(){return this._getRowsAndSectionDataMemoized({numColumns:this._getNumColumns(),data:this.props.data,showTitles:this.props.showTitles})}},{key:"_getFirstVisibleEmojiRowComponent",value:function(e){if(this._refScrollContainer){var t=this._refScrollContainer.scrollTop+e,n=this._getEmojiRowFromScrollTop(t);if(n)return this._rowComponents.get(n.itemKey)}}},{key:"_getEmojiRowFromScrollTop",value:function(e){var t=this._getRowsAndSectionData().rows;return(0,r.default)(t.map(function(e){return"emojis"===e.kind?e:null}).filter(Boolean),function(t){return t.offsetTop+t.height>e})}},{key:"_getSectionIdFromScrollTop",value:function(e){var t=this._getEmojiRowFromScrollTop(e+this._getCurrentSearchInputHeight());if(t)return t.sectionId}},{key:"_focusEmojiAt",value:function(e,t,n){var r=O(this._getRowsAndSectionData().rows,e,t);if(r){var a=this._rowComponents.get(r.itemKey);a&&a.focusEmojiAt(n)}}},{key:"render",value:function(){var e=this._getRowsAndSectionData().rows,t=Math.min(e.length,2),n=void 0;return(this.props.onScroll||this.props.onSection)&&(n=this._handleScroll),i.createElement(c.default,{onScroll:n,className:h.default.container,onRef:this._setRefScrollContainer,flatListControllers:[this._flatListController]},i.createElement(s.default,{data:e,reorderAnimationsEnabled:!1,forceConsistentRenderCount:!1,flatListController:this._flatListController,extraItems:t,initialScrollTop:this.props.initialScrollTop,renderItem:this._renderRow}))}}]),t}();function O(e,t,n){for(var r=n<0?-1:1,a=t+n;a>=0&&a<e.length;){var o=e[a];if("emojis"===o.kind)return o;a+=r}}function S(e){var t=e-2*m.SIDE_MARGIN-E;return Math.floor(t/m.EMOJI_WIDTH)}j.displayName="EmojiSectionScrollList",t.default=j},bijdjchach:function(e,t){e.exports={muted:"NgTFT",count:"P6z4j",ffFix:"_1W1Se"}},bijebbjggf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setArchive=function(e,t){return function e(t,n){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,a.genId)();if(t.archive===n)return Promise.reject(new u.ActionError);var c=t.promises;if(c.setArchive)return c.setArchive;var f=t.getLastMsgKeyForAction();var d=(0,o.sendConversationArchive)(t.id,n,f).cancellable();var p=n?new a.ActionType(l10n.t(14)):new a.ActionType(l10n.t(39));var h=d.then(function(r){var o=void 0;return 200===r.status?(o=n?l10n.t(13):l10n.t(38),new a.ActionType(o,l10n.t(156),function(){return e(t,!n,l)})):r.status>=400?n?new a.ActionType(l10n.t(12)):new a.ActionType(l10n.t(37)):void 0}).catch(function(r){s.default.error("models:chat:setArchive dropped")(r);var o=n?l10n.t(12):l10n.t(37);return new a.ActionType(o,l10n.t(152),function(){return e(t,n,l)})});i.default.openToast(r.createElement(a.ActionToast,{id:l,initialAction:p,pendingAction:h}));var m=c.setArchive=d.then(function(e){200!==e.status||e._duplicate||(t.archive=n,n&&(t.pin=void 0))}).finally(function(){c.setArchive=null});m.archive=n;return m}((0,l.unproxy)(e),t)};var r=f(n("ddhijeejag")),a=n("ccihhdchab"),o=n("bfgjcdgecg"),i=c(n("gbfffciea")),u=f(n("cajijabhgb")),s=c(n("bdiiahhjbe")),l=n("bheafeifce");function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},bijegdjcac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=X(n("chihjdheic")),a=X(n("bebajedcaf")),o=X(n("bejjegijhj")),i=X(n("bfhjejbhhd")),u=X(n("diifagijfe")),s=X(n("eaaagccfda")),l=X(n("hhegggegb")),c=X(n("bfeeicacah")),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=Z(n("ddhijeejag")),h=X(n("djciiabagi")),m=n("bgddggdhc"),b=X(n("cdbddjfbcd")),g=X(n("eadfaddcj")),v=X(n("cbdehahifi")),y=X(n("cijhadicdb")),_=X(n("gbfffciea")),E=X(n("biecbbiiee")),j=X(n("bcifhbgija")),O=X(n("ceffhbhahb")),S=X(n("ddchcbhaia")),w=X(n("bfdjgcjbeh")),P=X(n("ceddibdhdb")),M=X(n("jcfhjhibi")),C=X(n("bgefgjjhb")),T=X(n("didfdhbecg")),A=X(n("bdiiahhjbe")),N=X(n("bjebjijbfc")),k=X(n("dbjbhajgfd")),I=X(n("caffijjhc")),R=X(n("fffdgbfji")),L=X(n("ddajbaceej")),D=n("bfjajhbdf"),x=X(D),U=X(n("cdegfghcid")),G=Z(n("cajijabhgb")),F=X(n("eceadcicaf")),B=X(n("bjbedjfe")),$=n("ejbdjaifi"),V=X(n("ccegbieicj")),H=X(n("bfdcadbbif")),W=X(n("bcjcbbafcj")),Y=X(n("cgijjjgici")),K=X(n("cbcchiaeeb")),q=n("dgdhcdgffe"),z=n("ddjgcfjicj"),Q=X(n("cbedjffdai")),J=X(n("fciifhbdb"));function Z(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function X(e){return e&&e.__esModule?e:{default:e}}function ee(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var te=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));ne.call(n);var r=e.chat;return n.state=f({},n._getInitialCursorAndFocusContext(e),{unreadCount:r.pendingSeenCount?0:r.unreadCount,isNearBottom:!0,newUnread:0,contextMenu:null,textsize:Q.default.get().textsize,msgLoadState:ae(e.msgCollection)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.Component),d(t,[{key:"_getInitialCursorAndFocusContext",value:function(e){var t=e.focusCtx,n=e.chat,r=e.msgCollection,a=re(t)||this.getUnreadFocusCtx(e),o=a&&a.msg,i=o&&o.id;return{cursor:M.default.create({msgCollection:r,focusedMsgKey:i,type:n.isGroup?g.default.RENDER_CURSOR.GROUP_CONVERSATION:g.default.RENDER_CURSOR.CONVERSATION}),focusCtx:a}}},{key:"componentWillUnmount",value:function(){null!=this._msgLoadStateChangeUnsubscribe&&this._msgLoadStateChangeUnsubscribe(),this.updateStickyDateMarker.cancel(),this.updateForCurrentPosition.cancel(),this.onResizeThrottle.cancel(),this.onResizeDebounce.cancel(),this.hideStickyDateMarker.cancel(),this.clearUnreadTimer&&clearTimeout(this.clearUnreadTimer),this.maybeSendSeen(),this.props.chat.markedUnread=!1}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.chat,r=t.listeners;r.add(_.default,"scroll_chat_to_bottom",function(t){e.scrollToBottom(t)}),r.add(_.default,"scroll_messages",this.scrollMessages),r.add(_.default,"textsize_change",function(t){return e.setState({textsize:t})}),r.add(_.default,"panes_will_change",this.onPanesWillChange),r.add(_.default,"panes_did_change",this.onPanesDidChange),r.add(_.default,"scroll_to_focused_msg",function(){e.chatOpenScrollTimestamp=Date.now()}),r.add(_.default,"update_scroll_position",function(){e.updateForCurrentPosition()}),r.add(window,"focus",this.onWindowGainedFocus),r.add(window,"blur",this.onWindowLostFocus),r.add(window,"resize",this.onResizeThrottle),r.add(window,"resize",this.onResizeDebounce),r.add(E.default,"change:msgKey",this.onMsgKeyChange),this.attachMsgCollectionObservers(this.props);var a=this.props.rejectOnUnmount();(0,K.default)({signal:a}).then(function(){a.isRejected()||e.showStickyDateMarker()}).catch(Y.default,function(){}),this.props.updateOpenedChatInfo({chat:n}),(0,q.sendSeen)(n),this.updateForCurrentPosition()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectable===this.props.selectable&&(this.loadRecentMsgsPromise&&this.loadRecentMsgsPromise.cancel(),this.setState(f({msgLoadState:ae(e.msgCollection)},this._getInitialCursorAndFocusContext(e))),this.attachMsgCollectionObservers(e))}},{key:"shouldComponentUpdate",value:function(e,t){if(!(0,b.default)(e,this.props))return!0;var n=this.state,r=n.msgLoadState,a=ee(n,["msgLoadState"]),o=t.msgLoadState,i=ee(t,["msgLoadState"]);return!(0,b.default)(o,r)||!(0,b.default)(i,a)}},{key:"componentDidUpdate",value:function(e){var t=this.props.chat;this.updateRenderedMsgCache(e.chat===t),this.props.updateOpenedChatInfo({chat:t}),e.msgCollection!==this.props.msgCollection&&this.updateForCurrentPosition()}},{key:"getMsgBottom",value:function(e,t){var n=e.scrollTop,r=e.scrollHeight,a=r-(n+e.clientHeight);return r-(t.offsetTop+t.clientHeight+a)}},{key:"setMsgBottom",value:function(e,t,n){var r=t.offsetTop+t.clientHeight+n-e.clientHeight;this.setScrollTop(e,r)}},{key:"getRenderedMessageCount",value:function(){return this.getMsgs().length}},{key:"isMostRecentCMC",value:function(){return this.props.chat.msgs===this.props.msgCollection}},{key:"setScrollBottom",value:function(e){var t=this.scrollContainer;t&&this.setScrollTop(t,t.scrollHeight-e-t.clientHeight)}},{key:"setScrollTop",value:function(e,t){this.programmaticScroll=Date.now(),e&&(e.scrollTop=t)}},{key:"showStickyDateMarker",value:function(){this.stickyDateMarker&&this.stickyDateMarker.setVisibility(!0),this.hideStickyDateMarker.debounce(3e3)}},{key:"nearBottom",value:function(){var e=this.scrollContainer;return!!e&&e.scrollTop+g.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight}},{key:"getUnreadFocusCtx",value:function(e){var t=e||this.props,n=t.chat,r=t.msgCollection,a=t.focusCtx,o=void 0;if(n.unreadCount?o=n.unreadCount:this.state&&this.state.unreadCount&&(o=this.state.unreadCount),(!a||this.isMostRecentCMC())&&o){var i=r.toArray().filter(function(e){return e.isUnreadType}).reverse().slice(0,o);if(i.length===o)return{msg:i=(0,c.default)(i),isUnreadDivider:n.shouldShowUnreadDivider,highlightMsg:!1}}}},{key:"getMsgs",value:function(){var e=this.props.msgCollection,t=this.state.cursor;return e.toArray().slice(t.getStart(e),t.getEnd(e))}},{key:"updateRenderedMsgCache",value:function(e){var t=this.messageList;if(t){for(var n=[],r=t.props.msgs,a=new Map,o={},i=0,s=r.length-1;i<s;){var l=Math.floor((i+s)/2),c=r[l].id.toString(),f=t.getMsgWrapperRef(c);t.getMsgVisibility(f).visibility===g.default.VISIBILITY.ABOVE?i=l+1:s=l}for(var d=i;d<r.length;d++){var p=r[d].id.toString(),h=t.getMsgWrapperRef(p);if(h){var b=t.getMsgVisibility(h);if(b.visibility!==g.default.VISIBILITY.VISIBLE)break;o[p]={offset:b.offset,t:r[d].t},a.set(p,h),n.push(r[d].id)}}if(this.scrollContainer){var v=this.scrollContainer.scrollTop;i=0,s=(0,u.default)(t.renderedDateMarkers)-1;var y=t.getDateMarkerRef(0),_=y&&(0,m.forbiddenAssertDOMNode)(y);if(_&&_.offsetTop<=v+8.5)for(;i<s;){var E=Math.ceil((i+s)/2),j=t.getDateMarkerRef(E);if(!j)throw new Error(`DateMarkerRef: ${E} not found. ${Object.keys(t.renderedDateMarkers).toString()}}`);(0,m.forbiddenAssertDOMNode)(j).offsetTop>v+8.5?s=E-1:i=E}else i=-1;this.updateStickyDateMarker.onOrBefore(0,{dateMarkerIdx:i,silent:e}),this.dateMarkerIdx=i,this.pauseHiddenGifs(this.renderedMsgCache,a),this.renderedMsgCache=a,this.visibleMsgOrder=n,this.props.updateOpenedChatInfo({renderedMsgsInfo:o,visibleMsgOrder:n,clientHeight:this.scrollContainer?this.scrollContainer.clientHeight:0})}}else this.renderedMsgCache.clear()}},{key:"getMsgComponent",value:function(e){var t=this.messageList;if(t)return t.getMsgComponentRef(e.toString())}},{key:"pauseHiddenGifs",value:function(e,t){var n=this;e.forEach(function(e,r){if(!t.has(r)){var a=n.props.msgCollection.get(r);a&&a.isGif&&"function"==typeof e.pause&&e.pause()}})}},{key:"maybeSendSeen",value:function(e,t){var n=e,r=t,a=this.props,i=a.chat,u=a.msgCollection,s=this.state.cursor;if(i.isDirty()&&this.isMostRecentCMC()&&s.getEnd(u)>=u.length&&((0,o.default)(r)&&(r=document.hasFocus()),r&&((0,o.default)(n)&&(n=this.nearBottom()),n)))return(0,q.sendSeen)(i),!0}},{key:"render",value:function(){var e=this,t=this.props,n=t.chat,a=t.msgCollection,o=t.selectable,i=t.onMessageSelect,u=this.state,s=u.focusCtx,l=u.msgLoadState,c=(0,O.default)(J.default.pane,{[J.default.selectable]:o}),f=this.isMostRecentCMC(),d=!!s,h=void 0,m=(0,r.default)(g.default.TEXTSIZE_CLASS_MAP,function(t){return t.scale===e.state.textsize});m&&(h=m.classname);var b=p.createElement(v.default,{ref:(0,$.GetRef)("messageList",this),unreadCount:this.state.unreadCount,selectable:o,onMessageSelect:i,msgs:this.getMsgs(),focusedMsgCtx:s,selectedMessages:this.props.selectedMessages,isMsgVisible:this.isMsgVisible,notifyChatRendered:this.props.notifyChatRendered,getSequentialMsg:this.getSequentialMsg}),_=p.createElement(y.default,{direction:"around",isMostRecentCMC:f,loadMoreMsgs:function(){},isLoadingEarlierMsgs:l.isLoadingEarlierMsgs,isLoadingRecentMsgs:l.isLoadingRecentMsgs,isLoadingAroundMsgs:l.isLoadingAroundMsgs}),E=void 0;(this.state.cursor.getStart(a)>0||!l.noEarlierMsgs)&&(E=p.createElement(y.default,{direction:"earlier",isMostRecentCMC:f,loadMoreMsgs:this.loadEarlierMsgs,isLoadingEarlierMsgs:l.isLoadingEarlierMsgs,isLoadingRecentMsgs:l.isLoadingRecentMsgs,isLoadingAroundMsgs:l.isLoadingAroundMsgs}));var j=void 0;(this.state.cursor.getEnd(a)<a.length||!f)&&(j=p.createElement(y.default,{direction:"recent",isMostRecentCMC:f,loadMoreMsgs:this.loadRecentMsgs,isLoadingEarlierMsgs:l.isLoadingEarlierMsgs,isLoadingRecentMsgs:l.isLoadingRecentMsgs,isLoadingAroundMsgs:l.isLoadingAroundMsgs})),d&&l.isLoadingAroundMsgs?(j=void 0,E=void 0,b=void 0):_=void 0;var S=void 0,w=void 0,P=this.state,M=P.isNearBottom,A=P.newUnread;if(!M||!l.isLoadingAroundMsgs&&!f){A&&n.unreadCount&&(w=p.createElement(U.default,{count:this.state.newUnread,key:"icon-unread"}));var N=(0,O.default)(J.default.incoming,{[J.default.ffFix]:W.default.isGecko});S=p.createElement("div",{className:N,onClick:this.jumpToBottom,role:"button"},p.createElement(T.default,{transitionName:"pop",className:J.default.unread},w),p.createElement(H.default,{name:"down"}))}var R=void 0;return this.state.contextMenu&&(R=p.createElement(I.default,{displayName:"ConversationContextMenu",escapable:!0,popable:!0,requestDismiss:this.onContextClose},p.createElement(k.default,{contextMenu:this.state.contextMenu}))),p.createElement(V.default,{className:h},p.createElement(C.default,{ref:(0,$.GetRef)("stickyDateMarker",this)}),p.createElement(T.default,{transitionName:"pop"},S),p.createElement("div",{className:c,ref:this.setScrollContainer,onScroll:this.onScroll,onKeyPress:this.onKeyPress,onContextMenu:o?null:this.onContextMenu,onPaste:this.onPaste,tabIndex:"0"},p.createElement("div",{className:J.default.empty}),_,E,b,j),R)}}]),t}(),ne=function(){var e=this;this.chatOpenScrollTimestamp=0,this.renderedMsgCache=new Map,this.visibleMsgOrder=[],this.setScrollContainer=function(t){return e.scrollContainer=t},this.onPanesWillChange=function(t){var n=(0,c.default)(e.visibleMsgOrder);if(n){var r=n.toString(),a=e.messageList;if(r&&a){var o=a.getMsgWrapperRef(r);if(o){var i=e.scrollContainer,u=(0,m.forbiddenAssertDOMNode)(o);if(!i)return;var s=e.getMsgBottom(i,u);e.panesChanging={msg:u,container:i,msgBottom:s}}}}},this.onPanesDidChange=function(t){if(e.panesChanging){var n=e.panesChanging,r=n.msg,a=n.container,o=n.msgBottom;e.setMsgBottom(a,r,o),e.panesChanging=void 0}},this.attachMsgCollectionObservers=function(t){var n=e.props,r=n.listeners,a=n.chat,o=n.msgCollection,i=t.focusCtx,u=t.chat,s=t.msgCollection;o&&(a.msgs===o&&r.remove(a,"change:unreadCount",e.onUnreadCount),r.remove(o,"remove_msgs",e.onMsgsDelete),r.remove(a.msgs,"change:last",e.onLastMsgChanged)),null!=e._msgLoadStateChangeUnsubscribe&&e._msgLoadStateChangeUnsubscribe(),e._msgLoadStateChangeUnsubscribe=s.onMsgLoadStateChange(e._handleMsgLoadStateChange),s===u.msgs&&r.add(u,"change:unreadCount",e.onUnreadCount),r.add(u.msgs,"change:last",e.onLastMsgChanged),r.add(s,"remove_msgs",e.onMsgsDelete),i&&s.loadAroundPromise&&s.loadAroundPromise.then(function(){return!0}).checkpoint(e.props.rejectOnUnmount()).catch(G.Unmount,function(){return!1}).catch(z.E404,function(){return _.default.openToast(p.createElement(x.default,{msg:R.default.t(687),id:(0,D.genId)()})),!0}).catch(function(){return!0}).then(function(t){if(t&&i){var n=re(i),r=n&&n.msg;r&&e.setState({cursor:e.state.cursor.init(r.id,s),focusCtx:n})}})},this.updateForCurrentPosition=(0,l.default)(function(){var t=e.props.rejectOnUnmount();(0,K.default)({signal:t}).then(function(){t.isRejected()||(e.updateRenderedMsgCache(),h.default.unstable_batchedUpdates(function(){var t=e.scrollContainer;if(null!=t){t.scrollTop<300&&e.loadEarlierMsgs();var n=e.state,r=n.isNearBottom,a=n.cursor,o=e.nearBottom();o?(e.maybeSendSeen(!0),e.isMostRecentCMC()&&r!==o&&e.setState({isNearBottom:o,newUnread:0}),(a.getEnd(e.props.msgCollection)<e.props.msgCollection.length||!e.isMostRecentCMC())&&e.loadRecentMsgs()):r!==o&&e.setState({isNearBottom:o})}}))}).catch(Y.default,function(){})},100),this._handleMsgLoadStateChange=function(){e.setState({msgLoadState:ae(e.props.msgCollection)})},this.onResizeThrottle=(0,l.default)(function(){e.updateRenderedMsgCache()},100),this.onMsgKeyChange=function(t){var n=t.newKey,r=t.oldKey,a=r.toString(),o=n.toString(),i=e.renderedMsgCache.get(a);i&&(e.renderedMsgCache.delete(a),e.renderedMsgCache.set(o,i));for(var u=0;u<e.visibleMsgOrder.length;++u)if(e.visibleMsgOrder[u]===r){e.visibleMsgOrder[u]=n;break}},this.onResizeDebounce=(0,s.default)(function(){var t=e.nearBottom();e.nearBottom!==t&&e.setState({isNearBottom:t})},100),this.loadEarlierMsgs=function(){var t=e.props,n=t.chat,r=t.msgCollection,a=e.state,o=a.cursor,i=a.msgLoadState;if(o.getStart(r)>0)o.hasBefore(r)&&e.setState({cursor:o.loadBefore(r)});else{if(i.noEarlierMsgs||i.isLoadingEarlierMsgs||i.isLoadingAroundMsgs)return;n.loadEarlierMsgs(r).checkpoint(e.props.rejectOnUnmount()).then(function(){var t={};e.state.focusCtx||(t.focusCtx=e.getUnreadFocusCtx(e.props)),o.hasBefore(r)?(t.cursor=o.loadBefore(r),e.setState(t)):e.setState(t)}).catch(G.Unmount,function(){}).catch(function(e){A.default.log("ConversationMsgs:loadEarlierMsgs failed")(),A.default.log(e)()})}},this.loadRecentMsgs=function(){var t=e.props,n=t.chat,r=t.msgCollection,a=e.state,o=a.cursor,i=a.msgLoadState;if(o.getEnd(r)<r.length)e.setState({cursor:o.loadAfter(r)});else{if(i.isLoadingRecentMsgs||i.isLoadingAroundMsgs)return;e.loadRecentMsgsPromise=n.loadRecentMsgs(r).cancellable().checkpoint(e.props.rejectOnUnmount()).then(function(){o.hasAfter(r)?e.setState({cursor:o.loadAfter(r)}):e.state.cursor.getEnd(r)>=r.length&&e.isMostRecentCMC()&&e.forceUpdate()}).catch(G.Unmount,function(){}).catch(function(e){A.default.log("ConversationMsgs:loadRecentMsgs failed")(),A.default.log(e)()}).finally(function(){e.loadRecentMsgsPromise=null})}},this.onComposeHeightChange=function(t){var n=e.scrollContainer;if(n)if(t){if(n&&t<0&&n.scrollTop===n.scrollHeight-n.clientHeight)return;e.setScrollTop(n,n.scrollTop+t)}else{var r=n.scrollHeight-(n.scrollTop+n.clientHeight);(0,j.default)(n,{tween:18},{progress:function(){e.setScrollTop(n,n.scrollHeight-r-n.clientHeight)},duration:300},[.1,.82,.25,1])}},this.getScrollBottom=function(){var t=e.scrollContainer;return t?t.scrollHeight-(t.scrollTop+t.clientHeight):0},this.hideStickyDateMarker=new P.default(function(){e.stickyDateMarker&&e.stickyDateMarker.setVisibility(!1)}),this.updateStickyDateMarker=new P.default(function(t){var n=t||{},r=n.dateMarkerIdx,a=n.silent,o=void 0!==a&&a,i=e.messageList;if(i&&"number"==typeof r){o||Date.now()-(e.programmaticScroll||0)<200||e.showStickyDateMarker();var u=i.getDateMarkerRef(r);if(-1===r)e.stickyDateMarker.updateDateMarkerText();else if(u){var s=u.getTimestamp(),l=N.default.relativeDateStr(s).toUpperCase();e.stickyDateMarker.updateDateMarkerText(l)}if(e.dateMarkerIdx!==r){var c=i.getDateMarkerRef(e.dateMarkerIdx);c&&c.hide(!1),u&&u.hide(!0)}}}),this.isMsgVisible=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.renderedMsgCache.has(t.toString())&&(!!n||e.getMsgComponent(t))},this.getSequentialMsg=function(t){var n=e.getMsgs();if(n){var r=(0,i.default)(n,function(e){return t.equals(e.id)});return r>=n.length-1?null:n[r+1]}},this.onScroll=function(t){Date.now()-e.chatOpenScrollTimestamp>g.default.MSG_FOCUS_SCROLL_ANIMATION_DURATION+50&&e.updateForCurrentPosition()},this.onWindowGainedFocus=function(){var t=e.props.chat;!e.clearUnreadTimer&&t.isDirty()&&(e.clearUnreadTimer=setTimeout(function(){delete e.clearUnreadTimer,e.maybeSendSeen()},g.default.CLEAR_CHAT_DIRTY_WAIT))},this.onWindowLostFocus=function(){if(e.state.unreadCount&&e.isMostRecentCMC()){var t=e.props.chat;0===t.unreadCount&&e.setState({unreadCount:0}),t.markedUnread=!1}},this.jumpToBottom=function(){var t=e.props.msgCollection;e.isMostRecentCMC()&&e.state.cursor.getEnd(t)>=t.length?e.scrollToBottom():_.default.openChatBottom(e.props.chat).then(function(t){t&&_.default.focusChatTextInput(e.props.chat)})},this.scrollToBottom=function(t){var n=e.scrollContainer;n&&e.setScrollTop(n,n.scrollHeight),t&&t();var r=e.props.rejectOnUnmount();(0,K.default)({signal:r}).then(function(){r.isRejected()||e.setState({cursor:e.state.cursor.resetBeforeCursor(e.props.msgCollection)})}).catch(Y.default,function(){})},this.onLastMsgChanged=function(t,n){var r=e.props.msgCollection,o=e.state.focusCtx,i=e.state.cursor,u=r.last();if(e.isMostRecentCMC()){var s={},l=document.hasFocus(),c=e.nearBottom(),f=c;l&&c?(s.unreadCount=0,s.focusCtx=void 0,i=i.setFocusedMsgKey(r)):u&&u.isSentByMe&&n&&(f=!0,e.state.unreadCount&&(s.unreadCount=0,s.focusCtx=void 0,i=i.setFocusedMsgKey(r)),e.jumpToBottom()),(i=o&&!s.hasOwnProperty("focusCtx")?i.loadAfter(r,{count:1}):i.loadBeforeCapped(r,{count:1}))!==e.state.cursor&&(s.cursor=i),(0,a.default)(s)||e.setState(s,function(){f&&e.scrollToBottom()})}else n&&t&&t.isSentByMe&&e.jumpToBottom()},this.onUnreadCount=function(){var t=e.props.chat,n=e.nearBottom(),r=document.hasFocus();e.maybeSendSeen(n,r);var o={};if(t.unreadCount&&!t.pendingSeenCount&&e.isMostRecentCMC()){o.unreadCount=t.unreadCount;var i=e.getUnreadFocusCtx();i&&(o.focusCtx=i,o.cursor=e.state.cursor.setFocusedMsgKey(e.props.msgCollection,i.msg&&i.msg.id))}var u=n&&o.unreadCount-e.state.unreadCount==1;(!n&&e.isMostRecentCMC()||!t.pendingSeenCount&&e.state.newUnread!==t.unreadCount)&&(o.newUnread=t.unreadCount),(0,a.default)(o)||e.setState(o,function(){u&&e.scrollToBottom()})},this.onMsgsDelete=function(){var t=e.state.cursor.ensureValidFocus(e.props.msgCollection);e.state.cursor!==t?e.setState({cursor:t}):e.forceUpdate()},this.onPageUpDown=function(t){L.default.focus(e.scrollContainer)},this.scrollMessages=function(){var t=(0,c.default)(e.visibleMsgOrder);if(t){var n=e.messageList;if(n){var r=n.getMsgWrapperRef(t.toString());if(r){var a=(0,m.forbiddenFindDOMNode)(r);if(a){var o=1===e.visibleMsgOrder.length?a.clientHeight:0,i=e.scrollContainer;(0,j.default)(a,"stop"),i&&(0,j.default)(i,"stop"),(0,j.default)(a,"scroll",{duration:300,container:i,offset:o})}}}}},this.onKeyPress=function(t){t.metaKey||t.ctrlKey||(t.preventDefault(),"Enter"!==t.key||t.shiftKey?_.default.pasteChatTextInput(e.props.chat,String.fromCharCode(t.charCode)):_.default.enterChatTextInput(e.props.chat))},this.onContextMenu=function(t){var n=e.props.chat,r=e.props.onSelectMessages,a=void 0;if(n.isUser)a=p.createElement(w.default,{chat:n,toContextMenuManager:!0,contact:n.contact,onSelectMessages:r});else if(n.isGroup)a=S.default.group(n,r);else{if(!n.isBroadcast)return;a=S.default.broadcast(n,r)}t.preventDefault(),t.stopPropagation(),t.persist(),e.setState({contextMenu:{menu:a,event:t}})},this.onContextClose=function(){e.setState({contextMenu:null})},this.onPaste=function(t){t.preventDefault(),t.persist(),_.default.sendPasteToCompose(e.props.chat,t)}};function re(e){return null==e?null:null!=e.key?f({},e,{msg:E.default.get(e.key)}):e}function ae(e){var t=e.msgLoadState;return{noEarlierMsgs:t.noEarlierMsgs,isLoadingEarlierMsgs:t.isLoadingEarlierMsgs,isLoadingRecentMsgs:t.isLoadingRecentMsgs,isLoadingAroundMsgs:t.isLoadingAroundMsgs,contextLoaded:t.contextLoaded}}te.displayName="ConversationMsgs",t.default=(0,B.default)((0,F.default)((0,$.hoc)(te)))},bijffg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=w(n("cjjebecgeb")),a=w(n("jdjcgjgea")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=S(n("ddhijeejag")),u=n("ccihhdchab"),s=w(n("cgcgbfbffj")),l=w(n("gbfffciea")),c=w(n("bjigbaghc")),f=n("ddjgcfjicj"),d=S(n("cajijabhgb")),p=w(n("bbjjjbicfb")),h=n("bddhdheedf"),m=n("hciaejfjd"),b=w(n("bdiiahhjbe")),g=w(n("bfbggcdbfb")),v=S(n("ebggjhghhi")),y=w(n("bhggeigghg")),_=w(n("bgabgddgch")),E=w(n("egjjcjcg")),j=w(n("bihdhbjih")),O=w(n("eaaehfdjdg"));function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}var P=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.checksum=void 0,e.listenTo(e,"remove",e.handleRemove),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"addNewLabel",value:function(e,t){(0,h.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.ADD,1,g.default.LABEL_TARGETS.LABEL);var n=j.default.createLabel(e,t),r=new u.ActionType(l10n.t(4,{labelName:e})),a=(0,u.genId)(),o=n.then(function(t){return 200===t.status?new u.ActionType(l10n.t(110,{labelName:e})):new u.ActionType(l10n.t(109,{labelName:e}))}).catch(function(t){return b.default.error("addingNewLabel dropped")(t),new u.ActionType(l10n.t(109,{labelName:e}))});return l.default.openToast(i.createElement(u.ActionToast,{id:a,initialAction:r,pendingAction:o})),n}},{key:"addOrRemoveLabels",value:function(e,t){var n=j.default.addOrRemoveLabels(e,t),r=new u.ActionType(l10n.t(1,{count:e.length,_plural:e.length})),a=(0,u.genId)(),o=n.then(function(t){return 200===t.status?new u.ActionType(l10n.t(3,{count:e.length,_plural:e.length})):new u.ActionType(l10n.t(2))}).catch(function(e){return b.default.error("addingNewLabel dropped")(e),new u.ActionType(l10n.t(2))});return l.default.openToast(i.createElement(u.ActionToast,{id:a,initialAction:r,pendingAction:o})),n}},{key:"deleteLabel",value:function(e){(0,h.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.DELETE,1,g.default.LABEL_TARGETS.LABEL);var t=j.default.deleteLabel(e),n=this.assertGet(e).name,r=new u.ActionType(l10n.t(49,{labelName:n})),a=(0,u.genId)(),o=t.then(function(e){return 200===e.status?new u.ActionType(l10n.t(48,{labelName:n})):new u.ActionType(l10n.t(47,{labelName:n}))}).catch(function(e){return b.default.error("addingNewLabel dropped")(e),new u.ActionType(l10n.t(47,{labelName:n}))});return l.default.openToast(i.createElement(u.ActionToast,{id:a,initialAction:r,pendingAction:o})),t}},{key:"updateLabel",value:function(e,t,n){(0,h.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.EDIT,1,g.default.LABEL_TARGETS.LABEL);var r=j.default.editLabel(e,n,t),a=new u.ActionType(l10n.t(86)),o=(0,u.genId)(),s=r.then(function(e){return 200===e.status?new u.ActionType(l10n.t(88)):new u.ActionType(l10n.t(87))}).catch(function(e){return b.default.error("addingNewLabel dropped")(e),new u.ActionType(l10n.t(87))});return l.default.openToast(i.createElement(u.ActionToast,{id:o,initialAction:a,pendingAction:s})),r}},{key:"getNewLabelColor",value:function(){return j.default.queryNextLabelColor().then(function(e){return e.labelColors[0].color}).catch(function(e){})}},{key:"getLabelColorPalette",value:function(){return this.labelColorPalette=this.labelColorPalette||E.default.getSmbLabelPalette(),this.labelColorPalette&&this.labelColorPalette.waVersion===c.default.phone.wa_version?Promise.resolve(this.labelColorPalette.colors):this._getColorPaletteLoop().then(function(e){var t=e.labelColors.map(function(e){return e.color});return E.default.setSmbLabelPalette({colors:t,waVersion:c.default.phone.wa_version}),t}).catch(function(){})}},{key:"_getColorPaletteLoop",value:function(){return Promise.loop(function(e,t,n){var r=Promise.delay(_.default.expBackoff(n,12e4,1e3,.1));return("CONNECTED"===O.default.stream?Promise.resolve():v.waitForBBEvent(O.default,"change:stream",function(){return"CONNECTED"===O.default.stream})).then(function(){return j.default.queryLabelPalette().then(function(t){e(t)})}).catch(function(e){return!(e instanceof Promise.CancellationError)},function(e){return n>3||404===e?(b.default.error("labels:loadLabelPalette:error "+String(e))(),404===e?Promise.reject(new f.E404):Promise.reject(new d.GaveUpRetry(`Gave up loading label palette ${n} tries`))):r})},0)}},{key:"handleRemove",value:function(e){e.labeltemColleciton.toArray().forEach(function(e){var t=e.parentId,n=e.parentType,r=e.labelId,o=y.default[n].get(t);o&&(o.labels=(0,a.default)(o.labels,function(e){return e!==r}))})}},{key:"onResume",value:function(){var e=this;this.filter(function(e){return e.hasObservers()}).forEach(function(t){e.find(t.id).catch(f.WapDrop,function(){})})}},{key:"delete",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),delete this.checksum}},{key:"sync",value:function(e){if(!e||this.checksum!==e)return this.findQuery({})}},{key:"handle",value:function(e){if(e.checksum&&this.updateChecksum(e.checksum),e.labels&&e.labels[0]&&e.labels[0].labelUpdates){var t=void 0;return e.labels[0].labelUpdates.forEach(function(e){e.collection.forEach(function(n){"Msg"!==n&&"Chat"!==n||(t=!0);var a=e.id,o=y.default[n].get(e.id);o&&(o.labels&&o.labels.forEach(function(t){(0,r.default)(e.labels,t)||(0,m.removeLabelFromCollection)(a,t,n)}),o.labels=e.labels)})}),void(t&&this.trigger("bulk_msg_chat_label_change"))}var n=[],a=[];e.labels.forEach(function(e){"delete"===e.type?n.push(e.label):a.push(e.label)}),this.remove(n.map(function(e){return e.id})),this.add(a,{merge:!0})}},{key:"_findQuery",value:function(){var e=this;return j.default.queryLabels().then(function(t){return t.checksum&&e.updateChecksum(t.checksum),t.labels})}},{key:"_find",value:function(e){return this._findQuery()}},{key:"updateChecksum",value:function(e){this.checksum=e}}]),t}();P.model=p.default,P.staleCollection=!0,P.resumeOnAvailable=!0,t.default=new P},bijjheifie:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStatus=function(e){return(0,l.getStatus)(e).then(function(t){var n={id:e};if((0,f.isNumber)(t.status))switch(t.status){case 429:n.stale=!0;var r=c.default.Status.get(e);r&&!(0,f.isString)(r.status)&&(n.status="");break;default:n.status=""}else n.status=t.status;return n})},t.setMyStatus=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,a.genId)();var f=t.trim();if(!f)return Promise.reject(new u.ActionError);var d=(0,l.setMyStatus)(f);var p=new a.ActionType(l10n.t(151));var h=c.default.Status.assertGet(i.default.me).status;var m=d.then(function(t){return 200===t.status?new a.ActionType(l10n.t(149),l10n.t(156),function(){return e(h,n)}):t.status>=400?new a.ActionType(l10n.t(150)):void 0}).catch(function(r){throw s.default.error("models:statusCollection:setMyStatus dropped")(r),new a.ActionType(l10n.t(150),l10n.t(152),function(){return e(t,n)})});o.default.openToast(r.createElement(a.ActionToast,{id:n,initialAction:p,pendingAction:m}));return d.then(function(e){200!==e.status||e._duplicate||(c.default.Status.assertGet(i.default.me).status=t)})};var r=p(n("ddhijeejag")),a=n("ccihhdchab"),o=d(n("gbfffciea")),i=d(n("bjigbaghc")),u=p(n("cajijabhgb")),s=d(n("bdiiahhjbe")),l=n("cbcjhabjci"),c=d(n("bhggeigghg")),f=n("hjbbdjjdf");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},bjaehhfffd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initSessionId()}return r(e,[{key:"initSessionId",value:function(){this.sessionId=this.newSessionId()}},{key:"newSessionId",value:function(){return this.sessionId=Math.floor(2147483648*Math.random()),this.sessionId}}]),e}();t.default=a},bjbggbjed:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DISP_LOCATION=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=g(n("ceffhbhahb")),i=g(n("dcfafchbae")),u=g(n("defeghgfc")),s=g(n("eceadcicaf")),l=g(n("caciiaejed")),c=g(n("bjfecgfdgj")),f=g(n("dibjgbdhfg")),d=n("bheebijggd"),p=g(d),h=g(n("egjjcjcg")),m=n("dbgdaechch"),b=n("ejbdjaifi");function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=t.DISP_LOCATION={COMPOSE_BOX:"COMPOSE_BOX",DROPDOWN:"DROPDOWN"},j=function(e){function t(e){v(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._sectionIds=0===c.default.length?d.ORDERED_TAB_SECTION_IDS.filter(function(e){return e!==p.default.RECENT}):d.ORDERED_TAB_SECTION_IDS,n._handleEmojiPanelFocusNext=function(){n.props.onFocusNext()},n._handleMenuTabClick=function(e){n._selectSection(e)},n._handleMouseDown=function(e){e.stopPropagation(),e.preventDefault(),n._focusSearchInput()},n._handlePanelSection=function(e){n._animationPromise||n.state.selectedSectionId!==e&&n.setState({selectedSectionId:e})},n._onEmoji=function(e){c.default.increment(e),n.props.onEmoji(e)},n._setRefContent=function(e){n._refContent=e},n.renderEmojiTab=function(e,t){return a.createElement(u.default,{key:e,onClick:n._handleMenuTabClick,sectionId:e,selected:t})},n._scrollSectionIds=n._sectionIds;var r=void 0;return r=n.props.displayCache?n.props.displayCache:{scrollTop:0,sectionId:n._sectionIds[0],showSearchInput:!0},n._displayCache=r,n.state={selectedSectionId:r.sectionId},n}return _(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.uiIdle(function(){e.restoreFocus()})}},{key:"restoreFocus",value:function(e){this._focusSearchInput(e)}},{key:"_focusSearchInput",value:function(e){this._refContent&&this._refContent.focusSearchInput(e)}},{key:"_selectSection",value:function(e){this.state.selectedSectionId!==e&&(h.default.setLastEmojiTab(e),this.setState({selectedSectionId:e}),this._focusSearchInput(),this._scrollToSection(e))}},{key:"_scrollToSection",value:function(e){var t=this;if(this._refContent){var n=this._refContent.scrollToSection(e);this._animationPromise=n,n.finally(function(){n===t._animationPromise&&delete t._animationPromise})}}},{key:"render",value:function(){var e=(0,o.default)(f.default.emojiPanel,{[f.default.panelDropdown]:this.props.displayLocation===E.DROPDOWN}),t=this.props.width,n=void 0===t?m.EMOJI_PICKER_WIDTH:t;return a.createElement("div",{className:e,onMouseDown:this._handleMouseDown},a.createElement(l.default,{selectedSectionId:this.state.selectedSectionId,sectionIds:this._sectionIds,renderSectionTab:this.renderEmojiTab}),a.createElement(i.default,{displayCache:this._displayCache,width:n,onDisplayCache:this.props.onDisplayCache,onFocusPrev:this.props.onFocusPrev,onFocusNext:this._handleEmojiPanelFocusNext,onEmoji:this._onEmoji,onSection:this._handlePanelSection,ref:this._setRefContent,sectionIds:this._scrollSectionIds}))}}]),t}();j.defaultProps={displayLocation:E.DROPDOWN},j.displayName="EmojiPanel";var O=function(e){function t(){return v(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,(0,s.default)((0,b.hocWithDefaults)(j))),r(t,[{key:"restoreFocus",value:function(e){this.getComponent().restoreFocus(e)}}]),t}();t.default=O},bjcegba:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("bgifaaggh"));t.queryGroupFromPhone=function(e){return(0,i.groupMetadataFindFromPhone)(e).then(function(t){return"ok"===t.status?t.data:"missing"!==t.status?"error"===t.status?(o.default.error("model:GroupMetadata:find error "+t.info)(),Promise.reject(new Error("model:GroupMetadata:find error"))):void 0:void(0,r.default)(function(){u.default.Chat.assertGet(e).delete()})})},t.queryGroupInviteInfo=function(e){return(0,i.sendQueryGroupInvite)(e).then(function(e){var t=e.status,n=e.subject,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["status","subject"]),o=new a.default(r);u.default.Contact.gadd(o.id);var i=u.default.Chat.get(o.id),s=!!i&&!i.isReadOnly;return{status:t,subject:n,groupMetadata:o,inGroup:s}})};var a=s(n("fcfchiagj")),o=s(n("bdiiahhjbe")),i=n("biigiejiib"),u=s(n("bhggeigghg"));function s(e){return e&&e.__esModule?e:{default:e}}},bjcfdghhfc:function(e,t){e.exports={"-item-spacing":"16px",itemSpacing:"16px","-item-width":"26px",itemWidth:"26px",muted:"_1LS1z",container:"-XQxp",active:"_1oNFt",square24:"_1jjUV",square26:"UNg3F",btn:"_27Kg1",top:"_24zF5",padding:"_2NeJ7"}},bjcgcdejaa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DIR=void 0,t.default=function(e,t){var n=e;if(!n)return;do{n=t===i.NEXT?n.nextSibling:n.previousSibling}while(n&&(0,o.default)(n));return n};var r,a=n("ccagfiehde"),o=(r=a)&&r.__esModule?r:{default:r};var i=t.DIR={NEXT:"NEXT",PREV:"PREV"}},bjddgjgae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n("ddhijeejag")),o=p(n("ceffhbhahb")),i=n("ejbdjaifi"),u=p(n("gbfffciea")),s=p(n("eiiicijcj")),l=h(n("ecibddhig")),c=p(n("ihfccfgdf")),f=p(n("dfhbgghjei")),d=p(n("bghjfahjfd"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._showMediaMissing=function(){u.default.openModal(a.createElement(s.default,{msg:r.props.msg}))},r._downloadMedia=function(){r.props.msg.forceDownloadMedia(!0)},r._cancelDownload=function(){r.props.msg.cancelDownload()},r._cancelUpload=function(){r.props.msg.cancelUpload()},r._resumeUpload=function(){r.props.msg.resumeUpload()},r._resumeRemoteUpload=function(){r.props.msg.resumeRemoteUpload()},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.mediaData,t=void 0,n=void 0,r=e.mediaStage;switch(r){case"RESOLVED":t=null,n=null;break;case"FETCHING":t=this._cancelDownload,n=a.createElement(l.PendingCancel,null);break;case"NEED_POKE":t=this._downloadMedia,n=a.createElement(l.Download,{filesize:e.size});break;case"UPLOADING":t=this._cancelUpload,n=a.createElement(l.PendingCancel,null);break;case"NEED_UPLOAD":t=this._resumeUpload,n=a.createElement(l.Upload,{filesize:e.size});break;case"REMOTE_NEED_UPLOAD":t=this._resumeRemoteUpload,n=a.createElement(l.Upload,{filesize:e.size});break;case"ERROR_MISSING":t=this._showMediaMissing,n=a.createElement(l.Upload,{filesize:e.size});break;case"ERROR_UNSUPPORTED":t=this._showMediaMissing,n=a.createElement(l.Download,{filesize:e.size});break;case"SENDING":case"DECRYPTING":case"ERROR_TOO_LARGE":case"INIT":case"PREPARING":case"REMOTE_UPLOADING":case"REUPLOADING":n=a.createElement(l.Pending,null);break;default:throw new Error(`invalid value for sticker mediaStage '${r}'`)}return a.createElement("div",{className:(0,o.default)(f.default.thumb,d.default.cursorAuto),onClick:t},n,this.props.children)}}]),t}();b.CONCERNS={mediaData:["mediaStage","size"]},b.displayName="StickerMediaControl",t.default=(0,c.default)((0,i.hoc)(b),b.CONCERNS)},bjddijedhj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift();if(Array.isArray(t)){var n=e.shift();!function(e,t){var n=l.default.Contact,r=t&&"remove"===t.missing?(0,s.getContactsToRemove)(e):[];(0,f.mungePSAContact)(e);var a=Promise.resolve();if(o.default.supportsFeature(o.default.F.MODEL_STORAGE)){if(r.length){var d=r.map(function(e){return e.id.toString()});a=u.Contact.bulkRemove(d)}a=a.then(function(){return(0,c.bulkCreateOrUpdateContacts)(e)})}a.then(function(){n.add(e,{merge:!0}),r.forEach(function(e){e.unset("name"),e.unset("shortName")}),t&&t.checksum&&(n.setChecksum(t.checksum),i.default.log("handle:Contact update checksum "+t.checksum)())}),i.default.log("handle:Contact updated "+e.map(function(e){return e.id}).join())()}(t,n)}else"preempt"===t.cmd?function(e){var t=l.default.Contact;(0,f.mungePSAContact)(e.response);var n=void 0;n=o.default.supportsFeature(o.default.F.MODEL_STORAGE)?(0,c.bulkCreateOrUpdateContacts)(e.response):Promise.resolve();n.then(function(){t.add(e.response,{merge:!0}),e.checksum&&(t.setChecksum(e.checksum),i.default.log("Store:Contact:handle update checksum "+e.checksum)()),t.trigger(r.default.COLLECTION_HAS_SYNCED,{count:e.response.length,binarySize:e.binarySize})})}(t):"frequent"===t.type?function(e){delete e.type;var t=void 0;t=o.default.supportsFeature(o.default.F.MODEL_STORAGE)?(0,a.setFrequent)(e):Promise.resolve();t.then(function(){l.default.Contact._frequentContacts=e})}(t):"sidelist"===t.type?function(e){var t=l.default.Contact,n=e.notification,r=e.action,a=e.hash,o=t._contactHashes.get(a);if(!o)return;"business"===n&&"profile"===r&&o.forEach(function(e){var n=t.get(e);if(n)n.businessProfile&&n.businessProfile.markStale();else{var r=t._getUserCount(),o=t._contactHashes.length;i.default.assert(!1,"Stale wid in contact hash index",`Hash: ${a} Users: ${r}, Hashes: ${o}`)()}})}(t):i.default.error("handle:Contact unknown: "+JSON.stringify(t))()};var r=d(n("eadfaddcj")),a=n("cbecjajacd"),o=d(n("ccaaiecfib")),i=d(n("bdiiahhjbe")),u=n("cefcddgdgg"),s=n("dbefabiacb"),l=d(n("bhggeigghg")),c=n("dbhhjaecch"),f=n("dafafigeih");function d(e){return e&&e.__esModule?e:{default:e}}},bjdfbiahbi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("ceffhbhahb")),o=u(n("fifhbjiec")),i=u(n("hbfbchadb"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=(0,a.default)(i.default.chatSubtitle,{[i.default.chatSubtitleHeader]:"title"===e.location});return r.createElement("div",{className:t},r.createElement(o.default,{titlify:!0,className:i.default.chatSubtitleText,direction:"inherit",text:e.text}))}s.displayName="ChatSubtitleText"},bjdjbcefcc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n("dfcggebdjj")),a=h(n("ccchcigijb")),o=h(n("eccjbdjafd")),i=h(n("bafdbchefg")),u=h(n("bfccafhbbb")),s=h(n("bfjfgcfade")),l=h(n("eaecbgafff")),c=h(n("cdheafhdbh")),f=h(n("ciibfajghc")),d=h(n("ddibegacej")),p=h(n("ecidjifge"));function h(e){return e&&e.__esModule?e:{default:e}}var m=new a.default,b=new s.default,g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,o.default)([r.default,b,l.default,m,i.default,f.default])),t}();g.Suggestions=(0,p.default)(u.default,{plugin:m}),g.EmojiSuggestions=(0,p.default)(c.default,{plugin:b}),g.QuickRepliesSuggestions=(0,p.default)(d.default,{plugin:f.default}),t.default=g},bjeccdffag:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("becfabjeeg")),i=s(n("bfdcadbbif")),u=s(n("bbahcjdgfa"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.children,n=e.onClick,o=n?{onClick:n}:{};return a.createElement("div",r({className:u.default.docState},o),t)};l.displayName="DocState";var c=function(e){var t=e.onClick;return a.createElement(l,{onClick:t||function(){}},a.createElement(i.default,{name:"audio-download"}))};c.displayName="Download";var f=function(e){var t=e.outgoingMsg;return a.createElement(l,null,a.createElement("div",{className:u.default.spinner},a.createElement(o.default,{stroke:3,size:32,outgoingMsg:t})))};f.displayName="Pending";var d=function(e){var t=e.outgoingMsg;return a.createElement(l,null,a.createElement("div",{className:u.default.spinner},a.createElement(o.default,{stroke:3,size:32,outgoingMsg:t})),a.createElement(i.default,{name:"audio-cancel-noborder"}))};d.displayName="PendingCancel";var p=function(){return a.createElement(l,null,a.createElement(i.default,{name:"audio-upload"}))};p.displayName="Upload",e.exports={Download:c,Pending:f,PendingCancel:d,Upload:p}},bjecicbiic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationDelete=function(e,t,n){return o.default.sendConversationDelete(e,t).then(function(o){if(r.default.supportsFeature(r.default.F.MODEL_STORAGE)&&200===o.status&&!o._duplicate){var i=n();if(t&&t.equals(i)||t===i)return a.Chat.remove(e.toString()).then(function(){return o})}return o})};var r=i(n("ccaaiecfib")),a=n("cefcddgdgg"),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}},bjedheiidd:function(e,t){e.exports={muted:"_21wvf",chatListPanel:"_1uESL",panelBody:"_1RYPC",panelSearch:"_2HS9r",spinner:"etTyb",unreadContainer:"H5L2i",unread:"_3-3IT",unreadBody:"_3X__T",unreadIcon:"_2Ojo7"}},bjfacgbcjj:function(e,t){e.exports={muted:"wZH48",msg:"_1WMT2",hover:"_1lakC",current:"_2nA3s",active:"_2V_Wj"}},bjfecgfdgj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n("hhegggegb")),a=m(n("eaaagccfda")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("cgcgbfbffj"),u=m(i),s=m(n("djegeegcbf")),l=n("ddjgcfjicj"),c=m(n("ccaaiecfib")),f=m(n("bdiiahhjbe")),d=m(n("dghggcieid")),p=n("hjbbdjjdf"),h=m(n("bihdhbjih"));function m(e){return e&&e.__esModule?e:{default:e}}var b=100,g=36,v=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.dirty=!1,e._throttledSync=(0,r.default)(function(e){e.sync()},g,{leading:!1}),e.listenTo(e,"change:weight change:length",(0,a.default)(e._sortTrimScale,b)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),o(t,[{key:"_sortTrimScale",value:function(){var e=this.length;if(e){this.sort(),e>g&&this.remove(this.models.slice(g));var t=this.head(),n=this.last();t&&n&&t.weight<10&&n.weight>.01||this.forEach(function(t,n){t.weight=1+(e-n)/e*3})}}},{key:"delete",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.dirty=!1,this._throttledSync.cancel()}},{key:"sync",value:function(){var e=this;return this.findQuery({},{set:!0}).finally(function(){e.dirty=!1}).catch(l.WapDrop,function(){}).catch(p.isString,function(){})}},{key:"_findQuery",value:function(){return c.default.supportsFeature(c.default.F.RECENT_EMOJI_SYNC)?h.default.recentEmojiQuery(this.dirty?this.toArray():void 0).then(function(e){return Array.isArray(e)?(e.forEach(function(e){e.id=s.default.normalizeEmoji(e.id)}),Promise.resolve(e)):(f.default.error("models:recentEmoji:findQuery error",e)(),Promise.reject("recent emoji fetch error"))}):Promise.reject("gk recent emoji sync unsupported")}},{key:"throttledSync",value:function(){c.default.supportsFeature(c.default.F.RECENT_EMOJI_SYNC)&&(f.default.log(`models:RecentEmoji:throttledSync dirty: ${String(this.dirty)}`)(),this._throttledSync(this))}},{key:"increment",value:function(e){var t=s.default.skinToneEmojis[e]||e;this.get(t)||this.add({id:t,weight:0}),this.forEach(function(e){var n=e.weight;e.id===t?n+=1:n*=.9,e.weight=Math.round(1e3*n)/1e3}),this.dirty=!0,this.throttledSync()}}]),t}();v.cachePolicy={id:"recent_emoji_collection",policy:i.CACHE_POLICY.LOAD,delay:2e3},v.comparator=function(e,t){return e.weight>t.weight?-1:1},v.model=d.default,t.default=new v},bjfjacgeai:function(e,t){e.exports={muted:"_1abrG",sensor:"_2xINO"}},bjgdagjjci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=h(n("djheacfeif")),i=n("dcaifjegcg"),u=h(i),s=h(n("bjebjijbfc")),l=h(n("bjigbaghc")),c=h(n("dhigahgdjb")),f=n("dfdhiegfdi"),d=n("hjbbdjjdf"),p=h(n("jccfhaecf"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,i.prop)(),r.msg=(0,i.prop)(),r.lat=(0,i.prop)(),r.lng=(0,i.prop)(),r.accuracy=(0,i.prop)(),r.speed=(0,i.prop)(),r.degrees=(0,i.prop)(),r.sequence=(0,i.prop)(),r.comment=(0,i.prop)(),r.expiration=(0,i.prop)(),r.lastUpdated=(0,i.prop)(),r.contact=(0,i.session)(),r.expireTimerId=(0,i.session)(),r.disabled=(0,i.session)(!1),r.isMe=(0,i.derived)(r._isMe,["id"]),r.valid=(0,i.derived)(r._valid,["lat","lng"]),m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"_isMe",value:function(){return this.id.equals(l.default.me)}},{key:"_valid",value:function(){return t=this.lat,(0,d.isNumber)(t)&&t>=-90&&t<=90&&(e=this.lng,(0,d.isNumber)(e)&&e>=-180&&e<=180);var e,t}},{key:"initialize",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.addChild("contact",c.default.gadd(this.id)),(0,f.addLiveLocation)(this.contact,this),this.listenTo(this,"change:expiration",this._setExpireTimer),this._setExpireTimer()}},{key:"delete",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this._disableMsg(),(0,f.removeLiveLocation)(this.contact,this),this._clearExpireTimer()}},{key:"remainingTime",value:function(){return this.expiration-s.default.globalUnixTime()}},{key:"elapsedTime",value:function(){return s.default.globalUnixTime()-this.lastUpdated}},{key:"disable",value:function(){this.disabled=!0}},{key:"_disableMsg",value:function(){var e=this.msg;e&&(e.shareDuration=s.default.globalUnixTime()-e.t-1)}},{key:"_setExpireTimer",value:function(){this.expiration&&(this.remainingTime()<=0?this._expire():this.expireTimerId=o.default.setGlobalTimeout(this._expire.bind(this),1e3*this.expiration,this.expireTimerId))}},{key:"_clearExpireTimer",value:function(){o.default.clearTimeout(this.expireTimerId),this.expireTimerId=null}},{key:"_expire",value:function(){this.disable()}}]),t}();b.Proxy="liveLocationParticipant",b.idClass=p.default,t.default=(0,i.defineModel)(b)},bjghdijfjd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("bhhdeihhhf")),i=s(n("ihfccfgdf")),u=n("ejbdjaifi");function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.disabled,r=this.props.onMarkUnread.bind(null,!t.unreadCount);return a.createElement(o.default,{a8n:"mi-mark-as",action:r,key:"MarkUnreadMenuItem",disabled:n},t.unreadCount?l10n.t(645):l10n.t(646))}}]),t}();l.CONCERNS={chat:["unreadCount"]},l.displayName="MarkUnreadMenuItem",t.default=(0,i.default)((0,u.hoc)(l),l.CONCERNS)},bjgibbgbai:function(e,t,n){"use strict";var r,a=n("chgaccicf"),o=(r=a)&&r.__esModule?r:{default:r};e.exports=(0,o.default)({EMOJI_ENTER:void 0,EMOJI_INACTIVE:void 0,EMOJI_LEFT:void 0,EMOJI_RIGHT:void 0,EMOJI_SEARCH:void 0,EMOJI_TAB:void 0})},bjgiedaj:function(e,t,n){"use strict";var r,a=n("fffdgbfji"),o=(r=a)&&r.__esModule?r:{default:r};e.exports={format:function(e,t){var n=t/1e3;return new Intl.NumberFormat(o.default.getLocale(),{style:"currency",currency:e}).format(n)}}},bjhbahjgdi:function(e,t,n){"use strict";var r=i(n("bdiiahhjbe")),a=i(n("ccgjijjbbj")),o=i(n("cahfddcdga"));function i(e){return e&&e.__esModule?e:{default:e}}var u={chat:["Chat","Contact"],message:["Msg"],contact:["Contact"]},s={queryLabels:function(){var e=this;return new Promise(function(t,n){var a=e.queryNode({type:"label"});e.binSend("sendEphemeral",a,n,{onSend:e.binWrap(function(a){e.BinaryProtocol.read(a).then(function(n){var a={labels:[]};if(r.default.logColor("green","bin-recv: response,label",n)(),"response"===e.N.tag(n)&&"label"===e.N.attr("type",n)){a.checksum=e.N.attr("checksum",n);var o=e.N.children(n);if(Array.isArray(o))for(var i=0;i<o.length;i++){var u=e.parseLabel(o[i]),s=u&&u.label;s&&a.labels.push(s)}}t(a)}).catch(n)},t),onDrop:e.wrap(n)},{debugString:"query,labels",metricName:"QUERY_LABELS"})})},parseLabel:function(e){if("label"===this.N.tag(e)){var t=parseInt(this.N.attr("count",e),10),n=this.N.attr("id",e),r=this.N.attr("name",e),i=this.N.attr("color",e),s=isNaN(t)?void 0:t,c=this.N.attr("type",e),f=void 0;if("update"===c)for(var d=this.N.children(e),p=0;p<d.length;p++){var h=d[p],m=null;switch(this.N.tag(h)){case"chat":m=this.N.attr("jid",h);break;case"message":var b=this.N.attr("jid",h),g=this.N.attr("index",h),v="true"===this.N.attr("owner",h),y=this.N.attr("participant",h);m=new a.default({fromMe:v,remote:b,id:g,participant:y})}var _={id:(0,o.default)(m),labels:l(this.N.children(h),this.N.attr),collection:u[this.N.tag(h)]};f=f?f.concat(_):[_]}var E={label:{id:n,name:r,color:i,count:s},type:c,labelUpdates:f},j=[!(c||n&&r&&i),c&&"update"!==c&&"delete"!==c];return this.dropIfConditionMet(j,E)}}};function l(e,t){return e&&Array.isArray(e)?e.reduce(function(e,n){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[(0,o.default)(t("id",n))])},[]):[]}e.exports=s},bjhcbbbjdc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MsgComponent=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=R(n("ebhdjgicgg")),i=R(n("cbifffdech")),u=R(n("eadfaddcj")),s=R(n("dibgadcjce")),l=R(n("cfficaagef")),c=R(n("ccaaiecfib")),f=R(n("icbjhhidg")),d=R(n("gddafccec")),p=R(n("biadgfadhh")),h=R(n("bdiiahhjbe")),m=R(n("fccahhfch")),b=R(n("dhccihecch")),g=R(n("gigggciff")),v=R(n("caigihje")),y=R(n("ihfccfgdf")),_=R(n("dghebhejhb")),E=n("ejbdjaifi"),j=n("bheafeifce"),O=R(n("dbifijhjeg")),S=R(n("bejccccege")),w=R(n("chdggedfah")),P=R(n("cfbeeihgea")),M=R(n("ccjgccbced")),C=R(n("djjgggigcf")),T=R(n("cggajedfhg")),A=R(n("dbgefjefac")),N=R(n("jjbcbhhjh")),k=R(n("hichbacjh")),I=R(n("eacehgiidh"));function R(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var U=t.MsgComponent=function(e){function t(){return L(this,t),D(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return x(t,a.PureComponent),r(t,[{key:"getQuotedMsg",value:function(e){var t=this.props,n=t.displayType,r=t.msg,o=t.chat,i=void 0;if(c.default.supportsFeature(c.default.F.REPLIES_IN)&&n!==u.default.DISP_TYPE.GALLERY){var s=r.quotedMsgObj();if(s)i=a.createElement(N.default,{msg:s,key:s.id.toString(),rootMsg:(0,j.unproxy)(r),displayType:n,chat:(0,j.unproxy)(o),t:r.t});else{var l=r.getQuotedMsgAdminGroupJid();l&&(i=a.createElement(k.default,{quotedGroupJid:l}))}}return i}},{key:"getRef",value:function(){return this.ref}},{key:"render",value:function(){var e=this.props,t=e.chat,n=e.displayAuthor,r=e.displayType,y=e.isMsgVisible,N=e.msg;switch(N.type){case u.default.MSG_TYPE.CHAT:return a.createElement(O.default,{msg:(0,j.unproxy)(N),contact:N.senderObj,ref:(0,E.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(u.default.MSG_TYPE.CHAT),trusted:N.isTrusted(),displayType:r,displayAuthor:n});case u.default.MSG_TYPE.IMAGE:return a.createElement(b.default,{msg:N,displayType:r,mediaData:N.mediaData,ref:(0,E.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(u.default.MSG_TYPE.IMAGE),isMsgVisible:y,trusted:N.isTrusted(),displayAuthor:n});case u.default.MSG_TYPE.PRODUCT:return c.default.supportsFeature(c.default.F.CATALOG)?a.createElement(T.default,{msg:N,mediaData:N.mediaData,displayAuthor:n,trusted:N.isTrusted()}):a.createElement(S.default,{msg:(0,j.unproxy)(N),displayAuthor:n});case u.default.MSG_TYPE.GROUP_NOTIFICATION:case u.default.MSG_TYPE.GP2:case u.default.MSG_TYPE.BROADCAST_NOTIFICATION:case u.default.MSG_TYPE.NOTIFICATION:case u.default.MSG_TYPE.NOTIFICATION_TEMPLATE:case u.default.MSG_TYPE.E2E_NOTIFICATION:case u.default.MSG_TYPE.CALL_LOG:return a.createElement(m.default,{contact:(0,j.unproxy)(t).contact,msg:N,ref:(0,E.GetRef)("ref",this)});case u.default.MSG_TYPE.AUDIO:return a.createElement(o.default,{msg:N,mediaData:N.mediaData,quotedMsg:this.getQuotedMsg(u.default.MSG_TYPE.AUDIO),displayAuthor:n,displayType:r,ref:(0,E.GetRef)("ref",this)});case u.default.MSG_TYPE.VIDEO:return N.isGif?a.createElement(l.default,{displayAuthor:n,displayType:r,isMsgVisible:y,maxWidth:this.props.maxWidth,mediaData:N.mediaData,msg:N,quotedMsg:this.getQuotedMsg(u.default.MSG_TYPE.VIDEO),ref:(0,E.GetRef)("ref",this),trusted:N.isTrusted()}):a.createElement(A.default,{displayAuthor:n,displayType:r,hover:this.props.hover,isMsgVisible:y,mediaData:N.mediaData,msg:N,quotedMsg:this.getQuotedMsg(u.default.MSG_TYPE.VIDEO),ref:(0,E.GetRef)("ref",this),trusted:N.isTrusted()});case u.default.MSG_TYPE.VCARD:return a.createElement(M.default,{msg:N,ref:(0,E.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(),displayType:r,displayAuthor:n});case u.default.MSG_TYPE.MULTI_VCARD:return a.createElement(C.default,{msg:N,ref:(0,E.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(),displayType:r,displayAuthor:n});case u.default.MSG_TYPE.GROUPS_V4_INVITE:return a.createElement(I.default,{msg:N,ref:(0,E.GetRef)("ref",this),displayAuthor:n});case u.default.MSG_TYPE.LOCATION:return N.isLive?a.createElement(f.default,{msg:(0,j.unproxy)(N),ref:(0,E.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(u.default.MSG_TYPE.LOCATION),trusted:N.isTrusted(),displayAuthor:n}):a.createElement(p.default,{msg:(0,j.unproxy)(N),ref:(0,E.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(u.default.MSG_TYPE.LOCATION),displayAuthor:n});case u.default.MSG_TYPE.PAYMENT:return a.createElement(d.default,{msg:N,ref:(0,E.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(u.default.MSG_TYPE.PAYMENT),displayAuthor:n});case u.default.MSG_TYPE.PTT:return a.createElement(g.default,{msg:N,mediaData:N.mediaData,quotedMsg:this.getQuotedMsg(u.default.MSG_TYPE.PTT),displayAuthor:n,displayType:r,ref:(0,E.GetRef)("ref",this),getSequentialMsg:this.props.getSequentialMsg});case u.default.MSG_TYPE.STICKER:return a.createElement(_.default,{msg:N,mediaData:N.mediaData,ref:(0,E.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(u.default.MSG_TYPE.IMAGE),displayAuthor:n,position:this.props.position});case u.default.MSG_TYPE.DOCUMENT:return a.createElement(s.default,{msg:N,displayType:r,mediaData:N.mediaData,ref:(0,E.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(u.default.MSG_TYPE.DOCUMENT),trusted:N.isTrusted(),displayAuthor:n});case u.default.MSG_TYPE.UNKNOWN:return a.createElement(S.default,{msg:(0,j.unproxy)(N),displayAuthor:n});case u.default.MSG_TYPE.CIPHERTEXT:return a.createElement(i.default,{msg:N,ref:(0,E.GetRef)("ref",this),displayAuthor:n});case u.default.MSG_TYPE.REVOKED:return a.createElement(v.default,{msg:(0,j.unproxy)(N),ref:(0,E.GetRef)("ref",this)});case u.default.MSG_TYPE.OVERSIZED:return a.createElement(P.default,{msg:(0,j.unproxy)(N),displayAuthor:n});case u.default.MSG_TYPE.TEMPLATE:if(!N.hsmEnabled)return a.createElement(w.default,{msg:(0,j.unproxy)(N),displayType:r,displayAuthor:n});switch(N.subtype){case u.default.TEMPLATE_SUBTYPE.IMAGE:return a.createElement(b.default,{msg:N,displayType:r,mediaData:N.mediaData,ref:(0,E.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(u.default.MSG_TYPE.TEMPLATE),isMsgVisible:y,trusted:N.isTrusted(),displayAuthor:n});case u.default.TEMPLATE_SUBTYPE.VIDEO:return a.createElement(A.default,{displayAuthor:n,displayType:r,hover:this.props.hover,isMsgVisible:y,mediaData:N.mediaData,msg:N,quotedMsg:this.getQuotedMsg(u.default.MSG_TYPE.TEMPLATE),ref:(0,E.GetRef)("ref",this),trusted:N.isTrusted()});case u.default.TEMPLATE_SUBTYPE.LOCATION:return a.createElement(p.default,{msg:(0,j.unproxy)(N),ref:(0,E.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(u.default.MSG_TYPE.TEMPLATE),displayAuthor:n});case u.default.TEMPLATE_SUBTYPE.DOCUMENT:return a.createElement(s.default,{msg:N,displayType:r,mediaData:N.mediaData,ref:(0,E.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(u.default.MSG_TYPE.TEMPLATE),trusted:N.isTrusted(),displayAuthor:n});case u.default.TEMPLATE_SUBTYPE.TEXT:return a.createElement(O.default,{msg:(0,j.unproxy)(N),contact:N.senderObj,ref:(0,E.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(u.default.MSG_TYPE.TEMPLATE),trusted:N.isTrusted(),displayType:r,displayAuthor:n});default:return a.createElement(w.default,{msg:(0,j.unproxy)(N),displayType:r,displayAuthor:n})}case u.default.MSG_TYPE.HSM:return a.createElement(O.default,{msg:(0,j.unproxy)(N),contact:N.senderObj,ref:(0,E.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(u.default.MSG_TYPE.HSM),trusted:N.isTrusted(),displayType:r,displayAuthor:n});case u.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY:return N.hsmEnabled?a.createElement(O.default,{msg:(0,j.unproxy)(N),contact:N.senderObj,ref:(0,E.GetRef)("ref",this),quotedMsg:this.getQuotedMsg(u.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY),trusted:N.isTrusted(),displayType:r,displayAuthor:n}):a.createElement(w.default,{msg:(0,j.unproxy)(N),displayType:r,displayAuthor:n});default:return h.default.log("messageList:render Unknown message type: "+N.type)(),a.createElement(S.default,{msg:(0,j.unproxy)(N),ref:(0,E.GetRef)("ref",this),displayAuthor:n})}}}]),t}();U.CONCERNS={msg:["isGif","isLive","mediaData","senderObj","subtype","type","t","id","title","hsmEnabled"],chat:["trusted"]},U.displayName="MsgComponent";var G=function(e){function t(){return L(this,t),D(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return x(t,(0,y.default)((0,E.hoc)(U),U.CONCERNS)),r(t,[{key:"getRef",value:function(){return function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).getRef()}}]),t}();t.default=G},bjhdcidgah:function(e,t,n){e.exports=n.p+"img/animated-doodle_600127bdb5f7627ede5cd4ef320f55b0.png"},bjhfhjjdgd:function(e,t){e.exports={muted:"_1UAz5",container:"_3W2zz",retryButton:"_3_cuW"}},bjhhaacbib:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("dddjddjahc"),u=(r=i)&&r.__esModule?r:{default:r};function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handlePlayByControls=function(){r.props.refVideo&&r.props.refVideo.play()},r.handlePauseByControls=function(){r.props.refVideo&&r.props.refVideo.pause()},r.handleSetCurrentTimeByControls=function(e){r.props.refVideo&&r.props.refVideo.setCurrentTime(e)},r.handleSetVolumeByControls=function(e){r.props.refVideo&&r.props.refVideo.setVolume(e)},r.handleSetMutedByControls=function(e){r.props.refVideo&&r.props.refVideo.setMuted(e)},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"render",value:function(){if(!this.props.refVideo)return null;var e=this.props.videoMetadata;return e?o.createElement(u.default,{duration:e.duration,progress:e.currentTime,volume:e.volume,muted:e.muted,bufferedTime:e.bufferedTime,onPlay:this.handlePlayByControls,onPause:this.handlePauseByControls,onProgressChange:this.props.handleSetCurrentTimeByControls?this.props.handleSetCurrentTimeByControls:this.handleSetCurrentTimeByControls,onVolumeValueChange:this.handleSetVolumeByControls,onMutedValueChange:this.handleSetMutedByControls,isVideoPlaying:this.props.isVideoPlaying,isFullscreenMode:this.props.isFullscreenMode,className:this.props.controlsClassName}):null}}]),t}();l.displayName="VideoRefControls",t.default=l},bjhjaiccai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("chihjdheic"),o=(r=a)&&r.__esModule?r:{default:r};function i(e){var t=(0,o.default)(e,function(e){return!!e});return e.length?t?1===e.length?t:l10n.t(714,{contactName:t,count:e.length-1,_plural:e.length-1}):l10n.t(716,{count:e.length,_plural:e.length}):l10n.t(715)}t.getNameString=function(e){return i(e.map(function(e){return e.displayName}))},t.getNameStringFromNames=i},bjjegiiahd:function(e,t,n){"use strict";var r=i(n("bjigbaghc")),a=i(n("eaaehfdjdg")),o=n("hjbbdjjdf");function i(e){return e&&e.__esModule?e:{default:e}}var u=n("dgdjiicfdg"),s={setGroupDescription:function(e,t,n,i){var s=this;return new Promise(function(l,c){var f=a.default.tag(),d=s.wrap(l);d.tag=f;var p=void 0;p=(0,o.isString)(t)?[["description",{id:n,prev:i||"none"},t]]:[["description",{prev:i||"none",delete:"true"},void 0]];var h=["group",{id:f,jid:e,type:"description",author:r.default.me},p],m=s.actionNode("set",[h]);s.binSend("send",m,c,{clientCacheable:!0,onSend:d,onDrop:s.wrap(c)},{debugString:"action,group,desc",metricName:"GROUP",expires:u().unix()})})},setGroupProperty:function(e,t,n){var o=this;return"announcement"!==t&&"restrict"!==t&&"no_frequently_forwarded"!==t?Promise.reject("invalid group property"):new Promise(function(i,s){var l=a.default.tag(),c=o.wrap(i);c.tag=l;var f=void 0;switch(t){case"announcement":f=[["announcement",{value:(!!n).toString()},void 0]];break;case"restrict":f=[["locked",{value:(!!n).toString()},void 0]];break;case"no_frequently_forwarded":f=[["no_frequently_forwarded",{value:(!!n).toString()},void 0]]}var d=["group",{id:l,jid:e,type:"prop",author:r.default.me},f],p=o.actionNode("set",[d]);o.binSend("send",p,s,{clientCacheable:!0,onSend:c,onDrop:o.wrap(s)},{debugString:["action,group,prop",t,n].join(),metricName:"GROUP",expires:u().unix()})})},demoteParticipants:function(e,t){return this.setGroupParticipants("demote",e,t)}};e.exports=s},bjjhgbbeja:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.auth,n=e.ciphertextHmac,u=e.encFilehash,s=e.hostname,l=e.type,c=e.signal,f=e.onProgress,d=(0,a.default)({auth:t,encFilehash:u,hostname:s,type:l}),p={encFilehash:u,type:l,url:d};return o.default.log("mmsUpload: start",p)(),(0,r.default)(d,{method:"post",body:n,signal:c,onProgress:f}).then(function(e){if(!e.ok)switch(e.status){case 401:throw new i.MMSUnauthorizedError("mmsUpload",{url:d});case 413:throw new i.MediaTooLargeError("mmsUpload",{url:d});case 415:throw new i.MediaInvalidError("mmsUpload: hash mismatch",{url:d});case 507:throw new i.MMSThrottleError("mmsUpload",{url:d});default:throw new i.HttpStatusCodeError(e.status,"mmsUpload",{url:d})}return e.json()}).then(function(e){if(!e.direct_path)throw new i.HttpInvalidResponseError("mmsUpload: missing direct_path");if(!e.url)throw new i.HttpInvalidResponseError("mmsUpload: missing url");return{directPath:e.direct_path,url:e.url}}).then(function(e){return o.default.log("mmsUpload: success",p)(),e}).catch(function(e){throw o.default.error("mmsUpload: error",p,e)(),e})};var r=u(n("dgjijbgdai")),a=u(n("cfgbadhada")),o=u(n("bdiiahhjbe")),i=n("fgeddfbg");function u(e){return e&&e.__esModule?e:{default:e}}},bjjiehdfge:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("dbgdaechch")),i=l(n("bhhdeihhhf")),u=l(n("bfdcadbbif")),s=n("bhfdfhefca");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.onSendProduct,n=e.onReportProduct;return a.createElement(s.MenuBarItem,{a8nText:"menu-bar-menu",icon:a.createElement(u.default,{name:"menu"}),title:l10n.t(669)},a.createElement(o.default,{type:"dropdown_menu",flipOnRTL:!0,key:"ProductDetailHeader",dirX:"LEFT"},a.createElement(i.default,{a8n:"mi-send menu-item",action:t},l10n.t(976)),a.createElement(i.default,{a8n:"mi-report menu-item",action:n},l10n.t(899))))}}]),t}();c.displayName="DetailDrawerMenu",t.default=c},bjjjdidhhi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=g(n("dhfbfehaef")),i=g(n("fffdgbfji")),u=g(n("chcadgfgad")),s=g(n("caffijjhc")),l=g(n("cfaiaibca")),c=g(n("dciidighgh")),f=g(n("bbddghdigd")),d=g(n("eadfaddcj")),p=g(n("egjjcjcg")),h=g(n("bcbahjefec")),m=n("facgccaif"),b=n("bidfjbaebi");function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.onDelete=function(){e.end()},e.onRevoke=function(){e.showRevokeNux?(e.push(e.renderRevokeNux(),"none"),p.default.setNUX(d.default.NUX.REVOKE_LEGAL_DISCLAIMER_NUX,{views:1,maxViews:1})):e.end()},e.onPopupCancel=function(){e.end()},e.onCancel=function(){e.end()},e.openRevokeLearnMore=function(){(0,b.openExternalLink)((0,m.getRevokeFaqUrl)())},e.onRevokeNuxClicked=function(){e.end()},e.renderRevokeNux=function(){var t=[a.createElement(l.default,{type:"plain",onClick:e.openRevokeLearnMore,key:1},i.default.t(588)),a.createElement(l.default,{type:"primary",onClick:e.onRevokeNuxClicked,key:0},i.default.t(1225))];return a.createElement(s.default,{displayName:"MsgRevokeNuxModal",escapable:!1},a.createElement(o.default,{handlers:{enter:e.onRevokeNuxClicked}},a.createElement(u.default,{actions:t},a.createElement("div",{className:c.default.label},i.default.t(928)))))};var n=p.default.getNUX(d.default.NUX.REVOKE_LEGAL_DISCLAIMER_NUX);return e.showRevokeNux=!n||n.views<n.maxViews,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.default),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.chat,n=e.msgList,r=e.deletePrompt,o=e.revokePrompt,i=e.toastPosition,u=e.onCancel,s=e.isMsgVisible;this.push(a.createElement(f.default,{chat:t,msgList:n,deletePrompt:r,revokePrompt:o,toastPosition:i,onDelete:this.onDelete,onRevoke:this.onRevoke,onPopupCancel:this.onPopupCancel,onCancel:u,isMsgVisible:s}))}}]),t}();t.default=v},caaaaajeei:function(e,t){e.exports={muted:"_3KBaQ",loadingContainer:"_2oFRN",text:"_1k-B6",loadingText:"_1un6f",shiftUp:"GXo3L"}},caacedccf:function(e,t){e.exports={muted:"_16Um-",receiverTxt:"_2lhWJ",container:"mvJ45",thumb:"_2v9GR",amount:"_3toSE",amountCurrency:"_2K1zq",amountInteger:"VAqie",amountDecimal:"-Jyco",body:"_3HzTz",bubbleIn:"S3POh",bubbleOut:"_3HMts",bodyIcon:"_1zHVl",bodyText:"_3mOte",status:"sFZLk",failed:"_2HENr",processing:"_3Z_S4",waiting:"_1nWYZ",success:"_2LC2w",quotedMsg:"_3kaXn",quotedMsgInComposeBox:"_15F_E",wrapper:"X0OVJ",quotedMsgAuthor:"_3ewWV",icon:"_3UyrL",iconSymbol:"WXyoJ"}},caafgbfcba:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=j(n("eabbadcaee")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.AudioPlayerFrame=S;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("djciiabagi"),u=j(n("fffdgbfji")),s=j(n("cahfddcdga")),l=j(n("ceffhbhahb")),c=j(n("djidacbicd")),f=j(n("eceadcicaf")),d=n("ejbdjaifi"),p=j(n("bjebjijbfc")),h=j(n("bfdcadbbif")),m=j(n("becfabjeeg")),b=j(n("dhbegafffi")),g=j(n("eadfaddcj")),v=j(n("gbfffciea")),y=n("cjefbihjci"),_=j(n("dagdiahdfi")),E=j(n("fbjjefaic"));function j(e){return e&&e.__esModule?e:{default:e}}var O=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setRefAudio=function(e){n.refAudio=(0,i.findDOMNode)(e)},n.onPlayClick=function(){var e=n.refAudio;e&&(n.props.playing?e.pause():e.play())},n.onPttPlayback=function(e){if(n.props.currMsgId===e){n.setState({sequentialPlayback:!0,progress:0}),n.trackCursorRef&&n.trackCursorRef.current&&(n.startingScrollPos=n.trackCursorRef.current.getBoundingClientRect().top);var t=n.refAudio;t&&n.delayPtt(g.default.PTT_PLAYBACK_DELAY).then(function(){t.currentTime=0,t.play()})}},n.delayPtt=function(e){return new Promise(function(t){return n.props.setInterval(t,e)})},n.onNewPttRecording=function(){var e=n.refAudio;e&&(n.props.playing&&e.pause(),n.delayPttPromise&&n.delayPttPromise.cancel())},n.onPlaying=function(){n.props.onPlayingUpdate(!0)},n.onPause=function(){n.props.onPlayingUpdate(!1)},n.onEnded=function(){var e=n.refAudio;e&&(e.currentTime=0,e.load(),n.maybePlayNextPTT())},n.onTimeUpdate=function(){var e=n.refAudio;if(e){var t=0;(0,r.default)(e.duration)&&(t=Math.round(100*Math.min(1,e.currentTime/e.duration)),n.props.onTimeUpdate(e.currentTime)),n.setState({progress:t})}},n.onDrag=function(e){var t=n.refAudio;if(t){var r=e.target.value;n.setState({progress:r}),t.duration&&(t.currentTime=t.duration/100*r)}},n.onPlayerError=function(e){},n.state={progress:0,playedBefore:e.played,sequentialPlayback:!1},n.trackCursorRef=o.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"componentDidMount",value:function(){var e=(0,s.default)(this.refAudio);this.props.listeners.add(e,"playing",this.onPlaying),this.props.listeners.add(e,"pause",this.onPause),this.props.listeners.add(e,"ended",this.onEnded),this.props.listeners.add(e,"timeupdate",this.onTimeUpdate),this.props.listeners.add(e,"durationchange",this.onTimeUpdate),this.props.listeners.add(e,"progress",this.onTimeUpdate),this.props.listeners.add(v.default,"pttRecording",this.onNewPttRecording),this.props.listeners.add(v.default,"sequential_playback_ptt",this.onPttPlayback)}},{key:"isValidPlaybackSequence",value:function(e){return e.type===g.default.MSG_TYPE.PTT&&!(e.isSentByMe&&!this.props.outgoingMsg&&!this.state.playedBefore)}},{key:"maybePlayNextPTT",value:function(){var e=this,t=this.state.sequentialPlayback;if(this.props.getSequentialMsg&&this.props.currMsgId){var n=this.props.getSequentialMsg(this.props.currMsgId);n&&this.isValidPlaybackSequence(n)?this.delayPttPromise=this.delayPtt(g.default.PTT_PLAYBACK_DELAY).cancellable().then(function(){_.default.getGlobalSounds()&&(0,y.playMidPttTone)();var t=e.trackCursorRef&&e.trackCursorRef.current&&e.trackCursorRef.current.getBoundingClientRect().top;null!=t&&e.startingScrollPos===t&&v.default.scrollToPtt(n),v.default.autoplayPTT(n.id)}).catch(function(){}).finally(function(){e.delayPttPromise=null}):this.state.sequentialPlayback&&(this.delayPttPromise=this.delayPtt(g.default.PTT_PLAYBACK_DELAY).cancellable().then(function(){_.default.getGlobalSounds()&&(0,y.playEndPttTone)(),e.delayPttPromise=null}).catch(function(){}).finally(function(){e.delayPttPromise=null}),t=!1),this.setState({playedBefore:!0,sequentialPlayback:t})}}},{key:"render",value:function(){var e=this.props.playing?"audio-pause":"audio-play",t={width:this.state.progress-this.state.progress/100*3+"%"},n=null!=this.props.duration&&0!==this.props.duration?o.createElement("div",{className:b.default.metadata},p.default.durationStr(this.props.duration)):null,r=o.createElement("button",{className:b.default.button,onClick:this.onPlayClick},o.createElement(h.default,{name:e}));return o.createElement(S,{button:r,played:this.props.played,outgoingMsg:this.props.outgoingMsg,displayType:this.props.displayType},n,o.createElement("div",{className:b.default.trackContainer,ref:this.trackCursorRef},o.createElement("span",{className:b.default.progress,style:t}),o.createElement("input",{dir:"ltr",type:"range",className:b.default.track,value:this.state.progress,onChange:this.onDrag,min:"0",max:"100"}),o.createElement(c.default,{ref:this.setRefAudio,url:this.props.url,preload:"auto",onError:this.onPlayerError,autoPlay:this.props.autoPlay})))}}]),t}();function S(e){var t=e.spinner&&!e.button?o.createElement("div",{className:b.default.spinner},o.createElement(m.default,{stroke:3,size:34,outgoingMsg:e.outgoingMsg})):null,n=!e.icon||e.button||e.spinner?null:o.createElement("button",{className:b.default.button,onClick:e.action},e.icon),r=null!=e.fileSize&&0!==e.fileSize?o.createElement("div",{className:b.default.metadata},u.default.filesize(e.fileSize)):null,a=e.children||o.createElement("input",{className:b.default.track,dir:"ltr",disabled:"disabled",max:100,min:0,type:"range",value:0}),i=(0,l.default)(b.default.audio,{[b.default.audioIn]:!e.outgoingMsg,[b.default.audioOut]:e.outgoingMsg,[b.default.played]:e.played,[b.default.isGallery]:e.displayType===g.default.DISP_TYPE.STARRED_MSGS||e.displayType===g.default.DISP_TYPE.GALLERY});return o.createElement("div",{className:i},o.createElement("div",{className:b.default.controls},e.button,t,n),o.createElement("div",{className:b.default.body},a,r))}O.displayName="PTTPlayer",S.displayName="AudioPlayerFrame",t.default=(0,E.default)((0,f.default)((0,d.hoc)(O)))},caahjiefj:function(e,t){e.exports={muted:"_3w4BY",bodyContainer:"_20KNO",gifPanel:"_2PAm9",panelBody:"_3HCkv"}},cabhjigfgc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=s(n("ceffhbhahb")),o=s(n("effbcehec")),i=s(n("hddadiifa")),u=s(n("eedjbihej"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.children,n=e.onClick,s=e.icon,l=e.className,c=e.color,f=e.theme,d=s?r.createElement("div",{className:i.default.icon},s):null,p=(0,a.default)(i.default.container,l,{[i.default.containerNoIcon]:!s,[i.default.containerListAligned]:"list-aligned"===f}),h=n?"button":null,m="string"==typeof t?t:null;return r.createElement("div",{"data-a8n":o.default.key(e.a8nText),className:p,"data-ignore-capture":"any",onClick:n,role:h,title:m},d,r.createElement("div",{className:i.default.bodyContainer},r.createElement("div",{className:i.default.body},r.createElement(u.default,{theme:"title",color:c},t))))}l.displayName="DrawerButton"},cacaidhjb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=g(n("bjigbaghc")),i=g(n("djcchigfih")),u=n("dajffajabh"),s=g(u),l=g(n("djbhiedbef")),c=g(n("cabhjigfgc")),f=g(n("fifhbjiec")),d=g(n("ibeajfihb")),p=g(n("fffdgbfji")),h=g(n("dhhfaeacef")),m=g(n("dhbceejbjg")),b=g(n("bfdcadbbif"));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=a.createElement(d.default,{id:this.props.profileId}),t=a.createElement(h.default,{id:o.default.me,size:82,quality:h.default.Quality.HIGH}),n=a.createElement(f.default,{text:o.default.pushname,ellipsify:!0,titlify:!0});return a.createElement(i.default,{theme:"settings"},a.createElement(s.default,{title:p.default.t(978),onBack:this.props.onClose,type:u.DRAWER_HEADER_TYPE.LARGE}),a.createElement(l.default,null,a.createElement(m.default,{onClick:this.props.onProfile,image:t,primary:n,theme:"identity",secondary:e}),a.createElement(c.default,{a8nText:"li-notifications",icon:a.createElement(b.default,{name:"settings-notifications"}),onClick:this.props.onNotifications},p.default.t(661)),a.createElement(c.default,{a8nText:"li-chat_wallpaper",icon:a.createElement(b.default,{name:"settings-wallpaper"}),onClick:this.props.onWallpaper},p.default.t(667)),a.createElement(c.default,{a8nText:"li-blocked",icon:a.createElement(b.default,{name:"settings-blocked"}),onClick:this.props.onBlocked},p.default.t(654)),void 0,a.createElement(c.default,{a8nText:"li-help",icon:a.createElement(b.default,{name:"settings-help"}),onClick:this.props.onHelp},p.default.t(656)),void 0))}}]),t}();v.displayName="SettingsDrawer",t.default=v},cacbgbjgef:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=p(n("ceffhbhahb")),i=p(n("gbfffciea")),u=p(n("ddidadfgch")),s=p(n("ecdifdiid")),l=p(n("ihfccfgdf")),c=n("ejbdjaifi"),f=n("bgjddhffji"),d=n("bheafeifce");function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onClick=function(e,t){var n=r.props,a=n.product,o=n.sessionId;(0,f.logDetailImageClick)((0,d.unproxy)(a),o);var u={activeProductImage:t,productImageCollection:a.productImageCollection,getZoomNode:function(){return e},product:a};i.default.productImageViewerModal(u,o)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.product,n=e.shouldShrinkUp,r=e.deletedProduct,i=e.fetching,l=t.productImageCollection.toArray();return a.createElement("div",{className:(0,o.default)({[s.default.container]:1===l.length,[s.default.gridContainer]:l.length>1,[s.default.shrinkUp]:l.length>1&&n})},a.createElement(u.default,{columns:2,lastColumnNumRows:2,imageModels:l,numberTextClassName:s.default.numberText,onClick:this.onClick,lastColumnClassName:l.length>1?s.default.lastColumn:void 0,deletedProduct:r,fetching:i}))}}]),t}();m.CONCERNS={product:["productImageCollection"]},m.displayName="ProductTile",t.default=(0,l.default)((0,c.hoc)(m),m.CONCERNS)},caceaafdic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Wrapper=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.SystemBubble=B,t.MessageContainer=$;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=U(n("effbcehec")),i=U(n("dbdfbgehgj")),u=U(n("gbfffciea")),s=U(n("dacicgjcai")),l=U(n("biddiiafgd")),c=U(n("eadfaddcj")),f=U(n("ceffhbhahb")),d=U(n("bjjjdidhhi")),p=n("cgejchjdhj"),h=U(n("bhcegecbha")),m=U(n("gdeficihh")),b=U(n("ghbbeafj")),g=U(n("ccaaiecfib")),v=U(n("bdiiahhjbe")),y=U(n("deifjeacc")),_=n("bhhdeihhhf"),E=U(_),j=U(n("dbfbdfhfee")),O=U(n("bjhcbbbjdc")),S=U(n("didfdhbecg")),w=n("bgddggdhc"),P=U(n("ihfccfgdf")),M=n("bheafeifce"),C=U(n("caffijjhc")),T=U(n("dbjbhajgfd")),A=U(n("bcifhbgija")),N=n("ejbdjaifi"),k=U(n("bfdcadbbif")),I=U(n("cighigadh")),R=n("ciajafaaie"),L=n("ddbddjjgia"),D=U(n("caeafadcah")),x=n("bedfbecdgd");function U(e){return e&&e.__esModule?e:{default:e}}var G=t.Wrapper=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.didCancel=!1,n.highlightAnimation=null,n.setRefMsgComponent=function(e){return n.refMsgComponent=e},n.setRefContext=function(e){return n.refContext=e},n.setRefHighlightTail=function(e){return n.refHighlightTail=e},n.setRefBubble=function(e){return n.refBubble=e},n.sizeMismatch=!1,n.resend=function(){n.props.msg.resend().catch(function(e){v.default.log("wrapper:resend failure: "+e)()})},n.mouseEnter=function(e){e.buttons||n.state.hover||!n.contextEnabled()||n.setState({hover:!0})},n.mouseLeave=function(){n.state.hover&&n.contextEnabled()&&n.setState({hover:!1})},n.mouseDown=function(){n.state.hover&&n.setState({hover:!1})},n.onMenu=function(e,t){if(t&&n.state.contextMenu)n.setState({contextMenu:!1});else{var r=t?n.refContext&&n.refContext.component&&n.refContext.component.refContext:e,o=(0,M.unproxy)(n.props.msg),i=[];o.isSentByMe&&n.props.displayType!==c.default.DISP_TYPE.MSG_INFO&&o.type!==c.default.MSG_TYPE.REVOKED&&i.push(a.createElement(E.default,{key:"info",a8n:"mi-msg-info",action:function(){n.openInfoDrawer()}},l10n.t(677))),o.canReply()&&i.push(a.createElement(E.default,{key:"reply",a8n:"mi-msg-reply",action:function(){n.onReplyMessage()}},l10n.t(886))),(o.canPrivateReply()||o.canPrivateReplyInRestrictedGrp())&&i.push(a.createElement(E.default,{key:"private_reply",a8n:"mi-msg-reply",action:function(){n.onPrivateReplyMessage()}},l10n.t(852))),o.mediaData&&o.mediaData.renderableUrl&&o.type!==c.default.MSG_TYPE.STICKER&&o.type!==c.default.MSG_TYPE.REVOKED&&i.push(a.createElement(E.default,{key:"download",a8n:"mi-msg-download",action:function(){n.onDownload()}},l10n.t(1089))),o.canForward()&&i.push(a.createElement(E.default,{key:"forward",a8n:"mi-msg-forward",action:function(){n.openForwardFlow(!0)}},l10n.t(432))),g.default.supportsFeature(g.default.F.LABELS_EDIT)&&i.push(a.createElement(E.default,{key:"editLabel",a8n:"mi-edit-label",action:function(){n.onSelectClick()}},l10n.t(399))),o.canStar()&&(o.star?i.push(a.createElement(E.default,{key:"star",a8n:"mi-msg-unstar",action:function(){n.onUnstarMessage()}},l10n.t(1037))):i.push(a.createElement(E.default,{key:"star",a8n:"mi-msg-star",action:function(){n.onStarMessage()}},l10n.t(987)))),i.push(a.createElement(E.default,{key:"delete",a8n:"mi-msg-delete",action:function(){n.onDeleteMessage()}},l10n.t(363))),o.isGroupMsg&&o.author&&!o.isSentByMe&&i.push(a.createElement(E.default,{key:"author",a8n:"mi-msg-author",action:function(){n.openContactChat()}},l10n.t(673,{author:o.displayName()}))),n.setState({contextMenu:{menu:i,anchor:r,theme:_.ThemeOptions.COMPACT}})}},n.onSelectClick=function(e){e&&e.stopPropagation();var t=n.props.onMessageSelect;t?t((0,M.unproxy)(n.props.msg),!n.state.selected,e):v.default.assert(!1,"wrapper-onSelectClick","no onMessageSelect")()},n.onDoubleClick=function(e){var t=n.props.displayType,r=(0,M.unproxy)(n.props.msg);if(r.canReply()&&!n.props.selectable&&t===c.default.DISP_TYPE.CONVERSATION){(function(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1})(n.refBubble,e.target)||(r.chat.composeQuotedMsg=r,u.default.focusChatTextInput(r.chat),n.highlight())}},n.onResize=function(){n.forceUpdate()},n.state={contextMenu:!1,hover:!1,highlighting:!1,selected:!!e.selectedMessages&&e.selectedMessages.isSelected((0,M.unproxy)(e.msg))};var r=n.props.displayType===c.default.DISP_TYPE.STARRED_MSGS||n.props.displayType===c.default.DISP_TYPE.GALLERY||n.props.displayType===c.default.DISP_TYPE.MSG_INFO;return n.sizeMismatch=r&&n.props.msg.isGif,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.sizeMismatch&&this.refBubble&&(this.maxWidth=this.refBubble.offsetWidth,this.forceUpdate(),window.addEventListener("resize",this.onResize))}},{key:"componentWillUnmount",value:function(){this.refBubble&&(0,A.default)(this.refBubble,"finish",!0),this.sizeMismatch&&window.removeEventListener("resize",this.onResize)}},{key:"scrollMsg",value:function(e,t){v.default.info("scroll msg")(),v.default.info(t)();var n=(0,w.forbiddenFindDOMNode)(this);n?(v.default.info("node found")(),v.default.info("calling DOM.scrollAt ")(),(0,p.scrollAt)(n,void 0,t).then(e)):v.default.info("node not found!")()}},{key:"highlight",value:function(e){var t=this,n=this.refHighlightTail,r=this.refBubble;r&&(V(this.props.msg)||(this.setState({highlighting:!0}),this.highlightAnimation&&(this.didCancel=!0,this.highlightAnimation.cancel()),this.highlightAnimation=(this.highlightAnimation||Promise.resolve()).then(function(){var e=void 0,a=void 0;n&&(e=(0,A.default)(n,{opacity:[1,0]},{duration:250}),a=(0,A.default)(n,{opacity:[0,1]},{duration:250,delay:250}));var o=void 0,i=void 0;t.props.msg.isNotification?(o="#e1f2fb",i="#b6c9d2"):(o=t.props.msg.isSentByMe?"#dcf8c6":"#ffffff",i=t.props.msg.isSentByMe?"#b3cba1":"#cccccc");var u=(0,A.default)(r,{backgroundColor:[i,o]},{duration:250}),s=(0,A.default)(r,{backgroundColor:[o,i]},{duration:250,delay:250});return Promise.all(n?[e,a,u,s]:[u,s])}).cancellable().then(function(){t.onHighlightComplete(e)}).catch(Promise.CancellationError,function(){(0,A.default)(n,"stop",!0),(0,A.default)(r,"stop",!0)}).finally(function(){t.didCancel?t.didCancel=!1:t.highlightAnimation=null})))}},{key:"onHighlightComplete",value:function(e){this.setState({highlighting:!1},function(){e&&e()})}},{key:"openForwardFlow",value:function(e){var t=this.props.msg,n=void 0;if(t.type===c.default.MSG_TYPE.CIPHERTEXT?n=l10n.t(415):t.type===c.default.MSG_TYPE.REVOKED?n=l10n.t(416):t.isUnsentMedia&&(n=l10n.t(414,{_plural:1})),n)u.default.openModal(a.createElement(l.default,{title:l10n.t(417),onOK:function(){return u.default.closeModal()},okText:l10n.t(1225)},n));else{if(e&&this.props.displayType===c.default.DISP_TYPE.CONVERSATION)return void this.onSelectClick();u.default.openModal(a.createElement(b.default,{msgs:[(0,M.unproxy)(t)]}),{transition:"modal-flow"})}}},{key:"openInfoDrawer",value:function(){u.default.msgInfoDrawer((0,M.unproxy)(this.props.msg))}},{key:"openContactChat",value:function(){i.default.find(this.props.msg.author).then(function(e){u.default.openChatFromUnread(e).then(function(t){t&&u.default.focusChatTextInput(e)})})}},{key:"contextEnabled",value:function(){return!this.props.msg.isNotification}},{key:"onDeleteMessage",value:function(){var e=this.props,t=e.msg,n=e.isMsgVisible;u.default.openModal(a.createElement(d.default,{chat:t.chat,msgList:[t].map(M.unproxy),deletePrompt:!0,revokePrompt:t.canRevoke(),isMsgVisible:n}))}},{key:"onReplyMessage",value:function(){var e=(0,M.unproxy)(this.props.msg),t=e.chat;t.composeQuotedMsg=e,u.default.focusChatTextInput(t)}},{key:"onPrivateReplyMessage",value:function(){var e=this,t=(0,M.unproxy)(this.props.msg);i.default.find(t.sender).then(function(e){return Promise.props({ok:u.default.openChatBottom(e),chat:e})}).then(function(n){var r=n.ok,a=n.chat;r&&(a.composeQuotedMsg=t,e.props.msg&&e.props.msg.chat&&(a.composeQuotedMsgRemoteJid=e.props.msg.chat.id))})}},{key:"onDownload",value:function(){h.default.initDownload((0,M.unproxy)(this.props.msg))}},{key:"onStarMessage",value:function(){var e=(0,M.unproxy)(this.props.msg);u.default.sendStarMsgs(e.chat,[e])}},{key:"onUnstarMessage",value:function(){var e=(0,M.unproxy)(this.props.msg);u.default.sendUnstarMsgs(e.chat,[e])}},{key:"contextOpen",value:function(){this.onMenu(void 0,!0)}},{key:"contextClose",value:function(){this.setState({contextMenu:!1})}},{key:"getMsgComponent",value:function(e){var t=this.props,n=t.msg,r=t.position,o=t.displayType,i=t.isMsgVisible,u=t.getSequentialMsg;return a.createElement(O.default,{chat:n.chat,displayAuthor:e,displayType:o,hover:this.state.hover,isMsgVisible:i,maxWidth:this.maxWidth,msg:n,ref:this.setRefMsgComponent,position:r,getSequentialMsg:u})}},{key:"getMsgComponentRef",value:function(){return this.refMsgComponent&&this.refMsgComponent.getRef()}},{key:"onSelectChange",value:function(e){this.state.selected!==e&&this.setState({selected:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.msg,r=t.position,i=t.displayType,u=t.selectedMessages,l=i===c.default.DISP_TYPE.CONVERSATION,d=n.type!==c.default.MSG_TYPE.CHAT||i!==c.default.DISP_TYPE.STARRED_MSGS&&!!n.quotedMsg||!(r===L.MsgPosition.MID||r===L.MsgPosition.END)||i===c.default.DISP_TYPE.GALLERY||n.linkPreview||(0,R.isParsableOnlineVideoURL)(n.richPreviewType,n.matchedText),p=void 0;(this.state.hover&&!this.state.highlighting||this.props.current||this.state.contextMenu)&&i!==c.default.DISP_TYPE.GALLERY&&(p=a.createElement(y.default,{msg:n,position:r,key:"icon-context",ref:this.setRefContext,onToggle:function(t){e.onMenu(t)}}));var h=null;if(!n.isNotification&&this.props.selectable){var b=i===c.default.DISP_TYPE.GALLERY?"gallery":null;h=a.createElement(j.default,{checked:!!this.state.selected,onClick:this.onSelectClick,theme:b})}var v=!1;if(n.type===c.default.MSG_TYPE.CHAT){var _=s.default.match(n.body);v=1===_.length&&_[0][4][0].length===n.body.length}var E=n.chat&&n.chat.isPSA,O=!E&&!this.props.tailOverride&&(r===L.MsgPosition.FRONT||r===L.MsgPosition.SINGLE)||i===c.default.DISP_TYPE.MSG_INFO||this.props.tailOverride,w=V(n)&&(!d||n.isSentByMe||!n.isGroupMsg&&!n.quotedMsg)&&(l&&(r===L.MsgPosition.FRONT||r===L.MsgPosition.SINGLE)||!l),P=(0,f.default)(I.default.msg,{[I.default.msgontinuation]:!(r!==L.MsgPosition.FRONT&&r!==L.MsgPosition.MID||n.hsmEnabled&&n.isQuickReply),[I.default.msgPSA]:i!==c.default.DISP_TYPE.STARRED_MSGS&&E,[I.default.msgSystem]:n.isNotification,[I.default.msgGallery]:i===c.default.DISP_TYPE.STARRED_MSGS||i===c.default.DISP_TYPE.GALLERY,[I.default.msgInfo]:i===c.default.DISP_TYPE.MSG_INFO}),M=(0,f.default)(I.default.message,function(e){switch(e.type){case c.default.MSG_TYPE.NOTIFICATION_TEMPLATE:return e.isBizNotification?I.default.messageBizNotification:void 0;case c.default.MSG_TYPE.E2E_NOTIFICATION:return I.default.messageE2ENotification;case c.default.MSG_TYPE.GROUPS_V4_INVITE:return I.default.messageChat;case c.default.MSG_TYPE.CHAT:return(0,R.isParsableOnlineVideoURL)(e.richPreviewType,e.matchedText)?I.default.messageVideoLinkPreview:I.default.messageChat;case c.default.MSG_TYPE.LOCATION:return e.isLive?I.default.messageLiveLocation:I.default.messageLocation;case c.default.MSG_TYPE.VCARD:return I.default.messageVcard;case c.default.MSG_TYPE.CIPHERTEXT:return(0,f.default)(I.default.messageChat,I.default.messagePlaceholder);case c.default.MSG_TYPE.MULTI_VCARD:return I.default.messageMultiVcard;case c.default.MSG_TYPE.IMAGE:return I.default.messageImage;case c.default.MSG_TYPE.PRODUCT:return g.default.supportsFeature(g.default.F.CATALOG)?I.default.messageProduct:(0,f.default)(I.default.messageChat,I.default.messagePlaceholder);case c.default.MSG_TYPE.STICKER:return V(e)?I.default.messageTransparent:I.default.messageSticker;case c.default.MSG_TYPE.VIDEO:return e.mediaData.isGif?I.default.messageGif:I.default.messageVideo;case c.default.MSG_TYPE.AUDIO:return I.default.messageAudio;case c.default.MSG_TYPE.PTT:return I.default.messagePTT;case c.default.MSG_TYPE.DOCUMENT:return I.default.messageDocument;case c.default.MSG_TYPE.TEMPLATE:if(e.hsmEnabled){if(e.subtype===c.default.TEMPLATE_SUBTYPE.IMAGE)return I.default.messageImage;if(e.subtype===c.default.TEMPLATE_SUBTYPE.VIDEO)return I.default.messageVideo;if(e.subtype===c.default.TEMPLATE_SUBTYPE.LOCATION)return I.default.messageLocation;if(e.subtype===c.default.TEMPLATE_SUBTYPE.DOCUMENT)return I.default.messageDocument;if(e.subtype===c.default.TEMPLATE_SUBTYPE.TEXT)return I.default.messageChat}case c.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY:if(e.hsmEnabled)return I.default.messageChat;case c.default.MSG_TYPE.UNKNOWN:return(0,f.default)(I.default.messageChat,I.default.messagePlaceholder);default:return}}(n),{[I.default.messageSystem]:n.isNotification,[I.default.messageCode]:v,"message-out":!n.isNotification&&n.isSentByMe||i===c.default.DISP_TYPE.MSG_INFO,"message-in":!n.isNotification&&!n.isSentByMe,tail:O,"tail-override-left":"left"===this.props.tailOverride,"tail-override-right":"right"===this.props.tailOverride,[I.default.tailOverrideHide]:w}),A=(0,f.default)({[I.default.messageBackground]:!V(n),[I.default.hasBorderBox]:!n.isNotification&&!V(n),[I.default.hasUrlCallButtons]:n.hsmEnabled&&n.hasTemplateButtons&&!n.isQuickReply});if(this.sizeMismatch&&!this.refBubble)return a.createElement("div",{className:I.default.placeholder,ref:this.setRefBubble});var N=void 0;N=this.state.contextMenu?"none":n.isRTL?"pop-fast-reverse":"pop-fast";var U=void 0;this.state.contextMenu&&(U=a.createElement(C.default,{displayName:"MsgContextMenu",escapable:!0,popable:!0,requestDismiss:function(){return e.contextClose()}},a.createElement(T.default,{contextMenu:this.state.contextMenu})));var G=void 0;this.props.isFocusedMsg&&(G=a.createElement(x.WhileFocusedListener,{parent:this}));var B=void 0;u&&(B=a.createElement(x.SelectionListener,{parent:this,msgId:n.id.toString(),selectedMessages:u}));var $=void 0;l&&!this.props.selectable&&n.canQuickForward()&&($=a.createElement("div",{className:I.default.btnForward,onClick:function(){return e.openForwardFlow(!1)},role:"button"},a.createElement(k.default,{name:"forward-chat"})));var H=void 0;n.mediaData&&(H=a.createElement(x.MediaListener,{parent:this,mediaData:n.mediaData}));var W=F,Y="msg-container";n.isNotification&&(Y="msg-notification-container");var K=void 0,q=void 0;O&&(K=a.createElement("span",{className:"tail-container"}),q=a.createElement("span",{className:"tail-container highlight",ref:this.setRefHighlightTail})),n.logInitialRender();var z=void 0;return n.hsmEnabled&&n.hasTemplateButtons&&(z=a.createElement(D.default,{msg:n,chat:n.chat})),a.createElement("div",{className:P,onDoubleClick:this.onDoubleClick},a.createElement(S.default,{transitionName:"delay-leave"},h),a.createElement("div",{"data-a8n":o.default.key(Y),className:M,onContextMenu:W,onMouseOver:this.mouseEnter,onMouseEnter:this.mouseEnter,onMouseDown:this.mouseDown,onMouseUp:this.mouseEnter,onMouseLeave:this.mouseLeave},K,q,a.createElement(m.default,{displayType:i,msg:n}),a.createElement("div",{className:A,ref:this.setRefBubble},this.getMsgComponent(d)),a.createElement(S.default,{transitionName:N},p),$,z),U,G,B,H)}}]),t}();function F(e){e.stopPropagation()}function B(e){var t=(0,f.default)(I.default.message,I.default.messageSystem,{[I.default.messageHidden]:e.hidden});return a.createElement("div",{className:(0,f.default)(I.default.msg,I.default.msgSystem)},a.createElement("div",{className:t},e.children))}function $(e){var t=(0,f.default)(I.default.message,I.default.messageContainer,"tail tail-override-left",{"message-out":e.isSentByMe,"message-in":!e.isSentByMe});return a.createElement("div",{className:t},a.createElement("div",{className:I.default.messageBackground},a.createElement("span",{className:"tail-container"}),e.children))}function V(e){return e.type===c.default.MSG_TYPE.STICKER&&!e.quotedMsg}G.defaultProps={displayType:c.default.DISP_TYPE.CONVERSATION},G.CONCERNS={msg:["author","body","chat","dir","id","isBizNotification","isFailed","isGroupMsg","isLive","isMedia","isMMS","isGif","isNotification","isRevoked","isRTL","isSentByMe","isUnsentMedia","linkPreview","mediaData","matchedText","quotedMsg","richPreviewType","sender","star","subtype","type","title","hasTemplateButtons","isQuickReply","hsmEnabled"]},G.displayName="Wrapper",t.default=(0,P.default)((0,N.hocWithDefaults)(G),G.CONCERNS),B.displayName="SystemBubble",$.displayName="MessageContainer"},cacgcabfhd:function(e,t){e.exports={muted:"_31m0R",spinner:"_2JqQZ",search:"_1w-mX",inputLine:"_39cGk",inputarea:"_44uDJ",contacts:"_70TS5",drawerSection:"_39zhW",inputareaSizer:"_3Xd_4"}},caciiaejed:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("bdghdbcbdc")),i=u(n("ciaidfgabf"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this,t=-1,n=this.props.sectionIds.map(function(n,r){var a=!1;return n===e.props.selectedSectionId&&(t=r,a=!0),e.props.renderSectionTab(n,a)});return a.createElement(o.default,null,a.createElement(i.default,{numTabs:this.props.sectionIds.length,selectedTabIndex:t}),n)}}]),t}();s.displayName="PanelMenu",t.default=s},cadbaeefbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("ceffhbhahb")),o=i(n("diigahjidi"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.items.map(function(e,t){return r.createElement("div",{className:o.default.actionsBtn,key:t,onClick:e.onClick,role:"button",title:e.title||e.label},e.label)});return r.createElement("div",{className:(0,a.default)(o.default.actions,{[o.default.noDivider]:"no-divider"===e.theme})},t)}u.displayName="BubbleActions"},cadedacjj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={DOWNLOAD:"DOWNLOAD",UPLOAD:"UPLOAD"}},cadjjhjjci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.parentNode;if(!n)return;if(t.nextSibling)return void n.insertBefore(e,t.nextSibling);return n.appendChild(e),e}},caeafadcah:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=E(n("ddbbigfbec")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=E(n("cfaiaibca")),u=E(n("gbfffciea")),s=E(n("eadfaddcj")),l=E(n("ceffhbhahb")),c=E(n("fffdgbfji")),f=E(n("chcadgfgad")),d=E(n("igahgcaag")),p=E(n("ihfccfgdf")),h=E(n("ciheehhei")),m=n("dbcedfihd"),b=E(n("bfdcadbbif")),g=n("ejbdjaifi"),v=n("bidfjbaebi"),y=E(v),_=n("dbbhhgjjbg");function E(e){return e&&e.__esModule?e:{default:e}}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=s.default.TEMPLATE_BUTTON_SUBTYPE,S=O.QUICK_REPLY,w=O.URL,P=O.CALL;function M(e,t){var n=(0,m.findLink)(e,!1,t.from);if(n&&n.suspiciousCharacters)return u.default.openModal(o.createElement(h.default,{link:n}));var r=o.createElement(i.default,{a8nText:"popup-controls-go",type:"primary",onClick:function(){return function(e){(0,v.openExternalLink)(e),u.default.closeModal()}(e)},key:0},c.default.t(1135)),a=o.createElement(i.default,{a8nText:"popup-controls-cancel",type:"plain",onClick:function(){return u.default.closeModal()},key:1},c.default.t(1091)),l=s.default.TEMPLATE_URL_START+s.default.TEMPLATE_URL_END;u.default.openModal(o.createElement(f.default,{title:c.default.t(828),actions:[a,r]},o.createElement("div",null,c.default.t(829)),o.createElement(y.default,{href:e,isLongTemplateUrl:e.length>l},e)))}var C=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=r=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.handleClick=function(e){var t,n=e.subtype,a=e.url,s=e.displayText,l=e.selectedId,d=e.index;n===P?(t=o.createElement(i.default,{a8nText:"popup-controls-ok",type:"primary",onClick:function(){return u.default.closeModal()},key:0},c.default.t(1225)),u.default.openModal(o.createElement(f.default,{actions:[t]},c.default.t(252)))):n===w&&a?M(a,r.props.msg):n===S&&(0,_.sendTextMsgToChat)(r.props.chat,s,{quotedMsg:r.props.msg,selectedId:l,selectedIndex:d})},j(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"render",value:function(){var e=this,t=this.props.msg,n=(0,r.default)(t.buttons,["index"]),a=void 0;return n&&(a=n.map(function(t){var n=void 0;switch(t.subtype){case P:n=o.createElement(b.default,{name:"hsm-call"});break;case w:n=o.createElement(b.default,{name:"hsm-link"})}return o.createElement("button",{key:t.index,className:(0,l.default)(d.default.actionButton,{[d.default.firstButton]:0===t.index&&t.subtype!==S}),onClick:function(){return e.handleClick(t)}},n,t.displayText)})),o.createElement("div",{className:(0,l.default)({[d.default.quickReply]:t.isQuickReply,[d.default.callUrl]:!t.isQuickReply})},o.createElement("div",{className:d.default.buttonContainer},a))}}]),t}();C.CONCERNS={msg:["buttons","isQuickReply","from"]},C.displayName="TemplateButtons",t.default=(0,p.default)((0,g.hoc)(C),C.CONCERNS)},caedaejadb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("cgcgbfbffj")),o=c(n("eadfaddcj")),i=n("ddjgcfjicj"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),s=c(n("cbcbdjdah")),l=c(n("biecbbiiee"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.hasLinkBefore=!0,f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"delete",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.stopListening(),this.reset()}},{key:"queryLinks",value:function(e,t){var n=this;if(t)return this.queryLinkBefore?this.queryLinkBefore:(this.queryLinkBefore=l.default.queryMedia(t.id.remote,o.default.MEDIA_QUERY_LIMIT,"before",t.id,"url").then(function(e){return(!e||e.length<o.default.MEDIA_QUERY_LIMIT)&&(n.hasLinkBefore=!1),n.add(e,{at:0}),n.createLinksAndAddMsgs(e),{length:e.length}}).catch(i.WapDrop,u.ProtoVersionUndefined,function(){}).catch(404,function(){}).finally(function(){n.queryLinkBefore=null,n.trigger("query_link_before")}),this.trigger("query_link_before"),this.queryLinkBefore);var r=e.msgs.getModelsArray();if(0===this.length){if(!r||0===r.length)return this.hasLinkBefore=!1,new Promise(function(e){e({eof:!0})});this.add(r.filter(function(e){return e.getLinks().length>0}),{at:0}),this.createLinksAndAddMsgs(r)}if(e.msgs.msgLoadState.noEarlierMsgs)return this.hasLinkBefore=!1,new Promise(function(e){e({eof:!0})});if(this.length<=2*o.default.MEDIA_QUERY_LIMIT){var a=0===this.length?e.msgs.head():this.head();return this.queryLinks(e,a)}return new Promise(function(e){e({eof:!1})})}},{key:"createLinksAndAddMsgs",value:function(e){var t=this,n=[];Promise.loop(function(t,r,a){e.length===a&&t();var o=e[a];o.getLinks().length&&n.push(o)}).then(function(){t.add(n),t.trigger("query_link_before")})}}]),t}();d.model=s.default,d.comparator=function(e,t){return e.t-t.t},t.default=d},caegbedegd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("eagfdbhhhh");function o(e){var t=e.children,n=e.selectable;return r.createElement(a.SelectableStrong,{selectable:n,appTextTemplate:"*${appText}*"},t)}o.displayName="Bold",o.defaultProps={children:""},t.default=o},caeigadddg:function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.exports=function(e,t){var n=e.reduce(function(e,t){var n=t.hotkeys;return n?(Object.keys(n).forEach(function(r){e[r]||(e[r]=[]),e[r].push([t,n[r]])}),e):e},{});return Object.keys(n).reduce(function(e,a){return e[a]=function(e,t){return function(n){e.some(function(e){var a=r(e,2),o=a[0],i=a[1],u=i.call(o,n,t);return!!n.defaultPrevented||!0===u&&(n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),!0)})}}(n[a],t),e},{})}},caeigdhgia:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=l(n("gbfffciea")),o=l(n("ebijaadcje")),i=l(n("biddiiafgd")),u=l(n("bfgbdiffgd")),s=l(n("eadfaddcj"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=function(e){var t={maxSize:l10n.filesize(u.default.media)},n={maxSize:l10n.filesize(u.default.maxFileSize)};switch(e){case s.default.MSG_TYPE.AUDIO:case s.default.MSG_TYPE.PTT:return l10n.t(672,t);case s.default.MSG_TYPE.IMAGE:return l10n.t(676,t);case s.default.MSG_TYPE.VIDEO:return l10n.t(690,t);case s.default.MSG_TYPE.DOCUMENT:return l10n.t(674,n);case s.default.MSG_TYPE.UNKNOWN:default:return l10n.t(675,n)}}(e.mediaType);return r.createElement(o.default,{displayType:e.displayType,onClick:f.bind(null,t),tooltip:t})}function f(e){a.default.openModal(r.createElement(i.default,{onOK:function(){return a.default.closeModal()}},e))}c.displayName="MsgMediaTooLargeFailedIcon",t.default=c},cafdagagdh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HOST_TYPE=t.SUPPORTS_ALL_MEDIA_TYPES=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("gbjefdbgb");var o=t.SUPPORTS_ALL_MEDIA_TYPES=a.MEDIA_TYPE_VALUES.reduce(function(e,t){return e[t]=!0,e},{}),i=t.HOST_TYPE=Object.freeze({PRIMARY:"primary",FALLBACK:"fallback"}),u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=e.extractMediaTypesFromRules(t.rules),r=n.download,a=n.upload;Object.assign(this,{ips:[]},{hostname:t.hostname,ips:t.ips,type:t.type,class:t.class,download:r,upload:a})}return r(e,[{key:"isFallback",value:function(){return null!=this.type&&this.type===i.FALLBACK}},{key:"supportsDownload",value:function(e,t){return(!this.type||this.type===e)&&this.download[t]}},{key:"supportsDownloadMediaType",value:function(e){return this.download[e]}},{key:"supportsUploadMediaType",value:function(e){return this.upload[e]}}],[{key:"extractMediaTypesFromRules",value:function(e){var t=void 0,n=void 0;return(e||[]).forEach(function(e){e.download&&(t=t||{},e.download.forEach(function(e){t&&(t[e]=!0)})),e.upload&&(n=n||{},e.upload.forEach(function(e){n&&(n[e]=!0)}))}),{download:t||o,upload:n||o}}}]),e}();t.default=u},cafgbeeihg:function(e,t){e.exports={muted:"_27kkc",mediaCanvas:"grK2C",shade:"_1ekmt",iconType:"QEFLC",iconStar:"_30H48",mediaCanvasDuration:"JVArc",shadeTop:"_1DNPt",canvasBody:"_2Ji5m",canvasSelected:"_1oTUk",mediaSelect:"KV2wQ",canvasComponent:"_2wPfr",canvasSecondRow:"IJkhc",viewerFlow:"_1LdNS",active:"cJP5q"}},caghbagede:function(e,t){e.exports={muted:"_3kzWs",container:"_1Zlsf",roundIcon:"_1DnDx",unchecked:"_3i9Xl",passive:"_2eJeD"}},cahcacghci:function(e,t){e.exports={muted:"_2UfhX",iconSpinner:"_3y7Hk",iconMorph:"_2F_Gi",iconCloseSearch:"_2heX1",iconLabelSelect:"_2pjfI",inputSearch:"_2zCfw",labelSearchPlaceholder:"_201Bk",inputPlaceholder:"_183ES",listSearch:"ZP8RM",contInputSearch:"eiCXe",active:"_19OGD",iconSearchMorph:"_1XCAr",iconMorphSearch:"_3I7nT",iconMorphBack:"_2l_xV",labels:"_29Ziv",kind:"_2eGMB",kindName:"_2NyQz",filterTitle:"KrrR1"}},cahefccjdd:function(e,t){e.exports={muted:"P9O_F",voipFloater:"KoAWx"}},cahigbeecb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=b(n("ceffhbhahb")),i=b(n("djcchigfih")),u=n("dajffajabh"),s=b(u),l=b(n("djbhiedbef")),c=b(n("fffdgbfji")),f=b(n("gcdabficb")),d=b(n("bfdcadbbif")),p=b(n("becfabjeeg")),h=b(n("bijffg")),m=n("bbjjjbicfb");function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(){var e,n,r;g(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={hover:!1},r.onClick=function(e){r.props.onUpdateColor(r.props.labelId,r.props.colorInt),r.props.onBack()},r.disableHover=function(e){r.state.hover&&r.setState({hover:!1})},r.enableHover=function(e){r.state.hover||r.setState({hover:!0})},v(r,n)}return y(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.isSelected?a.createElement(d.default,{name:"checkmark-light"}):null,t=(0,o.default)(f.default.wallpaperColorCanvas,{[f.default.canvasHover]:this.state.hover,[f.default.canvasActive]:this.props.isSelected});return a.createElement("span",{className:t,style:{backgroundColor:(0,m.intColorToHex)(this.props.colorInt)},onMouseOver:this.enableHover,onMouseEnter:this.enableHover,onMouseLeave:this.disableHover,onClick:this.onClick},e)}}]),t}();_.displayName="ColorCanvas";var E=function(e){function t(){return g(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,a.Component),r(t,[{key:"render",value:function(){for(var e=this,t=this.props,n=t.currentColor,r=t.colors.map(function(t){return a.createElement(_,{onUpdateColor:e.props.onUpdateColor,colorInt:t,onBack:e.props.onBack,labelId:e.props.labelId,isSelected:n===t,key:t})}),o=0;o<2;o++)r.push(a.createElement("div",{key:"emptyEl"+o,className:f.default.wallpaperColorEmpty}));return r}}]),t}();E.displayName="ColorGrid";var j=function(e){function t(){g(this,t);var e=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.getColorPromise=null,e.state={colors:h.default.labelColorPalette&&h.default.labelColorPalette.colors},e}return y(t,a.Component),r(t,[{key:"componentWillUnmount",value:function(){this.getColorPromise&&this.getColorPromise.cancel()}},{key:"render",value:function(){var e=this,t=a.createElement(p.default,{stroke:6,size:24});return this.state.colors?t=a.createElement(E,{labelId:this.props.labelId,onBack:this.props.onClose,onUpdateColor:this.props.onUpdateColor,colors:this.state.colors,currentColor:this.props.currentColor}):(this.getColorPromise=h.default.getLabelColorPalette(),this.getColorPromise.cancellable().then(function(t){e.setState({colors:t})})),a.createElement(i.default,null,a.createElement(s.default,{theme:this.state.colors?void 0:"center-content",title:c.default.t(583),onBack:this.props.onClose,type:u.DRAWER_HEADER_TYPE.LARGE}),a.createElement(l.default,null,a.createElement("div",{className:f.default.container},t)))}}]),t}();j.displayName="LabelColorDrawer",t.default=j},caigihje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("bfdcadbbif")),i=(l(n("eadfaddcj")),l(n("dbbbgjbbgf"))),u=l(n("dbabefhajh")),s=l(n("ccfhgdcjch"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.msg,t=e.isSentByMe?l10n.t(929):l10n.t(927),n=e.isSentByMe?"recalled-out":"recalled-in";return a.createElement(u.default,{msg:e},a.createElement(i.default,{msg:e,theme:"placeholder"},a.createElement("div",{className:s.default.icon},a.createElement(o.default,{name:n})),t))}}]),t}();c.displayName="Revoked",t.default=c},caijdggfg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SEARCH_EVENT=void 0;var r=s(n("jcfacighg")),a=s(n("cfjdfebffb")),o=s(n("cfjeggiiia")),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=s(n("cccehdaiaf"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=t.SEARCH_EVENT="SEARCH_EVENT",f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.query="",r.filter={},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),i(t,[{key:"updateQuery",value:function(e){var t=this.query;this.query=e,(0,o.default)(e)!==t&&this.trigger(c)}},{key:"updateLabelQuery",value:function(e){this.filter=e||{}}},{key:"clear",value:function(){this.updateQuery("")}},{key:"trimmed",get:function(){return(0,o.default)(this.query)}},{key:"highlighted",get:function(){var e=this.trimmed.toLowerCase().split(" ");return(0,a.default)((0,r.default)(e))}},{key:"isEmptySearchTerm",get:function(){return""===this.trimmed||!this.trimmed}},{key:"isEmptyQuery",get:function(){return this.isEmptySearchTerm&&!this.filter.kind&&!this.filter.label}}]),t}();t.default=f},cajbicccif:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=S(n("dbdfbgehgj")),i=n("bgddggdhc"),u=S(n("gbfffciea")),s=S(n("djcchigfih")),l=n("dajffajabh"),c=S(l),f=S(n("djbhiedbef")),d=S(n("bggeiidigb")),p=S(n("bbhhbdicgc")),h=n("cicgeajfge"),m=n("iaibjaeb"),b=S(m),g=S(n("dcaibchbg")),v=S(n("ddajbaceej")),y=S(n("dcjdgceiej")),_=S(n("dhfbfehaef")),E=S(n("eceadcicaf")),j=n("ejbdjaifi"),O=S(n("bfejacaeaj"));function S(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=r=w(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.selection=new g.default([],function(e){return e.id.toString()}),r.flatListController=new d.default,r.setRefList=function(e){return r.refList=e},r.onClick=function(e,t){u.default.openChatFromUnread(t).then(function(e){e&&u.default.focusChatTextInput(t)}),r.onClose()},r.onClose=function(){r.context.uim.uie.requestDismiss()},r.getList=function(){return o.default.filter(function(e){return e.archive})},r.onNextChat=function(e){e.preventDefault(),e.stopPropagation(),r.selection.setNext(!0)},r.onPrevChat=function(e){e.preventDefault(),e.stopPropagation(),r.selection.setPrev(!0)},r.renderItem=function(e){return a.createElement(b.default,{chat:e.chat,mode:m.Mode.LAST,active:r.selection,onClick:r.onClick})},w(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.archived=this.getList(),this.selection.init(this.archived,!0)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.archived=this.getList(),this.selection.init(this.archived,!0)}},{key:"componentDidMount",value:function(){this.props.listeners.add(o.default,"change:archive add remove"),this.refList&&v.default.focus((0,i.forbiddenAssertDOMNode)(this.refList))}},{key:"getData",value:function(){return this.archived.map(function(e){return{itemKey:e.id.toString(),chat:e}})}},{key:"render",value:function(){var e=void 0;if(this.archived.length>0){var t={down:this.onNextChat,up:this.onPrevChat};e=a.createElement(_.default,{handlers:t,ref:this.setRefList},a.createElement(p.default,{data:this.getData(),flatListController:this.flatListController,renderItem:this.renderItem}))}else e=a.createElement(h.Archived,null);return a.createElement(s.default,null,a.createElement(c.default,{title:l10n.t(182),onBack:this.onClose,type:l.DRAWER_HEADER_TYPE.LARGE}),a.createElement(f.default,{flatListControllers:[this.flatListController]},e))}}]),t}();P.contextTypes={uim:O.default.instanceOf(y.default)},P.displayName="ArchivedDrawer",e.exports=(0,E.default)((0,j.hoc)(P))},cajejegicg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setChecksum=function(e){o.default.supportsFeature(o.default.F.MODEL_STORAGE)&&(0,i.setContactChecksum)(e);return Promise.resolve()};var r,a=n("ccaaiecfib"),o=(r=a)&&r.__esModule?r:{default:r},i=n("bgaeedafjf")},cajjfeahjc:function(e,t){e.exports={muted:"_3K1bu",listPanel:"IMn_C",listBody:"_2eMVG",listSectionSep:"qlhJH",listSectionText:"_3hF3J",listSectionAction:"FGTTS",panelHeader:"_3pEci",headerText:"_1AHPD",primaryHeaderText:"_26-u-",secondaryHeaderText:"OEFaY",headerButtonsPrimary:"n5y-k",headerButtonsSecondary:"aVknD"}},cajjjeihci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){var n=r({},u,e),i=n.signal,s=n.timeoutIterator,l=n.timeoutIncludesTaskDuration;return(0,a.default)(function(e){var n=e.retry,r=e.failCount;return new Promise(function(e,a){var i=Date.now(),u=void 0;try{u=t(function(e){return Promise.reject(new o.default(e))},r).catch(c)}catch(e){return void c(e)}function c(e){if(e instanceof o.default){var t=s.next();if(t.done)a(e.source);else{var r=Date.now()-i,u=l?Math.max(t.value-r,0):t.value;n(u)}}else a(e)}u.then(e)})},i)};var a=i(n("cbebifcdhb")),o=i(n("difhbjfhhj"));function i(e){return e&&e.__esModule?e:{default:e}}var u=t.defaults=Object.freeze({timeoutIncludesTaskDuration:!0})},cbcbdjdah:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE=void 0;var r=q(n("dcdehfghdi")),a=q(n("diifagijfe")),o=q(n("bfhjejbhhd")),i=q(n("bcdejiigcg")),u=q(n("djfhiaaehb")),s=q(n("bhaghghai")),l=q(n("bebajedcaf")),c=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},p=n("eadfaddcj");Object.defineProperty(t,"TYPE",{enumerable:!0,get:function(){return p.MSG_TYPE}}),t.createProductInquiry=function(e,t,n){var r=Z({ack:0,id:new I.default({id:"product_inquiry",remote:t,fromMe:!0}),from:t,t:g.default.globalUnixTime(),type:p.MSG_TYPE.PRODUCT,title:e.name,description:e.description,businessOwnerJid:t.toString({legacy:!0}),productId:e.id.toString(),url:e.url,productImageCount:e.productImageCollection.length,body:n.preview&&n.preview._b64,currencyCode:e.currency,priceAmount1000:e.priceAmount1000});return r.mediaData.set(n),r};var h=n("dcaifjegcg"),m=q(h),b=q(n("daffbcegjj")),g=q(n("bjebjijbfc")),v=q(n("gbfffciea")),y=q(p),_=q(n("bjigbaghc")),E=q(n("bjgiedaj")),j=q(n("djegeegcbf")),O=q(n("cijheiibhg")),S=q(n("ccaaiecfib")),w=n("beadfddidc"),P=q(n("hciaejfjd")),M=n("cefjgcjhgf"),C=K(n("dbcedfihd")),T=q(n("bdiiahhjbe")),A=K(n("ddgbhifaji")),N=q(n("bffjfbgbg")),k=q(n("bfbggcdbfb")),I=q(n("ccgjijjbbj")),R=K(n("ccbagdhfbb")),L=n("bcjidabgad"),D=K(n("ebggjhghhi")),x=q(n("cfejjfjhca")),U=n("bdgehigfig"),G=q(n("bfgbdiffgd")),F=q(n("bhggeigghg")),B=n("hjbbdjjdf"),$=n("chhhffajfi"),V=n("dffjhcaahi"),H=q(n("cgfjebhhej")),W=q(n("jccfhaecf")),Y=q(n("djbfhebjhe"));function K(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function q(e){return e&&e.__esModule?e:{default:e}}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n("bgiachiigg"),n("bbcaggdbc");var Q=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=z(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,h.prop)(),r.body=(0,h.prop)(),r.type=(0,h.prop)(),r.subtype=(0,h.prop)(),r.t=(0,h.prop)(),r.notifyName=(0,h.prop)(),r.from=(0,h.prop)(),r.to=(0,h.prop)(),r.author=(0,h.prop)(),r.self=(0,h.prop)("in"),r.ack=(0,h.prop)(),r.invis=(0,h.prop)(),r.isNewMsg=(0,h.prop)(),r.star=(0,h.prop)(!1),r.recvFresh=(0,h.prop)(),r.caption=(0,h.prop)(),r.clientUrl=(0,h.prop)(),r.loc=(0,h.prop)(),r.lat=(0,h.prop)(),r.lng=(0,h.prop)(),r.isLive=(0,h.prop)(),r.accuracy=(0,h.prop)(),r.speed=(0,h.prop)(),r.degrees=(0,h.prop)(),r.comment=(0,h.prop)(),r.sequence=(0,h.prop)(),r.shareDuration=(0,h.prop)(),r.finalLat=(0,h.prop)(),r.finalLng=(0,h.prop)(),r.finalAccuracy=(0,h.prop)(),r.finalThumbnail=(0,h.prop)(),r.finalSpeed=(0,h.prop)(),r.finalDegrees=(0,h.prop)(),r.finalTimeOffset=(0,h.prop)(),r.directPath=(0,h.prop)(),r.mimetype=(0,h.prop)(),r.duration=(0,h.prop)(),r.filehash=(0,h.prop)(),r.uploadhash=(0,h.prop)(),r.size=(0,h.prop)(),r.filename=(0,h.prop)(),r.streamingSidecar=(0,h.prop)(),r.mediaKey=(0,h.prop)(),r.mediaKeyTimestamp=(0,h.prop)(),r.pageCount=(0,h.prop)(),r.isGif=(0,h.prop)(),r.gifAttribution=(0,h.prop)(),r.streamable=(0,h.prop)(),r.width=(0,h.prop)(),r.height=(0,h.prop)(),r.canonicalUrl=(0,h.prop)(),r.matchedText=(0,h.prop)(),r.thumbnail=(0,h.prop)(),r.richPreviewType=(0,h.prop)(),r.doNotPlayInline=(0,h.prop)(),r.title=(0,h.prop)(),r.description=(0,h.prop)(),r.businessOwnerJid=(0,h.prop)(),r.productId=(0,h.prop)(),r.currencyCode=(0,h.prop)(),r.priceAmount1000=(0,h.prop)(),r.retailerId=(0,h.prop)(),r.url=(0,h.prop)(),r.productImageCount=(0,h.prop)(),r.recipients=(0,h.prop)(),r.broadcast=(0,h.prop)(),r.quotedMsg=(0,h.prop)(),r.quotedStanzaID=(0,h.prop)(),r.quotedRemoteJid=(0,h.prop)(),r.quotedParticipant=(0,h.prop)(),r.mentionedJidList=(0,h.prop)(),r.footer=(0,h.prop)(),r.buttons=(0,h.prop)(),r.selectedId=(0,h.prop)(),r.selectedIndex=(0,h.prop)(),r.multicast=(0,h.prop)(),r.urlText=(0,h.prop)(),r.urlNumber=(0,h.prop)(),r.clearMedia=(0,h.prop)(),r.vcardList=(0,h.prop)(),r.protocolMessageKey=(0,h.prop)(),r.templateParams=(0,h.prop)(),r.textColor=(0,h.prop)(),r.backgroundColor=(0,h.prop)(),r.font=(0,h.prop)(),r.isForwarded=(0,h.prop)(!1),r.forwardingScore=(0,h.prop)(),r.labels=(0,h.prop)(),r.currency=(0,h.prop)(),r.amount1000=(0,h.prop)(),r.receiverJid=(0,h.prop)(),r.paymentStatus=(0,h.prop)(),r.paymentNoteMsg=(0,h.prop)(),r.paymentTransactionTimestamp=(0,h.prop)(),r.paymentRequestMessageKey=(0,h.prop)(),r._currencyCodeIso4217=(0,h.prop)(),r._paymentRequestFrom=(0,h.prop)(),r._paymentExpiryTimestamp=(0,h.prop)(),r.promises=(0,h.session)(function(){return{}}),r.local=(0,h.session)(),r.search=(0,h.session)(),r.msgChunk=(0,h.session)(),r.phoneUploading=(0,h.session)(),r.startOfDay=(0,h.session)(),r.startOfDaySkew=(0,h.session)(),r._quotedMsgObj=(0,h.session)(),r.isQuotedMsgAvailable=(0,h.session)(!0),r.senderObj=(0,h.session)(),r.mediaData=(0,h.session)(),r.inviteCode=(0,h.prop)(),r.inviteCodeExp=(0,h.prop)(),r.inviteGrp=(0,h.prop)(),r.inviteGrpName=(0,h.prop)(),r.inviteGrpJpegThum=(0,h.prop)(),r._links=(0,h.session)(function(){return[]}),r.linksIndexParsed=(0,h.session)(0),r.hsmEnabled=(0,h.derived)(r._hsmEnabled,["type"]),r.chat=(0,h.derived)(r._chat),r.hasTemplateButtons=(0,h.derived)(r._hasTemplateButtons,["buttons"]),r.isQuickReply=(0,h.derived)(r._isQuickReply,["buttons"]),r.isFutureproof=(0,h.derived)(r._isFutureproof,["type","subtype"]),r.isGroupMsg=(0,h.derived)(r._isGroupMsg),r.isStatusV3=(0,h.derived)(r._isStatusV3),r.isPSA=(0,h.derived)(r._isPSA),r.isRTL=(0,h.derived)(r._isRTL,["dir"]),r.isProductInquiry=(0,h.derived)(r._isProductInquiry),r.statusV3TextBg=(0,h.derived)(r._statusV3TextBg),r.isSentByMe=(0,h.derived)(r._isSentByMe),r.isSentByMeFromWeb=(0,h.derived)(r._isSentByMeFromWeb,["isUserCreatedType"]),r.isNotification=(0,h.derived)(r._isNotification,["type"]),r.isGroupNotification=(0,h.derived)(r._isGroupNotification,["type"]),r.isBroadcastNotification=(0,h.derived)(r._isBroadcastNotification,["type"]),r.isBizNotification=(0,h.derived)(r._isBizNotification,["type","subtype"]),r.isProduct=(0,h.derived)(r._isProduct,["type"]),r.isValidAlbumAsset=(0,h.derived)(r._isValidAlbumAsset,["type","isNotification","caption","isForwarded","isRevoked","isGif","quotedMsg"]),r.isValidGroupedSticker=(0,h.derived)(r._isValidGroupedSticker,["type","isNotification","isForwarded","isRevoked","quotedMsg"]),r.isMedia=(0,h.derived)(r._isMedia,["type"]),r.isDoc=(0,h.derived)(r._isDoc,["type"]),r.isMMS=(0,h.derived)(r._isMMS,["type"]),r.isRevoked=(0,h.derived)(r._isRevoked,["type"]),r.numTimesForwarded=(0,h.derived)(r._numTimesForwarded,["isForwarded","forwardingScore"]),r.isFrequentlyForwarded=(0,h.derived)(r._isFrequentlyForwarded,["numTimesForwarded"]),r.eventType=(0,h.derived)(r._eventType,["type","invis","isNewMsg"]),r.sender=(0,h.derived)(r._sender),r.text=(0,h.derived)(r._text,["type","body","caption","comment","isLive","paymentNoteMsg","subtype"]),r.containsEmoji=(0,h.derived)(r._containsEmoji,["text"]),r.isFailed=(0,h.derived)(r._isFailed,["isSentByMe","ack"]),r.vcard=(0,h.derived)(r._vcard,["type","body"]),r.isUnsentMedia=(0,h.derived)(r._isUnsentMedia,["ack","isMMS","isSentByMe"]),r.dir=(0,h.derived)(r._dir,["type","text","subtype"]),r.rtl=(0,h.derived)(r._rtl,["type","text","subtype"]),r.linkPreview=(0,h.derived)(r._linkPreview,["matchedText","body","title","description"]),r.isGroupsV4InviteExpired=(0,h.derived)(r._isGroupsV4InviteExpired,["type","inviteCode","inviteCodeExp"]),r.isPersistent=(0,h.derived)(r._isPersistent),r.isUnreadType=(0,h.derived)(r._isUnreadType,["type"]),r.isUserCreatedType=(0,h.derived)(r._isUserCreatedType,["type"]),r.initialPageSize=(0,h.derived)(r._initialPageSize,["isFrequentlyForwarded"]),z(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,m.default),f(t,[{key:"_hsmEnabled",value:function(){return!!(0,w.shouldEnableHsm)()&&((this.type===y.default.MSG_TYPE.TEMPLATE||this.type===y.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY)&&!(!S.default.supportsFeature(S.default.F.HSM_INTERACTIVE)&&(this.hasTemplateButtons||this.type===y.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY)))}},{key:"_chat",value:function(){return F.default.Chat.get(this.id.remote)}},{key:"_hasTemplateButtons",value:function(){return(0,w.shouldEnableHsm)()&&this.type===y.default.MSG_TYPE.TEMPLATE&&Array.isArray(this.buttons)&&this.buttons.length>0}},{key:"_isQuickReply",value:function(){return(0,w.shouldEnableHsm)()&&this.hasTemplateButtons&&null!=this.buttons&&this.buttons[0].subtype===y.default.TEMPLATE_BUTTON_SUBTYPE.QUICK_REPLY}},{key:"_isFutureproof",value:function(){return this.type===p.MSG_TYPE.UNKNOWN||this.type===p.MSG_TYPE.PAYMENT&&"futureproof"===this.subtype}},{key:"_isGroupMsg",value:function(){return W.default.isGroup(this.from)||W.default.isGroup(this.to)}},{key:"_isStatusV3",value:function(){return W.default.isStatusV3(this.id.remote)}},{key:"_isPSA",value:function(){return W.default.isPSA(this.id.remote)}},{key:"_isRTL",value:function(){return"rtl"===this.dir||void 0===this.dir&&l10n.isRTL()}},{key:"_isProductInquiry",value:function(){return this.id&&this.id.id===y.default.PRODUCT_INQUIRY_TYPE}},{key:"_statusV3TextBg",value:function(){if(!this.isStatusV3)return null;var e=this.backgroundColor;return e?`rgba(${e>>16&255}, ${e>>8&255}, ${255&e}, ${e>>24&255})`:null}},{key:"_isSentByMe",value:function(){return"in"!==this.id.self&&!this.isNotification&&W.default.equals(this.from,_.default.me)}},{key:"_isSentByMeFromWeb",value:function(){return this.id.fromMe&&this.local&&this.isUserCreatedType}},{key:"_isNotification",value:function(){switch(this.type){case p.MSG_TYPE.GROUP_NOTIFICATION:case p.MSG_TYPE.GP2:case p.MSG_TYPE.BROADCAST_NOTIFICATION:case p.MSG_TYPE.NOTIFICATION:case p.MSG_TYPE.NOTIFICATION_TEMPLATE:case p.MSG_TYPE.E2E_NOTIFICATION:case p.MSG_TYPE.CALL_LOG:return!0;default:return!1}}},{key:"_isGroupNotification",value:function(){switch(this.type){case p.MSG_TYPE.GROUP_NOTIFICATION:case p.MSG_TYPE.GP2:return!0;default:return!1}}},{key:"_isBroadcastNotification",value:function(){return this.type===p.MSG_TYPE.BROADCAST_NOTIFICATION}},{key:"_isBizNotification",value:function(){if(this.type===p.MSG_TYPE.NOTIFICATION_TEMPLATE)switch(this.subtype){case"verified_initial_unknown":case"verified_initial_low":case"verified_initial_high":case"verified_transition_any_to_none":case"verified_transition_any_to_high":case"verified_transition_high_to_low":case"verified_transition_high_to_unknown":case"verified_transition_unknown_to_low":case"verified_transition_low_to_unknown":case"verified_transition_none_to_low":case"verified_transition_none_to_unknown":case"biz_verified_transition_top_to_bottom":case"biz_verified_transition_bottom_to_top":case"biz_intro_top":case"biz_intro_bottom":case"biz_name_change":case"biz_move_to_consumer_app":case"biz_two_tier_migration_top":case"biz_two_tier_migration_bottom":return!0;default:return!1}return!1}},{key:"_isProduct",value:function(){return"product"===this.type}},{key:"_isValidAlbumAsset",value:function(){return!(this.type!==y.default.MSG_TYPE.IMAGE&&this.type!==y.default.MSG_TYPE.VIDEO||this.isNotification||this.caption||this.isForwarded||this.isRevoked||this.isGif||this.quotedMsg)}},{key:"_isValidGroupedSticker",value:function(){return!(this.type!==y.default.MSG_TYPE.STICKER||this.isNotification||this.isForwarded||this.isRevoked||this.quotedMsg)}},{key:"_isMedia",value:function(){return["image","video","audio","product"].includes(this.type)||this.hsmEnabled&&(this.subtype===y.default.TEMPLATE_SUBTYPE.IMAGE||this.subtype===y.default.TEMPLATE_SUBTYPE.VIDEO)}},{key:"_isDoc",value:function(){return this.type===y.default.MSG_TYPE.DOCUMENT||this.hsmEnabled&&this.subtype===y.default.TEMPLATE_SUBTYPE.DOCUMENT}},{key:"_isMMS",value:function(){return R.typeIsMMS(this.type,this.subtype)}},{key:"_isRevoked",value:function(){return this.type===p.MSG_TYPE.REVOKED}},{key:"_numTimesForwarded",value:function(){return this.forwardingScore?this.forwardingScore||0:this.isForwarded?1:0}},{key:"_isFrequentlyForwarded",value:function(){return this.numTimesForwarded>=y.default.FREQUENTLY_FORWARDED_SENTINEL}},{key:"_eventType",value:function(){if(!this.isNewMsg)return"i";var e=this.eventTypeFromMsgType();return this.invis?"i"===e?"i":"n":e}},{key:"_sender",value:function(){return this.isSentByMe?this.from:this.isGroupMsg||this.isStatusV3?this.author:this.from}},{key:"_text",value:function(){switch(this.type){case p.MSG_TYPE.CHAT:return this.body;case p.MSG_TYPE.IMAGE:case p.MSG_TYPE.VIDEO:return this.caption;case p.MSG_TYPE.LOCATION:return this.isLive?this.comment:void 0;case p.MSG_TYPE.PAYMENT:var e=this.paymentNoteMsg;return e?e.body:void 0;case p.MSG_TYPE.GROUPS_V4_INVITE:return this.comment;case p.MSG_TYPE.PRODUCT:return this.getProductInfoText();case p.MSG_TYPE.HSM:return this.body;case p.MSG_TYPE.TEMPLATE:if(this.hsmEnabled)return this.subtype===y.default.TEMPLATE_SUBTYPE.TEXT?this.body:this.caption;case p.MSG_TYPE.TEMPLATE_BUTTON_REPLY:return this.body;default:return}}},{key:"_containsEmoji",value:function(){var e=this.text;return!!e&&j.default.containsEmoji(e)}},{key:"_isFailed",value:function(){return this.isSentByMe&&this.ack<0}},{key:"_vcard",value:function(){if(this.type===p.MSG_TYPE.VCARD)try{return H.default.parse(this.body)}catch(e){return}}},{key:"_isUnsentMedia",value:function(){return this.ack<1&&this.isMMS&&this.isSentByMe}},{key:"_dir",value:function(){return this.type===p.MSG_TYPE.VCARD?this.subtype?b.default.dir(this.subtype):void 0:this.text?b.default.dir(this.text):void 0}},{key:"_rtl",value:function(){return this.type===p.MSG_TYPE.VCARD?!!this.subtype&&"rtl"===b.default.dir(this.subtype):!!this.text&&"rtl"===b.default.dir(this.text)}},{key:"_linkPreview",value:function(){return(0,B.isString)(this.matchedText)&&(!(0,l.default)(this.title)||!(0,l.default)(this.description))&&this.body.includes(this.matchedText)}},{key:"_isGroupsV4InviteExpired",value:function(){if(this.type!==y.default.MSG_TYPE.GROUPS_V4_INVITE)return!1;if(!this.inviteCode)return!0;var e=(new Date).getTime()/1e3;return parseInt(e,10)>=parseInt(this.inviteCodeExp,10)}},{key:"_isPersistent",value:function(){return this.type===p.MSG_TYPE.E2E_NOTIFICATION&&"encrypt"===this.subtype}},{key:"_isUnreadType",value:function(){return[p.MSG_TYPE.CHAT,p.MSG_TYPE.IMAGE,p.MSG_TYPE.VIDEO,p.MSG_TYPE.AUDIO,p.MSG_TYPE.PTT,p.MSG_TYPE.DOCUMENT,p.MSG_TYPE.VCARD,p.MSG_TYPE.LOCATION,p.MSG_TYPE.CIPHERTEXT,p.MSG_TYPE.OVERSIZED,p.MSG_TYPE.MULTI_VCARD,p.MSG_TYPE.REVOKED,p.MSG_TYPE.UNKNOWN,p.MSG_TYPE.STICKER,p.MSG_TYPE.PRODUCT,p.MSG_TYPE.GROUPS_V4_INVITE].includes(this.type)}},{key:"_isUserCreatedType",value:function(){return[p.MSG_TYPE.PROTOCOL,p.MSG_TYPE.CHAT,p.MSG_TYPE.LOCATION,p.MSG_TYPE.VCARD,p.MSG_TYPE.MULTI_VCARD,p.MSG_TYPE.IMAGE,p.MSG_TYPE.VIDEO,p.MSG_TYPE.AUDIO,p.MSG_TYPE.PTT,p.MSG_TYPE.DOCUMENT,p.MSG_TYPE.STICKER,p.MSG_TYPE.PRODUCT,p.MSG_TYPE.GROUPS_V4_INVITE].includes(this.type)}},{key:"_initialPageSize",value:function(){return this.isFrequentlyForwarded?y.default.FREQUENTLY_FORWARDED_INITIAL_PAGE_SIZE:y.default.INITIAL_PAGE_SIZE}},{key:"initialize",value:function(){var e=this;if(d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.sender)this.addChild("senderObj",F.default.Contact.gadd(this.sender));else switch(this.type){case p.MSG_TYPE.NOTIFICATION:case p.MSG_TYPE.NOTIFICATION_TEMPLATE:case p.MSG_TYPE.GROUP_NOTIFICATION:case p.MSG_TYPE.GP2:case p.MSG_TYPE.BROADCAST_NOTIFICATION:case p.MSG_TYPE.E2E_NOTIFICATION:case p.MSG_TYPE.CALL_LOG:case p.MSG_TYPE.PROTOCOL:break;default:T.default.log(`msg:msg with no sender id:${this.id.toString()}, from:${this.from.toString()}, author:${this.author&&this.author.toString()}, type:${this.type}`)()}this.mentionedJidList=this.mentionedJidList||[],this.mentionedJidList.forEach(function(e){return F.default.Contact.gadd(e)});var n,r=this.getCollection();(n=r.preAck[this.id])&&(T.default.log("Msg:initialize updating msg with out of order ack",n)(),this.updateAck(n.ack),delete r.preAck[this.id]),this.type===p.MSG_TYPE.CIPHERTEXT&&this.listenToOnce(this,"change:type",this.onCiphertextDecrypted),this._mediaObject=void 0,R.typeIsMMS(this.type,this.subtype)&&(this._createMediaDataChild(),A.registerMsg(this)),this.isSentByMeFromWeb&&(this.promises.sendPromise=Promise.sit("settled").finally(function(){e.promises.sendPromise=null}).endWithControls("settled")),this.isLive&&F.default.LiveLocation.processMsg(this,!1),_.default.isSMB&&(this.addLabelsToCollection(),this.listenTo(this,"change:labels",this.addLabelsToCollection)),G.default.getWebRestoreFromCache()&&!S.default.supportsFeature(S.default.F.MODEL_STORAGE)&&this.listenTo(this,"change:ack",this.onAckChange)}},{key:"getLinks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.initialPageSize+1,t=this.text;if(!t)return this._links;if(this.linksIndexParsed>=e)return this._links;var n=(0,$.firstNCodepoints)(t,e),r=C.findLinks(n,!1,this.sender);if(t.length>e&&r.length>0){var a=r[r.length-1];a.index+(0,$.numCodepoints)(a.url)===e&&(r=C.findLinks(t,!1,this.sender))}return this.linksIndexParsed=e,this._links=r}},{key:"getGalleryLinks",value:function(){return(0,s.default)(this.getLinks(),"href").filter(function(e){return e.isHttp})}},{key:"getSuspiciousLinks",value:function(){return this.getLinks().filter(function(e){return e.suspiciousCharacters&&e.suspiciousCharacters.size})}},{key:"addLabelsToCollection",value:function(){(0,P.default)(this.id.toString(),this.labels,"Msg")}},{key:"_createMediaDataChild",value:function(){this.addChild("mediaData",new N.default)}},{key:"hasSymbol",value:function(){return["image","video","audio","ptt","location","vcard","multi_vcard","document","ciphertext","oversized","unknown","call_log","revoked","sticker","payment","groups_v4_invite","product"].includes(this.type)||this.type===y.default.MSG_TYPE.TEMPLATE&&this.subtype!==y.default.TEMPLATE_SUBTYPE.TEXT}},{key:"mayFail",value:function(){return this.isSentByMe&&this.ack<1}},{key:"isUnsentPhoneMsg",value:function(){return!this.local&&this.isSentByMe&&this.ack<1}},{key:"canReply",value:function(){return this.chat.canSend&&!this.mayFail()&&!this.isNotification&&this.type!==p.MSG_TYPE.UNKNOWN&&this.type!==p.MSG_TYPE.CIPHERTEXT&&this.type!==p.MSG_TYPE.OVERSIZED&&this.type!==p.MSG_TYPE.REVOKED&&S.default.supportsFeature(S.default.F.REPLIES_OUT)&&this.interactiveButtonsReleased()}},{key:"canPrivateReply",value:function(){return!this.mayFail()&&!this.isNotification&&this.type!==p.MSG_TYPE.UNKNOWN&&this.type!==p.MSG_TYPE.CIPHERTEXT&&this.type!==p.MSG_TYPE.OVERSIZED&&this.type!==p.MSG_TYPE.REVOKED&&S.default.supportsFeature(S.default.F.REPLIES_OUT)&&!this.isSentByMe&&this.isGroupMsg&&S.default.supportsFeature(S.default.F.PRIVATE_REPLY)&&this.interactiveButtonsReleased()}},{key:"canPrivateReplyInRestrictedGrp",value:function(){return!!this.chat.isAnnounceGrpRestrict&&!this.chat.isReadOnly&&S.default.supportsFeature(S.default.F.PRIVATE_REPLY)&&S.default.supportsFeature(S.default.F.REPLIES_OUT)&&!this.mayFail()&&!this.isSentByMe&&!this.isNotification&&this.type!==p.MSG_TYPE.UNKNOWN&&this.type!==p.MSG_TYPE.CIPHERTEXT&&this.type!==p.MSG_TYPE.OVERSIZED&&this.type!==p.MSG_TYPE.REVOKED&&this.interactiveButtonsReleased()}},{key:"canForward",value:function(){if(this.type===p.MSG_TYPE.CIPHERTEXT)return!1;if(this.type===p.MSG_TYPE.OVERSIZED)return!1;if(this.type===p.MSG_TYPE.REVOKED)return!1;if(this.type===p.MSG_TYPE.UNKNOWN)return!1;if(this.type===p.MSG_TYPE.PAYMENT)return!1;if(this.type===p.MSG_TYPE.GROUPS_V4_INVITE)return!1;if(this.type===p.MSG_TYPE.LOCATION&&this.isLive)return!1;if(!this.interactiveButtonsReleased())return!1;if(this.ack<1&&this.isSentByMe)return!1;if(this.isMMS){var e=this.mediaData;if(!A.canSendType(e.type))return!1;if(e.mediaStage===N.default.STAGE.ERROR_MISSING)return!1;if(e.mediaStage===N.default.STAGE.ERROR_UNSUPPORTED)return!1;if(this.isUnsentMedia)return!1}return!0}},{key:"canQuickForward",value:function(){return this.canForward()&&!this.isFrequentlyForwarded&&0===this.getSuspiciousLinks().length&&this.type!==y.default.MSG_TYPE.PTT&&this.type!==y.default.MSG_TYPE.STICKER&&this.interactiveButtonsReleased()&&(this.isMMS||this.linkPreview||this.type===y.default.MSG_TYPE.LOCATION||this.hsmEnabled&&this.subtype===y.default.TEMPLATE_SUBTYPE.LOCATION)}},{key:"canStar",value:function(){return!this.isNotification&&!this.isFutureproof&&this.type!==p.MSG_TYPE.REVOKED&&!(this.ack<1&&this.isSentByMe)&&this.interactiveButtonsReleased()}},{key:"interactiveButtonsReleased",value:function(){return this.hsmEnabled||!this.hasTemplateButtons&&this.type!==y.default.MSG_TYPE.TEMPLATE_BUTTON_REPLY}},{key:"isGroupLeave",value:function(){return"gp2"===this.type&&("leave"===this.subtype||"remove"===this.subtype)&&W.default.equals((0,u.default)(this.recipients),_.default.me)}},{key:"isTrusted",value:function(){return!!W.default.equals(this.sender,_.default.me)||(!(!this.senderObj||!this.senderObj.isMyContact)||(this.isGroupMsg?this.chat.isTrusted():this.chat.notSpam))}},{key:"getWAids",value:function(){return this.type!==p.MSG_TYPE.VCARD?null:H.default.vcardWAids(this.vcard)}},{key:"getVCardThumbnailWAid",value:function(){if(this.type!==p.MSG_TYPE.VCARD)return null;var e=this.getWAids();if(e){var t=H.default.thumbnailWAid(e);return t||(e.length?e[0]:void 0)}}},{key:"getLocObject",value:function(){var e=this.loc;if(e){var t=e.split("\n"),n=c(t,2),r=n[0],a=n[1];return{name:r,addr:void 0===a?null:a}}return null}},{key:"resumeRemoteUpload",value:function(){var e=this;return this.isUnsentPhoneMsg()&&!this.phoneUploading&&((0,U.sendMsgRecord)(this).then(function(t){"success"!==t&&(e.phoneUploading=!1)}),this.phoneUploading=!0),this.downloadMedia(!0)}},{key:"forceDownloadMedia",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.downloadMedia(!0,e)}},{key:"forceRMR",value:function(){return Promise.reject(new Error("unimplemented forceRMR"))}},{key:"isForcingRMR",value:function(){return!1}},{key:"cancelDownload",value:function(){A.cancelDownloadMsg(this)}},{key:"resumeUpload",value:function(){T.default.assert(this.mediaData.mediaStage===N.default.STAGE.NEED_UPLOAD,"resume-non-need-upload",`resumeUpload called while state was ${this.mediaData.mediaStage}`)(),A.resumeUploadMsg(this)}},{key:"cancelUpload",value:function(){A.cancelUploadMsg(this)}},{key:"logInitialRender",value:function(){var e=this;if(this.isMMS&&this.mediaData&&!this.isStatusV3&&!this._renderEvent){var t=this._renderEvent=new k.default.WebcMediaRender({messageMediaType:this.getWamMediaType(),webcChatType:this.chat.getWebcChatType(),webcChatPosition:this.chat.initialIndex,webcBrowserNetworkType:(0,L.getEffectiveNetworkType)(),webcMessageT:this.t});this.msgChunk===this.chat.msgs&&(t.webcMessageIndex=this.msgChunk.length-this.msgChunk.indexOf(this)-1);this.listenToAndRun(this.mediaData,"change:mediaStage",function n(){switch(e.mediaData.mediaStage){case N.default.STAGE.INIT:case N.default.STAGE.PREPARING:case N.default.STAGE.FETCHING:case N.default.STAGE.DECRYPTING:case N.default.STAGE.REMOTE_UPLOADING:case N.default.STAGE.REUPLOADING:case N.default.STAGE.UPLOADING:case N.default.STAGE.SENDING:return;case N.default.STAGE.RESOLVED:t.webcMediaStage=k.default.WEBC_MEDIA_STAGE_TYPE.RESOLVED;break;case N.default.STAGE.NEED_POKE:t.webcMediaStage=k.default.WEBC_MEDIA_STAGE_TYPE.NEEDS_RMR;break;default:t.webcMediaStage=k.default.WEBC_MEDIA_STAGE_TYPE.OTHER}e._logStorageEstimate(t).finally(function(){t.commit(),e.stopListening(e.mediaData,"change:mediaStage",n)})})}}},{key:"downloadMedia",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isRevoked)return Promise.resolve();if(T.default.assert(this.isMMS,"media-fault","downloadMedia called on non-mms msg")(),this.isUnsentPhoneMsg()){var r=this.promises.waitForPhoneUpload;return r||(r=this.promises.waitForPhoneUpload=D.waitForBBEvent(this.mediaData,"change:mediaStage change:filehash",function(){return!!e.mediaData.filehash&&!e.isUnsentPhoneMsg()}).then(function(){e.promises.waitForPhoneUpload=null})),r.then(function(){return e.downloadMedia(t,n)})}var a=A.downloadMsg(this,t);if(n){var o=performance.now(),i=new k.default.WebcMediaRmr({messageMediaType:this.getWamMediaType(),webcChatType:this.chat.getWebcChatType(),webcChatPosition:this.chat.initialIndex,webcBrowserNetworkType:(0,L.getEffectiveNetworkType)(),webcMessageT:this.t,webcMediaSize:this.size});this.msgChunk===this.chat.msgs&&(i.webcMessageIndex=this.msgChunk.length-this.msgChunk.indexOf(this)-1),a.then(function(){return i.webcMediaRmrT=Math.ceil(performance.now()-o),e._logStorageEstimate(i)}).catch(function(){i.webcMediaRmrT=Math.ceil(performance.now()-o),i.webcMediaRmrError=!0}).finally(function(){return i.commit()})}return a}},{key:"applyUpdate",value:function(e){var t=this;return e.type&&this.type!==e.type&&R.typeIsMMS(e.type)?(this.type!==p.MSG_TYPE.CIPHERTEXT&&T.default.assert(!1,"invalid-type-update",`updated ${this.id.toString()} from ${this.type} to ${String(e.type)}`)(),this._createMediaDataChild(),A.registerMsgEarly(this,e),A.prepareMsg(this).then(function(){return(0,V.updateLocal)(t.id,e)}).then(function(){t.set(e)}).catch(function(e){T.default.assert(!1,"preregister-error",`error = ${String(e)}`)(e)})):(0,V.updateLocal)(this.id,e).then(function(){(t.set(e),t.isLive&&F.default.LiveLocation.processMsg(t,!0),t.paymentTransactionTimestamp)&&t.getCollection().updateLastTransactionTime(t.id.remote,t.paymentTransactionTimestamp)}).catch(function(e){T.default.assert(!1,"msg:applyUpdate: failed to update locally")(e)})}},{key:"waitForPrep",value:function(){return R.typeIsMMS(this.type,this.subtype)?A.prepareMsg(this):Promise.resolve()}},{key:"delete",value:function(){d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),F.default.AllStarredMsgs.remove(this),this.isLive&&F.default.LiveLocation.removeMsg(this),this.getCollection().remove(this.id),this.msgChunk&&this.msgChunk.remove(this.id),R.typeIsMMS(this.type)&&A.deregisterMsg(this);var e=F.default.Chat.get(this.id.remote);if(e&&(e.unreadMsgAnchor===this&&(e.unreadMsgAnchor=void 0),e.lastReceivedKey===this.id)){var n=void 0,r=e.getLastReceivedMsg();r&&(n=r.id),(0,M.setLastReceivedKey)(e.id,n).then(function(){e.lastReceivedKey=n})}}},{key:"quotedMsgObj",value:function(){if(!this.quotedMsg)return null;if(this._quotedMsgObj){var e=this.getCollection();return R.getOriginalQuotedMsgIfPossible(this._quotedMsgObj,e)}var t=!this.quotedParticipant||W.default.equals(this.quotedParticipant,_.default.me),n=t?"out":"in",r=this.quotedRemoteJid?this.quotedRemoteJid:this.id.remote,a={id:this.quotedStanzaID,from:t?_.default.me:r,to:t?r:_.default.me,self:n,author:this.quotedParticipant,remote:r};if(!(W.default.isGroup(a.from)||W.default.isGroup(a.to))&&!W.default.isStatusV3(r)||W.default.equals(_.default.me,this.quotedParticipant)||(a.participant=this.quotedParticipant),Object.assign(a,this.quotedMsg),!a)return a;this._quotedMsgObj=R.createQuotedMsg(a);var o=this.getCollection();return R.getOriginalQuotedMsgIfPossible(this._quotedMsgObj,o)}},{key:"getQuotedMsgAdminGroupJid",value:function(){return!this.quotedMsg&&this.quotedRemoteJid}},{key:"msgContextInfo",value:function(e){var t=(0,i.default)(this.toJSON(),["id","t","notifyName","from","to","author","self","ack","invis","isNewMsg","star","recvFresh","recipients","broadcast","quotedMsg","quotedStanzaID","quotedRemoteJid","quotedParticipant","senderObj","multicast"]),n=void 0;return e&&!this.id.remote.equals(e)&&(n=this.id.remote),{quotedMsg:t,quotedParticipant:this.sender,quotedStanzaID:this.id.id,quotedRemoteJid:n}}},{key:"displayName",value:function(e,t){if(!this.sender)return"";if(this.sender.equals(_.default.me))return l10n.t(1342);var n=this.senderObj,r=e?n.shortName:void 0;if(r)return r;if(n.name)return n.name;var a=t&&this.notifyName?" ~"+this.notifyName:"";return l10n.isRTL()?l10n.embedLTR((0,Y.default)(this.sender))+a:(0,Y.default)(this.sender)+a}},{key:"isQuoted",value:function(e){var t=this.quotedMsgObj();return!!t&&t.sender.equals(e)}},{key:"isMentioned",value:function(e){return(0,o.default)(this.mentionedJidList,function(t){return t.equals(e)})>-1}},{key:"mentionMap",value:function(){if(!S.default.supportsFeature(S.default.F.MENTIONS_IN))return null;if(!(0,a.default)(this.mentionedJidList))return null;var e={};return this.mentionedJidList.forEach(function(t){e[`@${W.default.user(t)||""}`]=F.default.Contact.gadd(t)}),e}},{key:"updateAck",value:function(e){var t=this.ack;(0,B.isNumber)(e)&&(void 0===t||e>t)?this.ack=e:-1===e&&0===this.ack&&(this.ack=-1,this.phoneUploading=!1)}},{key:"avParams",value:function(){return A.mediaMetadata(this)}},{key:"resend",value:function(){return this.isFailed?(this.ack=0,this.isMMS?this.resumeRemoteUpload():(0,U.sendMsgRecord)(this)):Promise.resolve()}},{key:"onCiphertextDecrypted",value:function(){if(!this.isStatusV3){var e=this.chat,t=e.msgs.length,n=e.msgs.indexOf(this);-1!==n&&t-n<=10&&v.default.alertNewMsg(this)}}},{key:"onAckChange",value:function(){this.chat&&G.default.getWebRestoreFromCache()&&!S.default.supportsFeature(S.default.F.MODEL_STORAGE)&&this.chat.trigger("change:msg:ack")}},{key:"eventTypeFromMsgType",value:function(){var e=this.type,t=this.subtype,n=void 0,r=void 0;return e===p.MSG_TYPE.GP2||e===p.MSG_TYPE.GROUP_NOTIFICATION?"subject"===t?n="n":"add"===t||"invite"===t?(r=(0,u.default)(this.recipients),n=W.default.equals(r,_.default.me)?"s":"i"):"remove"===t?(r=(0,u.default)(this.recipients),n=W.default.equals(r,_.default.me)?"n":"i"):n="create"===t?"n":"i":n=e===p.MSG_TYPE.BROADCAST_NOTIFICATION||e===p.MSG_TYPE.NOTIFICATION||e===p.MSG_TYPE.E2E_NOTIFICATION?"create"===t?"n":"i":e===p.MSG_TYPE.GROUPS_V4_INVITE&&this.from===_.default.me?"i":e===p.MSG_TYPE.CALL_LOG?"n":this.broadcast||e===p.MSG_TYPE.REVOKED?"i":this.isPSA?2===this.ack?"d":"a":e===p.MSG_TYPE.CIPHERTEXT||e===p.MSG_TYPE.OVERSIZED?"a":e===p.MSG_TYPE.NOTIFICATION_TEMPLATE?"i":"d",n}},{key:"canRevoke",value:function(){return S.default.supportsFeature(S.default.F.REVOKE)&&this.id.fromMe&&this.isUserCreatedType&&(!W.default.isBroadcast(this.id.remote)||"iphone"===_.default.platform)&&!this.broadcast&&Math.trunc(+new Date/1e3)-this.t<=y.default.REVOKE_WINDOW&&!this.isUnsentPhoneMsg()&&!this.isUnsentMedia}},{key:"revoke",value:function(e){var t=this;R.typeIsMMS(this.type)&&A.deregisterMsg(this),this.chat&&this.chat.removeFromCollection(this);var n=this.getCollection(),a=this.id;this.msgChunk&&this.msgChunk.replaceId(a,e),n.replaceId(a,e);var o={id:e,type:p.MSG_TYPE.REVOKED,body:void 0,caption:void 0,clientUrl:void 0,loc:void 0,lat:void 0,lng:void 0,isLive:void 0,accuracy:void 0,speed:void 0,degrees:void 0,comment:void 0,sequence:void 0,shareDuration:void 0,finalLat:void 0,finalLng:void 0,finalAccuracy:void 0,finalThumbnail:void 0,finalSpeed:void 0,finalDegrees:void 0,finalTimeOffset:void 0,title:void 0,description:void 0,canonicalUrl:void 0,matchedText:void 0,thumbnail:void 0,richPreviewType:void 0,doNotPlayInline:void 0,quotedMsg:void 0,quotedStanzaID:void 0,quotedRemoteJid:void 0,quotedParticipant:void 0,mediaData:void 0,mentionedJidList:void 0,vcardList:void 0,star:!1};return(0,V.updateLocal)(this.id,o).then(function(){if(t.set(o),t.trigger("change:msgKey",{newKey:e,oldKey:a}),t.chat&&t.chat.updateMediasCountOnMsg(t,!0),t.chat&&a.equals(t.chat.lastReceivedKey)&&(t.chat.lastReceivedKey=e),t.isLive&&F.default.LiveLocation.removeMsg(t),W.default.isBroadcast(a.remote)){var i=R.getBroadcastFanoutKeys(a),u=R.getBroadcastFanoutKeys(e);if(!i||!u||i.length!==u.length)return void T.default.log(`cannot fanout revoke: ${String(i)} ${String(u)}`)(i,u);(0,r.default)(i,u).forEach(function(e){var t=n.get(e[0]);t&&t.revoke(e[1])})}})}},{key:"getWamMessageType",value:function(){return this.isStatusV3?k.default.MESSAGE_TYPE.STATUS:this.isGroupMsg?k.default.MESSAGE_TYPE.GROUP:W.default.isBroadcast(this.id.remote)?k.default.MESSAGE_TYPE.BROADCAST:k.default.MESSAGE_TYPE.INDIVIDUAL}},{key:"getWamMediaType",value:function(){switch(this.type){case p.MSG_TYPE.IMAGE:return k.default.MEDIA_TYPE.PHOTO;case p.MSG_TYPE.VIDEO:return this.mediaData.isGif?k.default.MEDIA_TYPE.GIF:k.default.MEDIA_TYPE.VIDEO;case p.MSG_TYPE.AUDIO:return k.default.MEDIA_TYPE.AUDIO;case p.MSG_TYPE.PTT:return k.default.MEDIA_TYPE.PTT;case p.MSG_TYPE.DOCUMENT:return k.default.MEDIA_TYPE.DOCUMENT;case p.MSG_TYPE.UNKNOWN:return k.default.MEDIA_TYPE.FUTURE;case p.MSG_TYPE.LOCATION:return this.isLive?k.default.MEDIA_TYPE.LIVE_LOCATION:k.default.MEDIA_TYPE.LOCATION;case p.MSG_TYPE.VCARD:return k.default.MEDIA_TYPE.CONTACT;case p.MSG_TYPE.MULTI_VCARD:return k.default.MEDIA_TYPE.CONTACT_ARRAY;case p.MSG_TYPE.CHAT:return this.linkPreview?k.default.MEDIA_TYPE.URL:k.default.MEDIA_TYPE.NONE;case p.MSG_TYPE.STICKER:return k.default.MEDIA_TYPE.STICKER;case p.MSG_TYPE.PRODUCT:return k.default.MEDIA_TYPE.PRODUCT_IMAGE;default:return k.default.MEDIA_TYPE.NONE}}},{key:"sendRevoke",value:function(e){var t=this;if(!S.default.supportsFeature(S.default.F.REVOKE))return Promise.reject("revoke feature unsupported");if(!this.id.fromMe)return Promise.reject("revoking received message");var n=new I.default({id:(0,x.default)(),remote:this.id.remote,fromMe:!0}),r={id:n,to:this.id.remote,t:this.t,type:p.MSG_TYPE.PROTOCOL,subtype:"revoke",protocolMessageKey:this.id,clearMedia:!!e,local:!0};return(0,U.sendMsgRecord)(Z(r)).then(function(e){if("success"===e){var r=Math.trunc(Date.now()/1e3-t.t);return new k.default.SendRevokeMessage({messageType:t.getWamMessageType(),messageMediaType:t.getWamMediaType(),revokeSendDelay:r}).commit(),t.revoke(n).then(function(){return"success"})}return Promise.reject("dropped")})}},{key:"showForwarded",value:function(){var e=G.default.fwdUiStartTs;return this.numTimesForwarded>0&&e>0&&e<this.t&&!this.isRevoked}},{key:"getForwardingScoreWhenForwarded",value:function(){if(!G.default.frequentlyForwardedMessages)return this.numTimesForwarded;var e=this.numTimesForwarded+(this.id.fromMe?0:1);return e>=G.default.frequentlyForwardedThreshold?y.default.FREQUENTLY_FORWARDED_SENTINEL:e}},{key:"getProductInfoText",value:function(){var e=this.title,t=this.description,n=this.currencyCode,r=this.priceAmount1000;e=`*${e}*`;var a=n&&null!=r?E.default.format(n,r):null;e=e.length>y.default.MAX_REPLY_PRODUCT_TITLE_LENGTH?`${(0,$.firstNCodepoints)(e,y.default.MAX_REPLY_PRODUCT_TITLE_LENGTH)}...`:e,t=t&&t.length>y.default.MAX_REPLY_PRODUCT_DESC_LENGTH?`${(0,$.firstNCodepoints)(t,y.default.MAX_REPLY_PRODUCT_DESC_LENGTH)}...`:t;var o=void 0;return a?o=a:t&&(o=t),o?`${e}\n${o}`:e}},{key:"_logStorageEstimate",value:function(e){return(0,O.default)().then(function(t){t&&(e.webcBrowserStorageQuotaBytes=t.quota,e.webcBrowserStorageQuotaUsedBytes=t.usage)})}}]),t}();Q.Collection="Msg",Q.Proxy="msg",Q.idClass=I.default;var J=(0,h.defineModel)(Q);function Z(e){return new J(e)}t.default=J},cbcbeheajj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("baigjihfeh"),u=(r=i)&&r.__esModule?r:{default:r};var s=t.defaults={factor:2,jitter:0,maxTimeout:1/0},l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=null==e.factor?s.factor:e.factor,r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r._opts=a({},s,e),r._retryCount=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),o(t,[{key:"_next",value:function(){var e=this._opts,n=e.jitter,r=e.maxTimeout,a=e.minTimeout,o=e.retries,i=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_next",this).call(this);if(i.done)return i;if(this._retryCount++,this._retryCount>o)return this.return();var u=a*i.value;return u*=Math.random()*n*2-n+1,{done:!1,value:u=Math.min(u,r)}}}]),t}();t.default=l},cbcegahcfg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("bfeeicacah")),a=s(n("cjcaaifajd")),o=s(n("cgjbjefebj")),i=s(n("hajciceai")),u=s(n("dbafiicfja"));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t={};return e.forEach(function(e){var n=e.split(""),o=(0,a.default)(n).join(""),i=(0,r.default)(n);(t[o]||(t[o]={}))[i]=1}),(0,i.default)(t).forEach(function(e){t[e]=function(e){if(1===e.length)return(0,o.default)(e[0]);for(var t=e.sort(),n=[],r=0,a=t[r],i=t.length,u=0;u<=i;u++){var s=t[u];if(!s||s.charCodeAt(0)!==a.charCodeAt(0)+(u-r)){var l=t[u-1];l===a?n.push(l):n.push(a+"-"+l),r=u,a=s}}return"["+(0,o.default)(n.join(""))+"]"}((0,i.default)(t[e]))}),n=t,(0,u.default)((0,i.default)(n).sort(function(e,t){return t.length-e.length}),function(e){return(0,o.default)(e)+n[e]}).join("|");var n}},cbcfgjhjhj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n("bijffg")),o=f(n("eceadcicaf")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=n("ejbdjaifi"),s=f(n("bcajjbibcd")),l=f(n("gfgihaeab")),c=f(n("bdfheihabb"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.refLastLabel=null,e.updateData=function(t,n,r){var o=e.props.shouldScrollIntoViewAndSelect;e.setState({labels:a.default.toArray()},function(){if(r.add&&o){var n=o(t.name),a=n.shouldScrollIntoView,i=n.shouldSelect;a&&e.refLastLabel&&e.refLastLabel.scrollIntoView({behavior:"smooth"}),i&&e.onMultiSelect(t,!0,!1)}})},e.setRefLastLabel=function(t){e.refLastLabel=t},e.onMultiSelect=function(t,n,r){var a=e.props,o=a.selectedLabels,i=a.onMultiSelect;o&&o.setVal(t,n,r),i&&i(t.id)},e.renderLabelRow=function(){var t=e.props,n=t.renderContex,r=t.onLabelClick,o=t.initialLabelState,u=void 0===o?{}:o,f=e.props.SelectableState||new l.default(!0);return e.state.labels.reduce(function(t,o,l){var d=a.default.assertGet(o.id);return o.name?[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t),[i.createElement("div",{key:`label_item_${o.id}`,ref:l===e.state.labels.length-1?e.setRefLastLabel:function(){},onClick:r?r.bind(null,o.id):function(){}},i.createElement(s.default,{theme:n,model:d,initalSelection:u[o.id]||0,multiSelection:e.props.selectedLabels,selectableState:f,onSelect:e.onMultiSelect},i.createElement(c.default,{label:o.id})))]):t},[])},e.state={labels:a.default.toArray()},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(a.default,"add remove",this.updateData)}},{key:"render",value:function(){return i.createElement("div",null,this.renderLabelRow())}}]),t}();d.displayName="MultiSelectLabelList",t.default=(0,o.default)((0,u.hoc)(d))},cbcgbajadc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=S(n("beebhcdhhh")),i=S(n("bgfcjjddjf")),u=S(n("cfaiaibca")),s=S(n("gbfffciea")),l=S(n("biddiiafgd")),c=S(n("ccaaiecfib")),f=S(n("dfjgdebjfa")),d=S(n("eceadcicaf")),p=S(n("bfejacaeaj")),h=S(n("dadhidfcfe")),m=S(n("ccgdgjcjjh")),b=S(n("ihfccfgdf")),g=S(n("dhhcgceeai")),v=S(n("dcjdgceiej")),y=n("dfdebdgdei"),_=n("ejbdjaifi"),E=n("dcbafbaejf"),j=n("bheafeifce"),O=n("eadfaddcj");function S(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=Array(i),d=0;d<i;d++)c[d]=arguments[d];return n=r=w(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.confirmReportGroupSpam=function(){s.default.openModal(a.createElement(h.default,{isGroupChat:!0,onReport:r.reportSpam,onReportExitClear:r.reportSpamExitClear,onCancel:function(){return s.default.closeModal()}}))},r.exitChat=function(){s.default.deleteOrExitChat(r.props.chat)},r.confirmReportSpam=function(){s.default.openModal(a.createElement(h.default,{isBusiness:r.props.contact.isBusiness,isGroupChat:!1,onReport:r.reportSpam,onReportBlockClear:r.reportSpamBlockClear,onCancel:function(){return s.default.closeModal()}}))},r.reportSpam=function(){(0,E.sendSpamReport)(r.props.chat),s.default.closeModal()},r.reportSpamExitClear=function(){(0,E.sendSpamExitClear)(r.props.chat),s.default.closeModal()},r.reportSpamBlockClear=function(){(0,E.sendSpamBlockClear)(r.props.chat),s.default.closeModal()},r.notSpam=function(){(0,E.sendNotSpam)(r.props.chat,!0).catch(function(){})},r.confirmBlock=function(){s.default.openModal(a.createElement(o.default,{contact:r.props.contact,onCancel:function(){return s.default.closeModal()},onBlock:r.block,onReportSpamBlock:r.reportSpamBlock}))},r.block=function(){(0,y.blockContact)(r.props.contact).catch(function(){}),s.default.closeModal()},r.reportSpamBlock=function(){(0,E.sendSpamReport)(r.props.chat),(0,y.blockContact)(r.props.contact).catch(function(){}),s.default.closeModal()},r.confirmUnblock=function(){s.default.openModal(a.createElement(l.default,{okText:l10n.t(1026),onOK:r.unblock,cancelText:l10n.t(1091),onCancel:function(){return s.default.closeModal()}},l10n.t(1027,{contact:r.props.contact.formattedName})))},r.unblock=function(){(0,y.unblockContact)(r.props.contact).catch(function(){}),s.default.closeModal()},r.getNotSpamButton=function(){return a.createElement("div",{key:"not_spam",className:g.default.button},a.createElement(u.default,{onClick:r.notSpam,type:"plain-white"},l10n.t(1225)))},r.onViewInfo=function(){s.default.openDrawerRight(a.createElement(f.default,{chat:(0,j.unproxy)(r.props.chat),key:`info-${r.props.chat.id.toString()}`}),"slide-left",r.context.uim)},w(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(i.default,"add remove reset")}},{key:"render",value:function(){var e=this.props,t=e.chat,n=e.contact;if(t.isPSA||!t.isVisible||t.trusted)return null;var r=i.default.get(t.id),o=void 0,s=[];if(t.isGroup)o=l10n.t(471),s.push(a.createElement("div",{key:"report_spam",className:g.default.button},a.createElement(u.default,{type:"plain-white",onClick:this.confirmReportGroupSpam},l10n.t(887)))),s.push(a.createElement("div",{key:"exit_group",className:g.default.button},a.createElement(u.default,{type:"plain-white",onClick:this.exitChat},l10n.t(1132)))),s.push(this.getNotSpamButton());else{if(o=a.createElement("div",{className:g.default.text},l10n.t(977)),n.isBusiness)if(c.default.supportsFeature(c.default.F.VNAME_V_2)){var l=n.verifiedLevel===O.VERIFIED_LEVEL.HIGH?l10n.t(824):l10n.t(641);o=a.createElement("div",{className:g.default.text},l)}else n.verifiedLevel>O.VERIFIED_LEVEL.UNKNOWN&&n.businessProfile&&(o=a.createElement(m.default,{contact:n,businessProfile:n.businessProfile,onClick:this.onViewInfo}));s.push(a.createElement("div",{key:"report_spam",className:g.default.button},a.createElement(u.default,{type:"plain-white",onClick:this.confirmReportSpam},l10n.t(887)))),r?s.push(a.createElement("div",{key:"unblock",className:g.default.button},a.createElement(u.default,{onClick:this.confirmUnblock,type:"plain-white"},l10n.t(1026)))):s.push(a.createElement("div",{key:"block",className:g.default.button},a.createElement(u.default,{onClick:this.confirmBlock,type:"plain-white"},l10n.t(211)))),s.push(this.getNotSpamButton())}return a.createElement("div",{className:g.default.spam},o,a.createElement("div",{className:g.default.controls},s))}}]),t}();P.CONCERNS={chat:["id","isPSA","isVisible","trusted","isGroup","vcardDismissed"],contact:["id","isBusiness","verifiedLevel","formattedName","businessProfile"]},P.contextTypes={uim:p.default.instanceOf(v.default)},P.displayName="Spam",t.default=(0,d.default)((0,b.default)((0,_.hoc)(P),P.CONCERNS))},cbcjhabjci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getStatus=function(e){var t=void 0;t=a.default.supportsFeature(a.default.F.MD_BACKEND)?Promise.reject(new Error("getAbout: invalid when build with MD_BACKEND")):o.default.statusFind(e).then(function(t){return{id:e,status:null!=t.status?t.status:""}}).catch(r.WapDrop,function(){return{id:e,stale:!0,status:""}});return t},t.setMyStatus=function(e){var t=void 0;t=a.default.supportsFeature(a.default.F.MD_BACKEND)?Promise.reject(new Error("setStatus: invalid when build with MD_BACKEND")):o.default.sendSetStatus(e);return t};var r=n("ddjgcfjicj"),a=i(n("ccaaiecfib")),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}},cbdagjiddg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("dgibicjjj")),i=d(n("dhhfaeacef")),u=d(n("bjebjijbfc")),s=d(n("ihfccfgdf")),l=n("ejbdjaifi"),c=d(n("fifhbjiec")),f=d(n("dgdegachj"));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=e.msgInfoParticipant,r=a.createElement(i.default,{id:t.id}),s=u.default.relativeDateAndTimeStr(n.t),l=a.createElement("span",{title:s},s),d=void 0;return!t.name&&t.notifyName&&(d=a.createElement("span",{className:f.default.secondaryDetailContainer},a.createElement(c.default,{direction:"auto",text:t.notifyName}))),a.createElement(o.default,{contextEnabled:function(){return!1},image:r,primary:t.formattedName,secondary:l,secondaryDetail:d,style:{cursor:"auto"},theme:"drawer-list",idle:!0})}}]),t}();p.CONCERNS={msgInfoParticipant:["t"],contact:["id","name","formattedName","notifyName"]},p.displayName="GroupMsgInfoCell",t.default=(0,s.default)((0,l.hoc)(p),p.CONCERNS)},cbdbcgchaj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("bgddggdhc"),i=p(n("bcifhbgija")),u=p(n("effbcehec")),s=n("ejbdjaifi"),l=p(n("eadfaddcj")),c=p(n("bcjcbbafcj")),f=p(n("bfdcadbbif")),d=p(n("cehfihhdba"));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){var e=(0,o.forbiddenAssertDOMNode)(this.img),t=(0,o.forbiddenAssertDOMNode)(this.txt);this.props.animate?((0,i.default)(e,{scale:[1,0],opacity:[1,0]},{delay:1340,duration:180,easing:[.05,1.02,0,1.01]}),(0,i.default)(t,{translateY:[0,80],opacity:[1,0]},{delay:1300,duration:140,easing:[.05,1.02,0,1.01]})):(e.style.opacity=1,t.style.opacity=1)}},{key:"render",value:function(){return a.createElement("div",{className:d.default.intro},a.createElement("div",{className:d.default.body},a.createElement("div",{ref:(0,s.GetRef)("img",this),"data-asset-intro-image":!0,className:d.default.image}),a.createElement("div",{ref:(0,s.GetRef)("txt",this),className:d.default.textContainer},a.createElement("h1",{"data-a8n":u.default.key("intro-title"),className:d.default.title},l10n.t(577)),a.createElement("div",{"data-a8n":u.default.key("intro-text"),className:d.default.text},l10n.t(573)),a.createElement(m,null),a.createElement(g,null))))}}]),t}();h.displayName="IntroPanel";var m=function(){var e=void 0;switch(c.default.os){case l.default.OS_TYPE.MAC:e=l10n.t(575);break;case l.default.OS_TYPE.WINDOWS:e=l10n.t(576)}if(e){var t=`<a href="https://www.whatsapp.com/download" target="_blank">${l10n.t(574)}</a>`;return e=e.replace("__get_it_here__",t),a.createElement(b,null,a.createElement("span",{className:d.default.secondaryIcon},a.createElement(f.default,{name:"laptop"})),a.createElement("div",{dangerouslySetInnerHTML:{__html:e},className:d.default.secondaryTextBody}))}return null},b=function(e){var t=e.children;return a.createElement("div",{className:d.default.secondary},a.createElement("div",{className:d.default.divider}),a.createElement("div",{className:d.default.secondaryText},t))};b.displayName="IntroSecondary";var g=function(){return null};t.default=h},cbddhcffbc:function(e,t){e.exports={muted:"zM7w1",pipBtn:"_9RNXq",player:"_1Otoj",preview:"_2h7rw"}},cbdehahifi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=O(n("chihjdheic")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=O(n("gbfffciea")),u=O(n("eadfaddcj")),s=O(n("ceffhbhahb")),l=O(n("haidjjcae")),c=O(n("faeabjacf")),f=O(n("eceadcicaf")),d=n("ejbdjaifi"),p=O(n("bdiiahhjbe")),h=O(n("biecbbiiee")),m=n("bgddggdhc"),b=O(n("dcfghhhajg")),g=O(n("caceaafdic")),v=O(n("bfdhjgffdh")),y=n("ddbddjjgia"),_=O(n("ceaabfjiba")),E=O(n("cdbddjfbcd")),j=O(n("bbhahjgijh"));function O(e){return e&&e.__esModule?e:{default:e}}function S(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=w(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.renderedMsgs={},r.renderedDateMarkers={},r.renderedAlbums={},r.renderedMsgToAlbum={},r.handleRefreshMessages=function(){r.forceUpdate()},r.onMsgKeyChange=function(e){var t=e.newKey,n=e.oldKey,a=t.toString(),o=n.toString(),i=r.renderedMsgs[o];i&&(delete r.renderedMsgs[o],r.renderedMsgs[a]=i)},r.onMsgRendered=function(e,t){e?r.renderedMsgs[t]=e:delete r.renderedMsgs[t]},r.rowRenderers={msg:function(e){function t(t,n,r,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,n,a){var i=r.props,s=void 0;s=a&&!n?y.MsgPosition.FRONT:a&&n?y.MsgPosition.MID:!a&&n?y.MsgPosition.END:y.MsgPosition.SINGLE;var l=e.type===u.default.MSG_TYPE.IMAGE||e.type===u.default.MSG_TYPE.VIDEO||e.type===u.default.MSG_TYPE.AUDIO||e.hsmEnabled&&e.type===u.default.MSG_TYPE.TEMPLATE&&(e.subtype===u.default.TEMPLATE_SUBTYPE.IMAGE||e.subtype===u.default.TEMPLATE_SUBTYPE.VIDEO);return o.createElement(g.default,{key:"msg-"+e.id.toString(),ref:function(t){var n={};(0,d.GetRef)("wrapper",n)(t),r.onMsgRendered(n.wrapper,e.id.toString())},msg:e,displayType:u.default.DISP_TYPE.CONVERSATION,isMsgVisible:l?i.isMsgVisible:function(){},selectable:i.selectable,selectedMessages:i.selectedMessages,onMessageSelect:i.onMessageSelect,position:s,isFocusedMsg:t,getSequentialMsg:r.props.getSequentialMsg})}),album:function(e,t,n,a,i){var u=r.props,s=void 0;return s=a&&!n?y.MsgPosition.FRONT:a&&n?y.MsgPosition.MID:!a&&n?y.MsgPosition.END:y.MsgPosition.SINGLE,o.createElement(v.default,{msgs:e,ref:function(n){r.onAlbumRendered(n,t,e)},key:"album-"+t,position:s,isMsgVisible:u.isMsgVisible,selectable:u.selectable,selectedMessages:u.selectedMessages,onMessageSelect:u.onMessageSelect,albumId:t,isFocusedAlbum:i})},date:function(e,t){return o.createElement(l.default,{ref:function(e){r.onDateMarkerRendered(t,e)},key:"msg-"+e.id.toString()+"-date",timestamp:e.t})},unread:function(){return o.createElement(b.default,{key:"msg-unread",count:r.props.unreadCount})}},w(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"shouldComponentUpdate",value:function(e){var t=e.msgs,n=S(e,["msgs"]),r=this.props,a=r.msgs,o=S(r,["msgs"]);return!(0,E.default)(n,o)||!(0,j.default)(t,a)}},{key:"UNSAFE_componentWillUpdate",value:function(e){var t=this,n=(0,m.forbiddenAssertDOMNode)(this).parentNode,a=(0,r.default)(e.msgs,function(e){return t.renderedMsgs.hasOwnProperty(e.id)});if(null!=a){var o=a.id.toString(),i=(0,m.forbiddenAssertDOMNode)(this.getMsgWrapperRef(o));this._beforeRenderScrollInfo={commonMessageId:o,commonMessageTop:i.offsetTop-n.scrollTop}}else this._beforeRenderScrollInfo=null}},{key:"componentDidMount",value:function(){this.maybeNotifyChatRendered(),this.props.listeners.add(h.default,"change:msgKey",this.onMsgKeyChange),this.props.listeners.add(i.default,"refresh_messages",this.handleRefreshMessages)}},{key:"componentDidUpdate",value:function(e){var t=(0,m.forbiddenAssertDOMNode)(this).parentNode,n=this._beforeRenderScrollInfo;if(null!=n){var r=n.commonMessageId,a=n.commonMessageTop,o=(0,m.forbiddenAssertDOMNode)(this.getMsgWrapperRef(r));t.scrollTop=o.offsetTop-a}this.maybeNotifyChatRendered()}},{key:"_messagesIncludeFocusedMessage",value:function(e){var t=e.msgs,n=e.focusedMsgCtx;return!n||t.some(function(e){return e===n.msg||e.id.equals(n.key)})}},{key:"maybeNotifyChatRendered",value:function(){this.props.notifyChatRendered&&this._messagesIncludeFocusedMessage(this.props)&&this.props.notifyChatRendered()}},{key:"getMsgVisibility",value:function(e){var t=(0,m.forbiddenAssertDOMNode)(this).parentNode,n=t.scrollTop,r=n+t.clientHeight,a=(0,m.forbiddenFindDOMNode)(e);return a?a.offsetTop+a.clientHeight<=n?{visibility:u.default.VISIBILITY.ABOVE,offset:a.offsetTop-n}:a.offsetTop>=r?{visibility:u.default.VISIBILITY.BELOW,offset:a.offsetTop-n}:{visibility:u.default.VISIBILITY.VISIBLE,offset:a.offsetTop-n}:(p.default.error(`getMsgVisibility on invalid ref: ${e}`)(),{visibility:u.default.VISIBILITY.VISIBLE,offset:0})}},{key:"getMsgWrapperRef",value:function(e){return this.renderedMsgs[e]||this.renderedMsgToAlbum[e]}},{key:"getMsgComponentRef",value:function(e){return this.renderedMsgs[e]?this.renderedMsgs[e].refMsgComponent&&this.renderedMsgs[e].refMsgComponent.getRef():this.renderedMsgToAlbum[e]?this.renderedMsgToAlbum[e].refAlbumComponents[e]&&this.renderedMsgToAlbum[e].refAlbumComponents[e].getRef():void 0}},{key:"getDateMarkerRef",value:function(e){return this.renderedDateMarkers[e]}},{key:"onDateMarkerRendered",value:function(e,t){t?this.renderedDateMarkers[e]=t:delete this.renderedDateMarkers[e]}},{key:"onAlbumRendered",value:function(e,t,n){var r=this;e?(this.renderedAlbums[t]=e,n.forEach(function(t){r.renderedMsgToAlbum[t.id.toString()]=e})):delete this.renderedAlbums[t]}},{key:"render",value:function(){var e=this.props,t=e.msgs,n=e.focusedMsgCtx,r=e.unreadCount,a=void 0,i=void 0;n&&(a=n.msg,n.isUnreadDivider&&r>0&&(i=n.msg));var u=(0,s.default)(_.default.messageList,{[_.default.messageListSelectable]:this.props.selectable}),l=this._messagesIncludeFocusedMessage(this.props)?(0,c.default)(this.rowRenderers,t,a,i,r):null;return o.createElement("div",{className:u},l)}}]),t}();P.displayName="MessageList",t.default=(0,f.default)((0,d.hoc)(P))},cbeabehaca:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("jdjcgjgea")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n("bdiiahhjbe")),i=s(n("cahfddcdga")),u=s(n("jccfhaecf"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._map={},this.length=0}return a(e,[{key:"put",value:function(t){var n=e.getSidelistHash(t);if(n&&!this._map[n]){if(this._map[n]){var r=this._map[n];r instanceof u.default?this._map[n]=[r,t.id]:r instanceof Array&&r.push(t.id)}else this._map[n]=t.id;this.length++}}},{key:"remove",value:function(t){var n=e.getSidelistHash(t);if(n&&this._map[n]){var a=(0,i.default)(this._map[n]);a instanceof u.default?delete this._map[n]:a instanceof Array&&(0,r.default)(a,function(e){return e.equals(t.id)}),this.length++}}},{key:"get",value:function(e){var t=this._map[e];return t instanceof u.default?[t]:t}},{key:"clear",value:function(){this._map={},this.length=0}}],[{key:"getSidelistHash",value:function(e){return e.isUser?"string"==typeof e.userhash&&e.userhash.slice?e.userhash.slice(0,4):(o.default.error("Store:Contact can't call slice on contact.userhash")(e.userhash),null):null}}]),e}();t.default=l},cbebifcdhb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new Promise(function(n,r){var a=0,i=void 0,u=!1;if(t){var s=function e(){t.removeEventListener("abort",e),u=!0,null!=i&&clearTimeout(i),r(new o.default)};if(t.aborted)return void s();t.addEventListener("abort",s)}!function t(){var o=!1;var s=!1;i=null;try{var l=e({retry:function(e){if(!u&&!s){if(o=!0,a++,null==e)return t();i=setTimeout(t,e)}},failCount:a});if(!(l instanceof Promise))throw new TypeError("task must return a promise");l.then(function(e){u||o||(s=!0,n(e))}).catch(function(e){u||o||(s=!0,r(e))})}catch(e){if(u||o)return;r(e)}}()})};var r,a=n("cgijjjgici"),o=(r=a)&&r.__esModule?r:{default:r}},cbebjghfgg:function(e,t,n){"use strict";var r=v(n("cehcfaibji")),a=v(n("diaggdeic")),o=v(n("bjigbaghc")),i=v(n("bjddijedhj")),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),s=v(n("ccaaiecfib")),l=v(n("bdiiahhjbe")),c=v(n("eaaehfdjdg")),f=v(n("bhggeigghg")),d=v(n("jccfhaecf")),p=v(n("bdgbijheih")),h=v(n("beafbeighe")),m=v(n("dgicehhija")),b=v(n("cjgfiijjee")),g=n("ddjgcfjicj");function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var _=n("hgjcbccfg"),E={epochCount:0,epoch:0,epochSend:function(e){return 0===this.epochCount&&this.epoch++,e||this.epochCount++,l.default.log("wap:epochCount: "+this.epochCount+" epoch: "+this.epoch)(),this.epoch.toString()},epochRecv:function(){this.epochCount>0?this.epochCount--:l.default.error("wap:epochRecv: NEGATIVE")(),l.default.log("wap:epochCount: "+this.epochCount+" epoch: "+this.epoch)()},setSubProtocol:function(e){if(-1===e)this.BinaryProtocol=new p.default,this.N=this.BinaryProtocol.Node;else{if(null==e||0===e)throw l.default.error(`Wap:setSubProtocol unknown ${String(e)}`)(),new u.UpdateImmediately(`${this.version}_unknown_version`);this.BinaryProtocol=new a.default(e),this.N=this.BinaryProtocol.Node}},clearBPQueue:function(){var e=this;return new Promise(function(t,n){e.BinaryProtocol.dropAllBecauseLogout(),t()})},upgradeProtoVersion(e){if(e.BinaryProtocol instanceof p.default)for(var t=e.BinaryProtocol.getWriteQueue();t.length;){var n=t.shift(),r=n.n,a=n.resolve,o=n.reject;this.BinaryProtocol.write(r).then(a).catch(o)}},delete:function(){this.epochCount=0,this.epoch=0},error2412:function(){this.epochRecv()},dropIfConditionMet:function(e,t){return e.reduce(function(e,t){return e||t},!1)?void 0:t},pruneUndefinedProps:function(e){for(var t in e){void 0===e[t]&&delete e[t]}},callFeatureFlagFun:function(e,t){if(s.default.supportsFeature(e)){for(var n=[],r=2;r<arguments.length;r++)n.push(arguments[r]);return this[t].apply(this,n)}},safeParseInt:function(e,t){var n=parseInt(this.N.attr(t,e),10);return Number.isNaN(n)?void 0:n},wrap:function(e){var t=this;return function(n){if(n&&"object"==typeof n&&"number"==typeof n.status&&n.status>=500)return n;t.epochRecv(),e(n)}},wrap02:function(e){return function(t){if(t&&"object"==typeof t&&"number"==typeof t.status&&t.status>=500)return t;e(t)}},binWrap:function(e,t){var n=this;return function(r){if(r&&"object"==typeof r&&"number"==typeof r.status){if(401===r.status)throw n.epochRecv(),new g.E401;if(r.status>=500)return r;n.epochRecv(),t(r)}else n.epochRecv(),e(r)}},binSend:function(e,t,n,r,a){var o=this,i=r.epochIneligible?n:function(e){o.epochRecv(),n(e)};return delete r.epochIneligible,this.BinaryProtocol.write(t).then(function(n){a.debugObj||(a.debugObj=t),a.metric=o.M[a.metricName],r.data=n,r.binaryOpts=a,c.default[e](r)}).catch(i)},msgGetTarget:function(e){return d.default.equals(e.from,o.default.me)?e.to:e.from},thumbFromMediaXml:function(e){return"raw"===this.N.attr("encoding",e)?this.N.children(e)instanceof ArrayBuffer?_.encode(this.N.children(e)):"":this.N.dataStr(e)},actionNode:function(e,t,n){return["action",{type:e,epoch:this.epochSend(n)},t]},queryNode:function(e,t){var n=e;return n||(n={}),n.epoch=this.epochSend(),["query",n,t]},responseNode:function(e,t){var n=e;return n||(n={}),n.epoch=this.epochSend(),["response",n,t]},errorNode:function(e){return["error",{code:e.toString(),epoch:this.epochSend()},void 0]},actionGetMeta:function(e){var t={};if("action"!==this.N.tag(e))return t;var n=this.N.attr("add",e),r=this.N.attr("missing",e),a=this.N.attr("checksum",e);switch(n){case"unread":t.unreadId=this.N.attr("index",e),t.unreadFromMe="true"===this.N.attr("owner",e),t.unreadParticipant=this.N.attr("participant",e);case"after":case"before":case"last":t.pendingMsgsDone="true"===this.N.attr("last",e),t.resume="true"===this.N.attr("resume",e);case"relay":case"update":t.add=n}switch(r){case"remove":t.missing=r}return a&&(t.checksum=a),t},groupActionsByType:function(e){var t={};if(!Array.isArray(e))return t;var n=void 0,r=void 0,a=e.length;for(r=0;r<a;r++)switch(n=e[r],this.N.tag(n)){case"broadcast":switch(this.N.attr("type",n)){case"create":case"add":case"remove":t.msg||(t.msg=[]),t.msg.push(n);break;case"modify":t.bcUpdate||(t.bcUpdate=[]),t.bcUpdate.push(n)}break;case"message":case"groups_v2":case"notification":case"call_log":case"security":t.msg||(t.msg=[]),t.msg.push(n);break;case"read":case"log":case"identity":t.cmd||(t.cmd=[]),t.cmd.push(n);break;case"received":t.ack||(t.ack=[]),t.ack.push(n);break;case"user":t.contact||(t.contact=[]),t.contact.push(n);break;case"contacts":t.contacts||(t.contacts=[]),t.contacts.push(n);break;case"chat":switch(this.N.attr("type",n)){case"mute":t.mute||(t.mute=[]),t.mute.push(n);break;default:t.chat||(t.chat=[]),t.chat.push(n)}break;case"battery":t.battery||(t.battery=[]),t.battery.push(n);break;case"location":t.location||(t.location=[]),t.location.push(n);break;case"label":t.label||(t.label=[]),t.label.push(n);break;case"group":t.group||(t.group=[]),t.group.push(n);break;case"quick_reply":t.quickReply||(t.quickReply=[]),t.quickReply.push(n);break;case"call":t.call||(t.call=[]),t.call.push(n);break;case"stickerPack":case"sticker_pack":t.stickerPack||(t.stickerPack=[]),t.stickerPack.push(n);break;case"recent_stickers":t.recentStickers||(t.recentStickers=[]),t.recentStickers.push(n);break;case"status":t.status||(t.status=[]),t.status.push(n);break;default:l.default.errorVerbose("Wap:groupActionsByType unknown action: "+this.N.toString(n),n)()}return t},handleResponse:function(e,t,n,r){if(0===e.indexOf("preempt"))switch(this.N.attr("type",t)){case"chat":l.default.logColor("green","bin-recv: "+e+",response,chat",t)();var a=this.N.children(t)||[];if(Array.isArray(a)){for(var o=a.length,u=[],s=0;s<o;s++){var c=this.parseChat(a[s]);c&&u.push(c)}(0,h.default)([{cmd:"preempt",response:u,binarySize:n}])}break;case"contacts":l.default.logColor("green","bin-recv: "+e+",response,contact",t)();var f=this.N.children(t);if(Array.isArray(f)){for(var d=f.length,p=[],m=0;m<d;m++){var b=this.parseContact(f[m]);b&&p.push(b)}(0,i.default)([{cmd:"preempt",checksum:this.N.attr("checksum",t),response:p,binarySize:n}])}break;default:l.default.error("Wap:handle unknown response type: "+this.N.toString(t,!0),t)()}else l.default.error("Wap:handle non-preemptive response: "+this.N.toString(t,!0),t)()},handleActionMsg:function(e,t,n,r,a){var o=r.length;switch(n.add){case"relay":case"update":var i=this.parseMsg(r[0],"relay");if(1!==o&&l.default.error("Wap:handle action msg relay length not 1",a)(),i){l.default.logColor("green","bin-recv: "+[e,"action","msg",n.add,i.type,i.from,i.to,i.id,i.author].join(","),a,i)();var u=this.msgGetTarget(i);(0,m.default)([{meta:n,chat:u,msg:i}])}else l.default.error("Wap:handle action msg relay dropped",r[0])();break;case"last":for(var s=[],c=0;c<o;c++){var f=this.parseMsg(r[c],"last");f?s.push(f):l.default.error("Wap:handle action msg last dropped",r[c])()}if(s.length>0){l.default.logColor("green","bin-recv: "+[e,"action","msg","last",r.length].join(","),a,[s])();for(var d={recent:!0,meta:n,binarySize:t},p=0;p<s.length;p++)d[this.msgGetTarget(s[p])]=s[p];(0,m.default)([d])}else l.default.error("Wap:handle action msg last dropped to 0")();break;case"before":case"after":case"unread":if(o>0){for(var h=[],b=0;b<o;b++){var g=this.parseMsg(r[b],n.add);g?h.push(g):l.default.error("Wap:handle action msg before/after dropped",r[b])()}if(h.length>0){var v=this.msgGetTarget(h[0]);l.default.logColor("green","bin-recv: "+[e,"action","msg",n.add,v,h.length].join(","),a,[h])(),(0,m.default)([{meta:n,chat:v,msgs:h,binarySize:t}])}else l.default.error(`Wap:handle action msg ${n.add} dropped to 0`)()}else l.default.error("Wap:handle action msg before/after 0 msgs")();break;default:l.default.error("Wap:handle action msg no meta.add",a)()}},handleAction:function(e,t,n,a){var o=this.actionGetMeta(t),u=this.groupActionsByType(this.N.children(t)),c=Object.keys(u);if(Array.isArray(c)){var d=c.length;if(0!==d||"last"!==o.add)for(var p=0;p<d;p++){var g=c[p],v=u[g],_=v.length;switch(g){case"msg":this.handleActionMsg(e,n,o,v,t);break;case"cmd":for(var E=0;E<_;E++){var j=this.parseCmd(v[E]);if(j){var O=(0,r.default)(j).join(",");l.default.logColor("green","bin-recv: "+[e,"action","cmd",O].join(","),t)(),f.default.Cmd.handle([j])}else l.default.error("Wap:handle action cmd invalid",t)()}break;case"bcUpdate":for(var S=[],w=0;w<_;w++){var P=this.parseBCUpdate(v[w]);P?S.push(P):l.default.error("Wap:handle action bc update invalid",v[w])()}l.default.logColor("green","bin-recv: "+[e,"action","bcUpdate",S.length].join(","),t)(),S.length>0&&f.default.GroupMetadata.handle(S);break;case"ack":for(var M=0;M<_;M++){var C=this.parseAck(v[M]);C?(l.default.logColor("green","bin-recv: "+[e,"action","ack",C.to,C.id,C.ack].join(","),t)(),(0,m.default)([C])):l.default.error("Wap:handle action ack invalid",t)()}break;case"contact":for(var T=[],A=0;A<_;A++){var N=this.parseContact(v[A]);N?T.push(N):l.default.error("Wap:handle action contact dropped",v[A])()}if(l.default.logColor("green","bin-recv: "+[e,"action","contact",T.length,o.missing].join(","),t)(),T.length>0){var k=[T];(o.missing||o.checksum)&&k.push(o),(0,i.default)(k)}break;case"contacts":var I=this.parseContacts(v[0]);l.default.logColor("green","bin-recv: "+[e,"action","contacts"].join(","),t)(),I?(0,i.default)([I]):l.default.error("Wap:handle:action:contacts dropped",v[0])();break;case"chat":for(var R=[],L=0;L<_;L++){var D=this.parseChat(v[L]);D?R.push(D):l.default.error("Wap:handle action chat dropped",v[L])()}l.default.logColor("green","bin-recv: "+[e,"action","chat",R.length].join(","),t)(),R.length>0&&(0,h.default)([R]);break;case"battery":var x=this.parseBattery(v[0]);x?(l.default.logColor("green","bin-recv: "+[e,"action","battery",x.battery,x.plugged].join(","),t)(),(0,b.default)([x])):l.default.error("Wap:handle action battery dropped",v[0])();break;case"mute":for(var U=[],G=0;G<_;G++){var F=this.parseChat(v[G]);F?U.push(F):l.default.error("Wap:handle action mute dropped",v[G])()}l.default.logColor("green","bin-recv: "+[e,"action","mute",U.length].join(","),t)(),U.length>0&&f.default.Mute.handle(U);break;case"location":for(var B=[],$=0;$<_;$++){var V=this.parseLocation(v[$]);V?B.push(V):l.default.error("Wap:handle:location dropped",v[$])(),l.default.logColor("green","bin-recv:"+[e,"action,location",B.length].join(),t)(),B.length>0&&f.default.LiveLocation.handle(B)}break;case"label":for(var H=[],W=0;W<_;W++){var Y=this.callFeatureFlagFun(s.default.F.LABELS_DISPLAY,"parseLabel",v[W]);Y?H.push(Y):l.default.error("Wap:handle:label dropped",v[W])(),l.default.logColor("green","bin-recv:"+[e,"action,label",H.length].join(),t)(),H.length>0&&f.default.Label.handle({checksum:o.checksum,labels:H})}break;case"group":for(var K=0;K<_;K++){var q=this.callFeatureFlagFun(s.default.F.GROUPS_V_4_JOIN_PERMISSION,"parseInviteUpdate",v[K]);l.default.logColor("green","bin-recv:"+[e,"action,group_v4_pending_invites",q&&q.length].join(),t)(),void 0!==q&&f.default.GroupMetadata.handlePendingInvite({gid:q.gid,participants:q.participants})}break;case"quickReply":for(var z=[],Q=0;Q<_;Q++){var J=this.callFeatureFlagFun(s.default.F.QUICK_REPLIES_QUERY,"parseQuickReply",v[Q]);J?z.push(J):l.default.error("Wap:handle:quickReply dropped",v[Q])(),l.default.logColor("green","bin-recv:"+[e,"action,quickReply",z.length].join(),t)(),z.length>0&&f.default.QuickReply.handle({checksum:o.checksum,quickReplies:z})}break;case"call":var Z=this.callFeatureFlagFun(s.default.F.VOIP_INDIVIDUAL_INCOMING,"parseCall",v[0]);l.default.logColor("green","bin-recv:"+[e,"action","call"].join(),t)(),Z?f.default.Call.handle([Z]):l.default.error("Wap:handle:action:call dropped",v[0])();break;case"stickerPack":case"sticker_pack":for(var X=[],ee=0;ee<_;ee++){var te=this.callFeatureFlagFun(s.default.F.STICKER_PACK_QUERY,"parseStickerPackUpdate",v[ee]);te?(X.push(te),f.default.StickerPack.sync(o.checksum)):l.default.error("Wap:handle:stickerPack dropped",v[ee])(),l.default.logColor("green","bin-recv:"+[e,"action,stickerPack",X.length].join(),t)()}break;case"recentStickers":for(var ne=0;ne<_;ne++){var re=this.callFeatureFlagFun(s.default.F.RECENT_STICKERS,"parseRecentStickersAction",v[ne]);re?(f.default.RecentSticker.setChecksum(o.checksum),f.default.RecentSticker.remove(re),l.default.logColor("green","bin-recv:"+[e,"action,recentStickers",re].join(),t)()):l.default.error("Wap:handle:recentStickers dropped",v[ne])()}break;case"status":for(var ae=[],oe=0;oe<_;oe++){var ie=this.callFeatureFlagFun(s.default.F.STATUS_RANKING,"parseStatusRankingScores",v[oe]);ie&&ie.length?ae.push.apply(ae,y(ie)):l.default.error("Wap:handle:status dropped",v[oe])(),l.default.logColor("green","bin-recv:"+[e,"action,status",ae.length].join(),t)(),ae.length>0&&f.default.StatusV3.handle([{type:"score",scores:ae}])}break;default:l.default.error("Wap:handle action unknown "+g,t)()}}else(0,m.default)([{recent:!0,meta:o,binarySize:n}])}else l.default.error("Wap:handle:action keys not array: "+typeof c)(c)},handleQuery:function(e,t,n){var r=this,a=this.N.children(t);if(Array.isArray(a))for(var o=function(n){var o=a[n],i=r.N.tag(o);l.default.logColor("green","bin-recv:"+[e,"query",i].join(),t)();var u=void 0;switch(i){case"call":u=r.callFeatureFlagFun(s.default.F.VOIP_INDIVIDUAL_INCOMING,"handleCallQuery",o);break;default:l.default.error("wap:handle:query unknown "+i,t)()}u||(u=Promise.resolve(r.errorNode(501))),u.then(function(t){r.BinaryProtocol.write(t).then(function(n){c.default.send({tag:e,data:n,onSend:r.wrap(function(){}),onDrop:r.wrap(function(){}),retryOn5xx:!0,binaryOpts:{debugString:["response",i].join(),debugObj:t,metricName:"QUERY_RESPONSE",ackRequest:!0}})}).catch(function(e){r.epochRecv()})})},i=0;i<a.length;i++)o(i)},handle:function(e,t,n,a){var o=this;return this.BinaryProtocol.read(e).then(function(e){switch(o.N.tag(e)){case"response":o.handleResponse(n,e,a,t);break;case"action":o.handleAction(n,e,a,t);break;case"query":o.handleQuery(n,e,a);break;case"read":var i=o.parseCmd(e);if(i){var u=(0,r.default)(i).join();l.default.logColor("green","bin-recv:"+[n,"action",u].join(),e)(),f.default.Cmd.handle([i])}else l.default.error("Wap:handle read invalid",e)();break;default:l.default.errorVerbose("TODO "+o.N.toString(e,!0),e)()}return!0}).catch(function(e){throw l.default.info(`BinaryProtocol read error with tag ${n}, size: ${a}`)(),new Error(`BinaryProtocol read error: ${e}`)})}};e.exports=E},cbechdchcj:function(e,t){e.exports={AC:"(?:(4....)|(6[2-467]...))",AD:"(?:((?:3..|5..|6(?:[0-8].|9[1-9]|90...))...)|([78].....|180[02]....))",AE:"(?:(5[024-68].......)|([2-4679][2-8]......|400......|800...?.?.?.?.?.?.?))",AF:"(?:(7........)|((?:[25][0-8]|[34][0-4]|6[0-5])[2-9]......))",AG:"(?:(268[2-9]......)|(268(?:4(?:6[0-38]|84)|56[0-2])....|8(?:00|33|44|55|66|77|88)[2-9]......))",AI:"(?:(264(?:235|476|5(?:3[6-9]|8[1-4])|7(?:29|72))....)|(2644(?:6[12]|9[78])....|8(?:00|33|44|55|66|77|88)[2-9]......))",AL:"(?:(6[6-9].......)|((?:2(?:[168][1-9]|[247].|9[1-7])|3(?:1[1-3]|[2-6].|[79][1-8]|8[1-9])|4..|5(?:1[1-4]|[2-578].|6[1-5]|9[1-7])|8(?:[19][1-5]|[2-6].|[78][1-7])).....|800....))",AM:"(?:((?:4[1349]|55|77|88|9[1-9])......)|((?:1[0-2].|2(?:2[2-46]|3[1-8]|4[2-69]|5[2-7]|6[1-9]|8[1-7])|3[12]2|47.).....|800.....))",AO:"(?:(9[1-49].......)|(2.(?:[26-9].|.[26-9]).....))",AR:"(?:(675.......|9(?:11[2-9].......|(?:2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[12358]|5[138]|6[24]|7[069]|8[013578]))[2-9]......|....[2-9].....))|(11........|(?:2(?:2(?:[013].|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[067].)|4(?:7[3-8]|9.)|6(?:[01346].|2[24-6]|5[15-8])|80.|9(?:[0124789].|3[1-6]|5[234]|6[2-46]))|3(?:3(?:2[79]|6.|8[2578])|4(?:[78].|0[0124-9]|[1-35].|4[24-7]|6[02-9]|9[123678])|5(?:[138].|2[1245]|4[1-9]|6[2-4]|7[1-6])|6[24].|7(?:[0469].|1[1568]|2[013-9]|3[145]|5[14-8]|7[2-57]|8[0-24-9])|8(?:[013578].|2[15-7]|4[13-6]|6[1-357-9]|9[124]))|670.)......|800.......))",AS:"(?:(684[2-9]......)|(6846(?:22|33|44|55|77|88|9[19])....|8(?:00|33|44|55|66|77|88)[2-9]......))",AT:"(?:(6(?:5[0-3579]|6[013-9]|[7-9].).....?.?.?.?.?.?)|(1....?.?.?.?.?.?.?.?.?|(?:2(?:1[467]|2[13-8]|5[2357]|6[1-46-8]|7[1-8]|8[124-7]|9[1458])|3(?:1[1-8]|3[23568]|4[5-7]|5[1378]|6[1-38]|8[3-68])|4(?:2[1-8]|35|63|7[1368]|8[2457])|5(?:12|2[1-8]|3[357]|4[147]|5[12578]|6[37])|6(?:13|2[1-47]|4[1-35-8]|5[468]|62)|7(?:2[1-8]|3[25]|4[13478]|5[68]|6[16-8]|7[1-6]|9[45]))....?.?.?.?.?.?.?|800.......?.?.?.?))",AU:"(?:(14(?:5.|71).....|4(?:[0-3].|4[47-9]|5[0-25-9]|6[6-9]|7[02-9]|8[12457-9]|9[017-9])......|482......)|([237]........|8(?:[6-8]...|9(?:[02-9]..|1(?:[0-57-9].|6[0135-9])))....|180(?:0...|2)...))",AW:"(?:((?:290|5(?:[69].)|6(?:[03]0|22|4[0-2]|[69].)|7[34].|9(?:6[45]|9[4-8]))....)|(5(?:2.|8[1-9])....|800....))",AX:"18[1-8]....?.?.?.?.?.?|800.....?.?.?",AZ:"(?:((?:36554|(?:4[04]|5[015]|60|7[07])...)....)|((?:1[28]...|2(?:02|1[24]|2[2-4]|33|[45]2|6[23])..|365(?:[0-46-9].|5[0-35-9]))....|88.......))",BA:"(?:(6(?:0[34]|44|7.|[1-356])......|604......)|((?:[35].|49)......|8[08]......))",BB:"(?:(246[2-9]......)|(246(?:2(?:2[78]|7[0-4])|4(?:1[024-6]|2.|3[2-9])|5(?:20|[34].|54|7[1-3])|6(?:2.|38)|7(?:37|57)|9(?:1[89]|63))....|8(?:00|33|44|55|66|77|88)[2-9]......))",BD:"(?:((?:1[13-9].|(?:3[78]|44)[02-9]|6(?:44|6[02-9])).......)|(2(?:[45]...|7(?:1[0-267]|2[0-289]|3[0-29]|4[01]|5[1-3]|6[013]|7[0178]|91)|8(?:0[125]|[139][1-6]|2[0157-9]|41|6[1-35]|7[1-5]|8[1-8]|90)|9(?:0[0-2]|1[0-4]|2[568]|3[3-6]|5[5-7]|6[0167]|7[15]|8[0146-9]))....|3(?:12?[5-7]..|0(?:2(?:[025-79].|[348]..?)|3(?:[2-4].|[56].?))|2(?:1..|2(?:[12].|[35]..?|4.?))|3(?:1..|2(?:[2356].|4..?))|4(?:1..|2(?:2..?|[47]|5..))|5(?:1..|29)|[67]1..|8(?:1..|2(?:2..|3|4.)))...|4(?:0(?:2(?:[09].|7)|33..)|1...|2(?:1..|2(?:[25].?|[348].|[67]..?))|3(?:1..(?:..)?|2(?:[045].|[236-9]..?)|32..)|4(?:[18]..|2(?:[2-46]..|3)|5[25]..)|5(?:1..|2(?:3.|5))|6(?:[18]..|2(?:3(?:..)?|[46]..?|5..|7.)|5(?:3.?|4.|[57]..?|6..|8))|71..|8(?:[18]..|23..|54..)|9(?:[18]..|2[2-5]..|53..?))...|5(?:02[03489]..|1..|2(?:1..|2(?:2(?:..)?|[457]..))|3(?:1..|2(?:[37](?:..)?|[569]..))|4(?:1..|2[46]..)|5(?:1..|26..?)|6(?:[18]..|2|53..)|7(?:1|24)..|8(?:1|26)..|91..)...|6(?:0(?:1..|2(?:3..|4..?))|2(?:2[2-5]..|5(?:[3-5]..|7)|8..)|3(?:1|2[3478])..|4(?:1|2[34])..|5(?:1|2[47])..|6(?:[18]..|6(?:2(?:2.|[34]..)|5(?:[24]..|3.|5..?)))|72[2-5]..|8(?:1..|2[2-5]..)|9(?:1..|2[2-6]..))...|7(?:(?:02|[3-589]1|6[12]|72[24])..|21...|32)...|8(?:(?:4[12]|[5-7]2|1.?)|(?:0|3[12]|[5-7]1|217).)....|9(?:[35]1|(?:[024]2|81).|(?:1|[24]1)..)...|80[03].......))",BE:"(?:(4(?:56|6[0135-8]|[79].|8[3-9])......)|((?:1[0-69]|[23][2-8]|4[23]|5.|6[013-57-9]|71|8[1-79]|9[2-4])......|80[2-8].....|800.....))",BF:"(?:((?:5[124-8].|6..).....|7.......|51......)|(2(?:0(?:49|5[23]|9[016-9])|4(?:4[569]|5[4-6]|7[0179])|5(?:[34].|50))....))",BG:"(?:((?:8[7-9].|9(?:8.|99))......|4(?:3[0789]|8.).....)|(2......?.?|(?:[36].|5[1-9]|8[1-6]|9[1-7])......?|(?:4(?:[124-7].|3[1-6])|7(?:0[1-9]|[1-9].)).....?|800.....))",BH:"(?:((?:3(?:[1-4679].|5[013-69]|8[0-47-9]).|6(?:3(?:00|33|6[16])|6(?:[69].|3[03-9]|7[0-6])))....|(133|35[69]|38[5679]|39.|66[79]|354).....)|((?:1(?:3[1356]|6[0156]|7.).|6(?:1[16].|500|6(?:0.|3[12]|44|7[7-9])|9[69][69])|7(?:1(?:11|78)|7..))....|80......))",BI:"(?:((?:29|6[1289]|7[124-9])......)|(22......))",BJ:"(?:((?:6.|9[03-9])......)|(2(?:02|1[037]|2[45]|3[68]).....|7[3-5]..))",BL:"590(?:2[7-9]|5[12]|87)....",BM:"(?:(441(?:[37].|5[0-39]).....)|(441(?:2(?:02|23|61|[3479].)|[46]..|5(?:4.|60|89)|824)....|8(?:00|33|44|55|66|77|88)[2-9]......))",BN:"(?:(22[89]....|[78]......)|(2(?:[013-9].|2[0-7])....|[3-5]......))",BO:"(?:([67].......|(?:33[237]|392|507).....|4[0234567]......)|((?:2(?:2..|5(?:11|[258].|9[67])|6(?:12|2.|9[34])|8(?:2[34]|39|62))|3(?:3..|4(?:6.|8[24])|8(?:25|42|5[257]|86|9[25])|9(?:2.|3[234]|4[248]|5[24]|6[2-6]|7.))|4(?:4..|6(?:11|[24689].|72)))....|800......))",BQ:"(?:((?:31(?:8[14-8]|9[14578])|416[14-9]|7(?:0[01]|7[017]|8.|9[056]).)...)|((?:318[023]|41(?:6[023]|70)|7(?:1[578]|50).)...))",BR:"(?:(1[1-9](?:7|9.).......|(?:2[12478]|3[1-578]|[4689][1-9]|5[13-5]|7[13-579])(?:[6-8]|9.?).......|(?:[89][1-9])[6-9].......|2195101....)|((?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-5].......|800.......?))",BS:"(?:(242[2-9]......)|(242(?:3(?:02|[236][1-9]|4[0-24-9]|5[0-68]|7[3467]|8[0-4]|9[2-467])|461|502|6(?:0[1-3]|12|7[67]|8[78]|9[89])|7(?:02|88))....|242300....|8(?:00|33|44|55|66|77|88)[2-9]......))",BT:"(?:((?:1[67]|77)......)|((?:2[3-6]|[34][5-7]|5[236]|6[2-46]|7[246]|8[2-4]).....))",BW:"(?:(7[1-7]......)|((?:2(?:4[0-48]|6[0-24]|9[0578])|3(?:1[0-35-9]|55|[69].|7[01])|4(?:6[03]|7[1267]|9[0-5])|5(?:3[0389]|4[0489]|7[1-47]|88|9[0-49])|6(?:2[1-35]|5[149]|8[067]))....))",BY:"(?:((?:2(?:5[5679]|9[1-9])|33.|44.)......)|((?:1(?:5(?:1[1-5]|[24].|6[2-4]|9[1-7])|6(?:[235].|4[1-7])|7..)|2(?:1(?:[246].|3[0-35-9]|5[1-9])|2(?:[235].|4[0-8])|3(?:[26].|3[02-79]|4[024-7]|5[03-7]))).....|8(?:0[13]|20.).......|800....?.?.?.?))",BZ:"(?:(6[0-35-7].....)|((?:2(?:[02].|36)|[3-58][02].|7(?:[02].|32))....|0800.......))",CA:"(?:((?:2(?:04|[23]6|[48]9|50)|3(?:06|43|6[57])|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|48|79|8[17])|6(?:0[04]|13|22|39|47)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|7[39])|90[25])[2-9]......|500555....)|((?:2(?:04|[23]6|[48]9|50)|3(?:06|43|65)|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|48|79|8[17])|6(?:0[04]|13|22|39|47)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]......|310....|8(?:00|33|44|55|66|77|88)[2-9]......|310....))",CC:"89162....|180(?:0...|2)...",CD:"(?:(8(?:[0-2459]..|8).....|9[017-9].......)|(1(?:2.......|......)|[2-6]......))",CF:"(?:(7[0257]......)|(2[12]......))",CG:"(?:(0[14-6].......)|(222[1-589].....))",CH:"(?:(7[5-9].......|512?......)|((?:2[12467]|3[1-4]|4[134]|5[256]|6[12]|[7-9]1).......|800......))",CI:"(?:((?:0[1-9]|4.|5[1-9]|6[014-79]|7[1-9]|8[4-79])......|(2[0389]|39|68|79|8[5-9]|9[0-8])......)|((?:2(?:0[023]|1[02357]|[23][045]|4[03-5])|3(?:0[06]|1[069]|[2-4][07]|5[09]|6[08])).....))",CK:"(?:([5-8]....)|((?:2.|3[13-7]|4[1-5])...))",CL:"(?:(9[3-9].......|2(?:1962....|2.......|32[0-467].....)|(?:3[2-5]|[47][1-35]|5[1-3578]|6[13-57]).......)|(2(?:1962....|2.......|32[0-467].....)|(?:3[2-5]|[47][1-35]|5[1-3578]|6[13-57]).......|800......|1230.......))",CM:"(?:(6[25-9].......|(24|[24-9]).......)|(2(?:22|33|4[23])......|800.....))",CN:"(?:(1(?:[38].|4[567]|5[0-35-9]|66|7[0-35-8]|99)........)|(21(?:100..|95....?|.........?.?)|(?:10|2[02-57-9]|3(?:11|7[179])|4(?:[15]1|3[1-35])|5(?:1.|2[37]|3[12]|51|7[13-79]|9[15])|7(?:31|5[457]|6[09]|91)|8(?:[57]1|98))(?:100..|95....?|........)|(?:3(?:1[02-9]|35|49|5.|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|3[3-9]|5[2-9]|6[4789]|7.|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[17].|2[248]|3[04-9]|4[3-6]|5[0-4689]|6[2368]|9[02-9])|8(?:078|1[236-8]|2[5-7]|3.|5[1-9]|7[02-9]|8[3678]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379].|4[13]|5[1-5]))(?:100..|95....?|.......)|80(?:29|6[03578]|7[018]|81)....|(?:10)?800.......))",CO:"(?:(3(?:0[0-5]|1.|2[0-3]|3[03]|5[01]).......|252[12]....)|([124-8][2-9]......|1800.......))",CR:"(?:(5(?:0[01]|7[0-3]).....|6(?:[0-4]...|500[01])...|(?:7[0-3]|8[3-9])......|[578].......)|(2[0-24-7]......|800.......|210[0-6]....|4.......|5100....))",CU:"(?:(5.......)|(2[1-4]......?|3(?:1......|[23].....?.?)|4(?:[125]......?|[36]......|[78].....?.?)|7.......?))",CV:"(?:((?:9.|5[1-389]).....|5......)|(2(?:2[1-7]|3[0-8]|4[12]|5[1256]|6.|7[1-3]|8[1-5])....))",CW:"(?:(9(?:5(?:[12467].|3[01])|6(?:[15-9].|3[01]))....)|(9(?:[48]..|50.|7(?:2[0-24]|[34].|6[35-7]|77|8[7-9]))....))",CX:"89164....|180(?:0...|2)...",CY:"(?:(9[4-79]......)|(2[2-6]......|800.....))",CZ:"(?:((?:60[1-8]|7(?:0[2-5]|[2379].)|9[36].)......)|(2........|(?:3[1257-9]|4[16-9]|5[13-9]).......|800......))",DE:"(?:(1(?:5[0-25-9]........|6[023]........?|7.........?)|[246]......?.?.?.?.?.?.?.?|3(?:0....?.?.?.?.?.?.?.?.?.?|2.........|[3-9].....?.?.?.?.?.?.?.?.?)|5(?:0[2-8]|[1256].|[38][0-8]|4.?.?|[79][0-7])....?.?.?.?.?.?.?.?|7(?:0[2-8]|[1-9].)....?.?.?.?.?.?.?|8(?:0[2-9]|[1-9].)....?.?.?.?.?.?.?|9(?:0[6-9]....?.?.?.?.?.?.?|1.....?.?.?.?.?.?.?.?|[2-9].....?.?.?.?.?.?.?))|([246]......?.?.?.?.?.?.?.?|3(?:0....?.?.?.?.?.?.?.?.?.?|2.........|[3-9].....?.?.?.?.?.?.?.?.?)|5(?:0[2-8]|[1256].|[38][0-8]|4.?.?|[79][0-7])....?.?.?.?.?.?.?.?|7(?:0[2-8]|[1-9].)....?.?.?.?.?.?.?|8(?:0[2-9]|[1-9].)....?.?.?.?.?.?.?|9(?:0[6-9]....?.?.?.?.?.?.?|1.....?.?.?.?.?.?.?.?|[2-9].....?.?.?.?.?.?.?)|800........?.?.?.?.?))",DJ:"(?:(77......|773.....)|(2(?:1[2-5]|7[45]).....))",DK:"(?:((?:[2-7].|8[126-9]|9[1-46-9])......)|((?:[2-7].|8[126-9]|9[1-46-9])......|80......))",DM:"(?:(767[2-9]......)|(767(?:2(?:55|66)|4(?:2[01]|4[0-25-9])|50[0-4]|70[1-3])....|8(?:00|33|44|55|66|77|88)[2-9]......))",DO:"(?:(8[024]9[2-9]......)|(8(?:[04]9[2-9]......|29(?:2(?:[0-59].|6[04-9]|7[0-27]|8[0237-9])|3(?:[0-35-9].|4[7-9])|[45]..|6(?:[0-27-9].|[3-5][1-9]|6[0135-8])|7(?:0[013-9]|[1-37].|4[1-35689]|5[1-4689]|6[1-57-9]|8[1-79]|9[1-8])|8(?:0[146-9]|1[0-48]|[248].|3[1-79]|5[01589]|6[013-68]|7[124-8]|9[0-8])|9(?:[0-24].|3[02-46-9]|5[0-79]|60|7[0169]|8[57-9]|9[02-9]))....)|8(?:00|33|44|55|66|77|88)[2-9]......))",DZ:"(?:((?:5[4-6]|7[7-9]).......|6(?:[569].|7[0-6])......)|((?:1.|2[013-79]|3[0-8]|4[0135689])......|9619.....|800......))",EC:"(?:(9(?:(?:39|[45][89]|7[7-9]|[89].).|6(?:[0-37-9].)).....|962......)|([2-7][2-7]......|1800.......?))",EE:"(?:((?:5.|8[1-5])......|5(?:[02]..|1(?:[0-8].|95)|5[0-478].|64[0-4]|65[1-589])...)|((?:3[23589]|4[3-8]|6.|7[1-9]|88).....|800(?:0...|1.|[2-9])...))",EG:"(?:(1(?:0.|1[0-245]|2[0-278]|5.).......)|((?:1(?:3[23].|5(?:[23]|9.))|2[2-4]..|3..|4(?:0[2-5]|[578][23]|64).|5(?:0[2-7]|[57][23]).|6[24-689]3.|8(?:2[2-57]|4[26]|6[237]|8[2-4]).|9(?:2[27]|3[24]|52|6[2356]|7[2-4]).).....|1[69]...|800.......))",ER:"(?:(17[1-3]....|7......)|(1(?:1[12568]|20|40|55|6[146])....|8......))",ES:"(?:((?:6......|7[1-48].....|9(?:6906(?:09|10)|7390..))..)|(8(?:[1356].|[28][0-8]|[47][1-9])......|9(?:[135].......|[28][0-8]......|4[1-9]......|6(?:[0-8]......|9(?:0(?:[0-57-9]....|6(?:0[0-8]|1[1-9]|[2-9].)..)|[1-9].....))|7(?:[124-9]..|3(?:[0-8].|9[1-9]))....)|[89]00......))",ET:"(?:(9........)|((?:11(?:1(?:1[124]|2[2-57]|3[1-5]|5[5-8]|8[6-8])|2(?:13|3[6-8]|5[89]|7[05-9]|8[2-6])|3(?:2[01]|3[0-289]|4[1289]|7[1-4]|87)|4(?:1[69]|3[2-49]|4[0-3]|6[5-8])|5(?:1[578]|44|5[0-4])|6(?:18|2[69]|39|4[5-7]|5[1-5]|6[0-59]|8[015-8]))|2(?:2(?:11[1-9]|22[0-7]|33.|44[1467]|66[1-68])|5(?:11[124-6]|33[2-8]|44[1467]|55[14]|66[1-3679]|77[124-79]|880))|3(?:3(?:11[0-46-8]|22[0-6]|33[0134689]|44[04]|55[0-6]|66[01467])|4(?:44[0-8]|55[0-69]|66[0-3]|77[1-5]))|4(?:6(?:22[0-24-7]|33[1-5]|44[13-69]|55[14-689]|660|88[1-4])|7(?:11[1-9]|22[1-9]|33[13-7]|44[13-6]|55[1-689]))|5(?:7(?:227|55[05]|(?:66|77)[14-8])|8(?:11[149]|22[013-79]|33[0-68]|44[013-8]|550|66[1-5]|77.)))....))",FI:"(?:(4......?.?.?.?.?|50.....?.?.?.?|299......)|(1(?:[3569][1-8]....?.?.?.?.?.?|[47]......?.?.?.?.?)|2[1-8]....?.?.?.?.?.?|3(?:[1-8]....?.?.?.?.?.?|9.....?.?.?.?)|[5689][1-8]....?.?.?.?.?.?|800.....?.?.?|[13]0.....?.?.?.?|2(?:0(?:[016-8]....?.?.?.?|[2-59]...?.?.?.?.?)|9.....?.?.?.?)|60(?:[12]......?|6.......)|7(?:1.......|3........|5[03-9]...?.?.?.?.?)))",FJ:"(?:((?:[279].|45|5[01568]|8[034679]).....|8[125].....)|((?:3[0-5]|6[25-7]|8[58]).....|0800.......))",FK:"(?:([56]....)|([2-47]....))",FM:"(?:(3[2357]0[1-9]...|820....|9[2-7].....)|(3[2357]0[1-9]...|9[2-7].....))",FO:"(?:((?:[27][1-9]|5.)....)|((?:20|[3-4].|8[19])....|80[257-9]...))",FR:"(?:(63[0-8]......|69[157-9]......|6[0-24-8].......|7[0-24-9].......)|([1-5]........|80[0-5]......|9........))",GA:"(?:(0?[2-7]......)|(01......))",GB:"(?:(7(?:[1-3]...|4(?:[0-46-9]..|5(?:[0-689].|7[0-57-9]))|5(?:0[0-8]|[13-9].|2[0-35-9]).|7(?:0(?:0[01]|[1-9].)|[1-7]..|8[02-9].|9[0-689].)|8(?:[014-9].|[23][0-8]).|9(?:[024-9]..|1(?:[02-9].|1[028])|3[0-689].)).....)|(2(?:0[01378]|3[0189]|4[017]|8[0-46-9]|9[0-2]).......|1(?:1(?:3[0-48]|[46][0-4]|5[0-26-9]|[78][0-49])|21[0-7]|31[0-8]|[4-69]1.)......|1(?:2(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9.)|3(?:0.|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[28][02-57-9]|[37].|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|2[024-9]|3[015689]|4[02-9]|5[03-9]|6.|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0124578])|7(?:0[0246-9]|2.|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7.|8[02-9]|9[02569])|9(?:0[02-589]|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|8.|9[2-57]))......|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2.|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[345])))|3(?:638[2-5]|647[23]|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8.)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[123]))|5(?:24(?:3[2-79]|6.)|276.|6(?:26[06-9]|686))|6(?:06(?:4.|7[4-79])|295[567]|35[34].|47(?:24|61)|59(?:5[08]|6[67]|74)|955[0-4])|7(?:26(?:6[13-9]|7[0-7])|442.|50(?:2[0-3]|[3-68]2|76))|8(?:27[56].|37(?:5[2-5]|8[239])|84(?:3[2-58]))|9(?:0(?:0(?:6[1-8]|85)|52.)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))...|176888[2-46-8]..|16977[23]...|80(?:0(?:1111|.......?)|8.......)|(?:3[0347]|55)........))",GD:"(?:(473[2-9]......)|(473(?:2(?:3[0-2]|69)|3(?:2[89]|86)|4(?:[06]8|3[5-9]|4[0-49]|5[5-79]|68|73|90)|63[68]|7(?:58|84)|800|938)....|8(?:00|33|44|55|66|77|88)[2-9]......))",GE:"(?:(5(?:14|5[01578]|44|68|7[0147-9]|9[0-35-9])......|559......)|((?:3(?:[256].|4[124-9]|7[0-4])|4(?:1.|2[2-7]|3[1-79]|4[2-8]|7[239]|9[1-7]))......|800......))",GF:"(?:(694......)|(594(?:10|2[012457-9]|3[0-57-9]|4[3-9]|5[7-9]|6[0-3]|9[014])....))",GG:"(?:(7(?:781.|839.|911[17]).....)|(1481......|80(?:0(?:1111|.......?)|8.......)|500......))",GH:"(?:((?:2[034678].|3[0-9].|5(?:[0457].|6[01]))......|55.......)|(3(?:0[237].|[167](?:2[0-6]|7.)|2(?:2[0-5]|7.)|3(?:2[0-3]|7.)|4(?:2[013-9]|3[01]|7.)|5(?:2[0-7]|7.)|8(?:2[0-2]|7.)|9(?:20|7.)).....|800.....))",GI:"(?:((?:5[46-8]|6[02])......)|(2(?:00.|1(?:6[24-7]|9.)|2(?:00|2[2457]))....|80......))",GL:"(?:([245][2-9]....)|((?:19|3[1-6]|6[14689]|8[14-79]|9.)....|80....))",GM:"(?:([23679]......)|((?:4(?:[23]..|4(?:1[024679]|[6-9].))|5(?:54[0-7]|6(?:[67].)|7(?:1[04]|2[035]|3[58]|48))|8...)...))",GN:"(?:(6[02356].......)|(30(?:24|3[12]|4[1-35-7]|5[13]|6[189]|[78]1|9[1478])....))",GP:"(?:(690......)|(590(?:0[13468]|1[012]|2[0-68]|3[28]|4[0-8]|5[579]|6[0189]|70|8[0-689]|9.)....))",GQ:"(?:((?:222|55.)......|(?:55[02]|666)......)|(3(?:3(?:3.[7-9]|[0-24-9].[46])|5..[7-9])....|80.[1-9].....))",GR:"(?:(69........)|(2(?:1..|2(?:2[1-46-9]|3[1-8]|4[1-7]|5[1-4]|6[1-8]|7[1-5]|[89][1-9])|3(?:1.|2[1-57]|[35][1-3]|4[13]|7[1-7]|8[124-6]|9[1-79])|4(?:1.|2[1-8]|3[1-4]|4[13-5]|6[1-578]|9[1-5])|5(?:1.|[29][1-4]|3[1-5]|4[124]|5[1-6])|6(?:1.|3[1245]|4[1-7]|5[13-9]|[269][1-6]|7[14]|8[1-5])|7(?:1.|2[1-5]|3[1-6]|4[1-7]|5[1-57]|6[135]|9[125-7])|8(?:1.|2[1-5]|[34][1-4]|9[1-57]))......|800.......))",GT:"(?:([345].......)|([267][2-9]......|18[01]........))",GU:"(?:(671[2-9]......)|(671(?:3(?:00|3[39]|4[349]|55|6[26])|4(?:56|7[1-9]|8[0236-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[235-9])|7(?:[079]7|2[0167]|3[45]|47|8[789])|8(?:[2-5789]8|6[48])|9(?:2[29]|6[79]|7[1279]|8[789]|9[78]))....|8(?:00|33|44|55|66|77|88)[2-9]......))",GW:"(?:(9(?:5..|6(?:[569].)|77.).....|(?:[5-7].|9[012]).....)|(443......))",GY:"(?:(6......)|((?:2(?:1[6-9]|2[0-35-9]|3[1-4]|5[3-9]|6.|7[0-24-79])|3(?:2[25-9]|3.)|4(?:4[0-24]|5[56])|77[1-57])....|(?:289|862)....))",HK:"(?:((?:46(?:0[0-6]|[14].)|5(?:[1-59][0-46-9].|6[0-4689].|7(?:[0-2469].|30))|6(?:0[1-9].|[13-59]..|2(?:[0-57-9].|6[01])|[68][0-57-9].|7[0-79].)|7(?:07.)|9(?:0[1-9].|1[02-9].|2(?:[0-8].|9[03-9])|[358][0-8].|[467]..))....)|((?:2(?:[13-8].|2[013-9]|9[0-24-9]).|3(?:[1569][0-24-9].|4[0-246-9].|7[0-24-69].|8(?:40|9.))|58(?:0[1-8]|1[2-9]))....|800......))",HN:"(?:([37-9].......)|(2(?:2(?:0[019]|1[1-36]|[23].|4[03-6]|5[57]|7[013589]|8[0146-9]|9[012])|4(?:07|2[3-59]|3[13-689]|4[0-68]|5[1-35])|5(?:16|4[03-5]|5.|6[4-6]|74)|6(?:[056].|17|3[04]|4[0-378]|[78][0-8]|9[01])|7(?:6[46-9]|7[02-9]|8[034])|8(?:79|8[0-35789]|9[1-57-9]))....))",HR:"(?:(9(?:[01259]..|7(?:[0679].|51)|8..?).....)|(1.......|(?:2[0-3]|3[1-5]|4[02-47-9]|5[1-3]).......?|80[01].....?.?))",HT:"(?:((?:2(?:81|9.)|3[1-9].|4..|9(?:8[0-35]|9[5-9])).....)|(2(?:[24].|5[1-5]).....|8.......))",HU:"(?:((?:[257]0|3[01]).......)|((?:1.|2[2-9]|3[2-7]|4[24-9]|5[2-79]|6[23689]|7[2-9]|8[2-57-9]|9[2-69])......|[48]0......))",ID:"(?:((?:2(?:1(?:3[145]|4[01]|5[1-469]|60|8[0359]|9.)|2(?:88|9[1256])|3[1-4]9|4(?:36|91)|5(?:1[349]|[2-4]9)|6[0-7]9|7(?:[1-36]9|4[39])|8[1-5]9|9[1-48]9)|3(?:19[1-3]|2[12]9|3[13]9|4(?:1[69]|39)|5[14]9|6(?:1[69]|2[89])|709)|4[13]19|5(?:1(?:19|8[39])|4[129]9|6[12]9)|6(?:19[12]|2(?:[23]9|77))|7(?:1[13]9|2[15]9|419|5(?:1[89]|29)|6[15]9|7[178]9))......?|8[1-35-9]........?.?.?|2(?:1(?:14...|[0-8].......?|500...|9......)|2.......?.?|4........?)|(?:2(?:[35][1-4]|6[0-8]|7[1-6]|8.|9[1-8])|3(?:1|[25][1-8]|3[1-68]|4[1-3]|6[1-3568]|7[0-469]|8.)|4(?:0[1-589]|1[01347-9]|2[0-36-8]|3[0-24-68]|43|5[1-378]|6[1-5]|7[134]|8[1245])|5(?:1[1-35-9]|2[25-8]|3[124-9]|4[1-3589]|5[1-46]|6[1-8])|6(?:19?|[25].|3[1-69]|4[1-6])|7(?:02|[125][1-9]|[36].|4[1-8]|7[0-36-9])|9(?:0[12]|1[013-8]|2[0-479]|5[125-8]|6[23679]|7[159]|8[01346]))......?.?.?|(?:4067|4157|4447|4502|4546|5447|5467|5557|6307|7027|7157|9047|9127|9197|9257|9507|9597|9607|9647|9787)......?|895.........)|(2(?:1(?:14...|[0-8].......?|500...|9......)|2.......?.?|4........?)|(?:2(?:[35][1-4]|6[0-8]|7[1-6]|8.|9[1-8])|3(?:1|[25][1-8]|3[1-68]|4[1-3]|6[1-3568]|7[0-469]|8.)|4(?:0[1-589]|1[01347-9]|2[0-36-8]|3[0-24-68]|43|5[1-378]|6[1-5]|7[134]|8[1245])|5(?:1[1-35-9]|2[25-8]|3[124-9]|4[1-3589]|5[1-46]|6[1-8])|6(?:19?|[25].|3[1-69]|4[1-6])|7(?:02|[125][1-9]|[36].|4[1-8]|7[0-36-9])|9(?:0[12]|1[013-8]|2[0-479]|5[125-8]|6[23679]|7[159]|8[01346]))......?.?.?|177.......?.?|800......?.?))",IE:"(?:(8(?:22......|[35-9].......))|(1........?|2(?:1.......?|3.......|[24-9].....)|4(?:0[24].....|[1-469].......|5......|7.....|8[0-46-9].......)|5(?:0[45].....|1......|[23679].......|8.....)|6(?:1......|[237-9].....|[4-6].......)|7[14].......|9(?:1......|[04].......|[35-9].....)|1800......))",IL:"(?:(5(?:[0-47-9]..|5(?:01|2[2-5]|3[2-4]|4[45]|5[5689]|6[678]|7[0-278]|8[6-9]|9[1-9])|6[2-9].).....)|((?:153..?|[2-489]).......|1(?:80[019]...|255)...|7(?:18.|2[23].|3[237].|47.|6[58].|7..|8(?:2.|33|55|77|81)|9[2579].).....))",IM:"(?:(7(?:4576|[569]24.).....)|(1624......|808162....))",IN:"(?:((?:6(?:0(?:0[0-3569]|26).|1279|2(?:0[0-79]|3[02589]|6.|8[0-479]|9[0-7]).|3(?:0[0-469].|5(?:0[0-6]|[1-9].)|6[0-49].|7[014-9].|[89]..)|90[019].)|7(?:0...|19[0-5].|2(?:[0235-9].|[14][017-9]).|3(?:[025-9].|1[01789]|3[017-9]|4[017-9]).|4(?:[01235689].|4[01789]|7[01789]).|5(?:[0-46-9].|5[017-9]).|6(?:[02-9].|1[0-257-9]).|7...|8...|9(?:[07-9].|3[01]|61).)|8(?:0(?:[0157-9].|6[67])|1..|2(?:0[089]|[1235-9].|4[089])|3(?:[03-57-9].|1[0789]|2[089]|6[089])|[45]..|6(?:[02-9].|1[089])|7(?:0[07-9]|7[089]|8[089]|[1-69].)|8(?:[0-25-9].|3[089]|4[0489])|9(?:[02-9].|1[0289])).|9....).....|6(?:0.|2[08]|3[589]|9.).......|[7-9].........)|((?:11|2[02]|33|4[04]|79)[2-7].......|80[2-467].......|(?:1(?:2[0-249]|3[0-25]|4[145]|[59][14]|6[014]|7[1257]|8[01346])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|7[18]|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|[36][25]|22|4[28]|5[12]|[78]1|9[15])|6(?:12|[2345]1|57|6[13]|7[14]|80)|7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91))[2-7]......|(?:(?:1(?:2[35-8]|3[346-9]|4[236-9]|[59][0235-9]|6[235-9]|7[34689]|8[257-9])|2(?:1[134689]|3[24-8]|4[2-8]|5[25689]|6[2-4679]|7[13-79]|8[2-479]|9[235-9])|3(?:01|1[79]|2[1-5]|4[25-8]|5[125689]|6[235-7]|7[157-9]|8[2-467])|4(?:1[14578]|2[5689]|3[2-467]|5[4-7]|6[35]|73|8[2689]|9[2389])|5(?:[16][146-9]|2[14-8]|3[1346]|4[14-69]|5[46]|7[2-4]|8[2-8]|9[246])|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|[57][2-689]|6[24-578]|8[1-6])|8(?:1[1357-9]|2[235-8]|3[03-57-9]|4[0-24-9]|5.|6[2457-9]|7[1-6]|8[1256]|9[2-4])).|7(?:(?:1[013-9]|2[0235-9]|3[2679]|4[1-35689]|5[2-46-9]|[67][02-9]|9.).|8(?:2[0-6]|[013-8].)))[2-7].....|00800.......|1(?:600......|80(?:0.....?.?.?.?.?|3.........))|1860........?.?))",IO:"(?:(38.....)|(37.....))",IQ:"(?:(7[3-9]........|6[26].......)|(1.......|(?:2[13-5]|3[02367]|4[023]|5[03]|6[026]).......?))",IR:"(?:(9(?:0[1-5]|[1-3].|9[01489]).......|991.......)|((?:(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])(?:........|(?:[16]|[289].?)...))|94(?:000|11[0-7]|2..|30[01]|440).....))",IS:"(?:(38[589]......|(?:6(?:1[1-8]|[289].|3[027-9]|4[014679]|5[0159]|[67][0-69])|7(?:5[057]|[6-8].)|8(?:2[0-59]|3[0-4]|[469].|5[1-9]|88))....|[3678]......)|((?:4(?:1[0-24-69]|2[0-7]|[37][0-8]|4[0-245]|5[0-68]|6.|8[0-36-8])|5(?:05|[156].|2[02578]|3[0-79]|4[03-7]|7[0-2578]|8[0-35-9]|9[013-689])|87[23])....|800....))",IT:"(?:(3(?:[12457-9]........|6........?|3........?.?))|(0(?:[26].....?.?.?.?.?|(?:1(?:[0159].|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|3(?:[0159].|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159].|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159].|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|7(?:[0159].|2[12]|3[1-7]|4[2346]|6[13569]|7[13-6]|8[1-59])|8(?:[0159].|2[34578]|3[1-356]|[6-8][1-5])|9(?:[0159].|[238][1-5]|4[12]|6[1-8]|7[1-6]))...?.?.?.?.?)|80(?:0......|3...)))",JE:"(?:(7(?:509.|7(?:00[378]|97[7-9])|829.|937.).....)|(1534......|80(?:07(?:35|81)|8901)....))",JM:"(?:(876[2-9]......)|(876(?:5(?:0[12]|1[0-468]|2[35]|63)|6(?:0[1-3579]|1[027-9]|[23].|40|5[06]|6[2-589]|7[05]|8[04]|9[4-9])|7(?:0[2-689]|[1-6].|8[056]|9[45])|9(?:0[1-8]|1[02378]|[2-8].|9[2-468]))....|8(?:00|33|44|55|66|77|88)[2-9]......))",JO:"(?:(7(?:55|7[025-9]|8[0-25-9]|9[0-25-9])......|75.......)|((?:2(?:6(?:2[0-35-9]|3[0-57-8]|4[24-7]|5[0-24-8]|[6-8][023]|9[0-3])|7(?:0[1-79]|10|2[014-7]|3[0-689]|4[019]|5[0-3578]))|32(?:0[1-69]|1[1-35-7]|2[024-7]|3.|4[0-3]|[57][023]|6[03])|53(?:0[0-3]|[13][023]|2[0-59]|49|5[0-35-9]|6[15]|7[45]|8[1-6]|9[0-36-9])|6(?:2[50]0|3(?:00|33)|4(?:0[0125]|1[2-7]|2[0569]|[38][07-9]|4[025689]|6[0-589]|7.|9[0-2])|5(?:[01][056]|2[034]|3[0-57-9]|4[17-8]|5[0-69]|6[0-35-9]|7[1-379]|8[0-68]|9[02-39]))|87(?:[02]0|7[08]|90))....|80......))",JP:"(?:([7-9]0[1-9].......)|((?:1(?:1[235-8]|2[3-6]|3[3-9]|4[2-6]|[58][2-8]|6[2-7]|7[2-9]|9[1-9])|2[2-9].|[36][1-9].|4(?:6[02-8]|[2-578].|9[2-59])|5(?:6[1-9]|7[2-8]|[2-589].)|7(?:3[4-9]|4[02-9]|[25-9].)|8(?:3[2-9]|4[5-9]|5[1-9]|8[03-9]|[2679].)|9(?:[679][1-9]|[2-58].))......|120......|800.......|00(?:37.......?.?.?.?.?.?.?|66.......?.?.?.?.?.?.?|777(?:[01]..|5...|8....)|882[1245]....)))",KE:"(?:(7........|(?:20|46)51.....|4[14]50.....|5183.....|5670.....|5785.....|6184.....)|(20.......?|4(?:0.......?|[136].......|[245]......?.?)|5(?:[08].......|[1-79]......?.?)|6(?:[01457-9]......?.?|2.......|6.......?)|800[24-8]......?))",KG:"(?:((?:2(?:0[0-35]|2.)|5[0124-7].|7(?:55|[07].)|999)......)|((?:3(?:1(?:[256].|3[1-9]|47)|2(?:22|3[0-479]|6[0-7])|4(?:22|5[6-9]|6.)|5(?:22|3[4-7]|59|6.)|6(?:22|5[35-7]|6.)|7(?:22|3[468]|4[1-9]|59|[67].)|9(?:22|4[1-8]|6.))|6(?:09|12|2[2-4]).).....|800.......?))",KH:"(?:((?:1(?:[013-79].|[28]..?)|2[3-6]48|3(?:[189]..|[2-6]48)|4[2-4]48|5[2-5]48|6(?:[016-9].|[2-5]48)|7(?:[07-9].|[16]..|[2-5]48)|8(?:[013-79].|8..)|9(?:6..|7..?|[0-589].)).....|18.......)|((?:2[3-6]|3[2-6]|4[2-4]|[5-7][2-5])(?:[237-9]|4[56]|5.|6.?).....|23(?:4[234]|8..)....|1800(?:1.|2[019])....))",KI:"(?:((?:6[23]0|7(?:20|3[01])).....)|((?:[24].|3[1-9]|50|8[0-5])...|7(?:27|31|5[0-4]).....))",KM:"(?:([34]......|351....)|(7[4-7].....))",KN:"(?:(869(?:5(?:5[6-8]|6[5-7])|66.|76[02-7])....)|(869(?:2(?:29|36)|302|4(?:6[015-9]|70))....|8(?:00|33|44|55|66|77|88)[2-9]......))",KP:"(?:(19[123].......)|(2.......|85......))",KR:"(?:(1[0-26-9]........?)|((?:2|3[1-3]|[46][1-4]|5[1-5])(?:1...?|[1-9].......?)|(?:00798.?.?|80).......))",KW:"(?:((?:5(?:[05]..|1[0-7].|2(?:22|5[25])|6[56].)|6(?:0[034679].|222|5[015-9].|6..|7[067].|9[0369].)|9(?:0[09].|11[01]|22.|4[01479].|55.|6[0679].|[79]..|8[057-9].|333))....|992.....)|((?:18.|2(?:[23]..|4(?:[1-35-9].|44)|5(?:0[034]|[2-46].|5[1-3]|7[1-7])))....))",KY:"(?:(345(?:32[1-9]|5(?:1[67]|2[5-7]|4[6-8]|76)|9(?:1[67]|2[2-9]|3[689]))....)|(345(?:2(?:22|44)|444|6(?:23|38|40)|7(?:4[35-79]|6[6-9]|77)|8(?:00|1[45]|25|[48]8)|9(?:14|4[035-9]))....|8(?:00|33|44|55|66|77|88)[2-9]......))",KZ:"(?:(7(?:0[012578]|47|6[02-4]|7[15-8]|85).......)|(33622.....|7(?:1(?:0(?:[23].|4[0-3]|59|63)|1(?:[23].|4[0-79]|59)|2(?:[23].|59)|3(?:2.|3[0-79]|4[0-35-9]|59)|4(?:[24].|3[013-9]|5[1-9])|5(?:2.|3[1-9]|4[0-7]|59)|6(?:[234].|5[19]|61)|72.|8(?:[27].|3[1-46-9]|4[0-5]))|2(?:1(?:[23].|4[46-9]|5[3469])|2(?:2.|3[0679]|46|5[12679])|3(?:[234].|5[139])|4(?:2.|3[1235-9]|59)|5(?:[23].|4[01246-8]|59|61)|6(?:2.|3[1-9]|4[0-4]|59)|7(?:[2379].|40|5[279])|8(?:[23].|4[0-3]|59)|9(?:2.|3[124578]|59))).....|800.......))",LA:"(?:(20(?:2[2389]|[59].|7[6-9])......|30(?:[49]).......|209.......)|((?:2[13]|3(?:0.|[14])|[5-7][14]|41|8[1468])......))",LB:"(?:((?:3.|7(?:[01].|6[013-9]|8[89]|9[1-3])|81.).....)|((?:[14-6]..|7(?:[2-57].|62|8[0-7]|9[04-9])|8[02-9].|9..)....))",LC:"(?:(758[2-9]......)|(758(?:4(?:30|5[0-9]|6[2-9]|8[0-2])|57[0-2]|638)....|8(?:00|33|44|55|66|77|88)[2-9]......))",LI:"(?:(6(?:5(?:0[3-9]|1.|20)|6(?:0[0-7]|10|2[016-9]|3[7-9])|97[789]).....|7(?:[37-9].|42|56)....)|((?:2(?:01|1[27]|3.|6[02-578]|96)|3(?:7[0135-7]|8[048]|9[0269]))....|80(?:02[28]|9..)..))",LK:"(?:(7[0125-8].......)|((?:[189]1|2[13-7]|3[1-8]|4[157]|5[12457]|6[35-7])[2-57]......))",LR:"(?:((?:4[67].|5(?:55)?..|77...|88...)....)|(2.......))",LS:"(?:([56].......)|(2.......|800[256]....))",LT:"(?:(6.......)|((?:3[1478]|4[124-6]|52)......|800.....))",LU:"(?:(6(?:[2679][18]|5[158]|81)......|681......)|((?:2[2-9]...?.?.?.?.?.?.?|(?:[3457]..|8(?:0[2-9]|[13-9].)|9(?:0[89]|[2-579].))..?.?.?.?.?.?.?)|800.....))",LV:"(?:(2.......)|(6.......|80......))",LY:"(?:(9[1-6].......)|((?:2[1345]|5[1347]|6[123479]|71).......))",MA:"(?:((?:6(?:[0-79].|8[0-247-9])|7(?:0[067]|6[1267]|7[07]))......|7........)|(5(?:2(?:[015-79].|2[02-9]|3[2-57]|4[2-8]|8[235-7]).|3(?:[0-48].|[57][2-9]|6[2-8]|9[3-9]).|4[067]..|5[03]..)....|80.......))",MC:"(?:(3.......|4(?:4.|5[1-9]|61).....|6........)|(870.....|9[2-47-9]......|90......))",MD:"(?:((?:562|6..|7(?:[189].|6.|7[457-9])).....|(?:6[0-9]|71)......)|((?:2[1-9].|3[1-79].|5(?:33|5[257])).....|800.....))",ME:"(?:(6(?:0..|3[02-6].|6[0-25].|[7-9]..)....|63......)|((?:20[2-8]|3(?:0[2-7]|[12][235-7]|3[24-7])|4(?:0[2-467]|1[267])|5(?:0[2467]|1[267]|2[2367])).....|80[0-258].....))",MF:"590(?:[02][79]|13|5[0-268]|[78]7)....",MG:"(?:(3[2-49].......)|(20(?:2..|4[47].|5[3467].|6[279].|7(?:2[29]|[35].)|8[268].|9[245].)....))",MH:"(?:((?:235|329|45[356]|545)....)|((?:247|528|625)....))",MK:"(?:(7(?:[0-25-8]..|3[24].|93.|421)....|79(2..|3([0-6].|7[0-5]))...)|((?:2(?:[23].|5[124578]|6[01])|3(?:1[3-6]|[23][2-6]|4[2356])|4(?:[23][2-6]|4[3-6]|5[256]|6[25-8]|7[24-6]|8[4-6])).....|800.....))",ML:"(?:((?:2(?:079|17.)|4[02]..|[5679]...|8[239]..)....)|((?:2(?:0(?:2.|7[0-8])|1(?:2[5-7]|[3-689].))|44[1239].)....|80......))",MM:"(?:(17[01]....|9(?:2(?:[0-4]|[56]..)|3(?:[0-36]|4[069]).|4(?:[02]..|[1379].|4[0-589].|5..|88)|5[0-6]|6(?:1.|9..|.)|7(?:3|5[0-2]|[6-9].).|8(?:.|9..)|9(?:1.|[5-7]..|[089])).....|78.......)|(1(?:2..?|[3-5].|6.?|[89][0-6].)....|2(?:2(?:000...|....)|3....|4(?:0.....|....)|5(?:1....?.?.?|[02-9]....?.?)|[6-9]....)|4(?:2[245-8]|3(?:[2-46]|56?)|[46][2-6]|5[3-5])....|5(?:2(?:2(?:..?)?|[3-8])|3[2-68]|4(?:21?|[4-8])|5[23]|6[2-4]|7[2-8]|8[24-7]|9[2-7])....|6(?:0[23]|1(?:2(?:0|4.)?|[356])|2[2-6]|3[24-6]|4(?:2(?:4.)?|[3-6])|5[2-4]|6[2-8]|7(?:[2367]|4.|5.?|8[145].)|8[245]|9(?:20?|4))....|7(?:[04][24-8]|1(?:20?|[3-7])|22|3[2-4]|5[2-7])....|8(?:1(?:2..?|[3-689].)|2(?:2.|3(?:.|20)|[4-8].)|3[24].|4[24-7].|5[245].|6[23].)...))",MN:"(?:((?:8(?:[05689].|3[01])|9[013-9].).....)|([12](?:1.|2(?:[1-3].?|7.)|3[2-8]..?|4[2-68]..?|5[1-4689]..?).....|5[0568]......))",MO:"(?:(6(?:[2356].|8[013-578]).....|6[0189]......)|((?:28[2-57-9]|8[2-57-9].).....))",MP:"(?:(670[2-9]......)|(670(?:2(?:3[3-7]|56|8[5-8])|32[1238]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[589]|8[3-9]8|989)....|8(?:00|33|44|55|66|77|88)[2-9]......))",MQ:"(?:(696......)|(596(?:0[2-5]|[12]0|3[05-9]|4[024-8]|[5-7].|89|9[4-8])....))",MR:"(?:([234][0-46-9]......)|(25[08].....|35......|45[1-7].....|800.....))",MS:"(?:(66449[2-6]....|66439[23]....)|(664491....|8(?:00|33|44|55|66|77|88)[2-9]......))",MT:"(?:((?:7(?:210|[79]..)|9(?:2..|69[67]|8(?:1[1-3]|89|97)|9..))....)|(2(?:0(?:1[0-6]|3[1-4]|[69].)|[1-357]..)....|800[3467]....))",MU:"(?:(5?(?:2[59].|4(?:2[1-389]|3.|7[1-9]|9.)|7..|8(?:[256].|7[15-8])|9[0-8].)....|5.......)|((?:2(?:[03478].|1[0-7]|6[1-69])|4(?:[013568].|2[4-7])|5(?:44.|471)|6..|8(?:14|3[129]))....|80[012]....))",MV:"(?:((?:46[46]|7[2-9].|9[14-9].)....)|((?:3(?:0[0-3]|3[0-59])|6(?:[57][02468]|6[024568]|8[024689]|90))....|800.......))",MW:"(?:((?:111|77.|88.|99.)......|21.......)|((?:1[2-9]|21..).....))",MX:"(?:(1(?:(?:33|55|81)........|(?:2(?:2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-6][1-9]|[37][1-8]|8[1-35-9]|9[2-689])|5(?:88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[12457-9]|7[1-7]|8[67]|9[4-8])|7(?:[13467][1-9]|2[1-9]|5[13-9]|8[1-69]|9[17])|8(?:2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8])).......))|((?:33|55|81)........|(?:2(?:0[01]|2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-6][1-9]|[37][1-8]|8[1-35-9]|9[2-689])|5(?:88|9[1-79])|6(?:1[2-68]|[234][1-9]|5[1-3689]|6[12457-9]|7[1-7]|8[67]|9[4-8])|7(?:[13467][1-9]|2[1-8]|5[13-9]|8[1-69]|9[17])|8(?:2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8])).......|8(?:00|88).......))",MY:"(?:(1(?:1(?:[1-7]..|1[03-589]|2[049]|3[25]|4[01]|5[2-9])|[0349][2-9].|[267]..|59..?|8(?:1[23]|[2-9].)).....)|((?:3[2-9].|[4-9][2-9])......|1[378]00......))",MZ:"(?:(8[2-7].......|8[15].......)|(2(?:[1346].|5[0-2]|[78][12]|93).....|800......))",NA:"(?:((?:60|8[125]).......)|(6(?:1(?:17|2(?:[0189].|[2-6]|7.?)|3(?:[01378]|2.)|4(?:[024]|10?|3[15]?)|69|7[014])|2(?:17|5(?:[0-36-8]|4.?)|69|70)|3(?:17|2(?:[0237].?|[14-689])|34|6[289]|7[01]|81)|4(?:17|2(?:[012]|7.?)|4(?:[06]|1.?)|5(?:[01357]|[25].?)|69|7[01])|5(?:17|2(?:[0459]|[23678].?)|69|7[01])|6(?:17|2(?:5|6.?)|38|42|69|7[01])|7(?:17|2(?:[569]|[234].?)|3(?:0.?|[13])|6[89]|7[01]))....))",NC:"(?:((?:5[0-4]|[79].|8[0-79])....)|((?:2[03-9]|3[0-5]|4[1-7]|88)....))",NE:"(?:((?:8[04589]|9.)......)|(2(?:0(?:20|3[1-7]|4[134]|5[14]|6[14578]|7[1-578])|1(?:4[145]|5[14]|6[14-68]|7[169]|88))....|08......))",NF:"(?:(3[58]....)|((?:1(?:06|17|28|39)|3[012].)...))",NG:"(?:((?:1(?:7[34].|8(?:04|[124579].|8[0-3])|95.)|287[0-7]|3(?:18[1-8]|88[0-7]|9(?:8[5-9]|6[1-5]))|4(?:28[0-2]|6(?:7[1-9]|8[02-47])|88[0-2])|5(?:2(?:7[7-9]|8.)|38[1-79]|48[0-7]|68[4-7])|6(?:2(?:7[7-9]|8.)|4(?:3[7-9]|[68][129]|7[04-69]|9[1-8])|58[0-2]|98[7-9])|7(?:38[0-7]|69[1-8]|78[2-4])|8(?:28[3-9]|38[0-2]|4(?:2[12]|3[147-9]|5[346]|7[4-9]|8[014-689]|90)|58[1-8]|78[2-9]|88[5-7])|98[07].)....|(?:70(?:[1-689].|7[0-3])|8(?:0(?:1[01]|[2-9].)|1(?:[0-8].|9[01]))|90[235-9].)......)|([12].......?|9(?:0[3-9]|[1-9].).....|(?:3.|4[023568]|5[02368]|6[02-469]|7[4-69]|8[2-9])......|(?:4[47]|5[14579]|6[1578]|7[0-357])......?|(?:78|41).....|800........?.?.?.?|700........?.?.?.?))",NI:"(?:(5(?:5[0-7].....|[78]......)|6(?:20|3[035]|4[045]|5[05]|77|8[1-9]|9[059]).....|7[5-8]......|8.......|[57].......|68......)|(2.......|1800....))",NL:"(?:(6[1-578].......|970........)|((?:1[0135-8]|2[02-69]|3[0-68]|4[0135-9]|[57].|8[478]).......|800.....?.?.?|(?:6760|85..).....))",NO:"(?:((?:4[015-8]|5[89]|87|9.)......)|((?:2[1-4]|3[1-3578]|5[1-35-7]|6[1-4679]|7[0-8])......|80[01].....))",NP:"(?:(9(?:6[0-3]|7[245]|8[0-24-68]).......)|((?:1[0-6].|2[13-79][2-6]|3[135-8][2-6]|4[146-9][2-6]|5[135-7][2-6]|6[13-9][2-6]|7[15-9][2-6]|8[1-46-9][2-6]|9[1-79][2-6]).....))",NR:"(?:(5(?:[56].)....)|((?:444|888)....))",NU:"(?:([1256]...)|([34]...))",NZ:"(?:(2(?:[028]........?|1(?:[03]......?.?|[12457]......?|[689].....)|[79].......))|((?:3[2-79]|[49][2-9]|6[235-9]|7[2-57-9])......|24099...|508.......?|80.......?.?))",OM:"(?:(7[129]......|9(?:0[1-9]|[1-9].).....)|(2[2-6]......|8007.....?|500....))",PA:"(?:((?:1[16]1|21[89]|8(?:1[01]|7[23]))....|6(?:[02-9].|1[0-5]).....)|((?:1(?:0[0-8]|1[49]|2[37]|3[0137]|4[147]|5[05]|6[58]|7[0167]|8[58]|9[139])|2(?:[0235679].|1[0-7]|4[04-9]|8[028])|3(?:[09].|1[014-7]|2[0-3]|3[03]|4[03-57]|55|6[068]|7[06-8]|8[06-9])|4(?:3[013-69]|4.|7[0-589])|5(?:[01].|2[0-7]|[56]0|79)|7(?:0[09]|2[0-267]|3[06]|[469]0|5[06-9]|7[0-24-79]|8[7-9])|8(?:09|[34].|5[0134]|8[02])|9(?:0[6-9]|1[016-8]|2[036-8]|3[3679]|40|5[0489]|6[06-9]|7[046-9]|8[36-8]|9[1-9]))....|80[09]....))",PE:"(?:(9........)|((?:1.|4[1-4]|5[1-46]|6[1-7]|7[2-46]|8[2-4])......|800.....))",PF:"(?:(8[79]......|38....)|(4(?:[09][45689].|4)....))",PG:"(?:(7(?:[0-689].|7[578]).....)|((?:3[0-2].|4[257].|5[34].|64[1-9]|77(?:[0-24].|30)|85[02-46-9]|9[78].)....|180....))",PH:"(?:((?:81[37]|9(?:0[5-9]|1[024-9]|2[0-35-9]|3[02-9]|4[235-9]|5[056]|6[5-7]|7[34-79]|89|9[4-9])).......)|(2.....(?:..)?|(?:3[2-68]|4[2-9]|5[2-6]|6[2-58]|7[24578]|8[2-8]).......|88(?:22......|42....)|1800........?.?))",PK:"(?:(3(?:[014].|2[0-5]|3[0-7]|55|64).......)|((?:21|42)[2-9].......|(?:2[25]|4[0146-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]......|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8]))[2-9]......?|58[126].......|800.....))",PL:"(?:(45[09]......|(?:5[0137]|6[069]|7[2389]|88).......)|((?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145]).......|[12]2.....|800......))",PM:"(?:(55....|40....)|(41....))",PR:"(?:((?:787|939)[2-9]......)|((?:787|939)[2-9]......|8(?:00|33|44|55|66|77|88)[2-9]......))",PS:"(?:(5[69].......)|((?:22[234789]|42[45]|82[01458]|92[369]).....|1800......))",PT:"(?:(9(?:[1236]..|480).....)|(2(?:[12].|[35][1-689]|4[1-59]|6[1-35689]|7[1-9]|8[1-69]|9[1256])......|80[02]......))",PW:"(?:((?:6[234689]0|77.)....)|(2552255|(?:277|345|488|5(?:35|44|87)|6(?:22|54|79)|7(?:33|47)|8(?:24|55|76))....))",PY:"(?:(9(?:51|6[129]|[78][1-6]|9[1-5])......|9[789][0-6]......)|((?:[26]1|3[289]|4[124678]|7[123]|8[1236])......?.?|(?:2(?:2[4568]|7[15]|9[1-5])|3(?:18|3[167]|4[2357]|51)|4(?:18|2[45]|3[12]|5[13]|64|71|9[1-47])|5(?:[1-4].|5[0234])|6(?:3[1-3]|44|7[1-4678])|7(?:17|4[0-4]|6[1-578]|75|8[0-8])|858)......?))",QA:"(?:([3567].......)|(4[04]......|800....))",RE:"(?:(6(?:9[23]|47)......)|(262......|80.......))",RO:"(?:(7(?:[0-8]..|99.).....|79.......)|(2(?:1(?:.......|9...)|[3-6](?:.......|.9..))|3(?:1....(?:...)?|[3-6].......)|800......|37.......))",RS:"(?:(6(?:[0-689]|7.).......?)|((?:1(?:[02-9][2-9]|1[1-9]).|2(?:[0-24-7][2-9].|[389](?:0[2-9]|[2-9].))|3(?:[0-8][2-9].|9(?:[2-9].|0[2-9])))....?.?.?.?.?|800....?.?.?.?.?.?))",RU:"(?:(9.........|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15]|6[1-35-79]|7[1-37-9])).......|58.......)|((?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15]|6[1-35-79]|7[1-37-9])).......|80[04].......))",RW:"(?:(7[238].......)|(2[258].......|06......|800......))",SA:"(?:((?:5(?:[013-689].|7[0-36-8])|811.)......|57.......|6........)|(11.......|1?(?:2[24-8]|3[35-8]|4[3-68]|6[2-5]|7[235-7])......|800.......))",SB:"(?:(48...|7(?:[1-9]).....|8[4-9].....|9(?:1[2-9]|2[013-9]|3[0-2]|[46].|5[0-46-9]|7[0-689]|8[0-79]|9[0-8])....|7[12].....)|((?:1[4-79]|[23].|4[0-2]|5[03]|6[0-37])...|1[38]...))",SC:"(?:(2[5-8].....)|(4[2-46].....|8000...))",SD:"(?:(9[0-3569].......|1........)|(1(?:[0-25].|8[3567])......))",SE:"(?:((?:7[02369].......|7813000..))|(1(?:0[1-8]......|[136]......?.?|(?:2[0-35]|4[0-4]|5[0-25-9]|7[13-6]|[89].)......?)|2(?:[136]......?.?|(?:2[0-7]|4[0136-8]|5[0138]|7[018]|8[01]|9[0-57])......?)|3(?:[356]......?.?|(?:0[0-4]|1.|2[0-25]|4[056]|7[0-2]|8[0-3]|9[023])......?)|4(?:[0246]......?.?|(?:1[013-8]|3[0135]|5[14-79]|7[0-246-9]|8[0156]|9[0-689])......?)|5(?:0[0-6]|[15][0-5]|2[0-68]|3[0-4]|4.|6[03-5]|7[013]|8[0-79]|9[01])......?|6(?:[03]......?.?|(?:1[1-3]|2[0-4]|4[02-57]|5[0-37]|6[0-3]|7[0-2]|8[0247]|9[0-356])......?)|8.......?.?|9(?:0[1-9].....?.?|(?:1[0-68]|2.|3[02-5]|4[0-3]|5[0-4]|[68][01]|7[0135-8])......?)|20.....?.?.?))",SG:"(?:((?:8[1-8]|9[0-8])......)|(6[1-9]......|1?800.......|3[12]......))",SH:"(?:([56]....)|(2(?:[0-57-9].|6[4-9])..))",SI:"(?:((?:[37][01]|4[0139]|51|6[4589])......|6555....)|((?:1.|[25][2-8]|3[24-8]|4[24-8]|7[3-8])......|80.....?.?))",SJ:"79......|80[01].....",SK:"(?:(9(?:0(?:[1-8].|9[1-9])|(?:1[0-24-9]|[45].).).....|909......)|(2(?:1(?:6....?|7...)|[2-9].......)|[3-5][1-8](?:1(?:6...?|7...)|.......)|800......))",SL:"(?:((?:2[15]|3[03-5]|4[04]|5[05]|66|7[5-9]|8[08]|99)......|80......)|([235]2[2-4][2-9]....))",SM:"(?:(6[16]......)|(0549(?:8[0157-9]|9.)....))",SN:"(?:(7(?:[06-8].|21|90)......)|(3(?:0(?:1[0-2]|80)|282|3(?:8[1-9]|9[3-9])|611).....|800......))",SO:"(?:((?:15.|2(?:4.|8)|3[59]..|4[89]..|6[1-9]?..|7(?:[1-8].|9..?)|8[08]..|9(?:0.|[2-9]).).....|90.......)|((?:1..?|2[0-79].|3[0-46-8]?.|4[0-7]?.|59.|8[125])....))",SR:"(?:((?:7[124-7]|8[1-9]).....)|((?:2[1-3]|3[0-7]|4.|5[2-58]|68.)....))",SS:"(?:((?:12|9[1257]).......)|(18.......))",ST:"(?:(9(?:0(?:0[5-9]|[1-9].)|[89]..)...|900....)|(22.....))",SV:"(?:([67].......)|(2[1-6]......|800....(?:....)?))",SX:"(?:(7215(?:1[02]|2.|5[034679]|8[014-8])....)|(7215(?:4[2-8]|8[239]|9[056])....|8(?:00|33|44|55|66|77|88)[2-9]......))",SY:"(?:(9........)|((?:1(?:1.?|4.|[2356])|2(?:1.?|[235])|3(?:[13].|4)|4[13]|5[1-3])......))",SZ:"(?:((?:3[2-5]|7[6-9])......)|(2[2-5]......|0800....))",TC:"(?:(649(?:2(?:3[129]|4[1-7])|3(?:3[1-389]|4[1-8])|4[34][1-3])....)|(649(?:712|9(?:4.|50))....|8(?:00|33|44|55|66|77|88)[2-9]......))",TD:"(?:((?:[69]..|77.).....|9[01258]......)|(22(?:[3789]0|5[0-5]|6[89])....))",TG:"(?:((?:9[0-36-9]|79)......|70......)|(2(?:2[2-7]|3[23]|44|55|66|77).....))",TH:"(?:((?:14|6[1-6]|[89].).......)|((?:2.|3[2-9]|4[2-5]|5[2-6]|7[3-7])......|1800......))",TJ:"(?:((?:41[18]|(?:5[05]|77|88|9.).)......|50.......)|((?:3(?:1[3-5]|2[245]|3[12]|4[24-7]|5[25]|72)|4(?:46|74|87))......))",TK:"(?:(7[2-4]...?.?.?)|((?:2[2-4]|[34].)...?.?.?))",TL:"(?:(7[3-8]......)|((?:2[1-5]|3[1-9]|4[1-4]).....|80.....))",TM:"(?:(6[1-9]......)|((?:1(?:2.|3[1-9])|2(?:22|4[0-35-8])|3(?:22|4[03-9])|4(?:22|3[128]|4.|6[15])|5(?:22|5[7-9]|6[014-689])).....))",TN:"(?:((?:[259].|4[0-6])......|8[028]......)|(3(?:[012].|6[0-4]|91).....|7.......|81200...|8010....))",TO:"(?:((?:7[5678]|8[46-9]).....)|((?:2.|3[1-8]|4[1-4]|[56]0|7[0149]|8[05])...|0800...))",TR:"(?:(5(?:(?:0[1-7]|22|[34].|5[1-59]|9[246])..|6161|1616).....)|((?:2(?:[13][26]|[28][2468]|[45][268]|[67][246])|3(?:[13][28]|[24-6][2468]|[78][02468]|92)|4(?:[16][246]|[23578][2468]|4[26])).......|800.......|444....|850.......|8[89]8.......))",TT:"(?:(868[2-9]......)|(868(?:2(?:01|[23].)|6(?:0[79]|1[02-8]|2[1-9]|[3-69].|7[0-79])|82[124])....|8(?:00|33|44|55|66|77|88)[2-9]......))",TV:"(?:((?:70.|90)....)|(2[02-9]...))",TW:"(?:(9........)|(2(?:[235-8].......|4.......?)|[3-8]........?|800......))",TZ:"(?:((?:6[125-9]|[79][1-9]).......)|(2[2-8].......|80[08]......))",UA:"(?:((?:39|50|6[36-8]|7[13]|9[1-9]).......|72.......)|((?:3[1-8]|4[13-8]|5[1-7]|6[12459]).......|800......))",UG:"(?:(7(?:(?:[015789].|30|4[0-4]).|2(?:[03].|60)).....)|(20(?:[0147]..|2(?:40|[5-9].)|3(?:0[0-4]|[23].)|5[0-4].|6[035-9].|8[0-2].)....|[34]........|800[123].....))",US:"(?:((?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[0-24679]|4[67]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|6[39]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[16]|5[017]|6[0-279]|78|8[012])|7(?:0[1-46-8]|1[02-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|2[08]|3[0-258]|4[3578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[014678]|4[0179]|5[12469]|7[0-3589]|8[04-69]))[2-9]......)|((?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[0-24679]|4[67]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|6[39]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[16]|5[017]|6[0-279]|78|8[012])|7(?:0[1-46-8]|1[02-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|2[08]|3[0-258]|4[3578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[014678]|4[0179]|5[12469]|7[0-3589]|8[04-69]))[2-9]......|8(?:00|33|44|55|66|77|88)[2-9]......))",UY:"(?:(9[1-9]......)|(2.......|4[2-7]......|80[05]....))",UZ:"(?:(6(?:1(?:2(?:98|2[01])|35[0-4]|50.|61[23]|7(?:[01][017]|4.|55|9[5-9]))|2(?:11.|2(?:[12]1|9[01379])|5(?:[126].|3[0-4])|7..)|5(?:19[01]|2(?:27|9[26])|30.|59.|7..)|6(?:2(?:1[5-9]|2[0367]|38|41|52|60)|3[79].|4(?:56|83)|7(?:[07].|1[017]|3[07]|4[047]|5[057]|67|8[0178]|9[79])|9[0-3].)|7(?:2(?:24|3[237]|4[5-9]|7[15-8])|5(?:7[12]|8[0589])|7(?:0.|[39][07])|9(?:0.|7[079]))|9(?:2(?:1[1267]|5.|3[01]|7[0-4])|5[67].|6(?:2[0-26]|8.)|7..))....|7(?:0...|1(?:13[01]|6(?:0[47]|1[67]|66)|71[3-69]|98.)|2(?:2(?:2[79]|95)|3(?:2[5-9]|6[0-6])|57.|7(?:0.|1[17]|2[27]|3[37]|44|5[057]|66|88))|3(?:2(?:1[0-6]|21|3[469]|7[159])|33.|5(?:0[0-4]|5[579]|9.)|7(?:[0-3579].|4[0467]|6[67]|8[078])|9[4-6].)|4(?:2(?:29|5[0257]|6[0-7]|7[1-57])|5(?:1[0-4]|8.|9[5-9])|7(?:0.|1[024589]|2[0127]|3[0137]|[46][07]|5[01]|7[5-9]|9[079])|9(?:7[015-9]|[89].))|5(?:112|2(?:0.|2[29]|[49]4)|3[1568].|52[6-9]|7(?:0[01578]|1[017]|[23]7|4[047]|[5-7].|8[78]|9[079]))|6(?:2(?:2[1245]|4[2-4])|39.|41[179]|5(?:[349].|5[0-2])|7(?:0[017]|[13].|22|44|55|67|88))|9(?:22[128]|3(?:2[0-4]|7.)|57[05629]|7(?:2[05-9]|3[37]|4.|60|7[2579]|87|9[07])))....|9[0-57-9].......)|((?:6(?:1(?:22|3[124]|4[1-4]|5[123578]|64)|2(?:22|3[0-57-9]|41)|5(?:22|3[3-7]|5[024-8])|6..|7(?:[23].|7[69])|9(?:22|4[1-8]|6[135]))|7(?:0(?:5[4-9]|6[0146]|7[12456]|9[135-8])|1[12].|2(?:22|3[1345789]|4[123579]|5[14])|3(?:2.|3[1578]|4[1-35-7]|5[1-57]|61)|4(?:2.|3[1-579]|7[1-79])|5(?:22|5[1-9]|6[1457])|6(?:22|3[12457]|4[13-8])|9(?:22|5[1-9]))).....))",VA:"(?:(3(?:[12457-9]........|6........?|3........?.?))|(06698.....|80(?:0......|3...)))",VC:"(?:(784[2-9]......)|(784(?:266|3(?:6[6-9]|7.|8[0-24-6])|4(?:38|5[0-36-8]|8[0-8])|5(?:55|7[0-2]|93)|638|784)....|8(?:00|33|44|55|66|77|88)[2-9]......))",VE:"(?:(4(?:1[24-8]|2[46]).......)|((?:2(?:12|3[457-9]|[58][1-9]|[467].|9[1-6])|50[01]).......|800.......))",VG:"(?:(284[2-9]......)|(284(?:(?:229|4(?:22|9[45])|774|8(?:52|6[459]))....|496[1-5]...)|8(?:00|33|44|55|66|77|88)[2-9]......))",VI:"(?:(340[2-9]......)|(340(?:2(?:01|2[0678]|44|77)|3(?:32|44)|4(?:22|7[34])|5(?:1[34]|55)|6(?:26|4[23]|77|9[023])|7(?:1[2-589]|27|7.)|884|998)....|8(?:00|33|44|55|66|77|88)[2-9]......))",VN:"(?:((?:[39].|1(?:2.|6[1-9]|8[68]|99)).......|5(?:2[238]|[689].)......|7[06-9][2-9]......|8(?:6[689]|[1-58].|9[689])......|8[89].......)|(2(?:0[3-9]|1[0-689]|2[0-25-9]|3[2-9]|4[2-8]|5[124-9]|6[0-39]|7[0-7]|8[2-7]|9[0-4679]).......|1800.....?.?))",VU:"(?:((?:5(?:7[0-5]|[0-689].)|7[013-7].)....)|((?:2[02-9].|3(?:[5-7].|8[0-8])|48[4-9]|88.)..))",WF:"(?:((?:50|68|72|8[23])....)|((?:50|68|72)....))",WS:"(?:((?:60|7[25-7].)....)|((?:[2-5].|6[1-9]|84..)...|800...))",XK:"(?:(4[3-79]......)|((?:2[89]0?|3(?:8|90?))......|800.....))",YE:"(?:(7[0137].......)|((?:1(?:7.|[2-68])|2[2-68]|3[2358]|4[2-58]|5[2-6]|6[3-58]|7[24-68]).....))",YT:"(?:(639......)|(269(?:6[0-4]|50)....|80.......))",ZA:"(?:((?:6.|7[0-46-9]).......|8(?:[1-4]..?.?.?.?|5.....)..)|((?:1[0-8]|2[1-378]|3[1-69]|4.|5[1346-8]).......|80.......|87.......))",ZM:"(?:(9[567].......)|(21[1-8]......|800......))",ZW:"(?:(7[1378].......|8644......)|((?:2(?:0(?:4.|5..)|2[278].|48.|7(?:[1-7].|[089]..)|8(?:[2-57-9]|[146]..)|98)|3(?:08|17|3[78]|7(?:[19]|[56].)|8[37]|98)|5[15][78]|6(?:28..|[36]7|75.|[69]8|8(?:7.|8)))...|(?:2(?:1[39]|2[0157]|6[14]|7[35]|84)|329).......|(?:1(?:3..|9.|[4-8])|2(?:0..|[569].)|3(?:[26]|[013459].)|5(?:0|5..|[689].)|6(?:[39]|[01246].|[78]..))...|(?:29.|39|54)......|(?:(?:25|54)83|2582.)...|(?:4.......?|9[2-9].....?)|800.......))"}},cbecjajacd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setFrequent=function(e){var t={};Object.keys(e).forEach(function(n){t[n]=e[n].map(function(e){return e.toString()})}),o.default.supportsFeature(o.default.F.MODEL_STORAGE)&&(0,i.setFrequentContacts)(t);return Promise.resolve()};var r,a=n("ccaaiecfib"),o=(r=a)&&r.__esModule?r:{default:r},i=n("bgaeedafjf")},cbedjffdai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"init",value:function(){}},{key:"get",value:function(){return{textsize:0}}},{key:"set",value:function(e){}}]),e}();t.default=new a},cbeecgcage:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("bjebjijbfc")),i=f(n("dgdjiicfdg")),u=f(n("eceadcicaf")),s=f(n("ihfccfgdf")),l=n("ejbdjaifi"),c=f(n("gbfffciea"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){var e,n,r;d(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={updater:!1},r.listening=!1,r.rerender=function(){r.setState({updater:!r.state.updater})},p(r,n)}return h(t,a.PureComponent),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.maybeRegMidnight()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this.maybeRegMidnight()}},{key:"maybeRegMidnight",value:function(){var e=this.props,t=e.listeners,n=e.msg,r=(0,i.default)().startOf("day").subtract(7,"day");n.t>=r.unix()?this.listening||(this.listening=!0,t.add(c.default,"midnight",this.rerender)):this.listening&&(this.listening=!1,t.remove(c.default,"midnight",this.rerender))}},{key:"render",value:function(){return a.createElement(a.Fragment,null,o.default.relativeStr(this.props.msg.t))}}]),t}();m.CONCERNS={msg:["t"]},m.displayName="TimestampWithMsg";var b=(0,u.default)((0,s.default)((0,l.hoc)(m),m.CONCERNS)),g=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.chat;return e.previewMessage?a.createElement(b,{msg:e.previewMessage}):null}}]),t}();g.CONCERNS={chat:["previewMessage"]},g.displayName="TimestampWithChat";var v=(0,s.default)((0,l.hoc)(g),g.CONCERNS);t.default=function(e){var t=e.chat,n=e.msg;return t?a.createElement(v,{chat:t}):n?a.createElement(b,{msg:n}):null}},cbeedeeja:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=T(n("diifagijfe")),a=T(n("ddjgcdciii")),o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=C(n("ddhijeejag")),s=T(n("fffdgbfji")),l=T(n("echbdbadad")),c=T(n("gbfffciea")),f=T(n("bjigbaghc")),d=T(n("eadfaddcj")),p=T(n("bafegjjfbj")),h=C(n("cajijabhgb")),m=T(n("cdgebfdaif")),b=T(n("bdiiahhjbe")),g=T(n("bffcbhabha")),v=T(n("dcjdgceiej")),y=T(n("bihdhbjih")),_=T(n("eceadcicaf")),E=n("ccihhdchab"),j=n("ejbdjaifi"),O=T(n("bfejacaeaj")),S=n("bijebbjggf"),w=n("bdheiggeaf"),P=n("dgdhcdgffe"),M=n("ddjgcfjicj");function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var v=arguments.length,_=Array(v),j=0;j<v;j++)_[j]=arguments[j];return n=i=A(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(_))),i.openGroupV4InviteRequestFlow=function(e,t,n,r){c.default.openModal(u.createElement(m.default,{participantNeedInvite:e,groupGid:t,subject:n,groupDesc:r}))},i.onMute=function(e,t){if(t){c.default.openModal(u.createElement(g.default,{chat:e,onMute:function(t){e.pendingAction++,e.mute.mute(t,!0).finally(function(){e.pendingAction--})}}),{transition:"modal",uim:i.context.uim})}else e.pendingAction++,e.mute.unmute(!0).finally(function(){e.pendingAction--})},i.onDeleteOrExit=function(e){c.default.openModal(u.createElement(p.default,{chat:e,onDeleteOrExit:function(t){e.pendingAction++,t.finally(function(){e.pendingAction--})}}),{transition:"modal",uim:i.context.uim})},i.onPin=function(e,t){e.pendingAction++,(0,w.setPin)(e,t).catch(function(){}).finally(function(){e.pendingAction--})},i.onClear=function(e){c.default.openModal(u.createElement(l.default,{chat:e}),{transition:"modal",uim:i.context.uim})},i.onArchive=function(e,t){e.pendingAction++,(0,S.setArchive)(e,t).catch(function(){}).finally(function(){e.pendingAction--})},i.onMarkUnread=function(e,t){e.pendingAction++,(0,P.markUnread)(e,t).finally(function(){e.pendingAction--})},i.onSendStarMsgs=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"LEFT";if(!t)return Promise.reject(new h.ActionError);if((0,a.default)(t,function(e){return!e.id}))return Promise.reject(new h.ActionError);var l=n||(0,E.genId)(),f=(0,r.default)(t),d={count:f,_plural:f},p=new E.ActionType(s.default.t(102,d)),m=e.sendStarMsgs(t,!0).then(function(){return new E.ActionType(s.default.t(101,d),s.default.t(156),i.onSendUnstarMsgs.bind(i,e,t,l,o))}).catch(M.ServerStatusCodeError,function(e){if(e.status>=400)return new E.ActionType(s.default.t(100,d))}).catch(function(n){return b.default.error("chatAction:sendStarMsgs dropped")(n),new E.ActionType(s.default.t(100,d),s.default.t(152),i.onSendStarMsgs.bind(i,e,t,l,o))});return c.default.openToast(u.createElement(E.ActionToast,{id:l,toastPosition:o,initialAction:p,pendingAction:m})),m},i.onSendUnstarMsgs=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"LEFT";if(!t)return Promise.reject(new h.ActionError);if((0,a.default)(t,function(e){return!e.id}))return Promise.reject(new h.ActionError);var l=n||(0,E.genId)(),f=(0,r.default)(t),d={count:f,_plural:f},p=new E.ActionType(s.default.t(107,d)),m=e.sendStarMsgs(t,!1).then(function(){return new E.ActionType(s.default.t(105,d),s.default.t(156),i.onSendStarMsgs.bind(i,e,t,l,o))}).catch(M.ServerStatusCodeError,function(e){if(e.status>=400)return new E.ActionType(s.default.t(104,d))}).catch(function(n){return b.default.error("chatAction:sendUnstarMsgs dropped")(n),new E.ActionType(s.default.t(104,d),s.default.t(152),i.onSendUnstarMsgs.bind(i,e,t,l,o))});return c.default.openToast(u.createElement(E.ActionToast,{id:l,toastPosition:o,initialAction:p,pendingAction:m})),m},i.onSendDeleteMsgs=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"LEFT";if(!t)return Promise.reject(new h.ActionError);if((0,a.default)(t,function(e){return!e.id}))return Promise.reject(new h.ActionError);var l=t.length,f=r||(0,E.genId)(),d={count:l,_plural:l},p=new E.ActionType(s.default.t(99,d)),m=e.sendDeleteMsgs(t,n).then(function(e){if(e===l)return new E.ActionType(s.default.t(98,d));var t=l-e;return d={count:t,_plural:t},new E.ActionType(s.default.t(97,d))}).catch(function(n){return b.default.error("chatAction:sendDeleteMsgs dropped")(n),new E.ActionType(s.default.t(97,d),s.default.t(152),i.onSendDeleteMsgs.bind(i,e,t,!1,f,o))});return c.default.openToast(u.createElement(E.ActionToast,{id:f,toastPosition:o,initialAction:p,pendingAction:m})),m},i.onSendRevokeMsgs=function(e,t,n,a){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"LEFT",f=a;if(!t)return Promise.reject(new h.ActionError);var p=t.reduce(function(e,t){var n=[t.canRevoke(),t.type!==d.default.MSG_TYPE.GROUPS_V4_INVITE||t.isGroupsV4InviteExpired?null:t],r=n[0],a=n[1];return[e[0]||!r,e[1]||a]},[!1,null]),m=o(p,2),g=m[0],v=m[1];if(g)return Promise.reject(new h.ActionError);v&&i.handleGroupInviteMsgRevoke(e,v);var y=(0,r.default)(t);f=f||(0,E.genId)();var _={count:y,_plural:y},j=new E.ActionType(s.default.t(99,_)),O=e.sendRevokeMsgs(t,n).then(function(e){return new E.ActionType(s.default.t(98,_))}).catch(function(e){return b.default.error("chatAction:sendRevokeMsgs fail")(e),new E.ActionType(s.default.t(97,_))});return c.default.openToast(u.createElement(E.ActionToast,{id:f,toastPosition:l,initialAction:j,pendingAction:O})),O},i.handleGroupInviteMsgRevoke=function(e,t){var n=t.inviteGrp,r=f.default.me.toString();y.default.revokeGroupV4Invite([t.to.toString()],n,r)},A(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.PureComponent),i(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(c.default,"mute_chat",this.onMute),this.props.listeners.add(c.default,"delete_or_exit_chat",this.onDeleteOrExit),this.props.listeners.add(c.default,"archive_chat",this.onArchive),this.props.listeners.add(c.default,"clear_chat_msgs",this.onClear),this.props.listeners.add(c.default,"mark_chat_unread",this.onMarkUnread),this.props.listeners.add(c.default,"pin_chat",this.onPin),this.props.listeners.add(c.default,"send_star_msgs",this.onSendStarMsgs),this.props.listeners.add(c.default,"send_unstar_msgs",this.onSendUnstarMsgs),this.props.listeners.add(c.default,"send_delete_msgs",this.onSendDeleteMsgs),this.props.listeners.add(c.default,"send_revoke_msgs",this.onSendRevokeMsgs),this.props.listeners.add(c.default,"open_group_v4_invite_request_flow",this.openGroupV4InviteRequestFlow)}},{key:"render",value:function(){return null}}]),t}();N.contextTypes={uim:O.default.instanceOf(v.default)},N.displayName="ActionListener",t.default=(0,_.default)((0,j.hoc)(N))},cbfidcgebe:function(e,t){e.exports={muted:"_3MEAr",container:"_1V-to",media:"eP1x7"}},cbgabiccd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("dabaejgacg"),i=(r=o)&&r.__esModule?r:{default:r};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._done=!1}return a(e,[{key:i.default.iterator,value:function(){return this}},{key:"next",value:function(){return this._done?{done:!0,value:void 0}:this._next()}},{key:"_next",value:function(){throw new Error("unimplemented")}},{key:"return",value:function(){return this._done=!0,this.next()}}]),e}();t.default=u},cbgeijgefb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("eccjjjfhdj"),u=(r=i)&&r.__esModule?r:{default:r};var s=function(e){var t=e.header,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["header"]);return o.createElement("div",a({className:u.default.container},n),t)};s.displayName="SectionHeader",t.default=s},cbghhhdedg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t.isComposing)return!1;var n=window.getSelection();return function(e,t,n){if(!t.modify)return!1;if(1!==t.rangeCount)return!1;var c=u.backwardsEmojiTextsTrie,d=e.data||"";if(!(c=c.get(d)))return!1;if(!t.getRangeAt(0).collapsed)return!1;var p=d,h=null,m=null;if((0,a.default)(n,t,function(e,t,n){return(0,l.default)(c,"Trie ptr somehow not set"),!(c=c.get(e))||(c.hasChildren()?void(0===t&&(p=n+p)):(p=n.slice(t)+p,(m=(0,s.default)(p))&&(h=p),!0))}),!h)return!1;var b=n.serializeTextBeforeCursor();if((0,i.isInsideCodeBlock)(b))return!1;(0,o.default)(t,h.length-1),n.replaceSelection(m);var g=n.refInput,v=(0,r.default)(g,f.BACKWARD);if(!v)return!0;return v.dataset.replacedEmojiText=h,!0}(e,n,t)};var r=c(n("dbegdchadg")),a=c(n("bidcddiaag")),o=c(n("decdhbjfjc")),i=n("dacicgjcai"),u=n("bhibhdeccd"),s=c(u),l=c(n("cgeeeeddea"));function c(e){return e&&e.__esModule?e:{default:e}}var f=r.default.Direction},cbgifejihh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDeviceSentMessage=function(e,t){return new d({deviceSentMessage:new d.DeviceSentMessage({destinationJid:t.toString({legacy:!0}),message:e})})},t.createMsgProtobuf=function(e,t){var n=function(e){var t=e.id,n=e.toJSON();delete n.status,delete n.mimetype,delete n.height,delete n.width,delete n.recipients,delete n.chat,delete n.broadcast,delete n.ack,delete n.invis,delete n.filehash,delete n.recvFresh,delete n.mediaData,u.default.isHttp(e.clientUrl)||delete n.clientUrl;for(var o in n)null==n[o]&&delete n[o];"chat"!==n.type||"url"!==n.subtype||a.default.supportsFeature(a.default.F.URL)||delete n.subtype;n.quotedMsg&&!a.default.supportsFeature(a.default.F.REPLIES_OUT)&&(delete n.quotedMsg,delete n.quotedStanzaID,delete n.quotedRemoteJid,delete n.quotedParticipant);n.mentionedJidList&&!a.default.supportsFeature(a.default.F.MENTIONS_OUT)&&delete n.mentionedJidList;var i=r.default.get(t.remote);i&&(n.conversionTuple=i.toJSON());return n}(e),o=void 0;if(n.quotedMsg){var i=n.quotedMsg.mentionedJidList,s=Array.isArray(i)&&i.length>0?{mentionedJid:i.map(b)}:void 0;s&&(s=new p(s)),o={stanzaId:n.quotedStanzaID,remoteJid:b(n.quotedRemoteJid),participant:b(n.quotedParticipant),quotedMessage:m(n.quotedMsg,{duration:n.quotedMsg.duration,directPath:n.quotedMsg.directPath,encFilehash:n.quotedMsg.uploadhash,filehash:n.quotedMsg.filehash,height:n.quotedMsg.height,mediaKey:n.quotedMsg.mediaKey,mimetype:n.quotedMsg.mimetype,url:n.quotedMsg.clientUrl,width:n.quotedMsg.width},s)}}else n.quotedRemoteJid&&(o={remoteJid:b(n.quotedRemoteJid)});if(n.mentionedJidList&&n.mentionedJidList.length>0){var l=n.mentionedJidList;(o=o||{}).mentionedJid=l.map(b)}n.conversionTuple&&(o=o||{},Object.assign(o,n.conversionTuple));n.isForwarded&&((o=o||{}).isForwarded=n.isForwarded);n.forwardingScore&&((o=o||{}).forwardingScore=n.forwardingScore);o&&(o=new p(o));return m(n,t,o)},t.createMessageKey=function(e){return new h({remoteJid:b(e.to),fromMe:!0,id:e.id.id})};var r=l(n("ccbihadedf")),a=l(n("ccaaiecfib")),o=n("beadfddidc"),i=n("hjbbdjjdf"),u=l(n("edbaidcaf")),s=l(n("jccfhaecf"));function l(e){return e&&e.__esModule?e:{default:e}}var c=n("hgjcbccfg"),f=n("bgiachiigg"),d=f.Message,p=f.ContextInfo,h=n("bfifcddbbg").MessageKey;function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments[3],a=r||new d,u=e.mimetype||t.mimetype||void 0,s=t.duration;switch(e.type){case"chat":"url"===e.subtype||e.quotedMsg||e.quotedRemoteJid||Array.isArray(e.mentionedJidList)&&e.mentionedJidList.length>0||e.conversionTuple||e.isForwarded||e.forwardingScore||e._isPaymentNoteMsg?a.extendedTextMessage=new d.ExtendedTextMessage({text:e.body,matchedText:e.matchedText,canonicalUrl:e.canonicalUrl,description:e.description,title:e.title,jpegThumbnail:g(e.thumbnail),previewType:e.richPreviewType,contextInfo:n}):a.conversation=e.body;break;case"groups_v4_invite":a.groupInviteMessage=new d.GroupInviteMessage({inviteCode:e.inviteCode,inviteExpiration:parseInt(e.inviteCodeExp,10),groupJid:e.inviteGrp,groupName:e.inviteGrpName,caption:e.comment,jpegThumbnail:g(e.inviteGrpJpegThum)});break;case"sticker":a.stickerMessage=new d.StickerMessage({url:t.url,mimetype:t.mimetype,directPath:t.directPath||void 0,fileSha256:g(t.filehash),fileEncSha256:g(t.encFilehash),mediaKey:g(t.mediaKey),fileLength:(0,i.isNumber)(e.size)?e.size:void 0,height:e.height,width:e.width,pngThumbnail:g(e.pngThumbnail),contextInfo:n});break;case"location":var l=new d.LocationMessage({degreesLatitude:parseFloat(e.lat)||void 0,degreesLongitude:parseFloat(e.lng)||void 0,jpegThumbnail:g(e.body),contextInfo:n});if(e.loc&&(0,i.isString)(e.loc)&&e.clientUrl){var c=e.loc.split("\n");l.name=c[0],l.address=c[1],l.url=e.clientUrl}a.locationMessage=l;break;case"vcard":a.contactMessage=new d.ContactMessage({displayName:e.subtype,vcard:e.body,contextInfo:n});break;case"multi_vcard":a.contactsArrayMessage=new d.ContactsArrayMessage({displayName:e.subtype,contacts:e.vcardList.map(function(e){return new d.ContactMessage(e)}),contextInfo:n});break;case"image":a.imageMessage=new d.ImageMessage({url:t.url,mimetype:u,caption:e.caption,directPath:t.directPath||void 0,fileSha256:g(t.filehash),fileEncSha256:g(t.encFilehash),height:t.height,width:t.width,fileLength:(0,i.isNumber)(e.size)?e.size:void 0,mediaKey:g(t.mediaKey),jpegThumbnail:g(e.body),contextInfo:n});break;case"product":a.productMessage=new d.ProductMessage({product:new d.ProductMessage.ProductSnapshot({productImage:new d.ImageMessage({url:t.url,mimetype:u,caption:e.caption,directPath:t.directPath||void 0,fileSha256:g(t.filehash),fileEncSha256:g(t.encFilehash),height:t.height,width:t.width,fileLength:(0,i.isNumber)(e.size)?e.size:void 0,mediaKey:g(t.mediaKey),jpegThumbnail:g(e.body)}),productId:e.productId,title:e.title,description:e.description,currencyCode:e.currencyCode,priceAmount1000:e.priceAmount1000||void 0,retailerId:e.retailerId,url:e.url,productImageCount:e.productImageCount}),businessOwnerJid:e.businessOwnerJid,contextInfo:n});break;case"document":var f=new d.DocumentMessage({url:t.url,mimetype:u,title:e.caption,directPath:t.directPath||void 0,fileSha256:g(t.filehash),fileEncSha256:g(t.encFilehash),fileName:t.filename,fileLength:(0,i.isNumber)(e.size)?e.size:void 0,mediaKey:g(t.mediaKey),jpegThumbnail:g(e.body),contextInfo:n});(0,i.isNumber)(e.pageCount)&&!isNaN(e.pageCount)&&(f.pageCount=e.pageCount),a.documentMessage=f;break;case"ptt":case"audio":s=(0,i.isString)(s)?parseInt(s,10):s,a.audioMessage=new d.AudioMessage({url:t.url,mimetype:u,directPath:t.directPath||void 0,fileSha256:g(t.filehash),fileEncSha256:g(t.encFilehash),seconds:s,ptt:"ptt"===e.type,fileLength:(0,i.isNumber)(e.size)?e.size:void 0,mediaKey:g(t.mediaKey),contextInfo:n,streamingSidecar:e.streamingSidecar});break;case"video":s=(0,i.isString)(s)?parseInt(s,10):s,a.videoMessage=new d.VideoMessage({url:t.url,mimetype:u,directPath:t.directPath||void 0,fileSha256:g(t.filehash),fileEncSha256:g(t.encFilehash),height:t.height,width:t.width,seconds:s,caption:e.caption,fileLength:(0,i.isNumber)(e.size)?e.size:void 0,mediaKey:g(t.mediaKey),jpegThumbnail:g(e.body),gifPlayback:e.isGif,gifAttribution:e.gifAttribution,contextInfo:n,streamingSidecar:e.streamingSidecar});break;case"protocol":if("revoke"===e.subtype){var p=e.protocolMessageKey;a.protocolMessage=new d.ProtocolMessage({type:d.ProtocolMessage.TYPE.REVOKE,key:new h({remoteJid:b(p.remote),fromMe:p.fromMe,id:p.id,participant:b(p.participant)})})}break;case"payment":var v={};v.stanzaId=e.quotedStanzaID,v.mentionedJid=e.mentionedJidList&&e.mentionedJidList.map(b),v.isForwarded=e.isForwarded,v.forwardingScore=e.forwardingScore,v.participant=b(e.quotedParticipant),e.quotedMsg&&(v.quotedMessage=m(e.quotedMsg));var y=e.paymentNoteMsg?m(Object.assign(e.paymentNoteMsg,{_isPaymentNoteMsg:!0}),v):void 0;switch(e.subtype){case"send":var _=e.paymentRequestMessageKey?new h({fromMe:e.paymentRequestMessageKey.fromMe,remoteJid:b(e.paymentRequestMessageKey.remote),id:e.paymentRequestMessageKey.id,participant:b(e.paymentRequestMessageKey.participant)}):void 0;a.sendPaymentMessage=new d.SendPaymentMessage({requestMessageKey:_,noteMessage:y});break;case"request":a.requestPaymentMessage=new d.RequestPaymentMessage({amount1000:e.amount1000,expiryTimestamp:e._paymentExpiryTimestamp,requestFrom:e._paymentRequestFrom,currencyCodeIso4217:e._currencyCodeIso4217,noteMessage:y})}break;case"template_button_reply":(0,o.shouldEnableHsm)()&&(a.templateButtonReplyMessage=new d.TemplateButtonReplyMessage({selectedId:e.selectedId,selectedIndex:e.selectedIndex,selectedDisplayText:e.body,contextInfo:n}));break;case"template":if((0,o.shouldEnableHsm)())return"text"===e.subtype?(e.type="chat",e.title&&(e.body="*"+e.title+"*\n"+e.body)):e.type=e.subtype,m(e,t,n,a)}return a}function b(e){return e instanceof s.default?e.toString({legacy:!0}):(0,i.isString)(e)?e.replace(/@c.us$/,"@s.whatsapp.net"):void 0}function g(e){return e?c.decode(e):void 0}},cbhbjajgac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n("cgjbjefebj")),a=f(n("hajciceai")),o=f(n("bebajedcaf")),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=f(n("cefgfgdhj")),s=f(n("gjhhbhigc")),l=f(n("cfegbbcefd")),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),i(t,null,[{key:"match",value:function(e,t){var n=t.mentions;if(!n||(0,o.default)(n))return[];for(var i,s,l=(i=n,s=(0,a.default)(i).map(r.default).join("|"),new RegExp(`(${s})`,"g")),c=(0,u.default)(e,l),f=0;f<c.length;++f)c[f][4]=n[c[f][4][0]];return c}},{key:"jsx",value:function(e,t,n){var r=n.selectable;return c.createElement(l.default,{contact:t,selectable:r})}}]),t}();d.format=!1,t.default=d},cbhejdgihi:function(e,t){e.exports={muted:"_8nsUD",mainWrapper:"_11ARv",v3_x:"_1C7S1",v3X:"_1C7S1",v3_x_mac:"_3jOF8",v3XMac:"_3jOF8",modalBackground:"_2dLx9"}},cbhhfeaigc:function(e,t){e.exports={muted:"Cqv5U",container:"_19l4G",error:"_1OJm4",compact:"_3st4K"}},cbhhieidga:function(e,t,n){"use strict";e.exports={singleByte:["ciphertext","invite"]}},cbiciaafaf:function(e,t){e.exports={muted:"U7QNg",tooltip:"_3Fjw5","menu-tooltip":"_2fn4u",menuTooltip:"_2fn4u"}},cbidhfhhbb:function(e,t){e.exports={muted:"MkD-B",chatIcon:"DLg-l",buttonContainer:"a2oPi",name:"_5CRCo",price:"_1_rGc",description:"ExrSP",more:"_1NstX",descBlock:"_9GmPg"}},cbifffdech:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=p(n("ihfccfgdf")),i=n("ejbdjaifi"),u=p(n("dbabefhajh")),s=p(n("jdgfdffcj")),l=n("bheafeifce"),c=p(n("cfiighfhhg")),f=n("facgccaif"),d=n("bidfjbaebi");function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){(0,d.openExternalLink)((0,f.getCiphertextFaqUrl)())},m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement(u.default,{msg:(0,l.unproxy)(this.props.msg),displayAuthor:this.props.displayAuthor},a.createElement(c.default,{iconName:"ciphertext",msg:this.props.msg},l10n.t(850)," ",a.createElement("span",{className:s.default.action,role:"button",onClick:h},l10n.t(588))))}}]),t}();m.CONCERNS={msg:["isSentByMe","isGroupMsg","senderObj"]},m.displayName="Ciphertext",t.default=(0,o.default)((0,i.hoc)(m),m.CONCERNS)},cbigbjjigh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n("chdchcgfaf")),a=v(n("cajgdeffge")),o=v(n("eaaagccfda")),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),s=v(n("gbfffciea")),l=v(n("eadfaddcj")),c=v(n("eceadcicaf")),f=n("eaaehfdjdg"),d=v(f),p=v(n("ihfccfgdf")),h=n("ejbdjaifi"),m=v(n("bcjcbbafcj")),b=v(n("egjjcjcg")),g=n("cgbdcdhgig");function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=(0,o.default)(function(e,t){b.default.setVideoVolumeSettings(e,t)},500),E=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),l=0;l<i;l++)u[l]=arguments[l];return n=o=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={hasSentPlayed:!1},o.checkIteration=0,o.checkForSuccessInterval=0,o.hasCalledPlaying=!1,o.mediaBlobWasDownloadedBeforeMount=Boolean(o.props.mediaData.mediaBlob),o.videoRef=null,o.setRefVideo=function(e){if(o.videoRef!==e&&(o.videoRef=e,e)){var t=b.default.getVideoVolumeSettings();t&&((0,a.default)(t.volume)&&(e.volume=t.volume),(0,r.default)(t.muted)&&(e.muted=t.muted)),j()&&o.props.autoPlay&&o.startCheckForSuccess()}},o.onVolumeChange=function(){var e=o.videoRef;e&&_(e.volume,e.muted)},o.onTimeUpdate=function(){var e=o.videoRef;e&&(e.currentTime/e.duration>.5||e.currentTime>10)&&((0,g.markPlayed)(o.props.msg),o.setState({hasSentPlayed:!0}))},o.startCheckForSuccess=function(){o.checkIteration=0,o.checkForSuccessInterval||(o.checkForSuccessInterval=setInterval(o.checkForSuccess,250))},o.clearCheckForSuccess=function(){o.checkForSuccessInterval&&(clearInterval(o.checkForSuccessInterval),o.checkIteration=0,o.checkForSuccessInterval=0)},o.checkForSuccess=function(){if(d.default.state===f.STATE.CONNECTED){o.checkIteration++;var e=o.videoRef&&o.videoRef.buffered;e&&e.length&&e.end(0)>0?o.onPlaying():o.checkIteration>240&&o.clearCheckForSuccess()}},o.onPlayerError=function(){o.clearCheckForSuccess()},o.onOtherPlaying=function(e){e!==o&&o.pause()},o.pause=function(){var e=o.videoRef;e&&(e.paused||e.pause())},o.onPlaying=function(){o.clearCheckForSuccess(),s.default.mediaPlaying(o)},o.setStartTime=function(){null!=o.props.startTime&&0!==o.props.startTime&&o.videoRef&&(o.videoRef.currentTime=o.props.startTime)},y(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.PureComponent),i(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(s.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(s.default,"pttRecording",this.pause)}},{key:"componentWillUnmount",value:function(){_.flush(),this.clearCheckForSuccess()}},{key:"componentDidUpdate",value:function(e){e.startTime!==this.props.startTime&&this.setStartTime()}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.mediaData,r=n.mediaBlob,a=void 0,o=n.streamable&&n.isStreamable();a=!this.mediaBlobWasDownloadedBeforeMount&&o||!r?n.streamable&&n.isStreamable()?`${l.default.VIDEO_STREAM_URL}?key=${this.props.msg.id.toString()}`:void 0:r.url();var i=!this.state.hasSentPlayed&&(0,g.canMarkPlayed)(t)?this.onTimeUpdate:void 0,s=null!=e.startTime&&0!==e.startTime?this.setStartTime:void 0,c=j()&&!e.autoPlay?this.startCheckForSuccess:void 0;return u.createElement("video",{ref:this.setRefVideo,src:a,poster:e.poster,className:e.className,controls:e.controls,autoPlay:e.autoPlay,onClick:e.onClick,onDoubleClick:e.onDoubleClick,onVolumeChange:this.onVolumeChange,onLoadedMetadata:s,onPlay:c,onPlaying:this.onPlaying,onTimeUpdate:i,onError:this.clearCheckForSuccess},e.children)}}]),t}();function j(){return m.default.isGecko||m.default.isSafari}E.CONCERNS={msg:["id","isSentByMe","ack","type","isGif"],mediaData:["mediaBlob","streamable"]},E.displayName="VideoTag",t.default=(0,c.default)((0,p.default)((0,h.hoc)(E),E.CONCERNS))},cbiibcfhjf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Uint8Array(32);return window.crypto.getRandomValues(e),r.encode(e)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("hgjcbccfg"))},cbjacjjfgc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("cdegajchcj"),i=(r=o)&&r.__esModule?r:{default:r};function u(){return a.createElement("div",{className:i.default.shade})}u.displayName="ThumbShade"},cbjagjcgia:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n("ddhijeejag")),o=p(n("dbdfbgehgj")),i=p(n("gbfffciea")),u=p(n("eceadcicaf")),s=n("ejbdjaifi"),l=h(n("dgjifchfde")),c=n("cacaefcddj"),f=n("dcdiaahjj"),d=p(f);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.count=0,r.updateUnreadCount=function(){var e=void 0;e=d.default.displayInfo===f.StreamInfo.OFFLINE?-1:d.default.displayInfo===f.StreamInfo.TIMEOUT?-1:o.default.filter(function(e){return!e.archive&&e.isDirty()}).length,r.count!==e&&(r.count=e,(0,c.setTitleAndIcon)(e))},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.listeners;t.add(i.default,"alert_new_msg",function(t){return l.showMsgNotification(t,e.matchesFilter)}),t.add(i.default,"alert_call",l.showCallNotification),t.add(i.default,"cancel_call",l.cancelCallNotification),t.add(o.default,"add remove reset change:archive change:unreadCount",this.updateUnreadCount),t.add(o.default,"change:hasUnread",l.closeNotifications),t.add(d.default,"change:displayInfo",this.updateUnreadCount),this.updateUnreadCount()}},{key:"componentWillUnmount",value:function(){(0,c.setTitleAndIcon)(0)}},{key:"matchesFilter",value:function(e){return!1}},{key:"render",value:function(){return null}}]),t}();b.displayName="NotificationManager",t.default=(0,u.default)((0,s.hoc)(b))},cbjedbdgjh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("gbfffciea")),i=d(n("biddiiafgd")),u=d(n("bjigbaghc")),s=d(n("eaaehfdjdg")),l=d(n("eceadcicaf")),c=d(n("bbajjgjhej")),f=n("ejbdjaifi");function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.close=function(){u.default.smbTos||o.default.closeModal()},r.logout=function(){o.default.closeModal(),s.default.logout()},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(u.default,"change:smbTos",this.close)}},{key:"render",value:function(){var e=l10n.t(1282),t=l10n.t(658),n=this.logout;return a.createElement(i.default,{onOK:n,okText:t},e,"",a.createElement(c.default,null))}}]),t}();h.displayName="TermsOfServiceModal",t.default=(0,l.default)((0,f.hoc)(h))},ccagfiehde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!!e&&e.nodeType===Node.TEXT_NODE&&0===e.textContent.length}},ccajjgdjf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.metaKey||e.shiftKey||e.altKey||e.ctrlKey}},ccbagdhfbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n("chihjdheic")),a=b(n("cgjajaggch")),o=b(n("dfaadfeedd")),i=b(n("bhehgiigij")),u=b(n("dbafiicfja"));t.typeIsMMS=function(e,t){if((0,l.shouldEnableHsm)()&&"template"===e)return t!==s.default.TEMPLATE_SUBTYPE.TEXT&&t!==s.default.TEMPLATE_SUBTYPE.LOCATION;return g[e]||!1},t.msgMatchesType=function(e,t){switch(t){case"text":return e.type===s.default.MSG_TYPE.CHAT&&"url"!==e.subtype;case"image":return e.type===s.default.MSG_TYPE.IMAGE;case"video":return e.type===s.default.MSG_TYPE.VIDEO&&!e.isGif;case"gif":return e.type===s.default.MSG_TYPE.VIDEO&&e.isGif;case"audio":return e.type===s.default.MSG_TYPE.AUDIO;case"ptt":return e.type===s.default.MSG_TYPE.PTT;case"document":return e.type===s.default.MSG_TYPE.DOCUMENT;case"location":return e.type===s.default.MSG_TYPE.LOCATION;case"vcard":return e.type===s.default.MSG_TYPE.VCARD||e.type===s.default.MSG_TYPE.MULTI_VCARD;case"url":return e.type===s.default.MSG_TYPE.CHAT&&"url"===e.subtype;case"sticker":return e.type===s.default.MSG_TYPE.STICKER;case"template":return e.hsmEnabled;case void 0:default:return!1}},t.createQuotedMsg=function(e){if(!e)return null;var t=new p.default({from:e.from,to:e.to,id:e.id,participant:e.participant,selfDir:e.self});return e.id=t,new h.default.Msg.constructor.model(e)},t.getOriginalQuotedMsgIfPossible=function(e,t){if(!e)return e;var n=t.get(e.id);return n&&!n.isRevoked?n:e},t.getBroadcastFanoutKeys=v,t.broadcastFanout=function(e){var t=void 0;if(!e.invis){var n=v(e);n&&(t=n.map(function(e){return e.remote}),n.forEach(function(t){if(!h.default.Msg.some((0,i.default)({id:t}))){var n=_(e);n.to=t.remote,n.id=t,n.broadcast=!0;var r=h.default.Msg.add(n,{merge:!0});h.default.Chat.find(t.remote).then(function(e){y(r,e,!0)})}}))}return t},t.addRecordsToChat=y;var s=b(n("eadfaddcj")),l=n("beadfddidc"),c=b(n("eecdaegci")),f=n("cefjgcjhgf"),d=b(n("bdiiahhjbe")),p=b(n("ccgjijjbbj")),h=b(n("bhggeigghg")),m=b(n("jccfhaecf"));function b(e){return e&&e.__esModule?e:{default:e}}var g={image:!0,video:!0,audio:!0,ptt:!0,sticker:!0,document:!0,product:!0,template:!1};function v(e){var t=void 0,n=void 0,r=void 0;if(e instanceof h.default.Msg.constructor.model)n=e,r=e.id;else{if(!(e instanceof p.default))return void d.default.error("model:msgs:broadcastFanout: unknown msgOrKey: "+String(e))(e);r=e}if(!m.default.isStatusV3(r.remote)){if(n&&n.recipients&&0!==n.recipients.length)t=n.recipients;else{var a=h.default.GroupMetadata.get(r.remote);a?t=(0,u.default)(_(a.participants),"id"):d.default.log("model:msgs:broadcastFanout no group_metadata rec for bclist, cant fanout: "+r.remote.toString())()}return t?t.map(function(e){return new p.default({fromMe:r.fromMe,remote:e,id:r.id})}):void 0}}function y(e,t,i,u,s,l){var c=u||t.msgs;if(0!==e.length){var p=c===t.msgs;if(l)if(p){d.default.info("models:msg:store:resetMostRecentMsgs .msgs === cmc !")();var m=(0,o.default)(e,function(e){return!!e});m&&(0,f.setLastReceivedKey)(t.id,m.id).then(function(){t.lastReceivedKey=m.id,c.add(e)})}else{p=!0;var b=(0,o.default)(e,function(e){return!!e}),g=Promise.resolve();b&&(g=(0,f.setLastReceivedKey)(t.id,b.id).then(function(){t.lastReceivedKey=b.id,c.add(e)})),g.then(function(){var e=new(0,n("dbfjecijha").default);if(e.replace(t.msgs),t.msgChunks.push(e),c.msgLoadState.noEarlierMsgs){var r=[`chatMsgsCollection ${t.id.toString()} replaced by a collection with noEarlierMsgs true`,(new Error).stack];d.default.logVerbose(r.join("\n"))()}t.replaceMsgsCollection(c),t.msgs.trigger("change:last",t.msgs.last())})}else if(i){var v=Promise.resolve();if(p){var y=(0,o.default)(e,function(e){return!!e});y&&(v=(0,f.setLastReceivedKey)(t.id,y.id).then(function(){t.lastReceivedKey=y.id}))}v.then(function(){c.add(e)})}else c.add(e,{at:0,silent:(0,a.default)(e,E)});if(i&&p||!h.default.Msg.lastReceivedReceipt[t.id])for(var _=e.length-1;_>=0;_--){var j=e[_],O=j.id;if(O.fromMe&&!j.isNotification){h.default.Msg.updateLastReceipt(O.remote,j.t);break}}if(i&&p||!h.default.Msg.lastReceivedPaymentTransaction[t.id])for(var S=e.length-1;S>=0;S--){var w=e[S],P=w.id;w.paymentTransactionTimestamp&&h.default.Msg.updateLastTransactionTime(P.remote,w.paymentTransactionTimestamp)}var M=s;M&&!t.unreadMsgAnchor&&(t.disableUnreadAnchor?t.disableUnreadAnchor=!1:t.unreadMsgAnchor=(0,r.default)(e,function(e){return e.id.toString()===M.toString()}))}}function _(e){return null!=e&&"object"==typeof e?JSON.parse(JSON.stringify(e),c.default):e}function E(e){return"i"===e.eventType}},ccbihadedf:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("cgcgbfbffj"),o=c(a),i=c(n("bjebjijbfc")),u=n("dbbaabdabi"),s=c(u),l=n("cjbafegbjg");function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"initializeFromCache",value:function(e){if(e){var t=i.default.globalUnixTime()-u.ConversionTupleExpiry,n=e.filter(function(e){return e.timestamp-t>0}).map(function(e){var t=(0,l.parseConversionData)(e.conversionData);return t?e.conversionData=t:delete e.conversionData,e});this.add(n),this.saveToCache()}}}]),t}();f.model=s.default,f.cachePolicy={id:"conversion_tuple",policy:a.CACHE_POLICY.LOAD,delay:1e3},e.exports=new f},ccbjfaficd:function(e,t){e.exports={muted:"_38cfN",pane:"NuujD",footer:"_3EeLD",body:"_1_q7u",filler:"_3B8vA",footerMessage:"_26pkE",subheader:"_3SYkD"}},cccaiafbjc:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("bcbahjefec")),i=u(n("gcbiehega"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.closeStatusViewer=function(){r.end()},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.push(a.createElement(i.default,{initialStatusV3:this.props.statusV3,quotedMsgKey:this.props.msgKey,closeStatusViewer:this.closeStatusViewer,onMsgNotFound:this.props.onMsgNotFound}),"none")}}]),t}();e.exports=l},cccfbheica:function(e,t,n){"use strict";var r=s(n("ddfeabiaci")),a=s(n("ccaaiecfib")),o=s(n("ddcbacabaj")),i=s(n("cfejjfjhca")),u=s(n("cebabjecdf"));function s(e){return e&&e.__esModule?e:{default:e}}var l=n("bbcaggdbc").WebMessageInfo,c=n("eaiefjeabj"),f={version:"16",M:u.default,parseMsgStubProto:function(e,t){var n=l.STUBTYPE;switch(e.messageStubType){case n.REVOKE:return t.type="revoked",t;case n.CIPHERTEXT:return t.type="ciphertext",t;case n.OVERSIZED:return t.type="oversized",t;case n.FUTUREPROOF:return t.subtype="phone",t;default:return this.parseMsgStubTemplate(e,t)}},parseMsgGp2:function(e){},parseMsgBroadcast:function(e){},parseMsgNotification:function(e){},parseMsgSecurity:function(e){},parseMsgCallLog:function(e){},parseMsgStubTemplate:function(e,t){var n=this,r=l.STUBTYPE;switch(t.type="notification_template",t.templateParams=Array.isArray(e.messageStubParameters)?e.messageStubParameters.map(function(t){return e.messageStubType===r.GROUP_CREATE||e.messageStubType===r.GROUP_CHANGE_SUBJECT?t:n.decodeJid(t)}):void 0,e.messageStubType){case r.NON_VERIFIED_TRANSITION:t.subtype="non_verified_transition";break;case r.UNVERIFIED_TRANSITION:t.subtype="unverified_transition";break;case r.VERIFIED_TRANSITION:t.subtype="verified_transition";break;case r.VERIFIED_LOW_UNKNOWN:t.subtype="verified_low_unknown";break;case r.VERIFIED_HIGH:t.subtype="verified_high";break;case r.VERIFIED_INITIAL_UNKNOWN:t.subtype="verified_initial_unknown";break;case r.VERIFIED_INITIAL_LOW:t.subtype="verified_initial_low";break;case r.VERIFIED_INITIAL_HIGH:t.subtype="verified_initial_high";break;case r.VERIFIED_TRANSITION_ANY_TO_NONE:t.subtype="verified_transition_any_to_none";break;case r.VERIFIED_TRANSITION_ANY_TO_HIGH:t.subtype="verified_transition_any_to_high";break;case r.VERIFIED_TRANSITION_HIGH_TO_LOW:t.subtype="verified_transition_high_to_low";break;case r.VERIFIED_TRANSITION_HIGH_TO_UNKNOWN:t.subtype="verified_transition_high_to_unknown";break;case r.VERIFIED_TRANSITION_UNKNOWN_TO_LOW:t.subtype="verified_transition_unknown_to_low";break;case r.VERIFIED_TRANSITION_LOW_TO_UNKNOWN:t.subtype="verified_transition_low_to_unknown";break;case r.VERIFIED_TRANSITION_NONE_TO_LOW:t.subtype="verified_transition_none_to_low";break;case r.VERIFIED_TRANSITION_NONE_TO_UNKNOWN:t.subtype="verified_transition_none_to_unknown";break;case r.GROUP_CREATE:t.type="gp2",t.subtype="create",t.body=t.templateParams[0],t.recipients=[],t.templateParams=void 0;break;case r.GROUP_DELETE:t.type="gp2",t.subtype="delete",t.recipients=[],t.templateParams=void 0;break;case r.GROUP_CHANGE_SUBJECT:t.type="gp2",t.subtype="subject",t.body=t.templateParams[0],t.recipients=[],t.templateParams=void 0;break;case r.GROUP_CHANGE_ICON:t.type="gp2",t.subtype="picture",t.recipients=[],t.body=t.templateParams[0],t.templateParams=void 0;break;case r.GROUP_CHANGE_INVITE_LINK:t.type="gp2",t.subtype="revoke_invite",t.recipients=[];break;case r.GROUP_CHANGE_DESCRIPTION:t.type="gp2",t.subtype="description",t.recipients=[];break;case r.GROUP_CHANGE_RESTRICT:t.type="gp2",t.subtype="restrict",t.recipients=[],t.body=t.templateParams[0];break;case r.GROUP_CHANGE_ANNOUNCE:t.type="gp2",t.subtype="announce",t.recipients=[],t.body=t.templateParams[0];break;case r.GROUP_CHANGE_NO_FREQUENTLY_FORWARDED:t.type="gp2",t.subtype="no_frequently_forwarded",t.recipients=[],t.body=t.templateParams[0];break;case r.GROUP_ANNOUNCE_MODE_MESSAGE_BOUNCE:t.type="gp2",t.subtype="announce_msg_bounce",t.recipients=[],t.templateParams=void 0;break;case r.GROUP_PARTICIPANT_ADD:t.type="gp2",t.subtype="add",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.GROUP_PARTICIPANT_REMOVE:t.type="gp2",t.subtype="remove",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.GROUP_PARTICIPANT_PROMOTE:t.type="gp2",t.subtype="promote",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.GROUP_PARTICIPANT_DEMOTE:t.type="gp2",t.subtype="demote",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.GROUP_PARTICIPANT_INVITE:t.type="gp2",t.subtype="invite",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.GROUP_PARTICIPANT_LEAVE:t.type="gp2",t.subtype="leave",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.GROUP_PARTICIPANT_CHANGE_NUMBER:t.type="gp2",t.subtype="modify",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.GROUP_V4_ADD_INVITE_SENT:t.type="gp2",t.subtype="v4_add_invite_sent",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.GROUP_PARTICIPANT_ADD_REQUEST_JOIN:t.type="gp2",t.subtype="v4_add_invite_join",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.BROADCAST_CREATE:t.type="broadcast_notification",t.subtype="create",t.body=t.templateParams[0]||"0",t.templateParams=void 0;break;case r.BROADCAST_ADD:t.type="broadcast_notification",t.subtype="add",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.BROADCAST_REMOVE:t.type="broadcast_notification",t.subtype="remove",t.recipients=t.templateParams,t.templateParams=void 0;break;case r.GENERIC_NOTIFICATION:t.type="notification",t.body=t.templateParams[0],t.templateParams=void 0;break;case r.E2E_IDENTITY_CHANGED:t.type="e2e_notification",t.subtype="identity",t.body=t.templateParams[0],t.templateParams=void 0;break;case r.E2E_ENCRYPTED:t.type="e2e_notification",t.subtype="encrypt";break;case r.CALL_MISSED_VOICE:t.type="call_log",t.subtype="miss";break;case r.CALL_MISSED_VIDEO:t.type="call_log",t.subtype="miss_video";break;case r.CALL_MISSED_GROUP_VOICE:t.type="call_log",t.subtype="miss_group";break;case r.CALL_MISSED_GROUP_VIDEO:t.type="call_log",t.subtype="miss_group_video";break;case r.INDIVIDUAL_CHANGE_NUMBER:t.subtype="change_number";break;case r.PAYMENT_CIPHERTEXT:t.type="payment",t.subtype="ciphertext",this.callFeatureFlagFun(a.default.F.PAYMENTS,"parsePaymentInfo",t,e.paymentInfo);break;case r.PAYMENT_FUTUREPROOF:t.type="payment",t.subtype="futureproof",this.callFeatureFlagFun(a.default.F.PAYMENTS,"parsePaymentInfo",t,e.paymentInfo);break;case r.PAYMENT_ACTION_REQUEST_CANCELLED:t.subtype="payment_transaction_request_cancelled";break;case r.PAYMENT_TRANSACTION_STATUS_UPDATE_FAILED:t.subtype="payment_transaction_status_update_failed";break;case r.PAYMENT_TRANSACTION_STATUS_UPDATE_REFUNDED:t.subtype="payment_transaction_status_update_refunded";break;case r.PAYMENT_TRANSACTION_STATUS_UPDATE_REFUND_FAILED:t.subtype="payment_transaction_status_update_refund_failed";break;case r.PAYMENT_TRANSACTION_STATUS_RECEIVER_PENDING_SETUP:t.subtype="payment_transaction_status_receiver_pending_setup";break;case r.PAYMENT_TRANSACTION_STATUS_RECEIVER_SUCCESS_AFTER_HICCUP:t.subtype="payment_transaction_status_receiver_success_after_hiccup";break;case r.PAYMENT_ACTION_ACCOUNT_SETUP_REMINDER:t.subtype="payment_action_account_setup_reminder";break;case r.PAYMENT_ACTION_SEND_PAYMENT_REMINDER:t.subtype="payment_action_send_payment_reminder";break;case r.PAYMENT_ACTION_SEND_PAYMENT_INVITATION:t.subtype="payment_action_send_payment_invitation";break;case r.PAYMENT_ACTION_REQUEST_DECLINED:t.subtype="payment_action_request_declined";break;case r.PAYMENT_ACTION_REQUEST_EXPIRED:t.subtype="payment_action_request_expired";break;case r.BIZ_VERIFIED_TRANSITION_TOP_TO_BOTTOM:t.subtype="biz_verified_transition_top_to_bottom";break;case r.BIZ_VERIFIED_TRANSITION_BOTTOM_TO_TOP:t.subtype="biz_verified_transition_bottom_to_top";break;case r.BIZ_INTRO_TOP:t.subtype="biz_intro_top";break;case r.BIZ_INTRO_BOTTOM:t.subtype="biz_intro_bottom";break;case r.BIZ_NAME_CHANGE:t.subtype="biz_name_change";break;case r.BIZ_MOVE_TO_CONSUMER_APP:t.subtype="biz_move_to_consumer_app";break;case r.BIZ_TWO_TIER_MIGRATION_TOP:t.subtype="biz_two_tier_migration_top";break;case r.BIZ_TWO_TIER_MIGRATION_BOTTOM:t.subtype="biz_two_tier_migration_bottom";break;default:t.templateParams=void 0}return t},sendCallOffer:function(e,t){var n=this;return new Promise(function(r,a){var u=(0,i.default)(),s=t?o.default.formatCallXMLOffer(n,u,e):o.default.formatCallOffer(n,u,e);n.binSend("send",s,a,{tag:u,onSend:n.wrap(function(e){r(e)},r),onDrop:n.wrap(a),retryOn5xx:!0},{debugString:["action","call","offer",e.common.peer_jid].join(),debugObj:{xml:s,struct:e},metricName:"CALL"})})}};e.exports=(0,r.default)(f,c)},cccgaejadd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n("djfhiaaehb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=v(n("bcbahjefec")),u=v(n("gbfffciea")),s=v(n("eadfaddcj")),l=n("cjcffhicea"),c=v(l),f=v(n("dgjacfgggf")),d=v(n("ifeefbdg")),p=v(n("fffdgbfji")),h=n("bgiachiigg"),m=v(n("cahfddcdga")),b=n("dfdebdgdei"),g=n("dbbhhgjjbg");function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=a=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.handleForwardConfirmed=function(e){Promise.map(e,function(e){(e.isUser&&e.contact.isBlocked()?(0,b.unblockContact)(e.contact):Promise.resolve(!0)).then(function(t){(0,g.sendTextMsgToChat)(e,a.props.chat.groupMetadata.groupInviteLink,{linkPreview:a.linkPreview})})}),a.end(),u.default.openChatFromUnread((0,r.default)(e))},y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.push(o.createElement(c.default,{onChat:this.handleForwardConfirmed,title:p.default.t(502),listType:l.ListType.CHAT_SELECT_MODAL}));var t=this.props.chat,n=(0,m.default)(t.groupMetadata.groupInviteLink);this.linkPreview={canonicalUrl:s.default.GROUP_INVITE_LINK_URL,description:p.default.t(1350),matchedText:n,title:t.title(),richPreviewType:h.EXTENDED_TEXT_MESSAGE_PREVIEWTYPE.NONE,thumbnail:null};var r=t.contact.profilePicThumb;r&&r.imgFull?f.default.generateLinkPreview(r.imgFull).then(function(t){e.linkPreview.thumbnail=t}):(0,d.default)(n).then(function(t){t&&(e.linkPreview.thumbnail=t.data.thumbnail)}).catch(function(){})}}]),t}();t.default=_},ccchcigijb:function(e,t,n){"use strict";var r=E(n("bbiacghfif")),a=E(n("eadfaddcj")),o=E(n("dhigahgdjb")),i=n("bjcgcdejaa"),u=E(i),s=E(n("cjacjbhhib")),l=E(n("dbegdchadg")),c=E(n("bfjchhccjd")),f=E(n("baeacdffeb")),d=E(n("bgeafedbjd")),p=E(n("cadjjhjjci")),h=E(n("jjaddhidj")),m=E(n("bhfcdbibdf")),b=E(n("bidcddiaag")),g=E(n("decdhbjfjc")),v=E(n("jjjdieajj")),y=n("eagfdbhhhh"),_=n("dcbdjheea");function E(e){return e&&e.__esModule?e:{default:e}}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=n("digcccheca"),S=n("djeajhjhb"),w=n("ccaaiecfib"),P=n("debfbiicee"),M=n("daffbcegjj").dir,C=n("bcjcbbafcj"),T=C.isGecko,A=C.isTrident,N=n("cijaehcdg"),k=2*a.default.MAX_PUSHNAME_LENGTH,I=/\u200B((\d+)@c\.us)\u200B/g,R={Enter:S.ENTER,Tab:S.TAB,ArrowUp:S.UP,ArrowDown:S.DOWN},L=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=r=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.serializers=[["span[data-mention-jid]",function(e){return function(e){if(!e.hasChildNodes())return;for(;e.childNodes.length;)e.removeChild(e.childNodes[0])}(e),`${e.getAttribute("data-mention-jid")||""}`}]],r.parsers=[function(e){return e.replace(I,function(e,t,n){var r=o.default.get(t);if(!r)return t;var a=!r.isMyContact&&r.notifyName?r.notifyName:r.formattedName,i=(0,y.createSelectableElement)("span");i.dataset.mentionJid=r.id.toString();var u=document.createElement("span");u.className="at-symbol",u.appendChild(document.createTextNode("@"));var s=document.createElement("span");return s.setAttribute("dir",M(a)||"auto"),s.appendChild(document.createTextNode(a)),i.appendChild(u),i.appendChild(s),i.dataset.originalName=i.textContent||"",i.dataset.plainText=i.textContent||"",i.dataset.appTextTemplate=`${t}`,i.outerHTML})}],r.serialize=function(e,t){return t.mentionedJidList=[],[e.replace(I,function(e,n,r){return t.mentionedJidList.push((0,_.createWid)(n)),`@${r}`}),t]},r.handleSelect=function(e,t){var n=window.getSelection();if(function(e,t){var n=t.anchorNode,r=t.anchorOffset;n&&n===e.containerRef&&(n=n.childNodes[r],r=n.textContent.length);if(!n||n&&n.nodeType!==Node.TEXT_NODE)return!1;var a=n.textContent.slice(r),o=n;for(;0===a.length;){if(!(o=o.nextSibling)||o.nodeType!==Node.TEXT_NODE)return!1;a=o.textContent}return" "===a.charAt(0)}(r.ctx,n)&&n.modify("move","forward","character"),B(r.ctx,n,!0)){n=window.getSelection();var a=r.ctx.refInput,o=(a?D(a):{}).mentionAfterEnd;o&&F(o),r.ctx.replaceSelection(`${e.id.toString()} `),r.handle(S.INACTIVE)}},r.hooks={[P.CHANGE](e,t){var n=t.refInput;if(T)for(var r=n.querySelectorAll("[data-mention-jid]"),a=0;a<r.length;++a){var o=r[a].nextSibling;o&&(o instanceof Element&&"BR"===o.tagName&&"_moz"===o.getAttribute("type")&&o.remove())}},[P.INPUT](e){var t=e.refInput.querySelectorAll("[data-mention-jid]");if(t.length)for(var n=0;n<t.length;++n){var r=t[n];if(r.textContent!==r.getAttribute("data-original-name")){var a=r.querySelector(".at-symbol"),o=r.querySelector("span [dir]"),i=window.getSelection(),u=i.focusOffset,s=i.focusNode&&i.focusNode.parentNode&&i.focusNode.parentNode.className,l=r.parentNode,c=document.createDocumentFragment();a&&c.appendChild(document.createTextNode(a.textContent)),o&&c.appendChild(document.createTextNode(o.textContent));var f="at-symbol"===s?c.firstChild:c.lastChild;if(1===c.childNodes.length&&c.lastChild&&(u="@"===c.lastChild.textContent?1:0),l.replaceChild(c,r),i.rangeCount<=0)return;var d=i.getRangeAt(0);d.setEnd(f,u),d.collapse(!1),i.removeAllRanges(),i.addRange(d)}}}},r.handlers={onKeyDown(e,t){var n=e.key;if(!this.ctx.isComposing&&("Backspace"===n||"Delete"===n&&N(e))){var r=window.getSelection();if(r.isCollapsed){var a=e.key,o=D(this.ctx.refInput),i=o.mentionBeforeStart,u=o.mentionAfterEnd,s=null;if("Delete"===a&&u&&(s=u),"Backspace"===a&&i&&(s=i),s){r.removeAllRanges();var l=document.createRange();l.selectNode(s),r.addRange(l),x(this.ctx.refInput)}}else x(this.ctx.refInput)}var c=R[e.key];return!!c&&this.handle(c,[e,t])},onKeyPress(e,t){return this.ctx.isComposing||x(this.ctx.refInput),!1},onBlur(){return this.handle(S.INACTIVE),!1},onSelect(e,t){var n=w.supportsFeature(w.F.MENTIONS_OUT);if(A||this.ctx.isComposing||!n)return!1;var r=window.getSelection();if(r.isCollapsed&&r.rangeCount>0&&r.anchorNode&&function(e,t){var n=t.anchorNode,r=t.anchorOffset;if(n&&n===e.refInput){if(0===r)return!0;n=n.childNodes[t.getRangeAt(0).startOffset],r=(0,d.default)(n)?n.textContent.length:0}if((0,s.default)(n,"br"))return!0;if(!n)return!1;if(!(0,d.default)(n))return!1;if("\n"===n.textContent)return!0;var a=n.textContent.slice(0,r);if(""===a){var o=(0,u.default)(n,i.DIR.PREV);if(!o)return!0;if(!(0,d.default)(o))return!1;a=o.textContent}return"\n"===a.charAt(a.length-1)}(t,r)){var a=r.getRangeAt(0);r.removeAllRanges(),r.addRange(a)}var o=B(this.ctx,r);if(!o||r.focusNode&&r.focusNode.parentElement&&(0,f.default)(r.focusNode.parentElement.parentElement))return this.handle(S.INACTIVE),!1;var l=o.slice(1);return this.handle(S.SEARCH,[l]),!1},onPaste(){return x(this.ctx.refInput),!1}},j(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,O),t}();function D(e){var t=window.getSelection();if(0===t.rangeCount)return{};var n=t.getRangeAt(0),a=n.startContainer,o=n.startOffset,s=n.endContainer,l=n.endOffset,d=0===o,p=s instanceof HTMLElement?s.childNodes.length===l:s.textContent&&s.textContent.length===l,h=void 0,m=void 0;d&&(h=a===e?e.childNodes[o]:(0,r.default)(a,function(t){return t&&t!==e&&(t.parentElement===e||(0,c.default)(t,0))?[t.parentElement]:[]},function(t){return t&&t.parentElement===e})),p&&(m=s===e?e.childNodes[l]:(0,r.default)(s,function(t){return t&&t!==e&&(t.parentElement===e||(0,c.default)(t,-1))?[t.parentElement]:[]},function(t){return t&&t.parentElement===e}));var b=void 0,g=void 0,v=void 0,y=void 0,_=(0,u.default)(h,i.DIR.PREV);(0,f.default)(_)&&(b=_),(0,f.default)(h)&&(g=h),(0,f.default)(m)&&(v=m,n.collapsed&&(b=b||v));var E=(0,u.default)(m,i.DIR.NEXT);return(0,f.default)(E)&&(y=E,n.collapsed&&(g=g||y)),{mentionBeforeStart:b,mentionAfterStart:g,mentionBeforeEnd:v,mentionAfterEnd:y}}function x(e){var t=D(e),n=t.mentionBeforeStart,r=t.mentionAfterStart,a=t.mentionBeforeEnd,o=t.mentionAfterEnd;if(n||r||a||o){var i=window.getSelection(),u=i.getRangeAt(0),s=u.collapsed,l=!1;if(n){var c=G(n);l=!0,u.setStartAfter(c),u.collapsed&&u.setEndAfter(c)}if(r){var f=F(r);l=!0,u.setStartBefore(f),s&&u.setEndBefore(f)}if(!s){if(a){var d=G(a);l=!0,u.setEndAfter(d)}if(o){var p=F(o);l=!0,u.setEndBefore(p)}}l&&(i.removeAllRanges(),i.addRange(u))}}function U(){var e=document.createElement("span");return e.textContent="",e.contentEditable="false",setTimeout(function(){return(0,m.default)(e)},0),e}function G(e){var t=U();return(0,p.default)(t,e),t}function F(e){var t=U();return(0,h.default)(t,e),t}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,l.default)(e.refInput,"BACKWARD");if((0,f.default)(r))return"";var a=null,o="",i=0,u=null;return(0,b.default)(e,t,function(e,t,n){if("@"===a){if(r=e,Boolean(v.default[r]))return u=o,!0;if(/\W/.test(e))return u=n.slice(t+1)+o,!0}var r;if(0===t&&(o=n+o),a=e,(i+=1)>=k)return!0}),!u&&i<k&&"@"===a&&(u=o),n&&u&&u.length&&(0,g.default)(t,u.length),u}e.exports=L},cccicaceef:function(e,t){e.exports={muted:"_3GCYG",bubble:"_2qE0x",isPreview:"_18M7T",isGallery:"_1xfjD",quote:"_4iqBD",hasAuthor:"_3LoL9",vcard:"_2kIVZ",author:"_34Kkb",hasQuote:"_2rE0d",body:"nUQs8",avatar:"WKVRW",meta:"_10PqF",name:"_2LRBk"}},cccjfjdgcj:function(e,t){e.exports={muted:"_2SBZC",chevronLeftBg:"_2AJhR",chevronRightBg:"_3bHbx",chevronLeft:"_3fJCe",chevronRight:"xLf9V",playerContainer:"_1f1Hl",mediaStateControls:"_2jtqw",viewer:"_1oEGl",v3X:"_2Bzjg",v3X_mac:"_3q8_P",v3XMac:"_3q8_P",backIcon:"_3ZC5d",backIcon_mac:"gaWWe",backIconMac:"gaWWe"}},ccdbdjihjh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("dcaifjegcg"),o=(r=a)&&r.__esModule?r:{default:r};function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.id=(0,a.prop)(),r.callId=(0,a.prop)(),r.isIncoming=(0,a.prop)(!1),r.isRinging=(0,a.prop)(!1),r.isInterrupted=(0,a.prop)(!1),r.isMuted=(0,a.prop)(!1),r.isTrafficStopped=(0,a.prop)(!1),r.isInvitingToGroupCall=(0,a.prop)(!1),r.isVideoStopped=(0,a.prop)(!1),r.isVideoPaused=(0,a.prop)(!1),r.isVideoDecodePaused=(0,a.prop)(!1),r.isVideoDecodeStarted=(0,a.prop)(!1),r.isOfferingVideoUpgrade=(0,a.prop)(!1),i(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();u.Proxy="callParticipant",t.default=(0,a.defineModel)(u)},ccdfjfdccf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=s(n("bjebjijbfc")),o=s(n("effbcehec")),i=s(n("dhbceejbjg")),u=s(n("babadgcffh"));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.title,n=e.icon,s=e.t,l=null!=s?a.default.relativeDateAndTimeStr(s):"-",c=r.createElement("div",{className:u.default.title,"data-a8n":o.default.key("msg-info-title")},n,t);return r.createElement(i.default,{primary:c,secondary:l,theme:"plain",idle:!0})}},ccdhdfebfj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("biddiiafgd")),i=l(n("gbfffciea")),u=l(n("fffdgbfji")),s=l(n("iaejfgacj"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleCancel=function(){i.default.closeModal()},r.handleOK=function(){r.props.onConfirm(),i.default.closeModal()},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){return a.createElement(o.default,{title:u.default.t(485),onOK:this.handleOK,okText:u.default.t(485),onCancel:this.handleCancel,cancelText:u.default.t(1091)},a.createElement("div",{className:s.default.confirmationText},u.default.t(499,{groupName:this.props.chat.contact.name})))}}]),t}();f.displayName="GroupInviteRevokeModal",t.default=f},cceagdehdf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.storeMessages=c,t.addMessagesToHistory=function(e,t,n,a){if(!o.default.supportsFeature(o.default.F.MODEL_STORAGE))return Promise.resolve();if(!e||"search"===n.add)return Promise.resolve();if("unread"===n.add||a&&("before"===n.add||"after"===n.add)){var i=t.map(function(e){return e.id.toString()});return a&&"before"===n.add?i.push(a.id.toString()):a&&"after"===n.add&&i.unshift(a.id.toString()),u.default.lock(["meta-message-island","message-island"],function(t){var n=r(t,2),a=n[0],o=n[1];return d(o,i).then(function(t){return p(o,a,t,e)})})}if("last"===n.add||"before"===n.add||"after"===n.add){var s=t.map(function(e){return e.id.toString()});return u.default.lock(["meta-message-island","message-island"],function(t){var a=r(t,2),o=a[0],i=a[1];return Promise.all([d(i,s),f(o,e.toString())]).then(function(t){var a=r(t,2),u=a[0],s=a[1];return p(i,o,u,e,{before:"before"===n.add,mergeIntoMetaIsland:s})})})}return Promise.resolve()},t.appendMessage=function(e,t){return o.default.supportsFeature(o.default.F.MODEL_STORAGE)?c([t]).then(function(){return u.default.lock(["meta-message-island","message-island"],function(n){var a=r(n,2),o=a[0],i=a[1];return f(o,e.toString()).then(function(e){if(e.islands.length){var n=e.islands[e.islands.length-1];return i.get(n).then(function(e){if(e)return e.messages.push(t.id.toString()),i.merge(e.id,{messages:e.messages})})}return i.create({parent:e.id,messages:[t.id.toString()]})})})}):Promise.resolve()};var o=s(n("ccaaiecfib")),i=n("cefcddgdgg"),u=s(n("ffjiicch"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function c(e){return o.default.supportsFeature(o.default.F.MODEL_STORAGE)?i.Message.bulkCreateOrMerge(e.map(function(e){return a({},e,{id:e.id.toString()})})):Promise.resolve()}function f(e,t){return e.equals(["chat","mostRecent"],[t,1]).then(function(n){return n.length?n[0]:e.create({islands:[],mostRecent:1,chat:t}).then(function(e){return{id:e,islands:[],mostRecent:1,chat:t}})})}function d(e,t){return function(e,t){return Promise.map(t,function(t){return e.equals(["messages"],t).then(function(e){return e.length?e[0]:null})})}(e,t).then(function(e){var n=[],r=new Map,a=new Map;return t.forEach(function(t,o){var i=e[o];if(i){var u=i.parent;a.has(u)||n.push({type:"meta-island",id:u}),a.set(u,i)}else{if(!n.length)return void n.push({type:"new-island",messages:[t]});var s=n[n.length-1];"new-island"===s.type?s.messages.push(t):"meta-island"===s.type&&(a.has(s.id)&&r.set(a.get(s.id),n.length),n.push({type:"new-island",messages:[t]}))}}),r.forEach(function(e,t){var r=n[e];r.messages.length+t.messages.length<100&&(n[e]={type:"update-island",id:t.id,messages:[].concat(l(t.messages),l(r.messages))})}),n})}function p(e,t,n,a,o){var i=[],u=[],s=[];return n.forEach(function(e){switch(e.type){case"new-island":i.push({messages:e.messages});break;case"update-island":u.push({id:e.id,messages:e.messages});break;case"meta-island":s.push(e.id)}}),i.length||u.length||1!==s.length?Promise.all([h(e,i),e.bulkCreateOrMerge(u),t.bulkGet(s)]).then(function(i){var u=r(i,3),l=u[0],c=(u[1],u[2].reduce(function(e,t){return t&&e.set(t.id,t),e},new Map)),f=[],d=0;n.forEach(function(e){switch(e.type){case"new-island":f.push(l[d++]);break;case"update-island":break;case"meta-island":var t=c.get(e.id);t&&(f=f.concat(t.islands))}}),o&&!c.has(o.mergeIntoMetaIsland.id)&&(o.before?(s.push(o.mergeIntoMetaIsland.id),f=f.concat(o.mergeIntoMetaIsland.islands)):(s.unshift(o.mergeIntoMetaIsland.id),f=o.mergeIntoMetaIsland.islands.concat(f)));var p=void 0;if(s.length){var h=s[0],m=s.slice(1);p=t.merge(h,{islands:f}).then(function(){return t.bulkRemove(m)}).then(function(){return h})}else p=t.create({islands:f,mostRecent:0,chat:a.toString()});return p.then(function(t){return e.bulkCreateOrMerge(f.map(function(e){return{id:e,parent:t}}))}).then(function(){})}):Promise.resolve()}function h(e,t){return Promise.map(t,function(t){return e.create({messages:t.messages,parent:-1})})}},ccebfaijda:function(e,t,n){"use strict";e.exports={STREAM_END:2,LIST_EMPTY:0,DICTIONARY_0:236,DICTIONARY_1:237,DICTIONARY_2:238,DICTIONARY_3:239,LIST_8:248,LIST_16:249,JID_PAIR:250,HEX_8:251,BINARY_8:252,BINARY_20:253,BINARY_32:254,NIBBLE_8:255,SINGLE_BYTE_MAX:256,PACKED_MAX:254}},ccegihfjhe:function(e,t){e.exports={muted:"_1XDJ_",mediaViewerAnimate:"_3a12y","media-viewer-animate":"_3a12y",cursorZoomOut:"_Doi_",media:"_1YV64",mediaViewer:"_18IfL",mediaContent:"_3EJ7Q",btn:"QL-Ef",btnMediaNext:"_2wTLJ",btnMediaPrev:"LAhFg",mediaWithCaption:"C3wjY",mediaCaption:"aLdCc",captionHidden:"_2QQWZ",disabledBtn:"_2FR9h"}},ccehadbeci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n("ddgaeajhag")),a=p(n("cfadahgeie")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},u=n("dcaifjegcg"),s=p(u),l=p(n("dbfjecijha")),c=p(n("bjigbaghc")),f=p(n("hciaejfjd")),d=p(n("bdiiahhjbe"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,u.prop)(),r.pendingMsgs=(0,u.prop)(),r.labels=(0,u.prop)(),r.msgChunks=(0,u.session)(function(){return[]}),r.lastReceivedKey=(0,u.session)(),r.unreadMsgAnchor=(0,u.session)(),r.disableUnreadAnchor=(0,u.session)(),r.msgsLength=(0,u.session)(),r.msgsChanged=(0,u.session)(0),r.msgs=(0,u.collection)(l.default),h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),o(t,[{key:"initialize",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.listenTo(this.msgs,"change:last",function(){e.msgsChanged++}),this.listenTo(this.msgs,"add remove bulk_add",function(){e.msgsChanged++,e.msgsLength=e.msgs.length}),c.default.isSMB&&(this.addLabelsToCollection(),this.listenTo(this,"change:labels",this.addLabelsToCollection))}},{key:"addLabelsToCollection",value:function(){(0,f.default)(this.id.toString(),this.labels,"Chat")}},{key:"onEmptyMRM",value:function(){throw new Error("onEmptyMRM not implemented")}},{key:"delete",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.getAllCMCs().forEach(function(e){e.forEach(function(e){e.delete()}),e.delete()})}},{key:"removeMsg",value:function(e){var t=e.msgChunk;t&&(t.indexOf(e)<0||(d.default.log("models:Chat:removeMsg "+e.get("id"))(),t.remove(e),0===t.length&&(t===this.msgs?this.onEmptyMRM():this.removeMsgsCollection(t))))}},{key:"getAllCMCs",value:function(){return this.msgChunks.concat([this.msgs])}},{key:"getAllMsgs",value:function(){return(0,a.default)(this.getAllCMCs().map(function(e){return e.getModelsArray()}))}},{key:"replaceMsgsCollection",value:function(e){d.default.info("model:Chat:replaceMsgsCollection:"+this.id.toString())();var t={msg:e.last()};this.msgs.replace(e),this.notifyMsgCollectionMerge(e,this.msgs,this.msgs,t),this.msgChunks=(0,r.default)(this.msgChunks,e),e.delete()}},{key:"removeMsgsCollection",value:function(e){this.msgChunks=(0,r.default)(this.msgChunks,e),e.delete()}},{key:"notifyMsgCollectionMerge",value:function(e,t,n,r){this.trigger("change:cmc:merge",e,t,n,r)}}]),t}();t.default=m},ccfcjccjbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=S(n("cjjebecgeb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},i=S(n("djjeigcdbe")),u=n("dcaifjegcg"),s=S(u),l=S(n("bgfcjjddjf")),c=n("dfbbghiidh"),f=S(n("eadfaddcj")),d=S(n("bjigbaghc")),p=n("ccicaaeiaa"),h=S(n("ccaaiecfib")),m=S(n("fffdgbfji")),b=S(n("hciaejfjd")),g=S(n("bdiiahhjbe")),v=S(n("edjgaiicj")),y=S(n("dhefcajhhb")),_=S(n("gbbacfeci")),E=S(n("bhggeigghg")),j=S(n("jccfhaecf")),O=S(n("djbfhebjhe"));function S(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=/^[^0-9]+$/,M=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=w(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,u.prop)(),r.name=(0,u.prop)(),r.shortName=(0,u.prop)(),r.pushname=(0,u.prop)(),r.type=(0,u.prop)("in"),r.verifiedName=(0,u.prop)(),r.isBusiness=(0,u.prop)(),r.isEnterprise=(0,u.prop)(),r.verifiedLevel=(0,u.prop)(),r.statusMute=(0,u.prop)(),r.sectionHeader=(0,u.prop)(),r.labels=(0,u.prop)(),r.isContactBlocked=(0,u.session)(!1),r.verificationString=(0,u.session)(),r.verificationBinary=(0,u.session)(),r.pendingAction=(0,u.session)(),r._notifyName=(0,u.session)(null),r.promises=(0,u.session)(function(){return{}}),r.status=(0,u.session)(),r.profilePicThumb=(0,u.session)(),r.businessProfile=(0,u.session)(),r.commonGroups=(0,u.session)(),r.liveLocations=(0,u.session)(),r.businessCatalog=(0,u.session)(),r.notifyName=(0,u.derived)(r._notifyNameFunction,["_notifyName","pushname","isBusiness","verifiedLevel","verifiedName"]),r.mentionName=(0,u.derived)(r._mentionName,["isMyContact","isBusiness","verifiedLevel","name","notifyName"]),r.displayName=(0,u.derived)(r._displayName,["id","mentionName","isMe"]),r.userid=(0,u.derived)(r._userid),r.userhash=(0,u.derived)(r._userhash),r.searchName=(0,u.derived)(r._searchName,["name","id"]),r.searchVerifiedName=(0,u.derived)(r._searchVerifiedName,["verifiedLevel","verifiedName"]),r.header=(0,u.derived)(r._header,["name"]),r.isMe=(0,u.derived)(r._isMe),r.isUser=(0,u.derived)(r._isUser),r.isGroup=(0,u.derived)(r._isGroup),r.isBroadcast=(0,u.derived)(r._isBroadcast),r.isPSA=(0,u.derived)(r._isPSA),r.formattedShortNameWithNonBreakingSpaces=(0,u.derived)(r._formattedShortNameWithNonBreakingSpaces,["shortName","formattedName","id"]),r.formattedShortName=(0,u.derived)(r._formattedShortName,["shortName","formattedName","id"]),r.formattedName=(0,u.derived)(r._formattedName,["name","id"]),r.formattedUser=(0,u.derived)(r._formattedUser,["name","id"]),r.isWAContact=(0,u.derived)(r._isWAContact,["type"]),r.isMyContact=(0,u.derived)(r._isMyContact,["name"]),r.showBusinessCheckmark=(0,u.derived)(r._showBusinessCheckmark,["isBusiness","verifiedLevel","name","verifiedName"]),r.showBusinessVname=(0,u.derived)(r._showBusinessVname,["isBusiness","verifiedLevel","name","verifiedName"]),w(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),a(t,[{key:"_notifyNameFunction",value:function(){return this.isBusiness&&this.verifiedLevel!==f.default.VERIFIED_LEVEL.HIGH?this.verifiedName:h.default.supportsFeature(h.default.F.CONTACT_HAS_PUSHNAME)?this.pushname:this._notifyName?this._notifyName.name:void 0}},{key:"_mentionName",value:function(){return!this.isMyContact&&this.isBusiness&&this.verifiedLevel!==f.default.VERIFIED_LEVEL.HIGH?null:this.name||this.notifyName}},{key:"_displayName",value:function(){return this.isMe?d.default.pushname:this.mentionName||(0,O.default)(this.id)}},{key:"_userid",value:function(){return this.isUser?j.default.user(this.id):null}},{key:"_userhash",value:function(){return this.isUser?(0,v.default)((this.id.user||"")+"WA_ADD_NOTIF"):null}},{key:"_searchName",value:function(){return j.default.isPSA(this.id)?m.default.accentFold(m.default.t(1351)):this.name?m.default.accentFold(this.name):null}},{key:"_searchVerifiedName",value:function(){return this.verifiedLevel!==f.default.VERIFIED_LEVEL.HIGH?null:this.verifiedName?m.default.accentFold(this.verifiedName):null}},{key:"_header",value:function(){if(this.name){var e=this.name.toLowerCase(),t=i.default.exec(e);if(t&&0===t.index||t&&P.test(e.slice(t.index))){var n=t[0],r=m.default.removeAccents(n);return(0,p.getCollator)().compare(r,n)?n:r}return"#"}}},{key:"_isMe",value:function(){return this.id.equals(d.default.me)}},{key:"_isUser",value:function(){return j.default.isUser(this.id)}},{key:"_isGroup",value:function(){return j.default.isGroup(this.id)}},{key:"_isBroadcast",value:function(){return j.default.isBroadcast(this.id)}},{key:"_isPSA",value:function(){return j.default.isPSA(this.id)}},{key:"_formattedShortNameWithNonBreakingSpaces",value:function(){return this.id?this.isMe?m.default.t(1342):this.shortName||this.formattedName&&this.formattedName.replace(/\s/g," "):""}},{key:"_formattedShortName",value:function(){return this.id?this.isMe?m.default.t(1342):this.shortName||this.formattedName:""}},{key:"_formattedName",value:function(){if(!this.id)return"";if(this.isMe)return m.default.t(1342);if(j.default.isPSA(this.id))return m.default.t(1351);var e=void 0;return!this.name&&this.isUser&&(e=(0,O.default)(this.id)),this.name||e}},{key:"_formattedUser",value:function(){return this.getFormattedUser()}},{key:"_isWAContact",value:function(){return this.isUser&&"in"===this.type}},{key:"_isMyContact",value:function(){return!!(this.isUser&&this.name&&this.name.length)}},{key:"_showBusinessCheckmark",value:function(){return this.isBusiness&&this.verifiedLevel===f.default.VERIFIED_LEVEL.HIGH&&this.name===this.verifiedName}},{key:"_showBusinessVname",value:function(){return this.isBusiness&&this.verifiedLevel===f.default.VERIFIED_LEVEL.HIGH&&this.name!==this.verifiedName}},{key:"initialize",value:function(){var e=this;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.id&&(this.isMe&&this.addChild("status",_.default.gadd(this.id)),this.isMe&&this.addChild("profilePicThumb",y.default.gadd(this.id)),this.isBusiness&&this.addChild("businessProfile",E.default.BusinessProfile.gadd(this.id)),this.listenTo(this,"change:isBusiness",function(){return(0,c.onIsBusinessChange)(e)}),this.isContactBlocked=!!l.default.get(this.id),this.pendingAction=0,d.default.isSMB&&(this.addLabelsToCollection(),this.listenTo(this,"change:labels",this.addLabelsToCollection)))}},{key:"getStatus",value:function(){return j.default.user(this.id)||g.default.info(`contact:getStatus for non-user ${this.id.toString()}`)(),this.status=_.default.gadd(this.id)}},{key:"addLabelsToCollection",value:function(){(0,b.default)(this.id.toString(),this.labels,"Contact")}},{key:"getProfilePicThumb",value:function(){return this.profilePicThumb=y.default.gadd(this.id)}},{key:"addPendingAction",value:function(e){var t=this;if(e.isPending()){var n=function(){t.decPending()};e.then(n,n),this.pendingAction++}return e}},{key:"decPending",value:function(){this.pendingAction>0?this.pendingAction--:(g.default.log("contact:onPendingActionUpdate pendingAction value is invalid")(),this.pendingAction=0)}},{key:"isBlocked",value:function(){return!!l.default.get(this.id)}},{key:"searchMatch",value:function(e,t,n){return h.default.supportsFeature(h.default.F.LABELS_DISPLAY)&&n?!(e&&this.searchName&&!this.searchName.includes(e))&&(0,r.default)(this.labels,n):!!e&&(!(!this.searchName||!this.searchName.includes(e))||(!(!this.userid||!this.userid.includes(e))||(!!(t&&this.userid&&this.userid.includes(t))||(!(!this.searchVerifiedName||!this.searchVerifiedName.includes(e))||!(!this.pushname||!m.default.accentFold(this.pushname).includes(e))))))}},{key:"getFormattedUser",value:function(){return this.id?j.default.isPSA(this.id)?m.default.t(1351):this.name?this.name:m.default.isRTL()?m.default.embedLTR((0,O.default)(this.id)):(0,O.default)(this.id):""}},{key:"set",value:function(e,n,r){var a=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"set",this).call(this,e,n,r);if("string"!=typeof e&&n&&n.merge&&a){if(a.isPSA)return a;!e.name&&a.name&&(a.unset("name"),a.unset("shortName")),!e.verifiedName&&a.verifiedName&&a.unset("verifiedName")}return a}}]),t}();M.Collection="Contact",M.Proxy="contact",M.idClass=j.default,t.default=(0,u.defineModel)(M)},ccfdaijebj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("eceadcicaf")),i=c(n("bdiiahhjbe")),u=n("ejbdjaifi"),s=c(n("ceffhbhahb")),l=c(n("dbhbjaeieh"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._videoRef=null,r._onPlayTriggered=!1,r.setRefVideo=function(e){r._videoRef&&r.props.listeners.remove(r._videoRef,"playing",r.onPlay),r._videoRef=e,e&&("srcObject"in e&&r.props.srcObject?e.srcObject=r.props.srcObject:r.props.src&&(e.src=r.props.src),r.props.listeners.add(e,"playing",r.onPlay),r.props.autoPlay&&e.play())},r.onPlay=function(e){var t=r._videoRef;t&&(t.videoHeight&&t.videoWidth||r._onPlayTriggered||(r._onPlayTriggered=!0,t.pause(),t.play(),i.default.assert(!1,"non-zero height and width","Neither the height nor the width of video should have zero value")()),t.videoHeight&&t.videoWidth&&r.props.onPlay&&(r.props.onPlay(t),r._onPlayTriggered=!1))},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"underlyingVideo",value:function(){return this._videoRef}},{key:"play",value:function(){var e=this._videoRef;e&&e.paused&&e.play()}},{key:"pauseAndReset",value:function(){var e=this._videoRef;e&&(e.currentTime=0,e.paused||e.pause())}},{key:"render",value:function(){var e=this.props;return a.createElement("video",{ref:this.setRefVideo,className:(0,s.default)(l.default.video,e.className),muted:e.muted,controls:e.controls,width:e.width,height:e.height,loop:e.loop,onClick:e.onClick,onEnded:e.onEnded,style:e.style},e.children)}}]),t}();d.displayName="Video";t.Component=d;t.default=(0,o.default)((0,u.hoc)(d))},ccffgjicjj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.default.supportsFeature(r.default.F.MD_BACKEND)?Promise.resolve():a.default.sendMessagePlayed(e.id).then(function(e){})};var r=o(n("ccaaiecfib")),a=o(n("bihdhbjih"));function o(e){return e&&e.__esModule?e:{default:e}}},ccfhgdcjch:function(e,t){e.exports={muted:"_3yrB0",icon:"-bh0C"}},ccfjgbibc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.startMemoryWamStat=function(){if(!d())return;setInterval(function(){var e=new o.default.WebcMemoryStat(r({},(0,s.default)(d()),{hasVerifiedNumber:u.default.mode===i.StreamMode.MAIN,numMessages:l.default.length}));e.commit()},a.default.MEMORY_METRIC_INTERVAL)},t.getMemoryTableRows=function(){var e=d();return e?Promise.resolve([{label:"Main Window",memory:e.usedJsHeapSize/1024,uptime:e.uptime}]):Promise.resolve()};var a=c(n("eadfaddcj")),o=c(n("bfbggcdbfb")),i=n("dcdiaahjj"),u=c(i),s=c(n("cahfddcdga")),l=c(n("biecbbiiee"));function c(e){return e&&e.__esModule?e:{default:e}}var f=Date.now();function d(){var e=performance&&performance.memory;if(e)return{uptime:(Date.now()-f)/1e3,jsHeapSizeLimit:e.jsHeapSizeLimit,totalJsHeapSize:e.totalJSHeapSize,usedJsHeapSize:e.usedJSHeapSize}}},ccfjghjbdi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("cbhbjajgac"),o=(r=a)&&r.__esModule?r:{default:r};var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();i.mutates=!0,i.mutate=function(e,t){return`@${t.displayName}`},t.default=i},ccgchaejji:function(e,t){e.exports={muted:"_3mONR",subheader:"_3jzsh",main:"_2Fyg3",closeBtn:"_2Wd6Q"}},ccgdfaeibd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GIPHY_LOCALES=t.BRAND_NAMES=t.GifInfo=t.TENOR=t.GIPHY=t.GAP_SIZE=t.TARGET_GIF_HEIGHT=void 0,t.gifProvider=function(){switch(o.default.gifSearch){case"giphy":return u;case"tenor":default:return s}};var r,a=n("bfgbdiffgd"),o=(r=a)&&r.__esModule?r:{default:r};var i=t.TARGET_GIF_HEIGHT=130,u=(t.GAP_SIZE=6,t.GIPHY="giphy"),s=t.TENOR="tenor",l=0;t.GifInfo=function e(t,n,r,a,o,u,s,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rank=t,this.gifId=++l,this.url=n,this.size=r,this.previewUrl=a||n,this.nonVideoUrl=o,this.width=u,this.widthStr=`${u}px`,this.ratioStr=`${Math.ceil(100*i/u)}%`,this.attribution=s,this.trending=c},t.BRAND_NAMES={giphy:"GIPHY",tenor:"Tenor"};t.GIPHY_LOCALES=["en","es","pt","id","fr","ar","tr","th","vi","de","it","ja","zh-CN","zh-TW","ru","ko","pl","nl","ro","hu","sv","cs","hi","bn","da","fa","tl","fi","iw","ms","no","uk"]},ccgdgjcjjh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=p(n("becfabjeeg")),i=p(n("fifhbjiec")),u=p(n("dhhfaeacef")),s=p(n("bfdcadbbif")),l=n("eadfaddcj"),c=p(n("ihfccfgdf")),f=n("ejbdjaifi"),d=p(n("bbhdgdbggg"));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.businessProfile,n=e.contact,r=n.id,c=n.formattedName,f=n.verifiedLevel,p=void 0,h=void 0,m=void 0,b=void 0;return t.stale?m=a.createElement("div",null,a.createElement(o.default,{size:20,stroke:5})):(t.address&&(p=a.createElement("div",{className:d.default.address},a.createElement(i.default,{selectable:!0,direction:"auto",text:t.address}))),t.description&&(h=a.createElement("div",{className:d.default.description,title:t.description},a.createElement(i.default,{selectable:!0,direction:"auto",text:t.description})))),f===l.VERIFIED_LEVEL.HIGH&&(b=a.createElement("div",{className:d.default.badge},a.createElement(s.default,{name:"psa-verified"}))),a.createElement("div",{className:d.default.container,onClick:this.props.onClick},a.createElement("div",{className:d.default.image},a.createElement(u.default,{id:r,size:55}),b),a.createElement("div",{className:d.default.body},a.createElement("div",{className:d.default.name},c),m,p,h))}}]),t}();h.CONCERNS={contact:["id","verifiedLevel","formattedName"],businessProfile:["stale","address","description"]},h.displayName="SpamBusinessInfo",t.default=(0,c.default)((0,f.hoc)(h),h.CONCERNS)},ccgjijjbbj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n("bjigbaghc")),o=l(n("bdiiahhjbe")),i=l(n("jccfhaecf")),u=n("dcbdjheea"),s=n("hjbbdjjdf");function l(e){return e&&e.__esModule?e:{default:e}}var c=n("ccaaiecfib"),f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t;if(!n)throw new Error("MsgKey error: obj is null/undefined");n.id instanceof e&&(n=n.id,o.default.error("MsgKey error: id is already a MsgKey")());var r=n.from&&n.to&&n.id,u=void 0!==n.fromMe&&n.remote&&n.id,s=void 0,l=void 0,f=void 0,d=void 0,p=void 0,h=void 0,m=void 0;if(!a.default.me)throw new Error("MsgKey error: Conn.me is undefined");if(r&&u)throw new Error("MsgKey error: unclear which constructor to use: "+JSON.stringify(n));if(!r&&!u)throw new Error("MsgKey error: don't have a matching constructor "+JSON.stringify(n));if(r){var b=n;if(s=b.from,l=b.to,f=b.id,d=b.participant,p=b.selfDir,!(s instanceof i.default)||!(l instanceof i.default)||d&&!(d instanceof i.default))throw new Error(`MsgKey error: something's not a wid: from:${String(s)} to:${String(l)} p:${String(d)}`);p=i.default.equals(s,l)?p:void 0,i.default.equals(s,l)&&i.default.equals(s,a.default.me)?(h="out"===p,m=a.default.me):i.default.equals(s,a.default.me)?(h=!0,m=l):i.default.equals(l,a.default.me)?(h=!1,m=s):i.default.equals(s,l)&&(i.default.isGroup(s)||i.default.isBroadcast(s))?(h=!0,m=s):o.default.error("MsgKey case error: "+[s,l,f,a.default.me].join())(),void 0!==h&&(this.fromMe=h),m&&(this.remote=m),f&&(this.id=f)}else if(u){var g=n;if(h=g.fromMe,m=g.remote,f=g.id,d=g.participant,!(m instanceof i.default)||d&&!(d instanceof i.default))throw new Error(`MsgKey error: something's not a wid: remote:${String(m)} p:${String(d)}`);i.default.equals(a.default.me,m)&&(p=h?"out":"in"),void 0!==h&&(this.fromMe=h),m&&(this.remote=m),f&&(this.id=f)}var v=[this.fromMe,this.remote,this.id];void 0!==p&&(this.self=p,v.push(this.self)),c.supportsFeature(c.F.KEY_PARTICIPANT)&&void 0!==d&&(this.participant=d,v.push(this.participant)),this._serialized=v.join("_")}return r(e,[{key:"toString",value:function(){return this._serialized}},{key:"clone",value:function(){return new e({fromMe:this.fromMe,remote:this.remote,id:this.id,participant:this.participant})}},{key:"equals",value:function(t){return t instanceof e&&this.toString()===t.toString()}}],[{key:"fromString",value:function(t){if(!t||!(0,s.isString)(t))throw new Error("MsgKey fromString error: str is null or not a string");var n=t.split("_");return n.length<3&&o.default.error("MsgKey error: cannot create MsgKey from "+t)(),new e({fromMe:"true"===n[0],remote:(0,u.createWid)(n[1]),id:n[2],participant:n[4]?(0,u.createWid)(n[4]):void 0})}}]),e}();t.default=f},cchefegdjj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPEN_MENU_WIDTH=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("ceffhbhahb")),i=h(n("effbcehec")),u=h(n("ccaaiecfib")),s=n("cdgdijchcg"),l=h(s),c=h(n("bfgbdiffgd")),f=h(n("bidgicbbjf")),d=h(n("egjjcjcg")),p=n("dehacgjjde");function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.OPEN_MENU_WIDTH=parseInt(f.default["-open-menu-width"].replace(/px$/,""),10);var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleOpenClick=function(){r.props.onChange(r._getLastSelectedPanel())},r._handleCloseClick=function(){r.props.onChange(null)},r._handleEmojiClick=function(){Boolean(r.props.selectedPanelId)?(d.default.setLastComposeBoxPanel(p.PANELS.EMOJI),r.props.onChange(p.PANELS.EMOJI)):r._handleOpenClick()},r._handleGifClick=function(){d.default.setLastComposeBoxPanel(p.PANELS.GIF),r.props.onChange(p.PANELS.GIF)},r._handleStickerClick=function(){d.default.setLastComposeBoxPanel(p.PANELS.STICKER),r.props.onChange(p.PANELS.STICKER)},r._setRefCloseButtonRef=function(e){r._refCloseButton=e},r._setRefEmojiButtonRef=function(e){r._refEmojiButton=e},r._setRefGifButtonRef=function(e){r._refGifButton=e},r._setRefStickerButtonRef=function(e){r._refStickerButton=e},r._setRefMenu=function(e){r._refMenu=e},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"_getLastSelectedPanel",value:function(){var e=void 0;"GIFS"===d.default.getLastEmojiTab()&&(e=p.PANELS.GIF,d.default.setLastEmojiTab(null)),e=e||d.default.getLastComposeBoxPanel()||p.PANELS.EMOJI;var t=c.default.stickers&&u.default.supportsFeature(u.default.F.STICKER_PACK_QUERY);return e!==p.PANELS.STICKER||t||(e=p.PANELS.EMOJI),e}},{key:"render",value:function(){var e=c.default.stickers&&u.default.supportsFeature(u.default.F.STICKER_PACK_QUERY),t=Boolean(this.props.selectedPanelId),n=e?a.createElement(l.default,{className:(0,o.default)(f.default.button,f.default.thirdButton),icon:"sticker",isActive:this.props.selectedPanelId===p.PANELS.STICKER,onClick:this._handleStickerClick,onRef:this._setRefStickerButtonRef,size:s.SIZES.SQUARE26}):null;return a.createElement("div",{"data-state":t?"open":"closed",ref:this._setRefMenu,className:(0,o.default)(f.default.menu,{[f.default.full]:e,[f.default.open]:t})},a.createElement(l.default,{className:(0,o.default)(f.default.button,f.default.closeButton),"data-tab":t?4:null,icon:"x",onClick:this._handleCloseClick,onRef:this._setRefCloseButtonRef,size:s.SIZES.SQUARE24}),a.createElement(l.default,{className:(0,o.default)(f.default.button,f.default.firstButton),"data-a8n":i.default.key("compose-btn-emoji"),"data-tab":t?null:4,icon:"smiley",isActive:this.props.selectedPanelId===p.PANELS.EMOJI,isMain:!0,onClick:this._handleEmojiClick,onRef:this._setRefEmojiButtonRef,size:s.SIZES.SQUARE26}),a.createElement(l.default,{className:(0,o.default)(f.default.button,f.default.secondButton),icon:"gif",isActive:this.props.selectedPanelId===p.PANELS.GIF,onClick:this._handleGifClick,onRef:this._setRefGifButtonRef,size:s.SIZES.SQUARE26}),n)}}]),t}();b.displayName="ComposeBoxPanelsMenu",t.default=b},cciafhggdb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaNotOnPhone=void 0;var r=n("bafdjibgig");Object.defineProperty(t,"MediaNotOnPhone",{enumerable:!0,get:function(){return r.MediaNotOnPhone}}),t.cancelDownloadMedia=function(e){e.mustDownloadMedia=!1;var t=e.downloadPromise;t&&t.control.waitForPoke()},t.manuallySetMedia=function(e,t,n,r){if((0,a.shouldUseMediaCache)(r)){if(t.filehash&&g.default.has(t.filehash))return;t.downloadPromise?t.downloadPromise.control.manuallySetMedia(n):(0,a.gatherAndSetMetadataNoOpaque)(t,n.formData()).then(function(){return M(e,t,!1,r)})}else{if(t.mediaBlob)return;t.downloadPromise?t.downloadPromise.control.manuallySetMedia(n):(0,a.gatherAndSetMetadata)(t,n).then(function(){return M(e,t,!1,r)})}},t.downloadMedia=M,t.rmr=C;var a=n("fabajdgab"),o=E(a),i=_(n("iffjgahba")),u=E(n("cajijabhgb")),s=_(n("bdiiahhjbe")),l=_(n("deiciccchg")),c=n("beifdajhid"),f=_(n("bgabgddgch")),d=n("daichdjff"),p=n("dgeebjciej"),h=n("bfafdfefgi"),m=_(n("egjjcjcg")),b=_(n("gbjefdbgb")),g=(_(n("beeieigghj")),_(n("cjieghfgda"))),v=n("cgffhfegce"),y=_(n("cgeedcdffb"));function _(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=function(e){function t(){return j(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,(0,i.default)("WapBlockedMedia")),t}(),P=function(e){function t(){return j(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,(0,i.default)("WaitForPoke")),t}();function M(e,t,n,o,i){var l=t;if(!l)return Promise.resolve();var c=l.filehash;if(!c)return Promise.resolve();n&&(l.mustDownloadMedia=!0);var f=l.downloadPromise;if(f)return f.control.poke(),f;if(l.downloadStage===d.DOWNLOAD_STAGE.ERROR_MISSING)return Promise.reject(new r.MediaNotOnPhone);if(l.downloadStage===d.DOWNLOAD_STAGE.PREPARING)return Promise.resolve();var p=Promise.loop(function(t){var n=(0,a.shouldUseMediaCache)(o);if(n){var r=g.default.get(c);if(r)return(0,v.validateBlob)(r).then(function(e){if(!e)return l.consolidate({downloadStage:d.DOWNLOAD_STAGE.NEED_POKE}),l.notifyMsgsAsync(),Promise.sit("poke").addResolveControl("manuallySetMedia",function(e){return(0,a.gatherAndSetMetadataNoOpaque)(l,e.formData())});t()})}else{var i=l.mediaBlob;if(i)return i.validate().then(function(e){if(!e)return l.clearBlob(),l.consolidate({downloadStage:d.DOWNLOAD_STAGE.NEED_POKE}),l.notifyMsgsAsync(),Promise.sit("poke").addResolveControl("manuallySetMedia",function(e){return(0,a.gatherAndSetMetadata)(l,e)});t()})}var f=l.entries.getDownloadEntry(),p=void 0;if(l&&f){(f.type===b.default.IMAGE||f.type===b.default.STICKER)&&h.IS_LRU_MEDIA_STORE_SUPPORTED&&m.default.getRememberMe();p=(p=T(e,l,f,o)).then(function(e){return n?(g.default.put(c,e.formData()),(0,a.gatherAndSetMetadataNoOpaque)(l,e.formData())):(0,a.gatherAndSetMetadata)(l,e)})}else{if(!l.mustDownloadMedia)return l.consolidate({downloadStage:d.DOWNLOAD_STAGE.NEED_POKE}),Promise.sit("poke");l.mustDownloadMedia=!1,p=C(l)}return p.addResolveControl("manuallySetMedia",function(e){return n?(0,a.gatherAndSetMetadataNoOpaque)(l,e.formData()):(0,a.gatherAndSetMetadata)(l,e)}).catch(u.MediaNeedsReupload,function(){}).catch(P,w,u.MediaLoadError,function(e){return s.default.error(`msg:processMedia:${String(e)}`)(),l.consolidate({downloadStage:d.DOWNLOAD_STAGE.NEED_POKE}),Promise.sit("poke")})}).then(function(){return l.consolidate({downloadStage:d.DOWNLOAD_STAGE.RESOLVED}),l.downloadPromise=null,l.resolveWhenConsolidated()}).catch(r.MediaNotOnPhone,function(e){return l.consolidate({downloadStage:d.DOWNLOAD_STAGE.ERROR_MISSING}),l.resolveWhenConsolidated().throw(e)}).catch(u.MediaUnsupportedError,function(e){return l.consolidate({downloadStage:d.DOWNLOAD_STAGE.ERROR_UNSUPPORTED}),l.resolveWhenConsolidated().throw(e)}).endWithControls("poke","waitForPoke","manuallySetMedia");return p.catch(r.MediaNotOnPhone,u.MediaUnsupportedError,r.LogoutDrop,function(){}),l.downloadPromise=p}function C(e){return e.consolidate({downloadStage:d.DOWNLOAD_STAGE.REUPLOADING}),e.rmr().catch(function(e){return!(e instanceof r.LogoutDrop)},function(){return Promise.reject(new u.MediaNeedsReupload)}).then(function(e){switch(e.status){case 200:return;case 404:return Promise.reject(new r.MediaNotOnPhone);default:return Promise.reject(new u.MediaNeedsReupload)}})}function T(e,t,n,a){var i=0,h=!1;return Promise.loop(function(e,r){t.consolidate({downloadStage:d.DOWNLOAD_STAGE.FETCHING});var a=f.default.expDelaySec(r,60,void 0,.1);return l.default.waitIfOffline({signal:(new y.default).signal}).then(function(){return n.url({forceHashUrl:h})}).then(function(e){return o.fetchMedia(e)}).addRejectControl("waitForPoke",function(){return new P}).then(function(o){var s=function(){if(1===++i)return 0;if(r>3)return n.markWhetherOnServer(!1),Promise.reject(new u.MediaNeedsReupload);var e=r+1;return a.then(function(){return e})};if(!o){if(!l.default.online){t.consolidate({downloadStage:d.DOWNLOAD_STAGE.NEED_POKE});var c=r+1;return a.then(function(){return c}).addResolveControl("poke",function(){return 0})}return s()}var f=o.status;return f>=200&&f<300?(n.markWhetherOnServer(!0),e(o.result),0):f>=400&&f<500?404===f&&n.directPath&&!h?(h=!0,0):(n.markWhetherOnServer(!1),Promise.reject(new u.MediaNeedsReupload)):s()}).catch(c.NoMediaHostsError,function(e){t.consolidate({downloadStage:d.DOWNLOAD_STAGE.NEED_POKE});var n=r+1;return a.then(function(){return n}).addResolveControl("poke",function(){return 0})})},0).then(function(r){t.consolidate({downloadStage:d.DOWNLOAD_STAGE.PROCESSING});var o=a?void 0:function(e){return e&&e.associatedMsgs()&&e.associatedMsgs()[0]&&e.associatedMsgs()[0].mediaData&&e.associatedMsgs()[0].mediaData.filename}(t);return(0,p.decryptE2EMedia)(a,r,n.mediaKey,e,o)}).catch(u.MediaEncryptionError,function(e){return s.default.assert(!1,"decryption-error",`msg:processEncryptedMedia ${String(e)}`)(),Promise.reject(new r.MediaNotOnPhone)})}},ccicaaeiaa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.id.toString(),r=t.id.toString();if(n===o.default.me.toString())return 1;if(r===o.default.me.toString())return-1;var a=e.name,i=t.name;if(!a&&i)return 1;if(a&&!i)return-1;if(a&&i&&e.header&&t.header){var s=u.compare(e.header,t.header);return 0===s?u.compare(a,i):s}return n&&r?n.localeCompare(r):-1},t.getCollator=function(){return u};var r=i(n("gbfffciea")),a=i(n("eadfaddcj")),o=i(n("bjigbaghc"));function i(e){return e&&e.__esModule?e:{default:e}}var u=void 0;function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default.L10N.DEFAULT;if(window.Intl&&window.Intl.Collator){var t=window.Intl.Collator([e],{sensitivity:"base"});u={compare(e,n){try{return t.compare(e,n)}catch(e){return 0}}}}else u={compare:(e,t)=>e.localeCompare(t)}}s(),r.default.on("set_locale",s)},cciecbcgbi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.onFrameChange,n=e.animationFrames,r=e.maxLoops,a=e.maxDuration,i=e.signal;if(i.aborted)return Promise.reject(new o.default);if(0===n.length)return Promise.resolve();var u=n.reduce(function(e,t){var n=t.duration;return e+n},0),s=(new Date).getTime(),l=0,c=0,f=0,d=s,p=function(){};return new Promise(function(e,s){var h=function(){0!==l&&window.cancelAnimationFrame(l),s(new o.default)};i.addEventListener("abort",h),p=function(){i.removeEventListener("abort",h)};l=window.requestAnimationFrame(function o(){var i=(new Date).getTime();if(i<d)return void(l=window.requestAnimationFrame(o));var s=n[f],p=s.duration,h=s.rgbaBuffer;if(t(h),f=(f+1)%n.length,d=i+p,1===f){if((c+1)*u>a)return void e();if(c>=r)return void e();c++}l=window.requestAnimationFrame(o)})}).finally(function(){p()})};var r,a=n("cgijjjgici"),o=(r=a)&&r.__esModule?r:{default:r}},ccihhdchab:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionToast=t.ActionType=t.ToastPosition=void 0;var r=c(n("cifjgjcead")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.genId=function(e){return(0,r.default)(e||"action_toast")};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=c(n("gbfffciea")),u=c(n("fbjjefaic")),s=n("ejbdjaifi"),l=n("bfjajhbdf");function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=t.ToastPosition={LEFT:"LEFT",RIGHT:"RIGHT"};t.ActionType=function e(t,n,r){if(d(this,e),!t)throw new Error("ActionType must have text!");if(n&&!r||r&&!n)throw new Error("ActionType must have an action and a handler or have neither.");this.text=t,this.action=n,this.handler=r};var h=function(e){function t(){var e,n,r;d(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={actionType:r.props.initialAction,pending:!0},r.actionPromise=null,r.onAction=function(){r.state.actionType&&r.state.actionType.handler&&r.state.actionType.handler().catch(function(){})},r.onDismiss=function(){i.default.closeToast(r)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.actionPromise&&this.actionPromise.control.cancel(),this.setState({actionType:e.initialAction,pending:!0}),this.runAction(e.pendingAction)}},{key:"UNSAFE_componentWillMount",value:function(){this.runAction(this.props.pendingAction)}},{key:"runAction",value:function(e){var t=this,n={};this.actionPromise=e.addRejectControl("cancel",function(){return n}).then(function(e){t.setState({actionType:e,pending:!1})}).catch(function(e){return e!==n},function(e){t.setState({actionType:e,pending:!1})}).delay(this.props.settleDuration).addRejectControl("cancel",function(){return n}).then(function(){i.default.closeToast(t)}).catch(function(e){return e===n},function(){}).endWithControls("cancel")}},{key:"render",value:function(){var e=this.state.actionType;if(!e)return null;var t=void 0,n=void 0;return e.action&&e.handler&&(n=o.createElement(l.ToastActionBtn,{buttonText:e.action,onClick:this.onAction})),this.state.pending||(t=o.createElement(l.ToastDismissBtn,{onClick:this.onDismiss})),o.createElement(l.ToastBody,{toastPosition:this.props.toastPosition,actionText:e.text,actionBtn:n,dismissBtn:t})}}]),t}();h.defaultProps={settleDuration:5e3,toastPosition:p.LEFT},h.displayName="ActionToastClass";t.ActionToast=(0,u.default)((0,s.hocWithDefaults)(h))},ccijgeidci:function(e,t){e.exports={muted:"_3Ph-Q",shadow:"_37gp4"}},ccjabfdeje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=E(n("fhfbcdaib")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=E(n("effbcehec")),u=E(n("djcchigfih")),s=E(n("djbhiedbef")),l=n("dajffajabh"),c=E(l),f=E(n("dgjddffcfg")),d=E(n("fffdgbfji")),p=E(n("jbchjhhe")),h=E(n("cdcaigjjii")),m=E(n("didfdhbecg")),b=E(n("cdjhjdcbeg")),g=E(n("hfhhcchgj")),v=E(n("bfdcadbbif")),y=E(n("ceghjibjjg")),_=n("dffedeegcb");function E(e){return e&&e.__esModule?e:{default:e}}var j=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onPreventBlur=function(e){e.preventDefault(),e.stopPropagation(),n.refEmojiInput&&n.refEmojiInput.restoreFocus()},n.onImageSet=function(e,t){n.setState({thumb:e,full:t})},n.onContinue=function(){var e=f.default.emojify(n.state.text.trim());(0,_.createGroup)(e,n.state.thumb,n.state.full,n.props.participants),n.props.onContinue()},n.onSubjectChange=function(e){n.setState({text:e})},n.setRefEmojiInput=function(e){n.refEmojiInput=e},n.state={text:e.subject||"",thumb:e.thumb,full:e.full},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this.refEmojiInput&&this.refEmojiInput.restoreFocus()}},{key:"render",value:function(){var e=this.state.text.trim().length>0,t=e?o.createElement("div",{className:y.default.nextButton},o.createElement(b.default,{a8nText:"create-group-btn",onClick:(0,r.default)(this.onContinue)},o.createElement(v.default,{name:"checkmark-light"}))):null;return o.createElement(u.default,null,o.createElement(c.default,{title:d.default.t(803),type:l.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onBack}),o.createElement(s.default,null,o.createElement("div",{className:y.default.section},o.createElement(p.default,{type:h.default.GROUP,attachToChat:!1,startImage:this.state.full,onImageSet:this.onImageSet})),o.createElement("div",{"data-a8n":i.default.key("group-subject"),className:y.default.section,onMouseDown:this.onPreventBlur},o.createElement(g.default,{ref:this.setRefEmojiInput,value:this.state.text,maxLength:25,showRemaining:!0,onChange:this.onSubjectChange,placeholder:d.default.t(517),onEnter:e?(0,r.default)(this.onContinue):function(){},supportsEmoji:!0})),o.createElement(m.default,{transitionName:"btn"},t)))}}]),t}();j.displayName="NewGroupDrawer",t.default=j},ccjagcdajg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n("chdchcgfaf")),a=p(n("cajgdeffge")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=p(n("eadfaddcj")),s=p(n("ihfccfgdf")),l=n("ejbdjaifi"),c=p(n("egjjcjcg")),f=p(n("bdacfjbfhj")),d=n("cgbdcdhgig");function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){var e,n,o;h(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=o=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={hasSentPlayed:!1},o.mediaBlobWasDownloadedBeforeMount=Boolean(o.props.mediaData.mediaBlob),o.videoRef=null,o.setRefVideo=function(e){if(o.videoRef!==e&&(o.videoRef=e,e)){var t=c.default.getVideoVolumeSettings();t&&((0,a.default)(t.volume)&&e.setVolume(t.volume),(0,r.default)(t.muted)&&e.setMuted(t.muted))}},o.onSendPlayed=function(){var e=o.videoRef;e&&(e.getCurrentTime()/e.getDuration()>.5||e.getCurrentTime()>10)&&((0,d.markPlayed)(o.props.msg),o.setState({hasSentPlayed:!0}))},o.onLoadedMetadata=function(e){var t=o.props.mediaData.aspectRatio,n=0!==e.videoWidth&&0!==e.videoHeight?e.videoWidth/e.videoHeight:void 0;(!t&&null!=n&&0!==n||t&&null!=n&&0!==n&&Math.abs(n-t)>.01)&&o.props.mediaData.set({aspectRatio:n}),o.props.onLoadedMetadata(e)},o.play=function(){var e=o.videoRef;e&&e.getPaused()&&e.play()},o.pause=function(){var e=o.videoRef;e&&(e.getPaused()||e.pause())},o.getPaused=function(){return!o.videoRef||o.videoRef.getPaused()},o.getCurrentTime=function(){return o.videoRef?o.videoRef.getCurrentTime():0},o.setCurrentTime=function(e){o.videoRef&&o.videoRef.setCurrentTime(e)},o.getDuration=function(){return o.videoRef?o.videoRef.getDuration():0},o.getVolume=function(){return o.videoRef?o.videoRef.getVolume():0},o.setVolume=function(e){o.videoRef&&o.videoRef.setVolume(e)},o.getMuted=function(){return!!o.videoRef&&o.videoRef.getMuted()},o.setMuted=function(e){o.videoRef&&o.videoRef.setMuted(e)},m(o,n)}return b(t,i.PureComponent),o(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.msg,r=t.mediaData,a=r.mediaBlob,o=void 0,s=r.streamable&&r.isStreamable();o=!this.mediaBlobWasDownloadedBeforeMount&&s||!a?r.streamable&&r.isStreamable()?`${u.default.VIDEO_STREAM_URL}?key=${this.props.msg.id.toString()}`:void 0:a.url();var l=!this.state.hasSentPlayed&&(0,d.canMarkPlayed)(n)?this.onSendPlayed:void 0;return i.createElement(f.default,{ref:this.setRefVideo,url:o,startTime:this.props.startTime,poster:this.props.poster,className:this.props.className,onVolumeChange:this.props.onVolumeChange,onEnded:this.props.onEnded,onError:this.props.onError,onPause:this.props.onPause,onPlaying:this.props.onPlaying,onProgress:this.props.onProgress,onTimeUpdate:function(t){l&&l(),e.props.onTimeUpdate(t)},onLoadedMetadata:this.onLoadedMetadata,autoPlay:this.props.autoPlay},t.children)}}]),t}();g.CONCERNS={msg:["id","isSentByMe","ack","type","isGif"],mediaData:["mediaBlob","streamable","aspectRatio"]},g.displayName="MsgVideoTag";var v=(0,s.default)((0,l.hoc)(g),g.CONCERNS),y=function(e){function t(){var e,n,r;h(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.play=function(){r.getComponent().play()},r.pause=function(){r.getComponent().pause()},r.getPaused=function(){return r.getComponent().getPaused()},r.getCurrentTime=function(){return r.getComponent().getCurrentTime()},r.setCurrentTime=function(e){r.getComponent().setCurrentTime(e)},r.getDuration=function(){return r.getComponent().getDuration()},r.getVolume=function(){return r.getComponent().getVolume()},r.setVolume=function(e){r.getComponent().setVolume(e)},r.getMuted=function(){return r.getComponent().getMuted()},r.setMuted=function(e){r.getComponent().setMuted(e)},m(r,n)}return b(t,v),t}();t.default=y},ccjbgacbad:function(e,t){e.exports={muted:"VXMK3",checkboxChatWrapper:"ZnBGP",checkboxChatControl:"A6bRq"}},ccjfaefeaj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=n("cjedbbhjhh");n("ccijeahddj").loadCollections(t),n("chihfebbce").initialize(),n("ccfjgbibc").startMemoryWamStat();var r=n("gcbhjhjhg").default,a=n("dhefcajhhb").default,o=n("bbaibbdgdj"),i=n("chiaeadhif");r.supported&&a.on("change:tag",function(e){var t=navigator.serviceWorker;t&&t.controller&&!e.tag&&i.request(t.controller,o.REMOVE_PP,e.id).catch(function(){})});var u=n("bgidiahdfc").default,s=n("bbicdddbdj").EMOJI_TYPE;u("iphone"===e?s.APPLE:s.WHATSAPP);var l=n("bbhigdgdbc");return{MainComponent:l.default,hasPending:l.hasPending,notificationBackend:n("dgjifchfde"),execApiCmd:n("djeffaehji").default}}},ccjgccbced:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=I(n("dcdbaegdhb")),a=I(n("bcdjgfbfa")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=I(n("dbdfbgehgj")),u=n("gaifbabbj"),s=I(n("dhjeadeagb")),l=I(n("cehjjfagii")),c=I(n("cadbaeefbb")),f=I(n("jhcabjcaf")),d=I(n("gbfffciea")),p=I(n("biddiiafgd")),h=I(n("dhigahgdjb")),m=I(n("ddihbaicfd")),b=I(n("ceffhbhahb")),g=I(n("bhcegecbha")),v=I(n("fifhbjiec")),y=I(n("ccaaiecfib")),_=I(n("cieaeggjg")),E=I(n("bahgfcjcda")),j=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),O=I(n("ihfccfgdf")),S=n("ejbdjaifi"),w=n("bheafeifce"),P=I(n("cgfjebhhej")),M=I(n("ciddcjeaij")),C=I(n("bfdcadbbif")),T=I(n("eadfaddcj")),A=I(n("cccicaceef")),N=I(n("bihdhbjih")),k=n("ddjgcfjicj");function I(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var L=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=R(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onMessageClick=function(){var e=r.props.msg.getWAids();e&&e.length>1&&r.props.msg.vcard?d.default.openModal(j.createElement(M.default,{vCard:r.props.msg.vcard,onCancel:function(){return d.default.closeModal()},icon:j.createElement(C.default,{name:"chat",directional:!0}),onSelect:r.openContactChat})):r.openContactChat((0,a.default)(e))},r.onViewContact=function(){r.props.msg.vcard?d.default.openModal(j.createElement(m.default,{vcard:r.props.msg.body})):d.default.openModal(j.createElement(p.default,{onCancel:function(){return d.default.closeModal()},onOK:function(){d.default.closeModal(),g.default.initDownload((0,w.unproxy)(r.props.msg))},okText:l10n.t(1089),cancelText:l10n.t(1091),title:l10n.t(389)},l10n.t(388)))},r.onAddToGroupClick=function(){var e=r.props.msg.getWAids();e&&e.length>1&&r.props.msg.vcard?d.default.openModal(j.createElement(M.default,{vCard:r.props.msg.vcard,onCancel:function(){return d.default.closeModal()},onSelect:r.addContactToGroup,icon:j.createElement(C.default,{name:"add-user",directional:!0})})):r.addContactToGroup((0,a.default)(e))},R(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,j.Component),o(t,[{key:"openContactChat",value:function(e){var t=y.default.supportsFeature(y.default.F.QUERY_VNAME)&&!h.default.get(e);i.default.find(e).then(function(n){d.default.closeModal(),d.default.openChatFromUnread(n).then(function(e){e&&d.default.focusChatTextInput(n)}),t&&N.default.queryExist(e).then(function(t){200===t.status&&t.biz&&N.default.queryVname(e).catch(k.WapDrop,function(){})})})}},{key:"addContactToGroup",value:function(e){h.default.find(e).then(function(e){d.default.openModal(j.createElement(s.default,{contact:e,pushTransition:"none",popTransition:"none"}),{transition:"modal-flow"})})}},{key:"render",value:function(){var e=this.props.msg,t=e.getWAids(),n=(0,r.default)(e.subtype||l10n.t(189),{length:120,omission:l10n.t(874)}),a=void 0;t&&t.length>0&&(a=j.createElement(c.default,{items:[{label:l10n.t(670),onClick:this.onMessageClick,title:l10n.t(673,{author:n})},{label:l10n.t(163),onClick:this.onAddToGroupClick}]}));var o=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg?j.createElement("div",{className:A.default.author},j.createElement(l.default,{msg:e,contact:e.senderObj})):null,i=this.props.quotedMsg?j.createElement("div",{className:A.default.quote},this.props.quotedMsg):null,s=(0,b.default)(A.default.bubble,{[A.default.hasAuthor]:o,[A.default.hasQuote]:i,[A.default.isPreview]:this.props.displayType===T.default.DISP_TYPE.MSG_INFO,[A.default.isGallery]:this.props.displayType===T.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===T.default.DISP_TYPE.GALLERY}),d=this.props.msg.vcard||this.props.msg.chat.isTrusted(),p=d?this.onViewContact:function(){},h=u.Configuration.Compatibility({selectable:!0});return j.createElement(f.default,{className:s,contact:e.senderObj,msg:e},o,i,j.createElement("div",{className:A.default.vcard,role:d?"button":null,onClick:p},j.createElement("div",{className:A.default.avatar},j.createElement(E.default,{size:49,thumb:P.default.thumbnail(e.body),waid:e.getVCardThumbnailWAid()})),j.createElement("div",{className:A.default.body},j.createElement(v.default,{text:n,element:"div",className:A.default.name,selectable:!0,dirMismatch:e.rtl!==l10n.isRTL(),direction:e.dir,formatters:h})),j.createElement("div",{className:A.default.meta},j.createElement(_.default,{msg:e}))),a)}}]),t}();L.CONCERNS={msg:["vcard","isQuoted","body","subtype","rtl","dir","isSentByMe","isGroupMsg","senderObj","chat"]},L.displayName="Vcard",t.default=(0,O.default)((0,S.hoc)(L),L.CONCERNS)},cdaacjiegb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatOversizedMsgText=function(e){return o.default.isElectron?l10n.t(837):l10n.t(838)},t.formatOversizedMsgNotification=function(e){return l10n.t(838)};var r,a=n("bcjcbbafcj"),o=(r=a)&&r.__esModule?r:{default:r}},cdaaeifjfh:function(e,t){e.exports={muted:"fT4OR",buttons:"_3cBNw",button:"_3kZj4"}},cdaddeffii:function(e,t){e.exports={muted:"_3MzkW",context:"_15CAo",contextIn:"_2Nkc4",contextOut:"_3EQsG",contextIcon:"_2-qoA",contextSpecial:"_3WZEQ",contextInverse:"_38wik",contextMedia:"_1eJVc",contextMediaLtr:"_20WGU",contextMediaRtl:"_2IaZT",contextMediaDocument:"gTQOV",contextIconMedia:"_3MU5v",contextDoc:"_3ZNgA",contextPttFix:"_3Bm9i",contextPtt:"_1TDSM",contextMultiVcard:"_2rg5w",contextStickerAuthor:"_3kHVU",contextStickerTransparent:"_2PpWQ",badge:"_1j7jW",contextStickerInverse:"I3gU2"}},cdadhagibj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n("iffjgahba"),i=(r=o)&&r.__esModule?r:{default:r};var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=a({},n).url,o=r?`${e}: ${r}`:e;return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,i.default)("HttpInvalidResponseError")),t}();t.default=u},cdaedfafjc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StickerPack=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=l(a),i=l(n("bffjfbgbg")),u=n("daichdjff"),s=l(n("cgejbjhjej"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f="placeholder:",d="image/png",p=t.StickerPack=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,a.prop)(),r.index=(0,a.prop)(),r.name=(0,a.prop)(),r.page=(0,a.prop)(),r.url=(0,a.prop)(),r.mimetype=(0,a.prop)(d),r.mediaData=(0,a.session)(),r._mediaObject=(0,a.prop)(),r.directPath=(0,a.prop)(),r.filehash=(0,a.prop)(),r.mediaKey=(0,a.prop)(),r.size=(0,a.prop)(),r.type=(0,a.prop)(u.OUTWARD_TYPES.IMAGE),r.uploadhash=(0,a.prop)(),r.clientUrl=(0,a.derived)(r._clientUrl,["url","isFirstParty"]),r.stickers=(0,a.derived)(r._getStickersCollection,["id"]),r.isPlaceholder=(0,a.derived)(r._isPlaceholder,["id"]),r.isFirstParty=(0,a.derived)(r._isFirstParty,["url","mediaKey"]),c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"_clientUrl",value:function(){return this.isFirstParty?"":this.url}},{key:"_isPlaceholder",value:function(){return t.isPlaceholderId(this.id)}},{key:"_isFirstParty",value:function(){return Boolean(this.url)&&!this.mediaKey}},{key:"_getStickersCollection",value:function(){return this._stickers=this._stickers||new s.default(this.id.split("#")[0]),this._stickers}},{key:"initialize",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.isPlaceholder||this.isFirstParty||(this.addChild("mediaData",new i.default({renderableUrl:""})),n("ddgbhifaji").registerStickerPackIcon(this))}},{key:"downloadMedia",value:function(){this.isPlaceholder||this.isFirstParty||n("ddgbhifaji").downloadStickerOrStickerPackIcon(this)}}]),t}();p.Proxy="stickerPack",p.createPlaceholder=m,p.isPlaceholderId=function(e){return new RegExp(`^${f}`).test(e)};var h=(0,a.defineModel)(p);function m(e){var t=e.index,n=e.page;return new h({id:`${f}${t}`,index:t,page:n})}t.default=h,h.createPlaceholder=m,h.isPlaceholderId=p.isPlaceholderId},cdbcigcahd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("ceffhbhahb")),o=n("eagfdbhhhh"),i=u(n("dgefajbgai"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.title,n=e.icon,u=e.onClick,s=e.children,l=(0,a.default)(i.default.itemBody,{[i.default.row]:n}),c=(0,a.default)({[i.default.main]:n}),f=(0,a.default)({[i.default.side]:n});return r.createElement("div",{className:i.default.item,onClick:u,role:u?"button":""},r.createElement("div",{className:l},r.createElement("div",{className:c,dir:"auto"},r.createElement(o.SelectableDiv,{className:i.default.primary,selectable:!0},t),r.createElement("div",{className:i.default.secondary},s)),r.createElement("div",{className:f},n)))};s.displayName="DrawerItem",t.default=s},cdbfiiicdg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("bdfbccfifg"),o=(r=a)&&r.__esModule?r:{default:r};var i=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.id))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();i.policy=a.CACHE_POLICY_TYPE.NONE,t.default=i},cdbgdedbdh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aspectRatioScaled=function(e,t){return"number"!=typeof e||e<0||e!=e?{width:t,height:t}:e>1?{width:t,height:Math.max(t/e,1)}:{width:Math.max(t*e,1),height:t}},t.containModeSize=function(e,t){var n=void 0;n=e>t.width/t.height?t.width:t.height*e;return{width:n,height:n/e}},t.boundHeightWidth=function(e,t,n){var r=null!=t?t:n,a=null!=e?e:n;r>a?r>n&&(a*=n/r,r=n):a>n&&(r*=n/a,a=n);return{width:Math.max(r,1),height:Math.max(a,1)}},t.determineHeightFromAspect=function(e,t){if(!e)return t;var n=void 0;n=e<=1?t:e<=2.4?t/e:t/2.4;return Math.round(n)},t.rotatePoint=function(e,t,n){var r=n*Math.PI/180;return{x:Math.cos(r)*e+Math.sin(r)*t,y:-Math.sin(r)*e+Math.cos(r)*t}}},cdcaigjjii:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={GROUP:"GROUP",PROFILE:"PROFILE"}},cdcbgdeab:function(e,t){e.exports={muted:"bgjKF",pager:"_3j_mW",pagerLeft:"Hh963",pagerRight:"_3WJ6c",pagerDisabled:"_3tHA6",body:"_3MoCW",section:"_J-Y0",searchRow:"_2NkaG"}},cdcfgefbba:function(e,t){e.exports={muted:"_1LBaF",container:"_11FF7",body:"_3bY6N",footer:"_2HyTU",retakeBtn:"_3C0e6",retakeIcon:"_37zqu",caption:"_3iVC4",videoContainer:"_2On8w",video:"_1A1HX",videoInactive:"_2bPbZ",btn:"_1cZ2V",btnSend:"_3Mn8m",image:"_2pRfq",snapshot:"_30MUA"}},cdcijfdgje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=m(n("cgcgbfbffj")),i=m(n("bjebjijbfc")),u=m(n("eadfaddcj")),s=m(n("dhigahgdjb")),l=n("ddjgcfjicj"),c=m(n("bieicghjif")),f=m(n("bdiiahhjbe")),d=n("hjbbdjjdf"),p=m(n("bihdhbjih")),h=m(n("jccfhaecf"));function m(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"_find",value:function(e){var t=this;return h.default.isUser(e)||h.default.isGroup(e)?p.default.subscribeLiveLocation(e,!0).then(function(n){if(n.status&&n.status>=400)return 499===n.status?f.default.log("liveLocation:subscribe query not implemented on the phone")():f.default.error("model:LiveLocation:_find error "+n.status)(),Promise.reject(n.status);var a=(0,d.isNumber)(n.duration)?n.duration:void 0,o=n.participants?n.participants.map(function(e){return r({},t._extractLocationFields(e),{id:e.id,expiration:0===e.expiration?1/0:e.expiration})}):[];return{id:e,duration:a,participants:o}}):Promise.reject(new Error("invalid wid for live location: "+e))}},{key:"getActive",value:function(e){var t=this;return h.default.isUser(e)||h.default.isGroup(e)?p.default.queryActiveLiveLocation(e).then(function(n){if(n.status&&n.status>=400)return 499===n.status?f.default.log("liveLocation:participant query not implemented on the phone")():f.default.error("model:LiveLocation:getActive error "+n.status)(),Promise.reject(n.status);if(n.participants&&n.participants.length){var r=n.participants.map(function(e){return{id:e.id,expiration:0===e.expiration?1/0:e.expiration}});t.add({id:e,participants:r},{merge:!0})}}).catch(l.WapDrop,function(){}):Promise.reject(new Error("invalid wid for live location: "+e))}},{key:"onResume",value:function(){this.filter(function(e){return e.active&&e.hasParticipants()}).forEach(function(e){e.update()})}},{key:"handle",value:function(e){var t=this;Array.isArray(e)?e.forEach(function(e){switch(e.type){case"update":var n=t._extractLocationFields(e),r=s.default.get(e.jid);r&&r.liveLocations&&r.liveLocations.forEach(function(e){return e.set(n)});break;case"disable":var a=t.get(e.chat);if(a){var o=a.participants.get(e.jid);o&&(e.seq>o.sequence||-1===e.seq)&&o.disable()}break;default:f.default.error("models:liveLocation:handle unknown type: "+e.type)(e)}}):f.default.error("models:liveLocation:handle unrecognized payload")(e)}},{key:"processMsg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];f.default.assert(e.type===u.default.MSG_TYPE.LOCATION&&e.isLive,"collection:liveLocation trying to process non live-location msg")();var n=e.id.remote,r=e.lat,a=e.lng,o=e.accuracy,s=e.speed,l=e.degrees,c=e.sequence,d=e.comment,p=e.shareDuration,h=e.t;if(h&&p){var m=h+p;if(!(m<=i.default.globalUnixTime())){var b={id:e.sender,lat:r,lng:a,accuracy:o,speed:s,degrees:l,sequence:c,comment:d,expiration:m,lastUpdated:h,msg:e};-1===c&&delete b.sequence;var g=this.get(n);if(g){var v=g.participants.get(b.id);if(t)return void(v&&v.lastUpdated<=b.lastUpdated&&v.set(b));if(v&&g.participants.removeParticipant(v),g.hasParticipants())return void g.participants.add(b)}this.add({id:n,participants:[b]})}}}},{key:"removeMsg",value:function(e){f.default.assert(e.type===u.default.MSG_TYPE.LOCATION&&e.isLive,"collection:liveLocation trying to remove non live-location msg")();var t=e.id.remote,n=e.sender,r=this.get(t);r&&r.participants.remove(n)}},{key:"_extractLocationFields",value:function(e){return void 0===e.lat||void 0===e.lng?{}:{lastUpdated:i.default.globalUnixTime()-e.elapsed,lat:e.lat,lng:e.lng,accuracy:e.accuracy,speed:e.speed,degrees:e.degrees,comment:e.comment}}}]),t}();b.model=c.default,b.staleCollection=!0,b.resumeOnAvailable=!0,t.default=new b},cddgaecgia:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n("iffjgahba"),i=(r=o)&&r.__esModule?r:{default:r};var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=a({},n).url,o=r?`${e}: ${r}`:e;return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,i.default)("HttpNetworkError")),t}();t.default=u},cdeaahaeee:function(e,t){e.exports={muted:"_1oRpM",updateWrapper:"_3eMSw",updateTitle:"W5vNF",uploadButtons:"_1my7I",buttonContainer:"_385o1",outStatusPanel:"_3MBzN",outDetail:"_2jgce",seen:"_1Yxff",timestamp:"_1Wv89",placeholderIcon:"AOhCd",placeholderText:"ojaNO",viewWrapper:"_2Erv5",viewTitle:"_3PAk1",viewUpdates:"_13BGY",statusImage:"_3Karf",seenCount:"_1yzfb"}},cdebbfjhbf:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("bcbahjefec")),i=s(n("iibiehcaf")),u=s(n("gcbiehega"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.sessionId=Math.round(1e9*Math.random()),r.openStatusViewer=function(e,t,n){r.push(a.createElement(u.default,{initialStatusV3:e,initialStatusMsg:t,closeStatusViewer:r.closeStatusViewer,sessionId:r.sessionId,rowIdx:n}),"none")},r.closeStatusViewer=function(e){e?r.end():r.pop("none")},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.push(a.createElement(i.default,{onOpenStatus:this.openStatusViewer,closeStatusViewer:this.closeStatusViewer,sessionId:this.sessionId}),"status-v3-modal")}},{key:"componentWillUnmount",value:function(){this.props.onFlowEnd()}}]),t}();e.exports=c},cdebehabcj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanJPEG=function(e){var t=new o.default(e),n=new o.default(e),r=new o.default,a=!1,l=!1,c=!1,f=!1,d=void 0,p={version:257,densityUnits:0,xDensity:1,yDensity:1};if(t.readUint8()!==i||t.readUint8()!==u.SOI)throw new Error("SOI marker not at the start of the file.");n.advance(2);var h=void 0;for(;null!=h||t.size();){if(void 0===h){var m=t.readUint8();if(m!==i)throw new Error(`0x${m.toString(16)} is not a marker prefix.`);h=t.readUint8()}switch(h){case u.APP0:if(l)d=t.readUint16(),n.advance(d+2),t.advance(t.size()-n.size());else{if(d=t.readUint16(),"JFIF\0"!==t.readString(5))throw new Error("APP0 marker missing 'JFIF' magic bytes.");f=!0,p.version=t.readUint16(),p.densityUnits=t.readUint8(),p.xDensity=t.readUint16(),p.yDensity=t.readUint16(),n.advance(d+2),t.advance(t.size()-n.size()),l=!0}break;case u.SOS:if(!c&&!f)throw new Error("Missing magic bytes marker.");t.advance(t.readUint16()-2);for(var b=void 0,g=t.readUint8();t.size();){if(b=t.readUint8(),g===i&&!s.includes(b)){h=b;break}g=b}r.writeByteArray(n.readByteArray(n.size()-t.size()-2));continue;case u.APP1:if(d=t.readUint16(),!c&&"Exif\0\0"!==t.readString(6))throw new Error("APP1 marker missing 'EXIF' magic bytes.");c=!0,n.advance(d+2),t.advance(t.size()-n.size());break;case u.APP13:case u.COM:if(!c&&!f)throw new Error("Missing magic bytes marker.");d=t.readUint16(),n.advance(d+2),t.advance(t.size()-n.size());break;case u.EOI:if(!c&&!f)throw new Error("Missing magic bytes marker.");a=!0,r.writeByteArray(n.readByteArray(2));break;case u.SOF0:case u.SOF1:case u.SOF2:case u.SOF3:case u.SOF5:case u.SOF6:case u.SOF7:case u.SOF9:case u.SOF10:case u.SOF11:case u.SOF13:case u.SOF14:case u.SOF15:case u.DQT:case u.DHT:case u.DRI:if(!c&&!f)throw new Error("Missing magic bytes marker.");d=t.readUint16(),r.writeByteArray(n.readByteArray(2+d)),t.advance(t.size()-n.size());break;case u.APP2:case u.APP3:case u.APP4:case u.APP5:case u.APP6:case u.APP7:case u.APP8:case u.APP9:case u.APP10:case u.APP11:case u.APP12:case u.APP14:case u.APP15:throw new Error(`Received unexpected APP marker 0x${h.toString(16)}`);default:throw new Error(`Did not understand marker: 0x${h.toString(16)}`)}if(h=void 0,a)break}if(!a)throw new Error("No EOI tag found.");var v=function(e){var t=new o.default;return t.writeBytes(255,216,255,224,0,16,74,70,73,70,0),t.writeUint16(e.version),t.writeUint8(e.densityUnits),t.writeUint16(e.xDensity),t.writeUint16(e.yDensity),t.writeBytes(0,0),t.readByteArray()}(p);return new Blob([v,r.readByteArray()],{type:"image/jpeg"})};var r,a=n("dbajccegac"),o=(r=a)&&r.__esModule?r:{default:r};var i=255,u={SOF0:192,SOF1:193,SOF2:194,SOF3:195,DHT:196,SOF5:197,SOF6:198,SOF7:199,SOF9:201,SOF10:202,SOF11:203,SOF13:205,SOF14:206,SOF15:207,RST0:208,RST1:209,RST2:210,RST3:211,RST4:212,RST5:213,RST6:214,RST7:215,SOI:216,EOI:217,SOS:218,DQT:219,DRI:221,APP0:224,APP1:225,APP2:226,APP3:227,APP4:228,APP5:229,APP6:230,APP7:231,APP8:232,APP9:233,APP10:234,APP11:235,APP12:236,APP13:237,APP14:238,APP15:239,COM:254},s=[0,u.RST0,u.RST1,u.RST2,u.RST3,u.RST4,u.RST5,u.RST6,u.RST7]},cdeciahhed:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n("djfhiaaehb")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=n("cjcffhicea"),s=h(u),l=h(n("gbfffciea")),c=h(n("bcbahjefec")),f=h(n("bfgbdiffgd")),d=n("dfdebdgdei"),p=n("dbbhhgjjbg");function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=a=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.onForwardConfirmed=function(e){var t=a.props.msgText;if(1===e.length){var n=(0,r.default)(e);(n.isUser&&n.contact.isBlocked()?(0,d.unblockContact)(n.contact):Promise.resolve(!0)).then(function(e){if(t){if(n.urlText=a.props.urlText,n.active)return void l.default.pasteChatTextInput(n,t);n.setComposeContents({text:t})}return l.default.openChatFromUnread(n).then(function(e){e&&l.default.focusChatTextInput(n)})})}else Promise.map(e,function(e){(e.isUser&&e.contact.isBlocked()?(0,d.unblockContact)(e.contact):Promise.resolve(!0)).then(function(n){e.urlText=a.props.urlText,(0,p.sendTextMsgToChat)(e,t)})}),l.default.openChatFromUnread((0,r.default)(e));a.end()},m(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),o(t,[{key:"UNSAFE_componentWillMount",value:function(){this.push(i.createElement(s.default,{onChat:this.onForwardConfirmed,maxItems:this.props.serverProps.multicastLimitGlobal,title:l10n.t(712),listType:u.ListType.CHAT_SELECT_MODAL}))}}]),t}();t.default=function(e){return i.createElement(b,a({},e,{serverProps:f.default}))}},cdegajchcj:function(e,t){e.exports={muted:"_3ubjX",shade:"_3TrQs"}},cdegfghcid:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=s(n("fffdgbfji")),o=s(n("bijdjchach")),i=s(n("bcjcbbafcj")),u=s(n("ceffhbhahb"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.count,n=(0,u.default)(o.default.count,{[o.default.ffFix]:i.default.isGecko});return r.createElement("span",{className:n},t>0?a.default.n(t):null)}l.displayName="UnreadCount"},cdejbeiiha:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("ecbafeecfe");Object.defineProperty(t,"JSXSerializer",{enumerable:!0,get:function(){return i(r).default}});var a=n("gbfcbchfd");Object.defineProperty(t,"TextSerializer",{enumerable:!0,get:function(){return i(a).default}});var o=n("daejhbgabi");function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"UnformatSerializer",{enumerable:!0,get:function(){return i(o).default}})},cdfccifhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce(function(e,t){return e+t.byteLength},0),a=new Uint8Array(r),o=0;return t.forEach(function(e){a.set(new Uint8Array(e),o),o+=e.byteLength}),a.buffer}},cdffadcgjg:function(e,t,n){"use strict";var r=o(n("bdiiahhjbe")),a=o(n("chfehjfdj"));function o(e){return e&&e.__esModule?e:{default:e}}var i={queryRecentStickers:function(){var e=this;return new Promise(function(t,n){var o=e.queryNode({type:"recent_stickers"},void 0);e.binSend("sendEphemeral",o,n,{onSend:e.binWrap(function(o){e.BinaryProtocol.read(o).then(function(n){r.default.logColor("green","bin-recv: response,recent_stickers",n)();var o=e.N.tag(n);if("response"!==o)throw new Error(`node tage for recent_stickers response is invalid: ${o}`);var i=e.N.attr("type",n);if("recent_stickers"!==i)throw new Error(`node type for recent_stickers response is invalid: ${i}`);var u=parseInt(e.N.attr("code",n),10)||200;if(200!==u)throw new Error(`response status for recent_stickers is invalid: ${u}`);var s=e.N.attr("checksum",n)||"",l=(e.N.children(n)||[]).map(function(t){return(0,a.default)(t,e.N)}).filter(Boolean);t({checksum:s,stickers:l})}).catch(n)},t),onDrop:e.wrap(n)},{debugString:"query,recent_stickers",metricName:"QUERY_RECENT_STICKERS"})})},parseRecentStickersAction:function(e){if("recent_stickers"===this.N.tag(e)&&"delete"===this.N.attr("type",e))return this.N.attr("filehash",e)}};e.exports=i},cdfiibedj:function(e,t){e.exports={muted:"IFEYr",container:"ekffg",icon:"_2ZVha",text:"_2UyQS",containerSmallIcon:"_3KaFM"}},cdgdijchcg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIZES=t.ITEM_SPACING=t.ITEM_WIDTH=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("ceffhbhahb")),i=l(n("dhfbfehaef")),u=l(n("bjcfdghhfc")),s=l(n("bfdcadbbif"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.ITEM_WIDTH=parseInt(u.default["-item-width"].replace(/px$/,""),10),t.ITEM_SPACING=parseInt(u.default["-item-spacing"].replace(/px$/,""),10);var f=t.SIZES={SQUARE24:"SQUARE24",SQUARE26:"SQUARE26"},d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleEnterKey=function(e){e.stopPropagation(),e.preventDefault(),r.props.onClick()},r._handleClick=function(){r.props.onClick()},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement(i.default,{className:(0,o.default)(u.default.container,this.props.className,{[u.default.active]:this.props.isActive,[u.default.top]:this.props.isMain||this.props.singleButton,[u.default.padding]:this.props.singleButton,[u.default.square24]:this.props.size===f.SQUARE24,[u.default.square26]:this.props.size===f.SQUARE26}),"data-tab":this.props["data-tab"],onRef:this.props.onRef,handlers:{enter:this._handleEnterKey}},a.createElement("button",{"data-a8n":this.props["data-a8n"],className:u.default.btn,onClick:this._handleClick},a.createElement(s.default,{name:this.props.icon})))}}]),t}();d.displayName="ComposeBoxPanelsMenuButton",t.default=d},cdgebfdaif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("biddiiafgd")),i=h(n("bcbahjefec")),u=h(n("dabieifebj")),s=h(n("cihcggiidc")),l=h(n("dbdfbgehgj")),c=h(n("gbfffciea")),f=h(n("bhheahajjg")),d=n("bfjajhbdf"),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onSendInvite=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];c.default.closeModal(),Promise.all(r.props.participantNeedInvite.map(function(n){var a=n.contact,o=n.invite_code,i=n.invite_code_exp;return l.default.find(a.id).then(function(n){var a=r.props.groupGid.toString();return n.sendGroupInviteMessage(a,r.props.subject,o,i,e,t).then(function(e){return"success"===e})})})).then(function(e){var t=e.filter(Boolean).length;c.default.openToast(a.createElement(p.default,{msg:l10n.t(1191,{num:t,_plural:t}),id:(0,d.genId)()}))})},r.addInviteCommment=function(e){r.push(a.createElement(s.default,{participants:e,gid:r.props.groupGid,subject:r.props.subject,groupDesc:r.props.groupDesc,onClose:r._pop,onSend:r.onSendInvite}))},r._pop=function(){r.pop()},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.participantNeedInvite,t=this.getFormattedNames(e.map(function(e){return e.contact}),!0),n=l10n.t(522,{participant:t,_plural:e.length});this.push(a.createElement(o.default,{onOK:this.addInviteCommment.bind(this,e),okText:l10n.t(1190),onCancel:this._pop,cancelText:l10n.t(1091)},n))}},{key:"getFormattedName",value:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e.formattedUser:a.createElement(f.default,{contact:e})}},{key:"getFormattedNames",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return this.getFormattedName(e,n);var r=e.map(function(e){return t.getFormattedName(e,n)});return(0,u.default)(r,n)}}]),t}();b.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"},t.default=b},cdgeeegaih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResults=function(e,t){var n=t.map(function(e){var t=e.contact;return t}),r=(e||"").toLowerCase();return n.filter(function(e){return function(e,t){if(t.isMe)return!1;var n=[t.searchName||t.formattedName];!t.isMyContact&&t.notifyName&&n.push(t.notifyName.toLowerCase());return n.some(function(t){return function(e,t){var n=-1;do{if(t.indexOf(e,n+1)===n+1)return!0}while(-1!==(n=t.indexOf(" ",n+1)));return!1}(e,t)})}(r,e)})}},cdghjejjij:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeProfilePicThumb=function(e,t){return o.default.imageChanged(e,t),Promise.resolve()};var r,a=n("dhefcajhhb"),o=(r=a)&&r.__esModule?r:{default:r}},cdhdchfidf:function(e,t,n){"use strict";var r=u(n("bjigbaghc")),a=u(n("bdiiahhjbe")),o=u(n("eaaehfdjdg")),i=n("hjbbdjjdf");function u(e){return e&&e.__esModule?e:{default:e}}var s=n("dgdjiicfdg"),l={createGroup:function(e,t,n,u,l,c){var f=this;return new Promise(function(d,p){var h=o.default.tag(),m=f.wrap(d);m.tag=h;var b=t.map(function(e){return["participant",{jid:e},void 0]});(0,i.isString)(n)&&(0,i.isString)(u)&&b.unshift(["description",{id:u},n]),l&&b.unshift(["locked",void 0,void 0]),c&&b.unshift(["announcement",void 0,void 0]),a.default.log("create group tag",h)();var g=["group",{id:h,type:"create",author:r.default.me,subject:e},b],v=f.actionNode("set",[g]);f.binSend("send",v,p,{clientCacheable:!0,onSend:m,onDrop:f.wrap(p)},{debugString:"action,group,create",metricName:"GROUP",expires:s().unix()})})}};e.exports=l},cdheafhdbh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.ThemeOptions=void 0;var r=y(n("ddddbcgaef")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=y(n("ceffhbhahb")),u=y(n("gbfffciea")),s=y(n("bjgibbgbai")),l=y(n("dicggaeied")),c=y(n("cicabfhdbb")),f=y(n("ccajjgdjf")),d=y(n("bjfecgfdgj")),p=y(n("fbjjefaic")),h=n("ejbdjaifi"),m=y(n("caffijjhc")),b=y(n("didfdhbecg")),g=y(n("eaijjhejbf")),v=y(n("chgaccicf"));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=t.ThemeOptions=(0,v.default)({MEDIA_CAPTION:null,EMOJI_INPUT:null}),j={omitted:"",query:"",emojiList:null},O=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=a=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.state=j,a.onEmoji=function(e){d.default.increment(e),a.props.plugin.handleSelect(e)},a.onSearch=function(e){var t=e?e.trim():e,n=a.state.omitted,o=a.props.chat;if(o&&o.isGroup&&t&&t.includes("@"))a.setState({emojiList:null,query:""});else if(!n||!(0,r.default)(t,n))if(t.length<2){if(!a.state.emojiList)return;a.setState({emojiList:""===t?null:(0,l.default)(t),query:t})}else{var i=(0,l.default)(t);i.length?a.setState({omitted:null,emojiList:i,query:t}):a.setState({emojiList:null,query:t})}},a.onInactive=function(){a.setState(j)},a.onEscape=function(){a.setState({emojiList:null,query:"",omitted:a.state.query})},a.onKeyPress=function(e){e.preventDefault();var t=a.props.chat;t&&u.default.pasteChatTextInput(t,String.fromCharCode(e.charCode))},a.onKeyDown=function(e){return"Backspace"===e.key&&(e.preventDefault(),document.execCommand("delete"),a.props.plugin.ctx.focus()),!1},a.onEnter=function(e){if(!(0,f.default)(e)){var t=a.emojiSuggestionsPanel;return t?(e.preventDefault(),e.stopPropagation(),t.pickSelectedEmoji(),!1):void 0}},a.onLeft=function(e){if(!(0,f.default)(e)){var t=a.emojiSuggestionsPanel;t&&(e.preventDefault(),e.stopPropagation(),t.moveSelectionLeft())}},a.onRight=function(e){if(!(0,f.default)(e)){var t=a.emojiSuggestionsPanel;t&&(e.preventDefault(),e.stopPropagation(),t.moveSelectionRight())}},a.releaseFocus=function(){a.props.plugin.ctx.focus()},_(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.plugin;e.registerHandler(this,s.default.EMOJI_SEARCH,this.onSearch),e.registerHandler(this,s.default.EMOJI_INACTIVE,this.onInactive),e.registerHandler(this,s.default.EMOJI_ENTER,this.onEnter),e.registerHandler(this,s.default.EMOJI_LEFT,this.onLeft),e.registerHandler(this,s.default.EMOJI_RIGHT,this.onRight),e.registerHandler(this,s.default.EMOJI_TAB,this.onEnter)}},{key:"componentWillUnmount",value:function(){var e=this.props.plugin;e.unregisterHandler(this,s.default.EMOJI_SEARCH),e.unregisterHandler(this,s.default.EMOJI_INACTIVE),e.unregisterHandler(this,s.default.EMOJI_ENTER),e.unregisterHandler(this,s.default.EMOJI_LEFT),e.unregisterHandler(this,s.default.EMOJI_RIGHT),e.unregisterHandler(this,s.default.EMOJI_TAB)}},{key:"renderTab",value:function(e){return o.createElement("div",{className:g.default.searchBody,key:"RECENT"},o.createElement(c.default,{ref:(0,h.GetRef)("emojiSuggestionsPanel",this),key:this.state.query,onEmoji:this.onEmoji,onFocusRelease:this.onInactive,onSkinTonePicker:this.props.onSkinTonePicker,emojiList:e}))}},{key:"render",value:function(){var e=this.state.emojiList,t=e?o.createElement(m.default,{displayName:"EmojiSuggestions",escapable:!0,requestDismiss:this.onEscape,requestFocus:this.releaseFocus},o.createElement("div",{className:(0,i.default)(g.default.overlayContainer,{[g.default.mediaCaption]:this.props.theme===E.MEDIA_CAPTION,[g.default.emojiInput]:this.props.theme===E.EMOJI_INPUT})},o.createElement("div",{className:g.default.resultsContainer,"data-list-scroll-container":"false"},o.createElement("div",{className:g.default.emojiSearch,onKeyPress:this.onKeyPress,onKeyDown:this.onKeyDown},this.renderTab(e))))):null;return o.createElement(b.default,{component:"div",className:g.default.positioningContainer,transitionName:"emoji-search-panel-slide-up"},t)}}]),t}();O.displayName="EmojiSuggestions";t.Component=O;t.default=(0,p.default)((0,h.hoc)(O))},cdhedbceeh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=h(n("gaffaajde")),i=h(n("bdiiahhjbe")),u=h(n("ecdjdjeihf")),s=h(n("dejeiggfhi")),l=h(n("dbdagcfdjh")),c=h(n("bjjhgbbeja")),f=h(n("deiciccchg")),d=h(n("cadedacjj")),p=n("fgeddfbg");function h(e){return e&&e.__esModule?e:{default:e}}var m={minTimeout:1e3,retries:3};function b(e){return!(e instanceof p.MMSThrottleError)&&(e instanceof p.NoMediaHostsError||e instanceof p.HttpNetworkError||e instanceof p.MMSUnauthorizedError||e instanceof p.HttpStatusCodeError&&e.status>=500)}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"checkIfUploadExists",value:function(e){var t=e.encFilehash,n=e.signal,a=e.type,l=!0,c={encFilehash:e.encFilehash,type:e.type};return i.default.log("mmsClient.checkIfUploadExists: start",c)(),(0,o.default)(r({},m,{signal:n}),function(e,r){return i.default.log(`mmsClient.checkIfUploadExists: attempt #${r+1}`,c)(),f.default.waitIfOffline({signal:n}).then(function(){return u.default.getHostsInfo({operation:d.default.UPLOAD,encFilehash:t,type:a,signal:n}).then(function(e){var o=e.auth,i=e.selectedHost,u=e.fallbackHost,c=r>=2&&!l&&u?u:i;return(0,s.default)({auth:o,encFilehash:t,hostname:c.hostname,type:a,signal:n,onProgress:function(){l=!0}})}).catch(function(t){if(b(t))return e(t);throw t})})}).then(function(e){return i.default.log("mmsClient.checkIfUploadExists: success",c)(),e}).catch(function(e){throw e instanceof p.MediaNotFoundError?i.default.log("mmsClient.checkIfUploadExists: error",c,e)():i.default.error("mmsClient.checkIfUploadExists: error",c,e)(),e})}},{key:"upload",value:function(e){var t=e.ciphertextHmac,n=e.encFilehash,a=e.type,s=e.signal,l=e.onUploadHostFound,p=e.onUploadAttemptSuccess,h=e.onUploadAttemptError,g=!0,v={encFilehash:n,type:a};i.default.log("mmsClient.upload: start",v)();var y=Date.now();return(0,o.default)(r({},m,{signal:s}),function(e,r){return y=Date.now(),i.default.log(`mmsClient.upload: attempt #${r+1}`,v)(),f.default.waitIfOffline({signal:s}).then(function(){return u.default.getHostsInfo({operation:d.default.UPLOAD,encFilehash:n,type:a,signal:s}).then(function(e){var o=e.auth,i=e.selectedHost,u=e.fallbackHost,f=r>=2&&!g&&u?u:i;return l&&l({hostName:f.hostname,hostClass:f.class,failCount:r}),(0,c.default)({auth:o,ciphertextHmac:t,hostname:f.hostname,encFilehash:n,type:a,signal:s,onProgress:function(){g=!0}})}).catch(function(t){var n=b(t);if(!n||r===m.retries||h&&h(t,Date.now()-y),n)return e(t);throw t})})}).then(function(e){return p&&p(Date.now()-y),i.default.log("mmsClient.upload: success",v)(),e}).catch(function(e){throw i.default.error("mmsClient.upload: error",v,e)(),e})}},{key:"download",value:function(e){var t=e.directPath,n=e.encFilehash,a=e.type,s=e.signal,c=!0,f={directPath:t,encFilehash:n,type:a};return i.default.log("mmsClient.download: start",f)(),(0,o.default)(r({},m,{signal:s}),function(e,r){return i.default.log(`mmsClient.download: attempt #${r+1}`,f)(),u.default.getHostsInfo({operation:d.default.DOWNLOAD,directPath:t,encFilehash:n,type:a,signal:s}).then(function(e){var o=e.auth,i=e.selectedHost,u=e.fallbackHost,f=r>=2&&!c&&u?u:i;return(0,l.default)({auth:o,directPath:t,encFilehash:n,hostname:f.hostname,type:a,signal:s,onProgress:function(){c=!0}})}).catch(function(t){if(b(t))return e(t);throw t})}).then(function(e){return i.default.log("mmsClient.download: success",f)(),e}).catch(function(e){throw e instanceof p.MediaNotFoundError?i.default.log("mmsClient.download: expected error",f,e)():i.default.error("mmsClient.download: error",f,e)(),e})}}]),e}();t.default=new g},cdhichafeb:function(e,t){e.exports={"-thumb-radius-window":"4.5px",thumbRadiusWindow:"4.5px","-thumb-radius-fullscreen":"5px",thumbRadiusFullscreen:"5px",muted:"mzdM-",controls:"_1ZSng",playpauseBtnContainer:"_2sQuC",fullscreen:"_1LLDD",currentTime:"_2tjFy",duration:"_1ahx-",timeText:"_2sWbB",progressBarContainer:"OZVc4",hiddenProgressBar:"_3N5w5",displayedProgressBar:"_2bTRm",displayedProgress:"_2ZXtj",displayedBuffer:"_29NP7",displayedTrack:"BlZHO",thumb:"_12kgx",hideThumb:"_3P5mI",volumeContainer:"_130CI",volumeBarContainer:"AD15h",volumeLowerTrack:"_3Nf6W",firefoxFix:"_31xd3",lowerTrackLongest:"_3H-Mh",volumeBar:"scAIX",volumePadding:"_28kjQ",tooltipWrapper:"_3T5kf",tooltipTextBoxPosAndSize:"_2nN7G",tooltipTextBoxGeneral:"_2vqPI",tooltipTailGeneral:"_23EAc",tooltipTailPosAndSize:"_4MCrh"}},cdjajhiedh:function(e,t){e.exports={muted:"_1CHPf",container:"_2XJM3"}},cdjdachjig:function(e,t,n){"use strict";var r=i(n("jccfhaecf")),a=n("dcbdjheea"),o=i(n("bdiiahhjbe"));function i(e){return e&&e.__esModule?e:{default:e}}var u=n("dicfecifhd");function s(e){try{return(0,a.createWid)(e)}catch(t){return e}}e.exports=function(e){var t="",n="",a=e.singleByte,i=e.doubleByte,l=e.nibbleDecode;this.readNode=function(e){var n=e.readByte(),r=this.readListSize(e,n);if((n=e.readByte())===u.STREAM_END)throw new Error("unexpected stream end "+e.debugInfo());var a=this.readString(e,n);if(t=a,0===r||!a)throw new Error("invalid node. 0 list or empty tag"+e.debugInfo());var o=r-2+r%2>>1,i=this.readAttributes(e,o);if(r%2==1)return[a,i,void 0];var s=void 0;if(n=e.readByte(),this.isListTag(n))s=this.readList(e,n);else if(n===u.BINARY_8){var l=e.readByte();s=e.readBytes(l)}else if(n===u.BINARY_20){var c=e.readInt20();s=e.readBytes(c)}else if(n===u.BINARY_32){var f=e.readInt32();s=e.readBytes(f)}else s=this.readString(e,n);return[a,i,s]},this.isListTag=function(e){return e===u.LIST_EMPTY||e===u.LIST_8||e===u.LIST_16},this.readListSize=function(e,t){if(t===u.LIST_EMPTY)return 0;if(t===u.LIST_8)return e.readByte();if(t===u.LIST_16)return e.readInt16();throw new Error("invalid list size "+e.debugInfo())},this.readString=function(e,a){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=void 0;if(-1===a)throw new Error("invalid start token readString"+e.debugInfo());if(a>2&&a<236){var c=this.getToken(a);return"s.whatsapp.net"===c&&(c="c.us"),c}switch(a){case u.DICTIONARY_0:case u.DICTIONARY_1:case u.DICTIONARY_2:case u.DICTIONARY_3:var f=e.readByte();return this.getTokenDouble(a-u.DICTIONARY_0,f);case u.LIST_EMPTY:return;case u.BINARY_8:return l=e.readString(e.readByte()),this.isAttr&&i&&r.default.isWid(l)?s(l):l;case u.BINARY_20:return l=e.readString(e.readInt20()),this.isAttr&&i&&r.default.isWid(l)?s(l):l;case u.BINARY_32:return l=e.readString(e.readInt32()),this.isAttr&&i&&r.default.isWid(l)?s(l):l;case u.JID_PAIR:var d=this.readString(e,e.readByte()),p=this.readString(e,e.readByte());if(void 0!==d&&void 0!==p){var h=d+"@"+p;return i&&r.default.isWid(h)?s(h):h}if(void 0!==p)return p;throw new Error("invalid jid "+d+","+p+" "+e.debugInfo());case u.JID_AD:var m=e.readByte(),b=e.readByte(),g=this.readString(e,e.readByte());if(void 0!==g)return s(m&&b?g+"."+m+":"+b+"@c.us":m?g+"."+m+"@c.us":b?g+":"+b+"@c.us":g+"@c.us");throw new Error(`invalid JID_AD agent:${m} device:${b} user:${g}`);case u.NIBBLE_8:case u.HEX_8:return this.readPacked8(a,e);default:throw o.default.infoVerbose(`\n                Unexpected token in binary protocol read. Token : ${a}\n                lastTag: ${t}\n                lastAttributeKey: ${n}\n                ${e.debugInfoWithPadding()}\n              `)(),new Error("invalid string "+a)}},this.getToken=function(e){var t=void 0;if(e>=0&&e<a.length&&(t=a[e]),void 0===t)throw new Error("invalid token "+e);return t},this.getTokenDouble=function(e,t){var n=void 0,r=256*e+t;if(r>=0&&r<i.length&&(n=i[r]),void 0===n)throw new Error("invalid double byte token "+e+" "+t);return n},this.readAttributes=function(e,t){this.isAttr=!0;for(var a=void 0,o=void 0,i=t?{}:void 0,u=0;u<t;u++)a=this.readString(e,e.readByte()),n=a,o=this.readString(e,e.readByte(),r.default.canBeWid(a)),i[a]=o;return this.isAttr=!1,i},this.readList=function(e,t){for(var n=[],r=this.readListSize(e,t),a=0;a<r;a++)n.push(this.readNode(e));return n},this.readPacked8=function(e,t){for(var n=t.readByte(),r=n>>7,a=127&n,o="",i=0;i<a;i++){var u=t.readByte();o+=this.unpackByte(e,(240&u)>>4),o+=this.unpackByte(e,15&u)}return r&&(o=o.substring(0,o.length-1)),o},this.unpackByte=function(e,t){switch(e){case u.NIBBLE_8:return this.unpackNibble(t);case u.HEX_8:return this.unpackHex(t);default:throw new Error("unpack non-nibble/hex type: "+e)}},this.unpackNibble=function(e){if(!l.hasOwnProperty(e))throw new Error("invalid nibble to unpack: "+e);return l[e]},this.unpackHex=function(e){if(e>=0&&e<=15)return e.toString(16).toUpperCase();throw new Error("invalid hex to unpack: "+e)}}},cdjfcjheca:function(e,t,n){"use strict";var r,a=n("bdiiahhjbe"),o=(r=a)&&r.__esModule?r:{default:r},i=n("hjbbdjjdf");var u={queryQuickReplies:function(e){return this.sendQuickRepliesQuery(e,!1)},flushQuickReplyCounts:function(e){return this.sendQuickRepliesQuery(e,!0)},sendQuickRepliesQuery:function(e,t){var n=this;return new Promise(function(r,a){var i=e?Object.keys(e).map(function(t){return["quick_reply",{id:t,count:e[t].toString()},void 0]}):void 0,u={type:"quick_reply"};t&&(u.kind="count");var s=n.queryNode(u,i);n.binSend("sendEphemeral",s,a,{onSend:n.binWrap(function(e){n.BinaryProtocol.read(e).then(function(e){var a={data:[]};if(o.default.logColor("green","bin-recv: response,quick_reply",e)(),"response"===n.N.tag(e)&&"quick_reply"===n.N.attr("type",e)){a.checksum=n.N.attr("checksum",e);var i=n.N.children(e);if(Array.isArray(i))for(var u=0;u<i.length;u++){var s=(t?n.parseQuickReplyCount.bind(n):n.parseQuickReply.bind(n))(i[u]);s&&a.data.push(s)}}r(a)}).catch(a)},r),onDrop:n.wrap(a)},{debugString:"query,quick_replies",metricName:"QUERY_QUICK_REPLIES"})})},parseQuickReply:function(e){if("quick_reply"===this.N.tag(e)){var t=this.N.attr("id",e),n=this.N.attr("short",e),r=this.N.attr("message",e),a=parseInt(this.N.attr("count",e),10)||0,o=this.N.attr("type",e),u=[];if("delete"!==o){var s=this.N.children(e);if(Array.isArray(s))for(var l=0;l<s.length;l++){var c=s[l];"matched-text"===this.N.tag(c)&&u.push(this.N.dataStr(c))}}var f={id:t,shortcut:n,message:r,count:a,keywords:u,type:o},d=[!(o||t&&n&&r&&(0,i.isNumber)(a)),o&&"delete"!==o,"delete"===o&&!t];return this.dropIfConditionMet(d,f)}},parseQuickReplyCount:function(e){if("quick_reply"===this.N.tag(e)){var t=this.N.attr("id",e),n=parseInt(this.N.attr("count",e),10)||0,r={id:t,count:n},a=[!t||!(0,i.isNumber)(n)];return this.dropIfConditionMet(a,r)}}};e.exports=u},cdjhjdcbeg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("ceffhbhahb")),o=u(n("effbcehec")),i=u(n("cjgadgafji"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.large,n=e.a8nText,u=e.onClick,s=e.children,l=(0,a.default)(i.default.btn,{[i.default.large]:t});return r.createElement("div",{"data-a8n":o.default.key(n),role:"button",className:l,onClick:u},s)};s.displayName="Round",t.default=s},ceaabfjiba:function(e,t){e.exports={muted:"_3Obpr",messageList:"_1ays2",messageListSelectable:"_2A6NB"}},cebabjecdf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29,QUERY_STATUS:30,QUERY_STATUS_UPDATE:31,PRIVACY_STATUS:32,QUERY_LIVE_LOCATIONS:33,LIVE_LOCATION:34,QUERY_VNAME:35,QUERY_LABELS:36,CALL:37,QUERY_CALL:38,QUERY_QUICK_REPLIES:39,QUERY_CALL_OFFER:40,QUERY_RESPONSE:41,QUERY_STICKER_PACKS:42,QUERY_STICKERS:43,ADD_OR_REMOVE_LABELS:44,QUERY_NEXT_LABEL_COLOR:45,QUERY_LABEL_PALETTE:46,CREATE_OR_DELETE_LABELS:47,EDIT_LABELS:48,QUERY_RECENT_STICKERS:49}},cebdifcdab:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=x(n("ddhijeejag")),o=D(n("ebcagbhefg")),i=D(n("biecbbiiee")),u=D(n("gbfffciea")),s=D(n("eadfaddcj")),l=D(n("ccdfjfdccf")),c=D(n("djcchigfih")),f=D(n("djbhiedbef")),d=n("dajffajabh"),p=D(d),h=D(n("fijafegab")),m=x(n("cajijabhgb")),b=D(n("eceadcicaf")),g=D(n("eigdejjai")),v=D(n("bjbedjfe")),y=D(n("becfabjeeg")),_=D(n("ihfccfgdf")),E=n("ejbdjaifi"),j=D(n("bfdcadbbif")),O=n("bfjajhbdf"),S=D(O),w=D(n("dcjdgceiej")),P=D(n("caceaafdic")),M=n("ddbddjjgia"),C=D(n("bibjgdifc")),T=D(n("ddjbidjfjh")),A=D(n("bfejacaeaj")),N=n("bgddggdhc"),k=D(n("cigbgdjabj")),I=D(n("ccaaiecfib")),R=D(n("eafabiffad")),L=D(n("bfgbdiffgd"));function D(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var G=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=U(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.setRefScrollable=function(e){return r.refScrollable=e},r.state={msgInfo:void 0,unimplemented:!1},r.wrapper=null,r.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===r.props.msg.id&&(!!t||r.getMsgComponent())},r.onClose=function(){r.context.uim.uie.requestDismiss()},U(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;g.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then(function(t){e.setState({msgInfo:t}),e.props.listeners.add(t,"change:playedRemaining change:readRemaining change:deliveryRemaining")}).catch(m.Unmount,function(){}).catch(function(){e.setState({unimplemented:!0}),u.default.openToast(a.createElement(S.default,{msg:l10n.t(710),id:(0,O.genId)("msg_info_failed")}))})}},{key:"componentDidMount",value:function(){var e=this,t=(0,N.forbiddenFindDOMNode)(this.refScrollable);this.props.msg.type===s.default.MSG_TYPE.IMAGE&&t&&(t.scrollTop=t.scrollHeight),this.props.listeners.add(this.props.msg,"remove",function(t,n){n===i.default&&e.context.uim.uie.requestDismiss()})}},{key:"getMsgComponent",value:function(){var e=this.wrapper;if(e)return e.getMsgComponentRef()}},{key:"render",value:function(){var e=this.props.msg,t=this.state,n=t.msgInfo,r=t.unimplemented,i=void 0,u=void 0;if(n){var m=[],b=void 0,g=void 0,v=void 0;n.isPTT&&(u=l10n.t(685),g=(b=n.played.head())&&b.t,v=a.createElement("span",{className:T.default.icon},a.createElement(j.default,{name:"status-ptt-blue"})),m.push(a.createElement(l.default,{title:l10n.t(680),t:g,icon:v,key:"played"}))),g=(b=n.read.head())&&b.t,v=a.createElement("span",{className:T.default.icon},a.createElement(j.default,{name:"status-dblcheck-ack"})),u=u||l10n.t(682),m.push(a.createElement(l.default,{title:u,t:g,icon:v,key:"read"})),g=(b=n.delivery.head())&&b.t,v=a.createElement("span",{className:T.default.icon},a.createElement(j.default,{name:"status-dblcheck"})),m.push(a.createElement(l.default,{title:l10n.t(678),t:g,icon:v,key:"delivery"})),L.default.frequentlyForwardedMessages&&e.numTimesForwarded>0&&!e.isFrequentlyForwarded&&m.push(a.createElement(R.default,{key:"forward",msg:e})),i=a.createElement(h.default,{theme:"padding"},m)}var _=void 0;n||r||(_=a.createElement("div",{className:T.default.spinner,key:"spinner"},a.createElement(y.default,{size:50,stroke:4})));var O=null;return e.labels&&e.labels.length&&I.default.supportsFeature(I.default.F.LABELS_DISPLAY)&&(O=a.createElement(h.default,{theme:"padding"},a.createElement(k.default,{labels:e.labels}))),a.createElement(c.default,{key:"message-info-modal"},a.createElement(p.default,{title:l10n.t(677),type:d.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),a.createElement(C.default,{ref:this.setRefScrollable,chatPreference:o.default.assertGet("defaultPreference")},a.createElement(P.default,{msg:e,ref:(0,E.GetRef)("wrapper",this),displayType:s.default.DISP_TYPE.MSG_INFO,isMsgVisible:this.isMsgVisible,position:M.MsgPosition.END})),a.createElement(f.default,null,O,a.createElement("div",{className:T.default.body},_,i)))}}]),t}();G.CONCERNS={msg:["id","star","type","isGif","labels","numTimesForwarded","isFrequentlyForwarded"]},G.contextTypes={uim:A.default.instanceOf(w.default)},G.displayName="ContactMsgInfoDrawer",t.default=(0,v.default)((0,b.default)((0,_.default)((0,E.hoc)(G),G.CONCERNS)))},cecdfacjga:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e?e.replace(/\uFE0F/g,""):e}},cedaiijige:function(e,t){e.exports={muted:"LEfZ0",markerAdmin:"FPZFa",markerInvited:"_3ywxI",chatControls:"_1Dfrr",screenName:"_3VvbK",contactSmall:"_2ILbv"}},ceddibihdf:function(e,t){e.exports={muted:"SMIlp",image:"_1yrMk",default:"_3gatw",container:"_1wybK",hasBorder:"_1d0W1",square:"_3KG1x"}},cedifchehj:function(e,t){e.exports={muted:"_1rFZr",meta:"_3MYI2",metaLight:"_3UgZX",timestamp:"_3fnHB",icon:"_3Ux6T",status:"_370iZ",labels:"_2HsLW"}},ceeggdegaf:function(e,t,n){"use strict";var r,a=n("ebjfcagbfd"),o=(r=a)&&r.__esModule?r:{default:r};e.exports=function(e,t){return t.reduce(function(e,t){var n=t.parsers;return n?n.reduce(function(e,t){return t(e)},e):e},(0,o.default)(e))}},cefeghcbch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var r=N(n("bgjcbiaddd")),a=N(n("bhdddbafig")),o=N(n("chihjdheic")),i=N(n("iidhbgeed")),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("iaibjaeb"),l=N(s),c=N(n("dbdfbgehgj")),f=N(n("ebjaejiaba")),d=(N(n("ccfcjccjbg")),N(n("gbfffciea"))),p=N(n("hdccjfbbg")),h=N(n("dhfbfehaef")),m=N(n("cbedjffdai")),b=N(n("eceadcicaf")),g=n("ejbdjaifi"),v=N(n("ceigficjgj")),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),_=n("bgddggdhc"),E=N(n("cbgeijgefb")),j=N(n("fbjjefaic")),O=N(n("caffijjhc")),S=n("bbhhbdicgc"),w=N(S),P=N(n("eadfaddcj")),M=(N(n("cbcbdjdah")),N(n("ddajbaceej"))),C=N(n("bcajjbibcd")),T=N(n("fifhbjiec")),A=n("gaifbabbj");function N(e){return e&&e.__esModule?e:{default:e}}function k(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var I="SEC_CHATS",R="SEC_CONTACTS",L="SEC_GROUPCHATS",D="SEC_STARRED",x="SEC_MSG",U="ROW_CHATS",G="ROW_CONTACTS",F="ROW_GROUPCHATS",B="ROW_STARRED",$="ROW_MSG",V=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return H.call(n),n._listPointerEvents=!0,n.ftsStarred=n.getFTSStarred(e),n.ftsMessages=n.getFTSMessages(e),n.oldSelection=null,n.debouncedOpenSelected=n.props.debounce(function(){n.openSelected(n.focusComposer),n.focusComposer=!1},200),n.state={textsize:m.default.get().textsize},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,y.Component),u(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.selection.init(this.getSelection())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.ftsStarred=this.getFTSStarred(e),this.ftsMessages=this.getFTSMessages(e),!this.props.selection.getVal()&&this.props.isSearching&&!e.isSearching&&this.oldSelection&&this.props.selection.setVal(this.oldSelection)}},{key:"componentWillUnmount",value:function(){var e=this.getSelection(),t=this.props.selection.getVal();t&&t.isState&&!this.props.isSearching&&!e.length&&d.default.clearChat(t)}},{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(d.default,"focus_chat_list",this.restoreFocus),this.props.listeners.add(d.default,"focus_next_chat",function(t){e.onNextChat(null,!0,t)}),this.props.listeners.add(d.default,"focus_prev_chat",function(t){e.onPrevChat(null,!0,t)}),this.props.listeners.add(d.default,"update_chatlist_selection",this.updateSelected),this.props.listeners.add(d.default,"textsize_change",function(t){e.setState({textsize:t})})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.selection.getVal();n&&(this.oldSelection=n),this.props.selection.init(this.getSelection(),!e.isSearching&&!this.props.isSearching),n!==this.props.selection.getVal()&&(this.focusComposer=!0,this.debouncedOpenSelected())}},{key:"openSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props.selection.getVal();t&&(t instanceof f.default&&t!==this.getActiveChat()?d.default.openChatFromUnread(t).then(function(n){n&&e&&d.default.focusChatTextInput(t)}):e&&d.default.focusChatTextInput(t))}},{key:"getSelection",value:function(){return[].concat(k(this.props.chats),k(this.props.contacts),k(this.props.groupChats.map(function(e){return e[0]})),k(this.ftsStarred),k(this.ftsMessages))}},{key:"scrollListIntoFocusedItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;this.refList&&this.refList.scrollIntoViewIfNeeded(this.props.selection.index,e)}},{key:"focusFirst",value:function(){var e=this.uie;e&&e.activate(),this.props.selection.setFirst(),this.scrollListIntoFocusedItem(0),this.debouncedOpenSelected()}},{key:"onNextChat",value:function(e,t,n){e&&(e.preventDefault(),e.stopPropagation());var r=this.props.selection.next();this.props.selection.index!==r&&(this.props.selection.setNext(!0),this.focusComposer=n,this.scrollListIntoFocusedItem(),this.debouncedOpenSelected())}},{key:"onPrevChat",value:function(e,t,n){e&&(e.stopPropagation(),e.preventDefault()),this.props.selection.prev()>-1?(this.props.selection.setPrev(!0),this.focusComposer=n,this.scrollListIntoFocusedItem(),this.debouncedOpenSelected()):t||(this.debouncedOpenSelected.cancel(),this.openSelected(),this.props.onFocusSearch())}},{key:"getHeight",value:function(){var e=this.state.textsize,t=(0,o.default)(P.default.LIST_HEIGHT_TEXTSIZE_MAP,function(t){return t.scale===e});return t?t.height:72}},{key:"getData",value:function(){var e=this.props,t=e.chats,n=e.contacts,r=e.groupChats,a=e.isSearching,o=this.ftsStarred,i=this.ftsMessages,u=[];return a&&t.length>0&&u.push({itemKey:"section-chats",type:I}),u.push.apply(u,k(t.map(function(e){return{itemKey:`chat-${e.id.toString()}`,data:e,type:U}}))),a&&n.length>0&&u.push({itemKey:"section-contacts",type:R}),u.push.apply(u,k(n.map(function(e){return{itemKey:`contact-${e.id.toString()}`,data:e,type:G}}))),a&&r.length>0&&u.push({itemKey:"section-groupchats",type:L}),u.push.apply(u,k(r.map(function(e){return{itemKey:`groupchat-${e[0].id.toString()}-${e[1].map(function(e){return e.id.toString()}).join("-")}`,data:e,type:F}}))),a&&o.length>0&&u.push({itemKey:"section-starred",type:D}),u.push.apply(u,k(o.map(function(e){return{itemKey:`starred-${e.id.toString()}`,data:e,type:B}}))),a&&i.length>0&&u.push({itemKey:"section-msg",type:x}),u.push.apply(u,k(i.map(function(e){return{itemKey:`msg-${e.id.toString()}`,data:e,type:$}}))),u}},{key:"render",value:function(){var e=this,t={down:function(t){return e.onNextChat(t,!0)},j:function(t){return e.onNextChat(t,!0)},up:function(t){return e.onPrevChat(t,!0)},k:function(t){return e.onPrevChat(t,!0)},"/":function(t){return e.onFocusSearch(t)}};return y.createElement(O.default,{displayName:"Chatlist",ref:this.setRefUIE,state:O.default.State.PASSIVE,requestFocus:this.requestFocus},y.createElement(h.default,{handlers:t,onFocus:this.onFocusGain,"data-tab":3},y.createElement(w.default,{data:this.getData(),renderItem:this.renderItem,flatListController:this.props.flatListController,defaultItemHeight:this.getHeight(),onPointerEventsOff:this.onListPointerEventsOff,onPointerEventsOn:this.onListPointerEventsOn,ref:this.setRefList})))}},{key:"getActiveChat",value:function(){return(0,o.default)(c.default.toArray(),{active:!0})}},{key:"getGroupChatSubtitle",value:function(e){var t=e[1],n=e[0].groupMetadata.participants.map(function(e){return e.contact}),o=(0,a.default)(n,t),i=(0,r.default)(t,o).map(function(e){return e.formattedShortNameWithNonBreakingSpaces}).join(l10n.t(413)),u=A.Configuration.Search({terms:[this.props.searchQuery.trimmed]});return y.createElement(T.default,{text:i,formatters:u,titlify:!0,direction:"auto"})}}]),t}();V.defaultProps={chats:[],groupChats:[]};var H=function(){var e=this;this.onListPointerEventsOff=function(){e._listPointerEvents=!1},this.onListPointerEventsOn=function(){e._listPointerEvents=!0},this.updateSelected=function(t){e.debouncedOpenSelected.cancel(),e.props.selection.setVal(t,!1)},this.onContactClick=function(t,n){e.onClick(t,n.id)},this.onChatClick=function(t,n){e.onClick(t,n.id)},this.onMessageClick=function(t,n,r){e.onClick(t,n.id,r)},this.onClick=function(t,n,r){t.preventDefault(),t.stopPropagation(),c.default.find(n).then(function(t){r?d.default.openChatAt(t,r).then(function(e){e&&d.default.focusChatTextInput(t)}):t!==e.getActiveChat()?d.default.openChatFromUnread(t).then(function(e){e&&d.default.focusChatTextInput(t)}):d.default.focusChatTextInput(t)})},this.getFTSStarred=function(e){return(0,i.default)(e.ftsResult,{star:!0})},this.getFTSMessages=function(e){return(0,i.default)(e.ftsResult,{star:!1})},this.restoreFocus=function(){e.props.selection.reset(!0)},this.onFocusGain=function(t){if(t.target===(0,_.forbiddenAssertDOMNode)(e)&&!e.props.multiSelection&&e._listPointerEvents)if(e.props.selection.index<0)e.focusFirst();else{var n=e.uie;n&&n.activate(),e.props.selection.reset(!0)}},this.onFocusSearch=function(t){t.stopPropagation(),t.preventDefault(),e.props.onFocusSearch()},this.setRefUIE=function(t){e.uie=t,t&&(e.hotKey=t.getRef())},this.onFocusList=function(){var t=e.refList,n=e.hotKey;t&&n&&M.default.focus((0,_.forbiddenAssertDOMNode)(n))},this.requestFocus=function(){e.props.selection.reset(!1),e.props.selection.index>-1&&document.activeElement===document.body&&e.onFocusList()},this.setRefList=function(t){e.refList=t},this.onMultiSelect=function(t,n,r){var a=e.props.multiSelection;a&&a.setVal(t,n,r)},this.renderWrappedItem=function(t,n){var r=e.props,a=r.multiSelection,o=r.selectableState;return a&&o?y.createElement(C.default,{model:n,theme:"chat-checkbox",selectableState:o,multiSelection:a,onSelect:e.onMultiSelect},t):t},this.renderItem=function(t){var n=e.props.searchQuery;switch(t.type){case I:return y.createElement(E.default,{header:l10n.t(1095)});case R:return y.createElement(E.default,{header:l10n.t(1102)});case L:return y.createElement(E.default,{header:l10n.t(1193)});case D:return y.createElement(E.default,{header:l10n.t(1284)});case x:return y.createElement(E.default,{header:l10n.t(1206)});case U:var r=t.data;return e.renderWrappedItem(y.createElement(l.default,{chat:r,contact:r.contact,mode:s.Mode.LAST,searchQuery:n,onClick:e.onChatClick,mouseDownAsClick:!0,selectableState:e.props.selectableState,multiSelection:e.props.multiSelection,active:e.props.selection}),r);case G:var a=t.data;return e.renderWrappedItem(y.createElement(p.default,{contact:a,active:e.props.selection,searchQuery:n,onClick:e.onContactClick,mouseDownAsClick:!0,waitIdle:!0}),a);case F:var o=t.data,i=o[0],u=e.getGroupChatSubtitle(o);return e.renderWrappedItem(y.createElement(l.default,{chat:i,contact:i.contact,secondary:u,mode:s.Mode.LAST,searchQuery:n,onClick:e.onChatClick,mouseDownAsClick:!0,selectableState:e.props.selectableState,multiSelection:e.props.multiSelection,active:e.props.selection}),i);case B:var c=t.data;return e.renderWrappedItem(y.createElement(v.default,{msg:c,chat:c.chat,searchQuery:n,onClick:e.onMessageClick,active:e.props.selection}),c);case $:var f=t.data;return e.renderWrappedItem(y.createElement(v.default,{msg:f,chat:f.chat,searchQuery:n,onClick:e.onMessageClick,active:e.props.selection}),f);default:throw new S.UnknownDataError(t)}}};V.displayName="Chatlist";t.Component=V;t.default=(0,b.default)((0,j.default)((0,g.hocWithDefaults)(V)))},cefgfgdhj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments[3],a=[];t.lastIndex=0;var i=void 0;for(;(i=t.exec(e))&&t.lastIndex>0;)r&&(i=r(i,t)),i&&a.push((0,o.default)(i,n));return a};var r,a=n("cfjfcfhchg"),o=(r=a)&&r.__esModule?r:{default:r}},cefjbaedhh:function(e,t){e.exports={muted:"_1E5Mp",footer:"_2s9K8"}},cefjgcjhgf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setLastReceivedKey=function(e,t){if(a.default.supportsFeature(a.default.F.MODEL_STORAGE))return r.default.merge(e.toString(),{lastReceivedKey:t});return Promise.resolve()};var r=o(n("begbbgieee")),a=o(n("ccaaiecfib"));function o(e){return e&&e.__esModule?e:{default:e}}},cegfacfjjj:function(e,t){e.exports={muted:"_2-7uT",container:"_1w7r7",centerChild:"_1V7b0",show:"_14WjA",image:"_1Wf2y"}},cegfhjajbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("bgaeiiadg"),i=(r=o)&&r.__esModule?r:{default:r};function u(){return a.createElement("div",{className:i.default.border})}u.displayName="CellBorder"},ceggedffg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2];return function(a){function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,a),r(i,null,[{key:"match",value:function(r){return(0,o.default)(r,e,t,n)}}]),i}(a.default)};var a=i(n("gjhhbhigc")),o=i(n("cefgfgdhj"));function i(e){return e&&e.__esModule?e:{default:e}}},ceghehfgdc:function(e,t){e.exports={muted:"_2057O",screenshots:"_1tV1q",action:"_1T8rb",disabled:"_3yioW",screenshotPreview:"_2VDPW",screenshotsImg:"opM6t",btnDelete:"_3H9fr"}},ceghjibjjg:function(e,t){e.exports={muted:"_2nQrH",nextButton:"x9mId",section:"_1eFDy"}},cehaihfgda:function(e,t){e.exports={muted:"_2qyPH",newGroupButton:"_11p3Q"}},cehdgbej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BoldedContactName=t.UntrustedGroupDesc=t.TrustedGroupDesc=t.FormattedNotification=t.RawNotification=t.ComposeBox=t.QuotedMention=t.Format=t.FTSMessage=t.LastMessage=t.Search=t.UntrustedConversation=t.TrustedConversation=t.Compatibility=t.StatusV3Caption=t.StatusV3Text=t.LargeEmojiOnly=t.EmojiOnly=void 0;var r=n("eehjjeabe");t.EmojiOnly=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).selectable;return[[[r.Emoji,{selectable:e}]]]},t.LargeEmojiOnly=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).selectable;return[[[r.Emoji,{selectable:e,size:"large"}]]]},t.StatusV3Text=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.links,n=e.selectable;return[[[r.Code,{selectable:n}]],[[r.Link,{links:t,selectable:n}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]],[[r.Emoji,{selectable:n,size:"xlarge"}]]]},t.StatusV3Caption=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).selectable;return[[[r.Code,{selectable:e}]],[[r.Bold,{selectable:e}],[r.Italic,{selectable:e}],[r.Strikethrough,{selectable:e}]],[[r.Emoji,{selectable:e}]]]},t.Compatibility=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).selectable;return[[[r.Emoji,{selectable:e}]]]},t.TrustedConversation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mentions,n=e.links,a=e.selectable;return t?[[[r.Code,{selectable:a}]],[[r.Link,{links:n,selectable:a}]],[[r.Mention,{mentions:t,selectable:a}]],[[r.Bold,{selectable:a}],[r.Italic,{selectable:a}],[r.Strikethrough,{selectable:a}]],[[r.Emoji,{selectable:a}]]]:[[[r.Code,{selectable:a}]],[[r.Link,{links:n,selectable:a}]],[[r.Bold,{selectable:a}],[r.Italic,{selectable:a}],[r.Strikethrough,{selectable:a}]],[[r.Emoji,{selectable:a}]]]},t.UntrustedConversation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mentions,n=e.selectable;return t?[[[r.Code,{selectable:n}]],[[r.Mention,{mentions:t,selectable:n}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]],[[r.Emoji,{selectable:n}]]]:[[[r.Code,{selectable:n}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]],[[r.Emoji,{selectable:n}]]]},t.Search=function(e){var t=e.boundary,n=e.terms,a=e.selectable,o=e.mentions;return[[[r.TextMention,{mentions:o,selectable:a}]],[[r.Bold,{selectable:a}],[r.Italic,{selectable:a}],[r.Strikethrough,{selectable:a}]],[[r.Highlight,{terms:n,boundary:t,selectable:a,ignoreDiacritics:!0}]],[[r.Emoji,{selectable:a}]]]},t.LastMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mentions,n=e.selectable;return t?[[[r.Code,{selectable:n}]],[[r.TextMention,{mentions:t,selectable:n}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]],[[r.Emoji,{selectable:n}]]]:[[[r.Code,{selectable:n}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]],[[r.Emoji,{selectable:n}]]]},t.FTSMessage=function(e){var t=e.boundary,n=e.mentions,a=e.terms,o=e.selectable;return[[[r.Code,{selectable:o}]],[[r.TextMention,{mentions:n,selectable:o}]],[[r.Bold,{selectable:o}],[r.Italic,{selectable:o}],[r.Strikethrough,{selectable:o}]],[[r.Highlight,{terms:a,boundary:t,selectable:o}]],[[r.Emoji,{selectable:o}]]]},t.Format=function(e){var t=e.mentions,n=e.selectable;return[[[r.Code,{selectable:n}]],[[r.TextMention,{mentions:t,selectable:n}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]],[[r.Emoji,{selectable:n}]]]},t.QuotedMention=function(e){var t=e.mentions,n=e.selectable;return[[[r.Code,{selectable:n}]],[[r.TextMention,{mentions:t,selectable:n,theme:{quoted:!0}}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]],[[r.Emoji,{selectable:n}]]]},t.ComposeBox=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).selectable;return[[[r.Code,{selectable:e}]],[[r.Link,{selectable:e}]],[[r.Bold,{selectable:e}],[r.Italic,{selectable:e}],[r.Strikethrough,{selectable:e}]],[[r.Emoticon]]]},t.RawNotification=function(e){var t=e.mentions,n=e.selectable;return[[[r.RawMention,{mentions:t,selectable:n}]]]},t.FormattedNotification=function(e){var t=e.mentions,n=e.selectable;return[[[r.Code,{selectable:n}]],[[r.RawMention,{mentions:t,selectable:n}]],[[r.Bold,{selectable:n}],[r.Italic,{selectable:n}],[r.Strikethrough,{selectable:n}]]]},t.TrustedGroupDesc=function(e){var t=e.links;return[[[r.Code,{selectable:!0}]],[[r.Link,{links:t,selectable:!0}]],[[r.Bold,{selectable:!0}],[r.Italic,{selectable:!0}],[r.Strikethrough,{selectable:!0}]],[[r.Emoji,{selectable:!0}]]]},t.UntrustedGroupDesc=function(){return[[[r.Code,{selectable:!0}]],[[r.Bold,{selectable:!0}],[r.Italic,{selectable:!0}],[r.Strikethrough,{selectable:!0}]],[[r.Emoji,{selectable:!0}]]]},t.BoldedContactName=function(e){var t=e.selectable;return[[[r.BoldFirstWord,{selectable:t}]],[[r.Emoji,{selectable:t}]]]}},cehfihhdba:function(e,t){e.exports={muted:"hR2qO",intro:"iFKgT",body:"_1kdWs",title:"_1cDWi",text:"_3mkas",textContainer:"_35BbM",image:"_1wSzK",secondary:"aheht",divider:"_3ZVgT",secondaryText:"_3UQPd",secondaryTextBody:"_1IaO2",secondaryIcon:"_3jDzD"}},cehhcbdgih:function(e,t){e.exports={muted:"_1guqz",linkContainer:"_1Td9v",descContainer:"_1ODlg",icon:"_3M3Wb"}},cehjcbedfe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n("dfacahcafg")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=p(n("eceadcicaf")),u=p(n("bdjihaecid")),s=p(n("dfcihdhibf")),l=p(n("cgfidiajgj")),c=n("dhjffabgfb"),f=n("ejbdjaifi"),d=p(n("faeabghda"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(e){h(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._handleFetchState=function(){n.forceUpdate()},n._handleRetryClick=function(){n.props.stickers.fetch(!0)},n._setRefScrollGrid=function(e){n._refScrollGrid=e},n._fetchStickers(n.props.stickers),n}return b(t,o.PureComponent),a(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.stickers;t.fetchState===c.FETCH_STATE.ERROR&&t.fetch(!0)}},{key:"UNSAFE_componentWillUpdate",value:function(e){var t=this.props.stickers,n=e.stickers;this._handleStickersChange(t,n)}},{key:"focus",value:function(e){this._refScrollGrid&&this._refScrollGrid.focus(e)}},{key:"_fetchStickers",value:function(e){this.props.listeners.add(e,"change:fetchState",this._handleFetchState),e.fetch()}},{key:"_handleStickersChange",value:function(e,t){e!==t&&(e&&this.props.listeners.remove(e,"change:fetchState",this._handleFetchState),this._fetchStickers(t),this._refScrollGrid&&this._refScrollGrid.scrollToTop())}},{key:"render",value:function(){var e=this.props.stickers;if(e.fetchState===c.FETCH_STATE.ERROR)return this.props.renderError(this._handleRetryClick);if(!e.fetchState||e.fetchState===c.FETCH_STATE.PENDING){var t=l.default.getPlaceholder();return o.createElement("div",{className:d.default.container},(0,r.default)(24,function(e){return o.createElement(u.default,{key:e,sticker:t})}))}return o.createElement(s.default,{ref:this._setRefScrollGrid,onFocusPrev:this.props.onFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onStickerClick,onStickerEnter:this.props.onStickerEnter,stickers:this.props.stickers.toArray()})}}]),t}();g.displayName="StickersScrollGrid";var v=function(e){function t(){return h(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,(0,i.default)((0,f.hoc)(g))),a(t,[{key:"focus",value:function(e){this.getComponent().focus(e)}}]),t}();t.default=v},cehjjfagii:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("ejbdjaifi"),o=m(n("dbdfbgehgj")),i=m(n("gbfffciea")),u=m(n("ceffhbhahb")),s=m(n("fifhbjiec")),l=m(n("bdiiahhjbe")),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),f=m(n("ihfccfgdf")),d=m(n("cjaagagigi")),p=m(n("djbfhebjhe")),h=m(n("ccaaiecfib"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t,n){var r=void 0;if(n){var a=o.default.get(n);r=a?a.formattedTitle:l10n.t(470)}return t?`${e}  ${l10n.t(992)}`:r?`${e}  ${r}`:e}var v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.onClick=function(){o.default.find(r.props.msg.sender).then(function(e){i.default.openChatFromUnread(e).then(function(t){t&&i.default.focusChatTextInput(e)})})},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.chat,r=e.contact,a=e.disableClick,o=e.displaySelf,i=e.quotedRemoteJid,f=e.albumId,m=n||t.chat;l.default.assert(m,"author-with-no-chat")();var b=m?m.assignedColor(t.sender):1,v=a?null:this.onClick,y=(0,u.default)(d.default.author,`color-${b}`,{[d.default.hoverable]:v}),_=void 0;if(o)_=c.createElement(s.default,{text:g(l10n.t(1342),t.isStatusV3,i)});else if(r.name)_=[c.createElement(s.default,{text:g(r.name,t.isStatusV3,i),className:d.default.name,key:"author",onClick:v})];else if(_=[c.createElement("span",{className:d.default.number,role:v?"button":null,key:`${t.id.toString()}-number`,onClick:v},g((0,p.default)(r.id),t.isStatusV3,i))],!t.isStatusV3){var E=f?`${f}-push-name`:`${t.id.toString()}-push-name`,j=void 0;r.notifyName?j=r.notifyName:h.default.supportsFeature(h.default.F.CONTACT_HAS_PUSHNAME)&&(j=r.pushname),_.push(c.createElement(s.default,{className:d.default.screenName,key:E,onClick:v,direction:"auto",ellipsify:!0,text:j}))}return c.createElement("div",{className:y,role:this.props.role||""},_)}}]),t}();v.CONCERNS={msg:["sender","chat","type","isLive","isStatusV3","id","quotedMsg"],contact:["id","name","notifyName","pushname"]},v.displayName="Author",t.default=(0,f.default)((0,a.hoc)(v),v.CONCERNS)},ceibefacih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=D(n("hhegggegb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=L(n("ddhijeejag")),i=n("bgddggdhc"),u=D(n("eadfaddcj")),s=D(n("gbfffciea")),l=D(n("djcchigfih")),c=n("cicgeajfge"),f=n("dajffajabh"),d=D(f),p=D(n("djbhiedbef")),h=D(n("didfdhbecg")),m=D(n("iibcehaia")),b=D(n("dcaibchbg")),g=D(n("jcfhjhibi")),v=D(n("becfabjeeg")),y=L(n("cajijabhgb")),_=D(n("bdiiahhjbe")),E=D(n("ddajbaceej")),j=n("bhfdfhefca"),O=D(n("bhhdeihhhf")),S=D(n("dbgdaechch")),w=D(n("djbecaeiae")),P=D(n("dcjdgceiej")),M=D(n("dhfbfehaef")),C=D(n("fffdgbfji")),T=D(n("bfdcadbbif")),A=D(n("bfejacaeaj")),N=n("ejbdjaifi"),k=D(n("bjbedjfe")),I=D(n("eceadcicaf")),R=D(n("ddifaecacd"));function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function D(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F=function(e){function t(e){x(this,t);var n=U(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.msgRefs={},n.getInitialState=function(){var e=n.props.starredMsgs;return{cursor:g.default.create({msgCollection:e,type:u.default.RENDER_CURSOR.STARRED_DRAWER}).loadAfter(e,{count:u.default.MSG_PRELOAD_THRESHOLD})}},n.handleStarChange=function(e){n.initSelectionObjects(),n.forceUpdate()},n.initSelectionObjects=function(){var e=n.props.starredMsgs.toArray();n.currSelection.init(e,!0),n.activeSelection.init(e)},n.setRefMsgComponent=function(e,t){t?n.msgRefs[e.id.toString()]=t:delete n.msgRefs[e.id.toString()]},n.loadEarlierMsgs=function(){var e=n.state.cursor,t=n.props.chat&&n.props.chat.id,r=n.props.starredMsgs,a=r.models;if(e.getEnd(r)<a.length)n.setState({cursor:e.loadAfter(r)});else{if(r.isSynced)return;n.props.starredMsgs.sync(t).checkpoint(n.props.rejectOnUnmount()).then(function(){e.hasAfter(r)&&n.setState({cursor:e.loadAfter(r)})}).catch(y.Unmount,function(){}).catch(function(e){_.default.log("StarredDrawer:loadEarlierMsgs failed")(),_.default.log(e)()})}},n.onClose=function(){n.props.onClose?n.props.onClose():n.context.uim.uie.requestDismiss()},n.focus=function(){n.body&&E.default.focus((0,i.forbiddenAssertDOMNode)(n.body))},n.onFocusGain=function(e){n.body&&((e?e.target:document.activeElement)===(0,i.forbiddenAssertDOMNode)(n.body)&&(n.currSelection.index<0?n.currSelection.setFirst(!0):n.currSelection.reset(!1)))},n.onNextMsg=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=n.currSelection.next();n.currSelection.index!==t&&n.currSelection.setNext(!0)},n.onPrevMsg=function(e){e&&(e.stopPropagation(),e.preventDefault()),n.currSelection.prev()>-1&&n.currSelection.setPrev(!0)},n.onScroll=function(e){n.handleScroll(e.currentTarget)},n._handleScroll=function(e){n.updateMsgListInfo(),function(e){return e.scrollTop+u.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight}(e)&&n.loadEarlierMsgs()},n.selectMsg=function(e){n.currSelection.setVal(e),n.activeSelection.setVal(e),s.default.openChatAt(e.chat,e.chat.getSearchContext(e)),s.default.focusShowMsg(e.id)},n.getMsgList=function(){var e=n.state.cursor,t=n.props.starredMsgs,r=t.toArray(),a=t.isSynced?e.getEnd(t):Math.min(e.getEnd(t),r.length);return r=r.slice(e.getStart(t),a),n.length=r.length,r},n.getMsgVisibility=function(e){if(!e)return u.default.VISIBILITY.BELOW;if(n.scrollContainer){var t=(0,i.forbiddenAssertDOMNode)(n.scrollContainer),r=t.previousSibling.clientHeight,a=t.scrollTop+r,o=a+t.clientHeight,s=(0,i.forbiddenAssertDOMNode)(e);return s?s.offsetTop+s.clientHeight<=a?u.default.VISIBILITY.ABOVE:s.offsetTop>=o?u.default.VISIBILITY.BELOW:u.default.VISIBILITY.VISIBLE:u.default.VISIBILITY.BELOW}},n.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!n.msgListInfo.visibleMsgs[e.toString()]&&(!!t||n.getMsgComponent(e))},n.getMsgComponent=function(e){var t=n.msgRefs[e.toString()];if(t){var r=t.getComponent(),a=r&&r.wrapper;return a&&"function"==typeof a.getMsgComponentRef?a.getMsgComponentRef():void 0}},n._updateMsgListInfo=function(){for(var e=n.getMsgList(),t={},r=0,a=n.length-1;r<a;){var o=Math.floor((r+a)/2),i=n.msgRefs[e[o].id.toString()];n.getMsgVisibility(i)===u.default.VISIBILITY.ABOVE?r=o+1:a=o}for(var s=r;s<e.length;s++){var l=n.msgRefs[e[s].id.toString()];if(n.getMsgVisibility(l)!==u.default.VISIBILITY.VISIBLE)break;t[e[s].id.toString()]=!0}n.pauseHiddenGifs(n.msgListInfo.visibleMsgs,t),n.msgListInfo.visibleMsgs=t},n.pauseHiddenGifs=function(e,t){for(var r in e)if(!t[r]){var a=n.props.starredMsgs.get(r);if(a&&a.isGif){var o=n.getMsgComponent(r);o&&o.playCount&&o.pause()}}},n.handleScroll=(0,r.default)(n._handleScroll,100),n.updateMsgListInfo=(0,r.default)(n._updateMsgListInfo,100),n.msgListInfo={visibleMsgs:{}},n.state=n.getInitialState(),n}return G(t,o.Component),a(t,[{key:"UNSAFE_componentWillMount",value:function(){this.currSelection=new b.default([],function(e){return e.id.toString()}),this.activeSelection=new b.default([],function(e){return e.id.toString()})}},{key:"componentDidMount",value:function(){var e=this;this.focus(),this.props.listeners.add(window,"resize",this.updateMsgListInfo),!this.props.starredMsgs.isSynced&&this.props.starredMsgs.length<u.default.PAGE_SIZE&&this.props.listeners.uiIdle(this.loadEarlierMsgs),this.props.listeners.add(this.props.starredMsgs,"reset sync",function(){e.initSelectionObjects(),e.forceUpdate()}),this.initSelectionObjects(),this.forceUpdate(),this.props.listeners.add(this.props.starredMsgs,"add remove",this.handleStarChange),this.onFocusGain(),this.props.listeners.add(this.props.starredMsgs,"reset",function(){e.msgListInfo={visibleMsgs:{}},e.setState(e.getInitialState()),e.loadEarlierMsgs()})}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel(),this.updateMsgListInfo.cancel()}},{key:"componentDidUpdate",value:function(){this.updateMsgListInfo()}},{key:"render",value:function(){var e=this,t=this.getMsgList(),n=this.state.cursor,r=this.props.starredMsgs,a=this.props.chat||null,i=void 0,s=void 0;if(s=r.isSynced&&n.getEnd(r)>=t.length?null:this.props.starredMsgs.syncPromise?o.createElement("div",{className:R.default.more,title:C.default.t(628)},o.createElement(v.default,{stroke:6,size:24})):o.createElement("div",{className:R.default.more},o.createElement("div",{title:C.default.t(625),onClick:this.loadEarlierMsgs},o.createElement(T.default,{name:"refresh"}))),t.length>0){var b=t.map(function(t){var n=t.type===u.default.MSG_TYPE.IMAGE||t.type===u.default.MSG_TYPE.VIDEO||t.type===u.default.MSG_TYPE.AUDIO;return o.createElement(m.default,{key:t.id.toString(),ref:function(n){e.setRefMsgComponent(t,n)},msg:t,isMsgVisible:n?e.isMsgVisible:function(){},currSelection:e.currSelection,activeSelection:e.activeSelection,onClickMsg:e.selectMsg})});i=o.createElement(h.default,{transitionName:"slide"},b)}else this.props.starredMsgs.isSynced?i=o.createElement(c.StarredMsgs,null):(i=o.createElement(c.Loading,null),s=null);var g={down:this.onNextMsg,up:this.onPrevMsg},y=t.length>0?o.createElement(j.MenuBarItem,{a8nText:"starred-menu",icon:o.createElement(T.default,{name:"menu-white"}),title:C.default.t(669)},o.createElement(B,{chat:a,msgs:t})):null;return o.createElement(l.default,{theme:"gallery"},o.createElement(M.default,{className:R.default.hotKeyWraper,handlers:g,onFocus:this.onFocusGain,"data-tab":2,ref:(0,N.GetRef)("body",this)},o.createElement(d.default,{title:C.default.t(989),onBack:this.onClose,type:f.DRAWER_HEADER_TYPE.LARGE,menu:y}),o.createElement(p.default,{onScroll:this.onScroll,ref:(0,N.GetRef)("scrollContainer",this)},i,s)))}}]),t}();F.contextTypes={uim:A.default.instanceOf(P.default)},F.displayName="StarredDrawer";var B=function(e){function t(){var e,n,r;x(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=U(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.sendUnstarAll=function(){s.default.openModal(o.createElement(w.default,{msgs:r.props.msgs,chat:r.props.chat}))},U(r,n)}return G(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props.msgs;return o.createElement(S.default,{type:"dropdown_menu",flipOnRTL:!0,key:"StarredDrawerHeader",dirX:"LEFT"},o.createElement(O.default,{a8n:"mi-unstar-all menu-item",action:this.sendUnstarAll,disabled:0===e.length},C.default.t(1034)))}}]),t}();B.displayName="StarredHeaderDropdown",t.default=(0,k.default)((0,I.default)((0,N.hoc)(F)))},ceigficjgj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=O(n("biecbbiiee")),o=n("caijdggfg"),i=O(n("bcifhbgija")),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),s=n("bgddggdhc"),l=O(n("dgibicjjj")),c=n("cgejchjdhj"),f=O(n("ddajbaceej")),d=O(n("cbeecgcage")),p=O(n("cbcbdjdah")),h=n("dhfbfehaef"),m=O(h),b=O(n("ihfccfgdf")),g=O(n("eceadcicaf")),v=n("ejbdjaifi"),y=O(n("bhheahajjg")),_=n("bheafeifce"),E=O(n("dgiechcbec")),j=n("hjbbdjjdf");function O(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),l=0;l<o;l++)u[l]=arguments[l];return n=r=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.onSearch=function(){r.setState({searchText:r.props.searchQuery.trimmed})},r.onActiveChange=function(e,t){if("focus"===e){var n=(0,s.forbiddenAssertDOMNode)(r);f.default.focus(n),(0,c.scrollIntoViewIfNeeded)(n)}r.setState({active:!!e})},r.onClick=function(e){var t=r.props.onClick;if((0,j.isFunction)(t)){var n=r.props,o=n.msg,i=n.chat,u=a.default.assertGet(o.id),s=i.getSearchContext(u);s.msg=u,t(e,(0,_.unproxy)(i),s)}},r.onMouseDown=function(e){0===e.button&&r.onClick(e)},r.onEnter=function(e){e.preventDefault(),e.stopPropagation(),(0,h.shouldIndicateFocus)(),r.onClick(e)},r.indicateFocus=function(e){e.stopPropagation(),e.preventDefault(),(0,h.indicateFocus)(r.cell,["#e9eaeb","#cbdde7"],{complete:r.onBlur})},r.onBlur=function(e){var t=(0,s.forbiddenFindDOMNode)(r.cell);t&&((0,i.default)(t,"stop"),t.style.backgroundColor="")},S(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.PureComponent),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.initListeners(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.initListeners(e,this.props)}},{key:"initListeners",value:function(e,t){var n=e.listeners,r=e.active,a=e.msg,i=e.searchQuery;t&&t.searchQuery&&t.searchQuery!==i&&n.remove(i,o.SEARCH_EVENT,this.onSearch),!i||t&&i===t.searchQuery||n.add(i,o.SEARCH_EVENT,this.onSearch);var u=t?t.msg.id:null;u&&!a.id.equals(u)&&(t&&t.active&&n.remove(t.active,t.msg.id.toString(),this.onActiveChange),r&&n.add(r,a.id.toString(),this.onActiveChange));var s=r&&r.value instanceof p.default&&r.value.id.equals(a.id);this.setState({searchText:i.trimmed,active:s})}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.chat,r=e.searchQuery,a=e.mouseDownAsClick,o=this.state.active,i=u.createElement(d.default,{msg:t}),s=u.createElement(E.default,{msg:t,msgType:"FTSMessage",searchQuery:r.highlighted}),c={enter:this.onEnter};return u.createElement(m.default,{handlers:c,onFocus:this.indicateFocus,onBlur:this.onBlur},u.createElement(l.default,{ref:(0,v.GetRef)("cell",this),contextEnabled:function(){return!1},theme:"chat-checkbox"===this.props.theme?"cell-message-checkbox":"cell-message",active:!!o,primary:u.createElement(y.default,{chat:n,labels:t.labels,showLabel:!0,titlify:!0,ellipsify:!0}),primaryDetail:i,secondary:s,onClick:a?null:this.onClick,onMouseDown:a?this.onMouseDown:null}))}}]),t}();w.CONCERNS={msg:["id","isSentByMe","isGroupMsg","isNotification","senderObj","dir","rtl","type","labels"],chat:["id","isUser","contact","formattedTitle"]},w.displayName="Message",t.default=(0,g.default)((0,b.default)((0,v.hoc)(w),w.CONCERNS))},ceihfbbggi:function(e,t,n){"use strict";e.exports={singleByte:["location","document","elapsed","revoke_invite","expiration","unsubscribe","disable"]}},ceijcbgdah:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){for(var t=[],n=0;n<e.length;++n)for(var a=0;a<e[n].length;++a){var o=r(e[n][a],2),i=o[0],u=o[1];t.push([i,u,n])}return t}},cejfhccbi:function(e,t,n){e.exports=function(){return new Worker(n.p+"72806ffbd3cd840b13b3.js")}},cejheebceh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=p(n("gbfffciea")),i=(p(n("eadfaddcj")),p(n("dddgijibah"))),u=p(n("ihfccfgdf")),s=n("ejbdjaifi"),l=p(n("edbaidcaf")),c=p(n("cfhehaefih")),f=p(n("ciheehhei")),d=n("bidfjbaebi");function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.onLinkClick=function(){var e=r.props.msg.matchedText;(0,d.openExternalLink)(e)},r.onSuspiciousLinkClick=function(e){o.default.openModal(a.createElement(f.default,{link:e}))},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.msg,r=t.displayType,o=t.invite,u=null;if(!o){u=l.default.hostname(n.canonicalUrl||n.matchedText);try{u=i.default.toUnicode(u)}catch(e){}}var s=n.getSuspiciousLinks().filter(function(e){var t=e.url;return n.matchedText===t}),f=void 0,d=void 0,p=void 0;return s.length?p=function(){return e.onSuspiciousLinkClick(s[0])}:(f=n.description,d=n.thumbnail,p=this.onLinkClick),a.createElement(c.default,{canonicalUrl:u,description:f,displayType:r,invite:o,onClick:p,isSentByMe:n.isSentByMe,thumbnailJpeg:d,title:n.title,star:n.star})}}]),t}();m.CONCERNS={msg:["thumbnail","title","description","canonicalUrl","matchedText","isSentByMe","star"]},m.displayName="LinkPreviewContainer",t.default=(0,u.default)((0,s.hoc)(m),m.CONCERNS)},cfafieaaec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=C(n("jcfacighg")),a=C(n("djfhiaaehb")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=C(n("dhigahgdjb")),s=C(n("chdfbgffgh")),l=C(n("djcchigfih")),c=C(n("djbhiedbef")),f=n("dajffajabh"),d=C(f),p=n("cicgeajfge"),h=C(n("ddajbaceej")),m=n("dhfbfehaef"),b=C(m),g=C(n("dgjddffcfg")),v=C(n("dbciicjiad")),y=C(n("fbjjefaic")),_=n("ejbdjaifi"),E=C(n("ccaaiecfib")),j=C(n("bggeiidigb")),O=C(n("dhbceejbjg")),S=C(n("cegfhjajbg")),w=C(n("fdcfhecbj")),P=C(n("bfdcadbbif")),M=C(n("cehaihfgda"));function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={searchText:""},r.setSearch=function(e){return r.search=e},r.setRefList=function(e){return r.refList=e},r.flatListController=new j.default,r.onSearch=function(e){r.searchText=e,r._onSearch(e)},r._onSearch=r.props.debounce(function(e){r.setState({searchText:e})},100),r.onFocusList=function(e){r.refList&&(e.preventDefault(),e.stopPropagation(),(0,m.shouldIndicateFocus)(),r.refList&&r.refList.focusFirst())},r.onSelectFirst=function(e){e.preventDefault(),e.stopPropagation();var t=(0,a.default)(r.frequentContacts);if(t)return(0,m.shouldIndicateFocus)(),void r.props.onClick(e,t);var n=(0,a.default)(r.getFilteredContacts(r.searchText));n&&((0,m.shouldIndicateFocus)(),r.props.onClick(e,n))},r.onFocusSearch=function(){(0,m.shouldIndicateFocus)(),h.default.focus(r.search)},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"getFilteredContacts",value:function(e){var t=e;if(u.default._sort.flush(),!(t="string"==typeof t?t:this.state.searchText))return u.default.getFilteredContacts();var n=u.default.getFilteredContacts().concat(u.default.filter(function(e){return e.name&&!e.isMe&&!e.isPSA&&!e.isWAContact}));t=l10n.accentFold(t);var r=g.default.numberSearch(t);return n.filter(function(e){return e.searchMatch(t,r)})}},{key:"calculateFrequentContacts",value:function(){if(this.state.searchText||!E.default.supportsFeature(E.default.F.FREQUENT_CONTACTS))return[];var e=u.default.frequentContacts("message");return(0,r.default)(e)}},{key:"render",value:function(){var e=void 0,t=null,n=this.getFilteredContacts();if(this.frequentContacts=this.calculateFrequentContacts(),e=0===n.length?this.state.searchText?(0,p.SearchWithKeyword)(this.state.searchText):(0,p.SearchWithoutKeyword)():i.createElement(s.default,{ref:this.setRefList,contacts:n,flatListController:this.flatListController,frequentContacts:this.frequentContacts,onClick:this.props.onClick,onFocusSearch:this.onFocusSearch,showPersonGroupDivisionHeader:!!this.state.searchText}),!this.state.searchText){var r=i.createElement(w.default,null,i.createElement(P.default,{name:"new-group",directional:!0}));t=i.createElement("div",{"data-list-scroll-offset":!0},i.createElement("div",{className:M.default.newGroupButton},i.createElement(O.default,{image:r,primary:l10n.t(1200),onClick:this.props.onNewGroup}),i.createElement(S.default,null)))}var a={down:this.onFocusList,enter:this.onSelectFirst};return i.createElement(l.default,{key:"contact-modal"},i.createElement(d.default,{title:this.props.title,type:f.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onBack}),i.createElement(b.default,{handlers:a},i.createElement(v.default,{ref:this.setSearch,onSearch:this.onSearch,placeholder:l10n.t(934)})),i.createElement(c.default,{flatListControllers:[this.flatListController]},t,e))}}]),t}();A.displayName="ContactDrawer",t.default=(0,y.default)((0,_.hoc)(A))},cfbeeihgea:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=l(n("dgjddffcfg")),o=l(n("bfdcadbbif")),i=l(n("dbbbgjbbgf")),u=l(n("dbabefhajh")),s=l(n("ijbagjdgc"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.msg,n=e.displayAuthor;return r.createElement(u.default,{msg:t,displayAuthor:n},r.createElement("div",{className:s.default.icon},r.createElement(o.default,{name:"unknown"})),r.createElement("div",{className:s.default.text},r.createElement(i.default,{msg:t,theme:"placeholder"},a.default.msgText(t))))}c.displayName="OversizedMsg"},cfcdedaej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("gbfffciea")),i=f(n("biddiiafgd")),u=f(n("bjigbaghc")),s=f(n("eaaehfdjdg")),l=f(n("eceadcicaf")),c=n("ejbdjaifi");function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.close=function(){0===u.default.tos&&o.default.closeModal()},r.logout=function(){o.default.closeModal(),s.default.logout()},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(u.default,"change:tos",this.close)}},{key:"render",value:function(){var e=void 0,t=void 0,n=void 0;switch(u.default.tos){default:case 1:e=l10n.t(1308),t=l10n.t(825),n=function(){return o.default.closeModal()};break;case 2:e=l10n.t(1309),t=l10n.t(658),n=this.logout}return a.createElement(i.default,{onOK:n,okText:t},e)}}]),t}();p.displayName="TermsOfServiceModal",t.default=(0,l.default)((0,c.hoc)(p))},cfchhaeaaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("ihfccfgdf")),i=n("ejbdjaifi"),u=s(n("bhhdeihhhf"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.pin=function(){var e=r.props,t=e.chat;(0,e.onPinOrUnpin)(!t.pin)},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.disabled;return a.createElement(u.default,{a8n:"mi-pin",action:this.pin,key:"PinChat",disabled:n},null!=t.pin&&0!==t.pin?l10n.t(1030):l10n.t(849))}}]),t}();c.CONCERNS={chat:["pin"]},c.displayName="PinMenuItem",t.default=(0,o.default)((0,i.hoc)(c),c.CONCERNS)},cfdejhjab:function(e,t){e.exports={"-overlay-border-right":"1px",overlayBorderRight:"1px","-overlay-border-left":"1px",overlayBorderLeft:"1px",muted:"_1nW25",footer:"_1N6pS",positioningContainer:"_3LVW7",overlayContainer:"_30sf0",blockCompose:"_2i7Ej",inputContainer:"_13mgZ",childPadding:"hnQHL",disabled:"_15S_w",btnSend:"_3M-N-"}},cfdfdbefea:function(e,t){e.exports={muted:"_1o-pK",button:"_26IFT",buttonIcon:"k5AVL",nextButton:"_3qJWs",prevButton:"wF7YD",resizeContainer:"_2iLBO"}},cfedfiga:function(e,t){e.exports={muted:"_2ynN-",imageWrapper:"_12ikd",msgImage:"_3j0rH",composeBox:"_2B8Xd",statusV3:"_3rn4N",image:"_2gKWQ"}},cfegbbcefd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("dbdfbgehgj")),i=c(n("gbfffciea")),u=c(n("ihfccfgdf")),s=c(n("dahbdjdajd")),l=n("ejbdjaifi");function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.onClick=function(){var e=r.props.contact;o.default.find(e.id).then(function(e){return i.default.openChatBottom(e)})},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=e.theme,r=e.selectable,o=t.isMe?void 0:this.onClick;return a.createElement(s.default,{contact:t,theme:n,selectable:r,onClick:o})}}]),t}();d.CONCERNS={contact:["id","isMe"]},d.displayName="Mention",t.default=(0,u.default)((0,l.hoc)(d),d.CONCERNS)},cfegjiegcd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("ejiicdbii")),i=f(n("dhigahgdjb")),u=f(n("bcbahjefec")),s=f(n("bggcifcgdc")),l=f(n("djicifaabb")),c=n("bgjddhffji");function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,f=Array(u),p=0;p<u;p++)f[p]=arguments[p];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.pushProductDetails=function(e,t){var n=r.props,o=n.chat,i=n.refreshCarousel,u=a.createElement(s.default,{chat:o,product:e,onEnd:r._end,onBack:r._pop,onProductDetail:r.onProductDetail,onProductCatalog:r.onProductCatalog,refreshCarousel:i,sessionId:t});r.push(u)},r.onProductDetail=function(e,t){r.pushProductDetails(e,t)},r.onProductCatalog=function(e){var t=r.props.product.catalogWid,n=i.default.gadd(t);(0,c.logCarouselViewMoreClick)(t.toString(),e),o.default.find(t).then(function(o){var i=a.createElement(l.default,{contact:n,onProductDetail:r.onProductDetail,catalogId:t,onBack:r._pop,sessionId:e,businessProfile:o});r.push(i)})},r._pop=function(){r.pop()},r._end=function(){r.end(!0)},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.product,n=e.sessionId;this.pushProductDetails(t,n)}}]),t}();t.default=p},cfffidafid:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFiles=function(e,t){var n=e.target.files||e.dataTransfer.files,r=Array.from(n);if(t){var o="string"==typeof t?[t]:t,u=o.map(function(e){return new RegExp(e)});r=r.filter(function(e){return u.some(function(t){return e.type.match(t)})})}if(r.length)return Promise.resolve(r);var s=e.dataTransfer;if(s&&s.getData("text/uri-list"))return i.default.urlToFile(s.getData("text/uri-list")).then(function(e){return[e]});if(s&&s.getData("text/html")){var l=new DOMParser,c=l.parseFromString(s.getData("text/html"),"text/html");if(c.createNodeIterator(c.childNodes[0],NodeFilter.SHOW_TEXT).nextNode()){if(s.getData("text/plain")){var f=new a.MediaDragDropError(`dropped html has text nodes: ${s.getData("text/plain")}`);return Promise.reject(f)}}else{var d=c.getElementsByTagName("img");if(d.length)return i.default.urlToFile(d[0].src).then(function(e){return[e]})}}return Promise.resolve(r)};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),o=n("dgjacfgggf"),i=(r=o)&&r.__esModule?r:{default:r}},cffhcdjiff:function(e,t){e.exports={muted:"_1Agzl",notification:"_1_8_q",icon:"_3egzF"}},cffibfiejh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("ceffhbhahb")),i=s(n("becfabjeeg")),u=s(n("djijjheei"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.className;return a.createElement("div",{className:(0,o.default)(u.default.container,e)},a.createElement(i.default,{size:50,stroke:3,color:"solidwhite"}))}}]),t}();l.displayName="AvatarSpinner",t.default=l},cfficaagef:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BUBBLE_PADDING=t.MAX_DIM=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=C(n("ddhijeejag")),o=n("bgddggdhc"),i=M(n("ceffhbhahb")),u=M(n("cehjjfagii")),s=M(n("effbcehec")),l=M(n("jhcabjcaf")),c=M(n("bfjbdahdag")),f=M(n("gbfffciea")),d=M(n("eadfaddcj")),p=M(n("dfeecdfijg")),h=M(n("bffjfbgbg")),m=M(n("eiiicijcj")),b=n("ecibddhig"),g=C(b),v=M(n("cieaeggjg")),y=n("bgiachiigg"),_=M(n("ihfccfgdf")),E=n("ejbdjaifi"),j=n("bheafeifce"),O=M(n("ccfdaijebj")),S=M(n("bfdcadbbif")),w=M(n("cbjacjjfgc")),P=M(n("ecfbhafded"));function M(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=t.MAX_DIM=parseInt(P.default["-width-picture-bubble-inner"].replace(/px$/,""),10),N=t.BUBBLE_PADDING=parseInt(P.default["-padding-picture-bubble"].replace(/px$/,""),10),k=A/5.4,I=3,R=6,L=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=r=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={playing:!1},r.playCount=0,r.pause=function(){r.playCount=0,r._pause()},r.play=function(e){var t=r.props.mediaData,n=r.playerRef;if(t.mediaStage===h.default.STAGE.RESOLVED&&n){e&&e.stopPropagation();var a=r.duration;if(null==a||0===a){var i=(0,o.forbiddenFindDOMNode)(n);i&&i.duration?a=i.duration:t.duration&&"0"!==t.duration&&(a=parseInt(t.duration,10))}if(null!=a&&0!==a){var u=Math.ceil(R/a);r.playCount=Math.max(u,I)}else r.playCount=I;r._play()}},r._pause=function(){r.setState({playing:!1}),r.playerRef&&r.playerRef.pauseAndReset()},r._play=function(){r.playerRef&&(r.playCount<=0?r.pause():(r.playCount-=1,r.state.playing||r.setState({playing:!0}),r.playerRef.play()))},r.showMediaMissing=function(){f.default.openModal(a.createElement(m.default,{msg:r.props.msg}))},r.getZoomNode=function(e){var t=r.props.isMsgVisible;if(!t)return null;var n=t(e);return n?n.getImgNode&&n.getImgNode():null},r.launchMediaViewer=function(e){e&&e.stopPropagation(),f.default.mediaViewerModal((0,j.unproxy)(r.props.msg),r.getZoomNode)},r.downloadMedia=function(){r.props.msg.forceDownloadMedia(!0)},r.cancelDownload=function(){r.props.msg.cancelDownload()},r.cancelUpload=function(){r.props.msg.cancelUpload()},r.resumeUpload=function(){r.props.msg.resumeUpload()},r.resumeRemoteUpload=function(){r.props.msg.resumeRemoteUpload()},r.onDragStart=function(e){e.nativeEvent.dataTransfer.setData(d.default.DRAG_TYPE_LOCAL_IMAGE,!0)},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.msg.downloadMedia()}},{key:"getStyle",value:function(){var e=this.props.mediaData,t=e.aspectRatio;if(!t)return{bubbleWidth:A,bubbleHeight:"100%",contentWidth:A,contentHeight:"100%"};var n=void 0,r=void 0;t<1/5.4?(r=A,n=2.5*k):t<1?(r=A,n=A*t):t<5.4?(n=A,r=A/t):(n=A,r=k);var a=e.renderableUrl&&e.fullWidth||n,o=e.renderableUrl&&e.fullHeight||r;return a/o>n/r?(a=a*r/o,o=r):(o=o*n/a,a=n),o>A&&(o=A),{bubbleWidth:n,bubbleHeight:r,contentWidth:a,contentHeight:o}}},{key:"getFlexSize",value:function(e){var t=this.props.mediaData.aspectRatio,n=void 0,r=void 0,a=2.5*k;t>=1?e<A?(r=(n=e)/t)<k&&(r=k):(r=(n=A)/t)<k&&(r=k):((n=(r=A)*t)<a&&(n=a),e<A&&n>e&&(n=e));var o=n,i=r;return o/i>n/r?(o=o*r/i,i=r):(i=i*n/o,o=n),{bubbleWidth:n,bubbleHeight:r,contentWidth:o,contentHeight:i}}},{key:"getImgNode",value:function(){if(this.playerRef)return this.playerRef.underlyingVideo()}},{key:"render",value:function(){var e=this.props.msg,t=this.props.mediaData,n=t.preview?t.preview.url():void 0,r=null,o=null,f=null,m=this.getStyle();null!=this.props.maxWidth&&this.props.maxWidth<m.bubbleWidth&&(m=this.getFlexSize(this.props.maxWidth));var _=m,j=_.bubbleWidth,M=_.contentWidth,C=_.contentHeight;switch(t.mediaStage){case h.default.STAGE.RESOLVED:this.state.playing||this.playCount!==1/0&&(r=a.createElement(b.GifIcon,{onClick:this.play}));var T=t.aspectRatio>=1?{width:"auto",height:C}:{width:M,height:"auto"};f=a.createElement("div",{className:P.default.thumbVideo},a.createElement(O.default,{ref:(0,E.GetRef)("playerRef",this),src:t.renderableUrl,style:T,onEnded:this._play,muted:!0},l10n.t(1074))),o=this.launchMediaViewer;break;case h.default.STAGE.INIT:o=this.launchMediaViewer;break;case h.default.STAGE.FETCHING:r=a.createElement(g.PendingCancel,null),o=this.cancelDownload;break;case h.default.STAGE.NEED_POKE:r=a.createElement(g.Download,{filesize:t.size}),o=this.downloadMedia;break;case h.default.STAGE.UPLOADING:r=a.createElement(g.PendingCancel,null),o=this.cancelUpload;break;case h.default.STAGE.NEED_UPLOAD:r=a.createElement(g.Upload,{filesize:t.size}),o=this.resumeUpload;break;case h.default.STAGE.REMOTE_NEED_UPLOAD:r=a.createElement(g.Upload,{filesize:t.size}),o=this.resumeRemoteUpload;break;case h.default.STAGE.ERROR_MISSING:o=this.showMediaMissing;break;default:r=a.createElement(g.Pending,null)}var A=n?a.createElement("div",{className:P.default.thumbImage,style:{backgroundImage:`url(${n})`}}):null,k=e.caption?a.createElement("div",{className:P.default.caption,style:{maxWidth:j}},a.createElement(c.default,{msg:e,trusted:this.props.trusted})):null,I=k?null:a.createElement(w.default,null),R=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg,L=e.showForwarded(),x=(0,i.default)(P.default.bubble,{[P.default.hasCaption]:e.caption,[P.default.hasAuthor]:R,[P.default.forwarded]:L,[P.default.isPSA]:e.isPSA,[P.default.isGallery]:this.props.displayType===d.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===d.default.DISP_TYPE.GALLERY,[P.default.isInfo]:this.props.displayType===d.default.DISP_TYPE.MSG_INFO}),U=R?a.createElement("div",{className:P.default.author},a.createElement(u.default,{msg:e,contact:e.senderObj})):null,G=L?a.createElement(p.default,{msg:e,className:P.default.forwardedIndicator}):null,F=void 0;switch(e.gifAttribution){case y.VIDEO_MESSAGE_ATTRIBUTION.GIPHY:F=a.createElement("div",{className:P.default.vendor},a.createElement(S.default,{name:"giphy"}));break;case y.VIDEO_MESSAGE_ATTRIBUTION.TENOR:F=a.createElement("div",{className:P.default.vendor},a.createElement(S.default,{name:"tenor"}));break;default:F=null}var B=this.props.quotedMsg?a.createElement("div",{className:P.default.quote},this.props.quotedMsg):null,$=a.createElement(a.Fragment,null,U,G,B,a.createElement("div",{"data-a8n":s.default.key("image-thumb-gif"),className:P.default.thumb,onClick:o,style:{width:M,height:C}},r,A,f,I,F),k,a.createElement("div",{className:P.default.meta},a.createElement(v.default,{msg:this.props.msg})));if(k)return a.createElement(l.default,{contact:e.senderObj,msg:e,className:x,onClick:D,style:{width:j}},$);var V=j+2*N;return a.createElement("div",{className:x,onClick:D,style:{width:V}},$)}}]),t}();function D(e){e.stopPropagation()}L.CONCERNS={msg:["id","ack","caption","isPSA","isSentByMe","isGroupMsg","gifAttribution","senderObj"],mediaData:["aspectRatio","preview","duration","type","mediaStage","renderableUrl","fullWidth","fullHeight","size"]},L.displayName="Gif",t.default=(0,_.default)((0,E.hoc)(L),L.CONCERNS)},cfgbadhada:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t=e.auth,n=e.encFilehash,i=e.hostname,u=e.query,s=e.type,l=r({auth:t,token:(0,o.default)(n)},u);return(0,a.default)({encFilehash:n,hostname:i,type:s,query:l})};var a=i(n("hefjgabce")),o=i(n("ebfbbaecji"));function i(e){return e&&e.__esModule?e:{default:e}}},cfghbhcedd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("bhaigiibeh")),i=l(n("bcbahjefec")),u=n("dgfecega"),s=n("ddgbhifaji");function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.sendMedia=function(e){var t=e.getImg,n=e.caption,a=e.mentionedJidList,o=r.props.chat,i=o.composeQuotedMsg;o.composeQuotedMsg=null,(0,s.prepRawMedia)(t,{}).sendToChat(o,{caption:n,mentionedJidList:a,quotedMsg:i}),r.end()},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.push(a.createElement(o.default,{onBack:function(){e.end()},chat:this.props.chat,caption:!0,layoutType:u.FIT_TYPE.CONTAIN,onSend:this.sendMedia,stream:this.props.stream}))}}]),t}();t.default=f},cfhcfebgda:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("gbfffciea")),i=c(n("biddiiafgd")),u=c(n("fifhbjiec")),s=c(n("ihfccfgdf")),l=n("ejbdjaifi");function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onStop=function(){var e=r.props.chat.liveLocation;e&&e.stopMyLiveLocation(),o.default.closeModal()},r.onCancel=function(){o.default.closeModal()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.chat,t=e.name,n=e.isGroup?l10n.t(90,{name:t}):l10n.t(91,{name:t});return a.createElement(i.default,{onOK:this.onStop,okText:l10n.t(617),onCancel:this.onCancel},a.createElement(u.default,{text:n}))}}]),t}();d.CONCERNS={chat:["name","isGroup","liveLocation"]},d.displayName="LiveLocationStopPopup",t.default=(0,s.default)((0,l.hoc)(d),d.CONCERNS)},cfhehaefih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=l(n("eadfaddcj")),o=l(n("ceffhbhahb")),i=l(n("fifhbjiec")),u=l(n("dajegcbgdi")),s=l(n("bfdcadbbif"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.canonicalUrl,n=e.compose,l=e.description,c=e.displayType,f=e.invite,d=e.onClick,p=e.isSentByMe,h=e.star,m=e.thumbnail,b=e.thumbnailJpeg,g=e.title,v=e.theme,y=void 0,_=void 0;if(null!=m?_=r.createElement("div",{className:u.default.media},m):b?_=r.createElement("img",{className:u.default.media,src:"data:image/jpeg;base64,"+b}):c===a.default.DISP_TYPE.GALLERY&&(_=r.createElement("div",{className:u.default.noThumbContainer},r.createElement(s.default,{className:u.default.noThumbIcon,name:"link"}))),c===a.default.DISP_TYPE.GALLERY){var E=h?r.createElement(s.default,{className:u.default.iconStar,name:"star-light"}):null;y=r.createElement("div",{className:u.default.noThumbContainer},_,E)}else y=_;var j=null!=l?r.createElement("div",{className:u.default.description},"string"==typeof l?r.createElement(i.default,{text:l,titlify:!0}):l):null,O=t?r.createElement("div",{className:u.default.source},r.createElement(i.default,{text:t})):null,S=(0,o.default)(u.default.preview,{[u.default.isInvite]:c!==a.default.DISP_TYPE.GALLERY&&f,[u.default.isCompose]:n,[u.default.bubbleIn]:!p,[u.default.bubbleOut]:p,[u.default.extended]:"extended"===v});return r.createElement("div",{className:S,onClick:d},y,r.createElement("div",{className:u.default.body},r.createElement("div",{className:u.default.title,title:g},r.createElement(i.default,{text:g})),j,O))}c.displayName="LinkPreview"},cfhgffgbcb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("bcbahjefec")),i=m(n("fidbefhib")),u=m(n("bijffg")),s=m(n("bdbcafgecc")),l=n("bddhdheedf"),c=m(n("bfbggcdbfb")),f=m(n("ebjaejiaba")),d=m(n("gbfffciea")),p=m(n("biddiiafgd")),h=m(n("eadfaddcj"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),m=0;m<o;m++)s[m]=arguments[m];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.newlyAddedLabels=new Set,r.logWamEvent=function(){var e=r.props.modelsToUpdate.length;r.labelViewType=1===e?r.props.modelsToUpdate[0]instanceof f.default?c.default.LABEL_TARGETS.LABEL_CHAT_DIALOG:c.default.LABEL_TARGETS.LABEL_MESSAGE_DIALOG:c.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG,(0,l.logLabelOperationEvent)(c.default.LABEL_OPERATIONS.VIEW,e,r.labelViewType)},r.onLabelUpdateComplete=function(){r.props.onLabelUpdateComplete&&r.props.onLabelUpdateComplete(),r._pop()},r.onAddLabel=function(e,t){u.default.addNewLabel(e,t).then(function(){r.newlyAddedLabels.add(e)})},r.shouldScrollIntoViewAndSelect=function(e){return r.newlyAddedLabels.has(e)?(r.newlyAddedLabels.delete(e),{shouldScrollIntoView:!0,shouldSelect:!0}):{shouldScrollIntoView:!1,shouldSelect:!1}},r.onAddNewLabel=function(){u.default.toArray().length>=h.default.MAX_SMB_LABEL_COUNT?d.default.openModal(a.createElement(p.default,{okText:l10n.t(825),onOK:function(){return d.default.closeModal()}},l10n.t(1362,{count:h.default.MAX_SMB_LABEL_COUNT}))):r.push(a.createElement(i.default,{onAddLabel:r.onAddLabel,onCancel:r._pop}))},r.popAndLogEvent=function(){r.labelViewType&&(0,l.logLabelOperationEvent)(c.default.LABEL_OPERATIONS.CLICK_NEGATIVE,r.props.modelsToUpdate.length,r.labelViewType),r.pop()},r._pop=function(){r.pop()},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.logWamEvent(),this.push(a.createElement(s.default,{shouldScrollIntoViewAndSelect:this.shouldScrollIntoViewAndSelect,onAddNewLabel:this.onAddNewLabel,onLabelUpdateComplete:this.onLabelUpdateComplete,onCancel:this.popAndLogEvent,modelsToUpdate:this.props.modelsToUpdate}))}}]),t}();g.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"},t.default=g},cfigdibdj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=f(n("bcbahjefec")),u=n("cjcffhicea"),s=f(u),l=f(n("ebbghebbdh")),c=f(n("bfgbdiffgd"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.confirmSendContacts=function(e){r.push(o.createElement(l.default,{contactList:e,onSend:function(){return r.sendContacts(e)},onBack:r._popNone,chat:r.props.chat}),"none"),r.contacts=e},r.sendContacts=function(e){var t=r.props.chat,n=t.composeQuotedMsg;1===e.length?t.sendContact(e[0],n):t.sendContactList(e,n),t.composeQuotedMsg=null,r.end()},r._getContacts=function(){return r.contacts},r._pop=function(){r.pop()},r._popNone=function(){r.pop("none")},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.serverProps.maxParticipants;this.contacts=[],this.push(o.createElement(s.default,{title:l10n.t(953),onCancel:this._pop,onChat:this.confirmSendContacts,getInitialItems:this._getContacts,listType:u.ListType.CONTACT_SELECT_MODAL,maxItems:e,allowBlockedContacts:!0}))}}]),t}();t.default=function(e){return o.createElement(p,r({},e,{serverProps:c.default}))}},cfiighfhhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=s(n("ceffhbhahb")),o=s(n("dbbbgjbbgf")),i=s(n("cdfiibedj")),u=s(n("bfdcadbbif"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.hasCaption?e.children:r.createElement("div",{className:i.default.text},r.createElement(o.default,{msg:e.msg,theme:"placeholder"},e.children)),n=e.iconName?r.createElement("div",{className:i.default.icon},r.createElement(u.default,{name:e.iconName})):null;return r.createElement("div",{className:(0,a.default)(i.default.container,{[i.default.containerSmallIcon]:"small-icon"===e.theme})},n,t)};l.displayName="MsgPlaceholder",t.default=l},cfjfcfhchg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.index,a=r(e,1)[0],o=n+a.length-1,i=[n,n,o,o,e];if(t){var u=e[t];i[1]=n+a.indexOf(u),i[2]=i[1]+u.length-1}return i}},cgabfhdfbj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t[e]()}},cgajhcgiji:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("ecbgeejjjh")),i=u(n("ceffhbhahb"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=null;switch(this.props.theme){case"upper":e=a.createElement("div",{key:"upper-shade",className:(0,i.default)(o.default.fullWidthShade,o.default.stripHeightShade,o.default.upperShade)});break;case"lower":e=a.createElement("div",{key:"lower-shade",className:(0,i.default)(o.default.fullWidthShade,o.default.stripHeightShade,o.default.lowerShade)});break;case"full-rounded":e=a.createElement("div",{key:"full-rounded-shade",className:(0,i.default)(o.default.fullWidthShade,o.default.fullHeightShade,o.default.roundedCorners)});break;case"full-sharp":e=a.createElement("div",{key:"full-sharp-shade",className:(0,i.default)(o.default.fullWidthShade,o.default.fullHeightShade)})}return e}}]),t}();s.displayName="Shade",t.default=s},cgbbacefei:function(e,t,n){"use strict";var r=o(n("bdiiahhjbe")),a=o(n("bhggeigghg"));function o(e){return e&&e.__esModule?e:{default:e}}var i=n("dgdjiicfdg"),u={queryNextLabelColor(){return this._queryLabelColor(!0)},queryLabelPalette(){return this._queryLabelColor()},createLabel(e,t){return this._createOrDeleteLabels("create",e,t)},deleteLabel(e){return this._createOrDeleteLabels("delete",void 0,void 0,e)},_queryLabelColor:function(e){var t=this,n=e?"next label color":"all label color palette";return new Promise(function(a,o){var i=t.queryNode({type:"label",kind:"color",create:e?"true":void 0});t.binSend("sendEphemeral",i,o,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var o={};if(r.default.logColor("green",`bin-recv: response,${n}`,e)(),"response"===t.N.tag(e)&&"label"===t.N.attr("type",e)){o.labelColors=[];var i=t.N.children(e);if(Array.isArray(i))for(var u=0;u<i.length;u++){var s=t.parseLabelColor(i[u]);s&&o.labelColors.push(s)}}a(o)}).catch(o)},a),onDrop:t.wrap(o)},{debugString:`query,${n}`,metricName:e?"QUERY_NEXT_LABEL_COLOR":"QUERY_LABEL_PALETTE"})})},addOrRemoveLabels:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new Promise(function(r,o){var u=t.wrap(r),s=e.map(function(e){return["label",{id:e.id,type:e.type},void 0]}),l=n.map(function(e){return e instanceof a.default.Chat._model?["chat",{jid:e.id},void 0]:e instanceof a.default.Contact._model?["contact",{jid:e.id},void 0]:e instanceof a.default.Msg._model?["message",{index:e.id.id,owner:void 0===e.id.fromMe?void 0:e.id.fromMe.toString(),jid:e.id.remote},void 0]:void 0}),c=t.actionNode("set",[["label",{type:"update"},l.concat(s)]]);t.binSend("send",c,o,{onSend:u,onDrop:t.wrap(o)},{debugString:"action,label,remove or add",metricName:"ADD_OR_REMOVE_LABELS",expires:i().unix()})})},_createOrDeleteLabels:function(e,t,n,r){var a=this;if("delete"!==e&&"create"!==e)throw new Error("_createOrDeleteLabels must be called with type of delete or create");return new Promise(function(o,u){var s=a.wrap(o),l={type:e,name:t,color:n,id:r||void 0},c=a.actionNode("set",[["label",l,void 0]]);a.binSend("send",c,u,{onSend:s,onDrop:a.wrap(u)},{debugString:"action,label,create or delete",metricName:"CREATE_OR_DELETE_LABELS",expires:i().unix()})})},editLabel:function(e,t,n){var r=this;return new Promise(function(a,o){var u=r.wrap(a),s={id:e,name:t||void 0,color:n||void 0,type:"update"},l=r.actionNode("set",[["label",s,void 0]]);r.binSend("send",l,o,{onSend:u,onDrop:r.wrap(o)},{debugString:"action,label,edit",metricName:"EDIT_LABELS",expires:i().unix()})})},parseLabelColor:function(e){if("label"===this.N.tag(e)){var t=this.N.attr("color",e),n={color:t},r=[!t];return this.dropIfConditionMet(r,n)}}};e.exports=u},cgbdcdhgig:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.markPlayed=function(e){return function(e){c(e)?(0,u.default)(e).then(function(){e.ack=r.default.ACK_PLAYED}).catch(a.WapDrop,function(){}):i.default.log("Msg:msg should not call sendPlayed")()}((0,s.unproxy)(e))},t.canMarkPlayed=function(e){return c((0,s.unproxy)(e))};var r=l(n("eadfaddcj")),a=n("ddjgcfjicj"),o=l(n("ccaaiecfib")),i=l(n("bdiiahhjbe")),u=l(n("ccffgjicjj")),s=n("bheafeifce");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return!e.isSentByMe&&(!(e.ack>=r.default.ACK_PLAYED)&&("ptt"===e.type||"video"===e.type&&!e.isGif&&o.default.supportsFeature(o.default.F.VIDEO_PLAYED_STATUS)))}},cgbdhdjdcf:function(e,t,n){e.exports=n.p+"bryndan_write_20e48b2ec8c64b2a1ceb5b28d9bcc9d0.ttf"},cgbdjhghfb:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=U(n("djfhiceeje")),i=U(n("bjigbaghc")),u=U(n("biecbbiiee")),s=U(n("dagdiahdfi")),l=U(n("dhefcajhhb")),c=U(n("eaaehfdjdg")),f=U(n("bajidgjehj")),d=U(n("biddiiafgd")),p=U(n("icadbbfej")),h=U(n("daijadgha")),m=U(n("icaahcghc")),b=U(n("chcdheijc")),g=U(n("cajbicccif")),v=U(n("ceibefacih")),y=U(n("egjjcjcg")),_=n("dbgdaechch"),E=U(_),j=U(n("bhhdeihhhf")),O=U(n("dhhfaeacef")),S=U(n("gbfffciea")),w=U(n("gbbacfeci")),P=U(n("egfffcbhi")),M=n("bhfdfhefca"),C=U(n("ccaaiecfib")),T=n("bfjajhbdf"),A=U(T),N=U(n("ihfccfgdf")),k=U(n("fbjjefaic")),I=U(n("eceadcicaf")),R=n("ejbdjaifi"),L=U(n("didfdhbecg")),D=U(n("bfdcadbbif")),x=U(n("dabbhadeic"));function U(e){return e&&e.__esModule?e:{default:e}}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $=function(e){function t(){G(this,t);var e=F(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onWindowFocus=function(){},e.onMouseDown=function(){},e.onDrag=function(t){e.didDrag=!0},e.onClickCapture=function(e){},e.onNewChat=function(e){e.preventDefault(),S.default.openDrawerLeft(a.createElement(p.default,null))},e.onProfile=function(){var e=w.default.assertGet(i.default.me),t=l.default.assertGet(i.default.me);S.default.openDrawerLeft(a.createElement(f.default,{status:e,profilePicThumb:t,conn:i.default}))},e.onUnmute=function(){s.default.globalMute().unmute(),S.default.openToast(a.createElement(A.default,{msg:l10n.t(467),id:(0,T.genId)()}))},e.state={},e}return B(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){}},{key:"render",value:function(){var e=null;this.props.mute.isMuted&&(e=a.createElement(M.MenuBarItem,{a8nText:"menu-bar-unmute",icon:a.createElement(D.default,{name:"dnd"}),title:l10n.t(466),onClick:this.onUnmute,key:"btn-dnd"}));var t=null;return C.default.supportsFeature(C.default.F.STATUS_V3_UI_VIEWING)&&(t=a.createElement(P.default,null)),a.createElement("header",{className:x.default.header,onMouseDown:this.onMouseDown,onClickCapture:this.onClickCapture},a.createElement("div",{className:x.default.listUser},a.createElement(O.default,{id:i.default.me,size:40,onClick:this.onProfile})),a.createElement("div",{className:x.default.listControls},a.createElement(M.MenuBar,{key:"chatlist-header"},a.createElement(L.default,{transitionName:"btn"},e,t,a.createElement(M.MenuBarItem,{a8nText:"menu-bar-chat",icon:a.createElement(D.default,{name:"chat",directional:!0}),title:l10n.t(1203),onClick:this.onNewChat}),a.createElement(M.MenuBarItem,{a8nText:"menu-bar-menu",icon:a.createElement(D.default,{name:"menu"}),title:l10n.t(669)},a.createElement(V,null))))))}}]),t}();$.CONCERNS={mute:["isMuted"]},$.displayName="ChatlistHeader",e.exports=(0,k.default)((0,I.default)((0,N.default)((0,R.hoc)($),$.CONCERNS)));var V=function(e){function t(){G(this,t);var e=F(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onCreateGroup=function(){S.default.openDrawerLeft(a.createElement(h.default,null))},e.onProfile=function(){var e=w.default.assertGet(i.default.me),t=l.default.assertGet(i.default.me);S.default.openDrawerLeft(a.createElement(f.default,{status:e,profilePicThumb:t,conn:i.default}))},e.onDisconnect=function(){if(!u.default.some(function(e){return 0===e.ack&&e.local&&e.isSentByMe}))return c.default.logout();S.default.openModal(a.createElement(d.default,{title:l10n.t(324),onOK:function(){return c.default.logout()},okText:l10n.t(658),onCancel:function(){return S.default.closeModal()},cancelText:l10n.t(1091)},l10n.t(985)))},e.onArchived=function(){S.default.openDrawerLeft(a.createElement(g.default,null))},e.onSettings=function(){S.default.openDrawerLeft(a.createElement(m.default,null))},e.onStarred=function(){S.default.openDrawerLeft(a.createElement(v.default,{starredMsgs:o.default}))},e.onLabel=function(){S.default.openDrawerLeft(a.createElement(b.default,null))},e.state={rememberMe:y.default.getRememberMe()},e}return B(t,a.Component),r(t,[{key:"render",value:function(){var e=a.createElement(j.default,{a8n:"mi-new-group menu-item",action:this.onCreateGroup},l10n.t(1200)),t=a.createElement(j.default,{a8n:"mi-starred menu-item",action:this.onStarred},l10n.t(666)),n=null;C.default.supportsFeature(C.default.F.LABELS_EDIT)&&(n=a.createElement(j.default,{a8n:"mi-setting menu-item",action:this.onLabel},l10n.t(587)));var r=l10n.t(663);return a.createElement(E.default,{type:"dropdown_menu",flipOnRTL:!0,key:"ChatlistHeader",dirX:_.DirX.LEFT},e,a.createElement(j.default,{a8n:"mi-profile-status menu-item",action:this.onProfile},r),a.createElement(j.default,{a8n:"mi-archived menu-item",action:this.onArchived},l10n.t(653)),t,n,a.createElement(j.default,{a8n:"mi-setting menu-item",action:this.onSettings},l10n.t(665)),a.createElement(j.default,{a8n:"mi-logout menu-item",action:this.onDisconnect},l10n.t(658)))}}]),t}();V.displayName="ChatlistHeaderDropdown"},cgbfcjgjcf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("ceffhbhahb")),i=f(n("bffjfbgbg")),u=f(n("dhgfhcggji")),s=f(n("ihfccfgdf")),l=f(n("bfdcadbbif")),c=n("ejbdjaifi");function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.props.imgRef&&this.props.imgRef(this.img)}},{key:"componentWillUnmount",value:function(){this.props.imgRef&&this.props.imgRef(null)}},{key:"renderPlaceholder",value:function(){return a.createElement("div",{className:(0,o.default)(u.default.mediaCanvas,u.default.placeholder),onClick:this.props.onClick},a.createElement(l.default,{name:"business-description"}))}},{key:"render",value:function(){var e=this.props,t=e.mediaData,n=e.theme,r=e.active,s=e.onClick,l=void 0;l=t.mediaStage===i.default.STAGE.RESOLVED?a.createElement("div",{className:u.default.mediaCanvas,style:{backgroundImage:`url(${t.renderableUrl})`},onClick:s,ref:(0,c.GetRef)("img",this)}):t.mediaStage===i.default.STAGE.PREPARING?this.renderPlaceholder():t.mediaStage===i.default.STAGE.ERROR_MISSING?null:a.createElement("div",{className:u.default.mediaCanvas});var f=(0,o.default)(this.props.classes,{[u.default.canvasSecondRow]:"hideableSecondRow"===n,[u.default.canvasComponent]:"list"!==n,[u.default.list]:"list"===n,[u.default.viewerFlow]:"viewerFlow"===n,[u.default.active]:!0===r});return this.props.large?a.createElement("div",{className:u.default.canvasComponentLarge},l):a.createElement("div",{className:f},a.createElement("div",{className:u.default.canvasBody}),l)}}]),t}();d.CONCERNS={mediaData:["mediaStage","mediaBlob","renderableUrl","preview"]},d.displayName="ProductThumb",t.default=(0,s.default)((0,c.hoc)(d),d.CONCERNS)},cgbgedjgag:function(e,t){e.exports={muted:"Yxg_3",actionBtns:"pTuis",newLabelBtn:"_1Lre5",plus:"R8Aiw"}},cgcgbfbffj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CACHE_POLICY=void 0;var r=w(n("cifjgjcead")),a=w(n("bjcdbcecjd")),o=w(n("jcfacighg")),i=w(n("cbjgdhddc")),u=w(n("cgjajaggch")),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},f=n("dbjfahieed"),d=S(n("dfhjacfbjg")),p=w(n("fcedgihic")),h=w(n("bjigbaghc")),m=n("ddjgcfjicj"),b=S(n("cajijabhgb")),g=w(n("bdiiahhjbe")),v=w(n("bhggeigghg")),y=w(n("dcdiaahjj")),_=n("hjbbdjjdf"),E=w(n("egjjcjcg")),j=n("eaaehfdjdg"),O=w(j);function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}var P="QUERY",M="FIND",C="UPDATE";t.CACHE_POLICY=f.CACHE_POLICY_TYPE;var T=(new Object).toString(),A={id:"none",policy:f.CACHE_POLICY_TYPE.NONE},N=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._inflight={},e._cachePolicy=(0,f.createCachePolicy)(e,e.constructor.cachePolicy||A),e._staleCollection=e.constructor.staleCollection||!1,e._resumeOnAvailable=e.constructor.resumeOnAvailable||!1,(!0===e._staleCollection||(0,_.isFunction)(e.onResume))&&(e.listenTo(O.default,"change:stream",e._handleStreamChange),e.listenTo(O.default,"didResume",e._onResume),e._resumeOnAvailable&&e.listenTo(y.default,"change:available",function(){y.default.available&&e._needsUpdate&&e._onResume()})),e._cachePolicy.enableCaching(),e._cachePolicy.constructor.policy===f.CACHE_POLICY_TYPE.LOAD&&e.listenTo(h.default,"change:me",e._updateFromCache),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.default),l(t,[{key:"initializeFromCache",value:function(e){this.add(e)}},{key:"saveToCache",value:function(){if(h.default.me){var e=this._cachePolicy.id;g.default.log(`baseCollection:saveToCache save: ${String(e)}`)(),E.default.setCollection(e,this.toJSON(),this._cachePolicy.constructor.policy===f.CACHE_POLICY_TYPE.IMMEDIATE)}}},{key:"add",value:function(e,n){var r=this;if(e){if(h.default.blockStoreAdds)throw new m.LogoutDrop("adding to store when blocking store adds");var a=Array.isArray(e)?e:[e];if((0,u.default)(a,function(e){return e&&e.isState})){var o=(0,i.default)(a,function(e){return r.get(e.id)});return o.length&&c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,o,n),a}}return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"findQuery",value:function(e,t){return this._query(P,e,t)}},{key:"find",value:function(e,t){return e?this._query(M,e,t):(d.upload(g.default.trace("Called find without an id")),Promise.reject("called find without an id"))}},{key:"update",value:function(e,t){return e?this._query(C,e,t):(d.upload(g.default.trace("Called update without an id")),Promise.reject("called update without an id"))}},{key:"handle",value:function(e){var t=this._handle(e.shift());if(this._staleCollection){var n=Array.isArray(t)?t:[t];(0,o.default)(n).forEach(function(e){e.stale=!1})}this.add(t,{merge:!0})}},{key:"gadd",value:function(e,t){if(this._model.prototype.isIdType(e)){var n=this.get(e);if(n)return n;var r={id:e};return this.add(r,t)[0]}if(e&&e.id){var o=t||{};return o.merge=!0,this.add(e,o)[0]}var i=(0,a.default)(v.default,this)||"unknown";throw new Error(i+".gadd called without an id attr (id)")}},{key:"gaddUp",value:function(e){var t=void 0,n=this._staleCollection;if(this._model.prototype.isIdType(e)){var r={stale:n,id:e};t=this.get(e)||this.add(r,{merge:!0})[0]}else e&&e.id&&(this.get(e.id)&&(n=!1),e=s({stale:n},e),t=this.add(e,{merge:!0})[0]);if(t)return t.stale&&this.find(t.id).catch(m.WapDrop,function(){}),t;var o=(0,a.default)(v.default,this)||"unknown";throw new Error(o+".gadd called without an id attr (id)")}},{key:"delete",value:function(){this._inflight={},this.reset()}},{key:"isStateStale",value:function(e){var t=this.get(e);return!!t&&t.stale}},{key:"_handleResume",value:function(){switch(O.default.stream){case j.STREAM.DISCONNECTED:if(!this._staleCollection)return;this.forEach(function(e){e&&(e.stale=!0)});break;case j.STREAM.RESUMING:case j.STREAM.SYNCING:case j.STREAM.CONNECTED:}}},{key:"_onResume",value:function(){(0,_.isFunction)(this.onResume)&&(this._resumeOnAvailable&&!y.default.available?this._needsUpdate=!0:(this.onResume(),this._needsUpdate=!1))}},{key:"_query",value:function(e,t,n){var a=this,o=(0,_.isString)(t)?t:t.toString();o===T&&(o=(0,r.default)("collection_query_"));var i=e===P?void 0:this.get(t),u="force-"+o;if((this._inflight[u]&&e===M||e===C)&&(o=u),this._inflight[o])return e===M&&i&&!i.stale?Promise.resolve(i):this._inflight[o];if(!i||i&&i.stale||e===C){var s=this._inflight[o]=this._serverQuery(e,t,n).finally(function(){delete a._inflight[o]});return s.catch(m.WapDrop,function(e){g.default.warn(e.toString())()}).catch(function(){}),s.catch(_.isString,function(e){g.default.log("baseCollection:query query promise rejected: "+String(e))()})}return Promise.resolve(i)}},{key:"_serverQuery",value:function(e,t,n){var r=this,a=void 0;if(e===C)a=this._update(t);else if(e===M)a=this._find(t);else{var i=n&&n.logOnSend;a=this._findQuery(t,i)}return a.then(function(e){if(r._staleCollection){var t=Array.isArray(e)?e:[e];(0,o.default)(t).forEach(function(e){void 0===e.stale&&(e.stale=!1)})}var a=void 0;if(a=n&&n.set?r.set(e):r.add(e,{merge:!0}),Array.isArray(e))return a;if(a[0])return a[0];throw new b.ModelCreateError(r._model.prototype.Collection,e)})}},{key:"_update",value:function(e){return this._find(e)}},{key:"_handleStreamChange",value:function(){this._handleResume(),this._cachePolicy.constructor.policy===f.CACHE_POLICY_TYPE.LOAD&&this._updateFromCache()}},{key:"_updateFromCache",value:function(){var e=this._cachePolicy.id;this._cachePolicy.disableCaching(),h.default.me&&(g.default.log(`baseCollection:initFromCache load: ${String(e)}`)(),this.initializeFromCache(E.default.getCollection(e)),this._cachePolicy.enableCaching())}}]),t}();t.default=N},cgcgefjeah:function(e,t){e.exports={muted:"_2S0Lg",dimmed:"W1iiE"}},cgchdicacf:function(e,t){e.exports={muted:"pmboJ",conversation:"lp3Gs",placeholder:"_1g3ta",composeBoxQuoted:"_3a9fe",quoted:"_1G7oM",stickerPanel:"n9kOx",clickable:"_1VqBB",hide:"_1PrrL"}},cgddafdgie:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addAndSendMsgToChat=function(e,t,n){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=Promise.resolve(t).then(function(t){return(0,o.appendMessage)(e.id,t).then(function(){var e=l.default.Msg.add(t)[0];if(e)return e.waitForPrep().then(function(){return e});throw new a.ModelCreateError(l.default.Msg._model.prototype.Collection,t)})}),i=e._addQueue.enqueue(r).then(function(t){return e.msgs.add(t)[0]}),u=n?i.then(n).then(function(){return i}):i,s=c(e,u);return[i,s]}((0,u.unproxy)(e),t,n)},t.sendMsgToChat=function(e,t){return c((0,u.unproxy)(e),t)};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),o=n("cceagdehdf"),i=n("bdgehigfig"),u=n("bheafeifce"),s=n("bhggeigghg"),l=(r=s)&&r.__esModule?r:{default:r};function c(e,t){return e._sendQueue.enqueue(t).then(function(e){return(0,i.sendMsgRecord)(e)})}},cgdfjifbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("cdhedbceeh");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},cgdjcibhia:function(e,t,n){"use strict";var r=n("hjbbdjjdf"),a=n("bdebhdhjee");e.exports=function(e){var t=void 0;try{t=e?JSON.parse(e):a}catch(e){return null}var n={};return function e(t,n,a,o){var i=t;if(Array.isArray(i)||(0,r.isString)(i)){(0,r.isString)(i)&&(i=[i]);for(var u=0;u<i.length;u++)n[i[u]]=o+a}else for(var s in i)e(i[s],n,s,o+a)}(t,n,"",""),n}},cgebaggcga:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("ceffhbhahb")),i=h(n("ihfccfgdf")),u=n("ejbdjaifi"),s=h(n("dgibicjjj")),l=h(n("gdhdegbhg")),c=h(n("cgcgefjeah")),f=h(n("bfgbdiffgd")),d=h(n("ccaaiecfib")),p=h(n("bjebjijbfc"));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.statusV3,n=e.contact,r=(0,o.default)({[c.default.dimmed]:n.statusMute}),i=void 0;return i=f.default.statusRanking&&d.default.supportsFeature(d.default.F.STATUS_RANKING)?t.hasUnread?l10n.t(1001,{count:t.unreadCount,_plural:t.unreadCount}):l10n.t(1e3,{count:t.totalCount,_plural:t.totalCount}):p.default.relativeDateAndTimeStr(t.t),a.createElement(s.default,{className:r,key:t.id.toString(),customImage:!0,theme:"status-list",image:a.createElement(l.default,{statusV3:t,contact:n,onClick:this.props.onClick}),primary:n.formattedName,secondary:i,onClick:this.props.onClick,contextEnabled:function(){return!1}})}}]),t}();m.CONCERNS={statusV3:["id","t","hasUnread","unreadCount","totalCount","contact"],contact:["formattedName","statusMute"]},m.displayName="StatusV3Cell",t.default=(0,i.default)((0,u.hoc)(m),m.CONCERNS)},cgecdbiihg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PLAYER_TYPE={FLOATER:"FLOATER",OG_FLOATER:"OG_FLOATER",MEDIA_VIEWER:"MEDIA_VIEWER"},t.YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO=16/9,t.URL_PATTERNS={ONLINE_VIDEO_URL:{YOUTUBE:[/^https?:\/\/youtu\.be\/(.{11})/,/^https?:\/\/www\.youtube\.com\/watch\?v=(.{11})/,/^https?:\/\/m\.youtube\.com\/watch\?v=(.{11})/]}},t.YOUTUBE_URL_TIME_PARAM_NAME="t",t.YOUTUBE_URL_TIME_PARAM_PATTERN=/^(\d+h)?(\d+m)?(\d+s)?(\d+)?$/},cgejbjhjej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FETCH_STATE=void 0;var r=s(n("ccjgiajgj")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("dhjffabgfb");Object.defineProperty(t,"FETCH_STATE",{enumerable:!0,get:function(){return i.FETCH_STATE}});var u=s(n("bihdhbjih"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._parseStickersRes=function(e){if(200!==e.status||!e.data)throw new Error("sticker pack stickers query error");return e.data.map(function(e,t){return a({},(0,r.default)(e,["directPath","mimetype","mediaKey","filehash","width","height"]),{index:t,id:e.filehash,clientUrl:e.url,uploadhash:e.encFilehash})})},n.stickerPackId=e;var o=t._cache[n.stickerPackId];if(o)return l(n,o);var i=void 0,u=n;return Object.defineProperty(n,"fetchState",{get:()=>i,set(e){i!==e&&(i=e,u.trigger("change:fetchState",e))}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.StickerCollection),o(t,[{key:"fetch",value:function(e){var t=this;return e&&this.fetchState!==i.FETCH_STATE.PENDING&&delete this._fetchPromise,this._fetchPromise?this._fetchPromise:(this.fetchState=i.FETCH_STATE.PENDING,n("cdaedfafjc").default.isPlaceholderId(this.stickerPackId)?(this._fetchPromise=new Promise(function(){}),this._fetchPromise):(this._fetchPromise=u.default.queryStickersInStickerPack(this.stickerPackId).then(this._parseStickersRes).then(function(e){var n=Math.max(t.length||e.length);t._resetRange(0,n,e),t.fetchState=i.FETCH_STATE.SUCCESS}).catch(function(e){t.fetchState=i.FETCH_STATE.ERROR}),this._fetchPromise))}},{key:"_resetRange",value:function(e,t,n){var r=this;this._forEachInRange(e,t,function(t,a){var o=n[a-e];t?o?t.id===o.id?t.set(o):(r.remove(t),r.add(o)):r.remove(t):o&&r.add(o)})}},{key:"_forEachInRange",value:function(e,t,n){for(var r=e;r<t;r++){n(this.at(r),r)}}}]),t}();c._cache={},c.comparator=function(e,t){return e.index<t.index?-1:e.index>t.index?1:0},t.default=c},cgejchjdhj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scrollIntoViewIfNeeded=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments[2];if(e.scrollIntoViewIfNeeded&&(0,i.isFunction)(e.scrollIntoViewIfNeeded))return e.scrollIntoViewIfNeeded(t);var r=u(n||e.parentNode),a=window.getComputedStyle(r,null),o=parseInt(a.getPropertyValue("border-top-width")),s=e.offsetTop-r.offsetTop<r.scrollTop,l=e.offsetTop-r.offsetTop+e.clientHeight-o>r.scrollTop+r.clientHeight,c=s&&!l;(s||l)&&t&&(r.scrollTop=e.offsetTop-r.offsetTop-r.clientHeight/2-o+e.clientHeight/2);!s&&!l||t||e.scrollIntoView(c);return!(s||l)},t.scrollIntoView=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=u(arguments[2]||e.parentNode),r=window.getComputedStyle(n,null),a=parseInt(r.getPropertyValue("border-top-width")),o=e.offsetTop-n.offsetTop<n.scrollTop,i=e.offsetTop-n.offsetTop+e.clientHeight-a>n.scrollTop+n.clientHeight,s=o&&!i;t?n.scrollTop=e.offsetTop-n.offsetTop-n.clientHeight/2-a+e.clientHeight/2:e.scrollIntoView(s);return!(o||i)},t.scrollAt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=u(t||e.offsetParent),a=n.pos||"center",i=null!=n.duration&&0!==n.duration?n.duration:1e3,s=n.offset||0;switch(a){case"top":return r.scrollTop=e.offsetTop+s,Promise.resolve();case"bottom":return r.scrollTop=e.offsetTop+e.clientHeight-r.clientHeight,Promise.resolve();case"center":return n.animate?((0,o.default)(e,"stop"),(0,o.default)(r,"stop"),(0,o.default)(e,"scroll",{duration:i,container:r,offset:(e.clientHeight-r.clientHeight)/2,easing:n.easing})):(r.scrollTop=e.offsetTop+e.clientHeight/2-r.clientHeight/2,Promise.resolve());case"offset":return n.animate?((0,o.default)(e,"stop"),(0,o.default)(r,"stop"),(0,o.default)(e,"scroll",{duration:i,container:r,offset:-s,easing:n.easing})):(r.scrollTop=e.offsetTop-s,Promise.resolve())}return Promise.resolve()};var r,a=n("bcifhbgija"),o=(r=a)&&r.__esModule?r:{default:r},i=n("hjbbdjjdf");function u(e){if(e&&e instanceof HTMLElement)return e;throw new Error("utils:DOM parent not defined or is not a valid HTMLElement")}},cgfdiahhcd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("eaaagccfda")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("bdfbccfifg"),i=u(o);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.id));return a._trigger=n.trigger||"all",a._delay=n.delay,a._saveToCache=(0,r.default)(a.saveToCache,a._delay),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"saveToCache",value:function(){this.collection.saveToCache()}},{key:"enableCaching",value:function(){this.listenTo(this.collection,this._trigger,this._saveToCache)}},{key:"disableCaching",value:function(){this.stopListening(this.collection,this._trigger,this._saveToCache)}}]),t}();s.policy=o.CACHE_POLICY_TYPE.LOAD,t.default=s},cgfdjcbhag:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n("echehdcaii")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=g(n("ceffhbhahb")),u=g(n("bdiiahhjbe")),s=g(n("bifbhbbiie")),l=g(n("dgfhiaehb")),c=g(n("fffdgbfji")),f=g(n("bdghdbcbdc")),d=g(n("ciaidfgabf")),p=g(n("didfdhbecg")),h=g(n("bfifafibjc")),m=g(n("cfdfdbefea")),b=g(n("bfdcadbbif"));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={menuWidth:null,offset:0},n._handleItemClick=function(e,t){n.props.onItemClick&&n.props.onItemClick(e,t)},n._handleNextClick=function(){var e=n.props.numItems,t=n.state.offset+n.props.numColumns;"number"!=typeof e||t>e||n.setState({offset:n.state.offset+1})},n._handlePrevClick=function(){0!==n.state.offset&&n.setState({offset:n.state.offset-1})},n._handleResize=function(e){var t=e.width;n.setState({menuWidth:t})},n._renderItem=function(e,t,r){var a=n.props.numItems;if("number"==typeof a&&e>=a)return null;var i=e-n.state.offset;return o.createElement(l.default,{column:i,carouselNumColumns:n.props.numColumns,key:e,menuWidth:r,onClick:n._handleItemClick,index:e,selected:t},n.props.renderItem(e))},n._checkSelectedIndex(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._checkSelectedIndex(e)}},{key:"_checkSelectedIndex",value:function(e){var t=e.onItemClick,n=e.numItems,r=e.selectedIndex;if(t&&0!==n){u.default.assert(r>=0,"carousel_menu: selectedIndex is smaller than 0")();var a=n-1;r>a&&t(a)}}},{key:"_renderPrevButton",value:function(){if(0===this.state.offset)return null;var e=c.default.isRTL()?"chevron-right":"chevron-left";return this._renderButton({className:m.default.prevButton,icon:e,onClick:this._handlePrevClick})}},{key:"_renderNextButton",value:function(){var e=this.props,t=e.numColumns,n=e.numItems;if("number"!=typeof n)return null;if(this.state.offset+t>=n)return null;var r=c.default.isRTL()?"chevron-left":"chevron-right";return this._renderButton({className:m.default.nextButton,icon:r,onClick:this._handleNextClick})}},{key:"_renderButton",value:function(e){var t=e.className,n=e.icon,a=e.onClick,u=this.props.numColumns,s=void 0;return s=null!=this.state.menuWidth&&0!==this.state.menuWidth?`${(0,r.default)(this.state.menuWidth/u)}px`:`${100/u}%`,o.createElement("div",{className:(0,i.default)(m.default.button,t),style:{width:s},onClick:a,role:"button"},o.createElement(b.default,{className:m.default.buttonIcon,name:n}))}},{key:"render",value:function(){var e=this.props,t=e.numColumns,n=e.numItems,r=e.selectedIndex,a=this.state,i=a.menuWidth,u=a.offset,l=void 0;if(r<u)l=-1;else if(r>=u+t){l=t-1+1}else l=(r-u)%t;return o.createElement(f.default,{className:this.props.className},o.createElement(h.default,{className:m.default.resizeContainer,onResize:this._handleResize},o.createElement(p.default,null,this._renderPrevButton()),o.createElement(s.default,{menuWidth:i,numColumns:t,numItems:n,offset:u,renderItem:this._renderItem,selectedIndex:r}),o.createElement(p.default,null,this._renderNextButton()),o.createElement(d.default,{numTabs:t,selectedTabIndex:l,hide:-1===l||0===l&&u>0||l===t})))}}]),t}();v.displayName="CarouselMenu",t.default=v},cgffcjcehg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("ihfccfgdf")),i=n("ejbdjaifi"),u=s(n("bfdcadbbif"));function s(e){return e&&e.__esModule?e:{default:e}}var l=s(n("eadfaddcj")).default.MSG_TYPE,c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.msg,t=e.ack,n=e.isMedia&&!e.caption&&e.type!==l.AUDIO&&e.type!==l.PRODUCT||e.type===l.LOCATION&&!e.loc&&!e.isLive,r=void 0;return r=t<1?n?"msg-time-light":"msg-time":1===t?n?"msg-check-light":"msg-check":2===t?n?"msg-dblcheck-light":"msg-dblcheck":n?"msg-dblcheck-ack-light":"msg-dblcheck-ack",a.createElement(u.default,{name:r})}}]),t}();c.CONCERNS={msg:["ack","isMedia","caption","type","loc","isLive"]},c.displayName="Status",t.default=(0,o.default)((0,i.hoc)(c),c.CONCERNS)},cgffhfegce:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FILETYPE=void 0,t.blobToArrayBuffer=u,t.validateBlob=function(e){return u(e.webkitSlice?e.webkitSlice(0,1):e.slice(0,1)).then(function(e){return 1===e.byteLength}).catch(function(){return!1})},t.getAudioDuration=function(e){var t=void 0,n=void 0;return new Promise(function(r,a){(t=document.createElement("audio")).addEventListener("loadeddata",r),t.addEventListener("error",function(){a(new Error("getAudioDuration: error loading audio"))}),t.src=n=URL.createObjectURL(e)}).then(function(){return~~t.seekable.end(0)}).finally(function(){n&&URL.revokeObjectURL(n)})},t.typeFromMimetype=function(e){var t=e.split("/")[0];switch(t){case i.IMAGE:case i.VIDEO:case i.AUDIO:return t;default:return i.DOCUMENT}},t.getMimeTypeForFilepath=function(e){var t="",n=e.split(".");n.length>1&&(t=n[n.length-1]);var r=a.default.isAllowedDocumentMimetype(a.default.EXT_TO_MIME&&a.default.EXT_TO_MIME[t],e,!1);if(r)return r},t.copyFile=function(e){return u(e).then(function(t){var n=e.lastModified,r=e.type,a=e.name;return new File([t],a,{lastModified:n,type:r})})};var r=o(n("bdiiahhjbe")),a=o(n("behbjhhbg"));function o(e){return e&&e.__esModule?e:{default:e}}var i=t.FILETYPE=Object.freeze({IMAGE:"image",VIDEO:"video",AUDIO:"audio",DOCUMENT:"document"});function u(e){var t=void 0;return new Promise(function(n,a){(t=new FileReader).onload=n,t.onerror=function(e){a(new Error("blobToArrayBuffer error")),r.default.error(`wa:blobToAB:fileReader:error:${String(e)}`)()},t.onabort=function(e){a(new Error("blobToArrayBuffer abort")),r.default.error(`wa:blobToAB:fileReader:abort:${String(e)}`)()},t.readAsArrayBuffer(e)}).then(function(){return t.result})}},cgfidiajgj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sticker=void 0;var r=f(n("fhfbcdaib")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("dcaifjegcg"),i=f(o),u=n("ddgbhifaji"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),l=f(n("bffjfbgbg")),c=n("daichdjff");function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(0,r.default)(function(){return new m({id:"placeholder",isPlaceholder:!0})}),h=t.Sticker=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,o.prop)(),r.mediaData=(0,o.session)(),r._mediaObject=(0,o.prop)(),r.clientUrl=(0,o.prop)(),r.directPath=(0,o.prop)(),r.filehash=(0,o.prop)(),r.height=(0,o.prop)(),r.index=(0,o.prop)(),r.mediaKey=(0,o.prop)(),r.mimetype=(0,o.prop)(),r.size=(0,o.prop)(),r.type=(0,o.prop)(c.OUTWARD_TYPES.STICKER),r.uploadhash=(0,o.prop)(),r.width=(0,o.prop)(),r.isPlaceholder=(0,o.prop)(),d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"initialize",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.addChild("mediaData",new l.default),this.isPlaceholder||s.registerSticker(this)}},{key:"downloadMedia",value:function(){return s.downloadStickerOrStickerPackIcon(this)}},{key:"sendToChat",value:function(e){n("jdigiabic").default.enqueue([this]),this.mediaData&&this.mediaData.mediaBlob&&this.mediaData.mediaBlob.retain();var t={quotedMsg:e.composeQuotedMsg};return e.composeQuotedMsg=null,(0,u.prepSticker)(this).sendToChat(e,t)}}]),t}();h.Proxy="sticker",h.getPlaceholder=p;var m=(0,o.defineModel)(h);m.getPlaceholder=p,t.default=m},cgfjebhhej:function(e,t,n){"use strict";var r=E(n("iidhbgeed")),a=E(n("hajciceai")),o=E(n("cfjeggiiia")),i=E(n("ddjgcdciii")),u=E(n("chihjdheic")),s=E(n("dbafiicfja")),l=E(n("bhdddbafig")),c=E(n("bcdjgfbfa")),f=E(n("bebifggehf")),d=E(n("ddbbigfbec")),p=E(n("eicihhaba")),h=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=E(n("dhefcajhhb")),b=n("dcbdjheea"),g=E(n("djbfhebjhe")),v=E(n("bdiiahhjbe")),y=E(n("cahfddcdga")),_=n("hjbbdjjdf");function E(e){return e&&e.__esModule?e:{default:e}}var j=n("dgdjiicfdg"),O=/X-([^;:]+)(?:;[^:]+)*:(.+)/,S={"X-ABLabel":[/X-ABLabel(?:;([^:]+))*:(.+)/,1],ADR:[/ADR(?:;([^:]+))*:;;(.*);(.*);(.*);(.*);(.*)/,5],"X-ABADR":[/X-ABADR(?:;([^:]+))*:(.*)/,1],URL:[/URL(?:;([^:]+))*:(.*)/,1],EMAIL:[/EMAIL(?:;([^:]+))*:(.+)/,1],TEL:[/TEL(?:;([^:]+))*:(.+)/,1]},w={N:[/N(?:;([^:]+))*:([^;]*);([^;]*);([^;]*);([^;]*);(.*)/,5],FN:[/FN(?:;([^:]+))*:(.*)/,1],NICKNAME:[/NICKNAME(?:;([^:]+))*:(.*)/,1],"X-PHONETIC-FIRST-NAME":[/X-PHONETIC-FIRST-NAME(?:;([^:]+))*:(.*)/,1],"X-PHONETIC-LAST-NAME":[/X-PHONETIC-LAST-NAME(?:;([^:]+))*:(.*)/,1],ORG:[/ORG(?:;([^:]+))*:([^;]*)(?:;(.*))*/,2],TITLE:[/TITLE(?:;([^:]+))*:(.*)/,1],TEL:[/TEL(?:;([^:]+))*:(.*)/,1],PHOTO:[/PHOTO(?:;([^:]+))*:(.*)/,1],BDAY:[/BDAY(?:;([^:]+))*:(.*)/,1],URL:[/URL(?:;([^:]+))*:(.+)/,1],EMAIL:[/EMAIL(?:;([^:]+))*:(.+)/,1]},P=function e(t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=t,this.index=n,this.properties=r||{},this.value=a};function M(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function C(e){var t={};return e?(e.split(";").forEach(function(e){var n=e.split(/=/);if(1===n.length){var r=n[0];M(t,r.toLowerCase(),!0)}else if(2===n.length){var a=h(n,2),o=a[0],i=a[1];M(t,o.toLowerCase(),i.toLowerCase())}}),t):t}function T(e){return e?e.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,"):""}var A={getDate(e){var t=e;return(0,f.default)([/-([^-]*)-([^-]*)-([^-]*)/,/([^-]*)-([^-]*)-([^-]*)/],function(n){var r=e.match(n);if(r){var a=!r[1].length||"1604"===r[1],o=a?"0000":r[1];return t=j(`${o}-${r[2]}-${r[3]}`).format("l"),a&&(t=t.replace(/[.,-\/\s]*0000[.,-\/\s]*/,"")),!1}}),t},getOrganizationString(e){var t,n=(0,c.default)(e.ORG),r=(0,c.default)(e.TITLE);if(n&&Array.isArray(n.value)&&n.value.length>0){var a=null;r&&r.value&&(a=`${r.value}`.trim());var o=(t=n.value,Array.isArray(t)?t:Array.from(t)),i=o[0],u=o.slice(1);u.push(i);var s=u.map(function(e){return(0,_.isString)(e)?e.trim():""}).filter(function(e){return e.length}).join(l10n.t(413));return(a||"")+(a&&a.length&&s.length?" - ":"")+s}return""},getType:function(e){var t={jabber:l10n.t(1063),"skype-username":l10n.t(1068),skype:l10n.t(1068),msn:l10n.t(1065),aim:l10n.t(1055),yahoo:l10n.t(1071),icq:l10n.t(1061)},n=e.properties["X-ABLabel"]||t[e.type.toLowerCase()];if(n)return function(e){if(e)return e.replace(/^_\$!<([^>]*)>!\$_$/,"$1").replace(/\\,/,",").replace(/\\;/,";").replace(/\\\\/,"\\")}(n);var r={TEL:[[["cell"],l10n.t(1057)],[["iphone"],l10n.t(1062)],[["main"],l10n.t(1064)],[["home","fax"],l10n.t(1060)],[["work","fax"],l10n.t(1070)],[["home"],l10n.t(1059)],[["work"],l10n.t(1069)],[["pager"],l10n.t(1067)],[[],l10n.t(1059)]],EMAIL:[[["home"],l10n.t(1059)],[["work"],l10n.t(1069)],[["internet"],l10n.t(1058)]],URL:[[["home"],l10n.t(1059)],[["work"],l10n.t(1069)]],ADR:[[["home"],l10n.t(1059)],[["work"],l10n.t(1069)]]};return n=e.type,(0,p.default)(r,function(t){if(t){var r=h(t,2),a=r[0],o=r[1];if(0===(0,l.default)(a,(0,s.default)(e.properties.type,function(e){return e.toLowerCase()})).length)return n=o,!1}}),n},vcardWAids:function(e){var t=[];return e&&e.TEL&&e.TEL.forEach(function(e){e.properties&&e.properties.waid&&e.properties.waid.length>0&&(t=t.concat((0,s.default)(e.properties.waid,b.numberToWid)))}),t},thumbnailWAid:e=>(0,u.default)(e,function(e){var t=m.default.get(e);return t&&t.img}),parse(e){var t=e.replace(/\r?\n|\r/g,"\n").replace(/\n^[ \t]/gm,"").split("\n").filter(function(e){return 0!==e.trim().length}),n={},r={};if(t.length<3)v.default.assert(!1,"vcard-fault","vcard:parse failed because the vcard has less than 3 lines in it")();else{var u=t[0].trim().toUpperCase(),s=t[1].trim().toUpperCase(),l=t[t.length-1].trim().toUpperCase(),c="VERSION:2.1"===s||"VERSION:3.0"===s||"VERSION:4.0"===s;if("BEGIN:VCARD"===u&&c&&"END:VCARD"===l){for(var f=2;f<t.length-1;f++){var m=t[f],b=m.match(/item(\d+)\.(.*)/),g=b?b[2]:m,_=(0,y.default)(g.match(/([^:;]*)[:;].*/))[1],E=b?S:w,j=_,T=_,A=void 0,N=void 0;if(E[j]){var k=h(E[j],2),I=k[0],R=k[1],L=g.match(I);L&&(A=C(L[1]),N=1===R?N=L[2]:L.slice(2,2+R))}else{var D=g.match(O);D&&(T="SERVICE",j=D[1],N=D[2],A={})}if((0,i.default)(N,o.default))if(b){var x=b[1];r[x]?r[x].fields.push(new P(j,null,A,N)):r[x]={type:j,index:f,key:T,properties:A,value:N,fields:[]}}else M(n,T,new P(j,f,A,N))}return(0,a.default)(r).forEach(function(e){var t=r[e],a=t.key,o=t.index,i=t.type,u=t.value,s=t.properties;t.fields.forEach(function(e){s[e.type]=e.value}),M(n,a,new P(i,o,s,u))}),function(e){var t={};return(0,p.default)(e,function(e,n){t[n]=(0,d.default)(e,function(e){return e.index})}),t}(n)}v.default.assert(!1,"vcard-fault",`vcard:parse failed because the vCard is not formatted as expected:\n                Header as expected? ${String("BEGIN:VCARD"===u)}\n                Version as expected? ${String(c)}\n                Footer as expected? ${String("END:VCARD"===l)}\n                Lines: ${t.length}`)()}},vCardSerialize:e=>e.map(function(e){return e.line.replace(/(.{75,75})/g,"$1\n ").replace(/\n^-$/gm,"")}).join("\n"),thumbnail(e){if(e){var t=e.replace(/\n^ /gm,"").match(/^PHOTO;(BASE64|ENCODING=b;TYPE=image\/jpeg):(.*)$/m);return t?t[2]:void 0}},getName(e){var t=(0,r.default)(e.formattedName.split(e.formattedShortName)),n=t.length?(0,o.default)(t[0]):void 0,a=n?e.formattedShortName:e.formattedName;return`${T(n)};${T(a)};;;`},getNameFromParsedVCard(e){var t=null;if((0,c.default)(e.FN))t=(0,c.default)(e.FN).value;else if((0,c.default)(e.NICKNAME))t=(0,c.default)(e.NICKNAME).value;else if((0,c.default)(e.TEL)){var n=(0,c.default)(e.TEL),r=(0,c.default)(n.properties.waid);t=r?(0,g.default)(r):n.value}return t},fromContactModel(e){var t=T(e.formattedName);return{displayName:t,vcard:`BEGIN:VCARD\nVERSION:3.0\nN:${this.getName(e)}\nFN:${t}\nTEL;type=CELL;waid=${String(e.userid)}:${(0,g.default)(e.userid)}\nEND:VCARD`}}};e.exports=A},cgfjiaegih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=A(n("ddhijeejag")),o=T(n("ceffhbhahb")),i=T(n("gbfffciea")),u=T(n("bjigbaghc")),s=T(n("eadfaddcj")),l=n("ffchhcfdj"),c=T(l),f=T(n("eceadcicaf")),d=T(n("bfbggcdbfb")),p=T(n("dgdjiicfdg")),h=A(n("ebggjhghhi")),m=T(n("didfdhbecg")),b=T(n("ceddibdhdb")),g=T(n("eaaehfdjdg")),v=T(n("ihfccfgdf")),y=n("ejbdjaifi"),_=n("dcdiaahjj"),E=T(_),j=T(n("bcjcbbafcj")),O=T(n("cbbhbjebii")),S=T(n("cfgcdfcfee")),w=T(n("bfdcadbbif")),P=n("facgccaif"),M=n("bidfjbaebi"),C=T(n("djibdcebeh"));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=3e3,L=function(e){function t(){var e,n,r;N(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=k(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={allowReconnect:!0},r.reconnect=function(){var e=S.default.numSocketsAttempted+1;g.default.poke(),h.waitForBBEvent(E.default,"change:displayInfo",function(){return E.default.displayInfo===_.StreamInfo.NORMAL}).then(function(){new d.default.WebcManualWebsocketAttempt({webcManualWebsocketAttemptSuccessful:S.default.numSocketsAttempted===e}).commit()}),r.setState({allowReconnect:!1}),r._reconnectTimeoutTimer.onOrAfter(R)},r._reconnectTimeoutTimer=new b.default(function(){r.setState({allowReconnect:!0})}),k(r,n)}return I(t,a.PureComponent),r(t,[{key:"componentWillUnmount",value:function(){this._reconnectTimeoutTimer.cancel()}},{key:"render",value:function(){var e=void 0,t=void 0;return this.state.allowReconnect?(e=a.createElement(a.Fragment,null,`${l10n.t(642)} `,a.createElement(H,{action:this.reconnect},l10n.t(879))),t=l10n.t(313)):(e=null,t=l10n.t(339)),a.createElement(F,{type:"computer",title:t,text:e})}}]),t}();L.displayName="Offline";var D=function(e){function t(){var e,n,r;N(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=k(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={takingTooLong:!1,didShowSubtitle:!1},r._timeoutTimer=new b.default(function(){r.setState({takingTooLong:!0,didShowSubtitle:!0})}),r.onProgress=function(){r._rerenderTimer.cancel(),r._timeoutTimer.onOrBefore(3e3),r.setState({takingTooLong:!1})},r._rerenderTimer=new b.default(function(){r.forceUpdate()}),r.retry=function(){g.default.poke(),r.onProgress()},k(r,n)}return I(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.listeners.add(g.default,"change:state",this.onProgress),this.props.listeners.add(g.default,"change:retryTimestamp",this.onProgress)}},{key:"componentDidMount",value:function(){this._timeoutTimer.onOrBefore(3e3)}},{key:"componentWillUnmount",value:function(){this._timeoutTimer.cancel(),this._rerenderTimer.cancel()}},{key:"render",value:function(){var e=void 0,t=void 0;if(E.default.displayInfo===_.StreamInfo.OPENING)e=l10n.t(338);else{if(E.default.displayInfo!==_.StreamInfo.CONNECTING)return null;e=l10n.t(339)}if(this.state.takingTooLong){this._rerenderTimer.onOrAfter(1e3);var n=g.default.retryTimestamp-Date.now();if(n<1)n=l10n.t(922),setTimeout(function(){g.default.poke()},0);else if(n<6e4){var r=Math.ceil(n/1e3);n=l10n.t(924,{number:r,_plural:r})}else n=l10n.t(923,{duration:p.default.duration(n).humanize()});t=a.createElement(a.Fragment,null,n," ",a.createElement(H,{action:this.retry},l10n.t(911)))}else t=this.state.didShowSubtitle?a.createElement("span",null,l10n.t(922)):null;return a.createElement(F,{type:"computer",title:e,text:t})}}]),t}();D.displayName="ResumeClass";var x=(0,f.default)((0,y.hoc)(D)),U=function(e){function t(e){N(this,t);var n=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onReload=function(){O.default.restart()},n.onClickManualDownload=function(){},n._showBatteryTimer=new b.default(function(){return n.batteryUpdate(!1)}),n.dismissLowBatteryWarning=function(){var e=n.state.lowBatteryWarning;e>0&&n.setState({lowBatteryWarning:-e})},n._showNotifyTimer=new b.default(function(e){n.setState({showNotify:e})}),n.requestPermissions=function(){i.default.openModal(a.createElement(c.default,{messaging:l.Messaging.NOTIFICATIONS,onConfirm:B,onCancel:$,type:c.default.TYPE.GUIDE_ALLOW})),window.Notification.requestPermission(function(e){i.default.closeModal(),n.setState({notifyPermission:e})})};var r=u.default.battery<s.default.BATTERY_LOW_THRESHOLD_1?u.default.battery<s.default.BATTERY_LOW_THRESHOLD_2?2:1:0;n.state={lowBatteryWarning:u.default.plugged?0:r,notifyPermission:window.Notification&&window.Notification.permission,showNotify:!1};var o=function(){n.batteryUpdate(!0)};return e.listeners.add(u.default,"change:plugged",o),e.listeners.add(u.default,"change:battery",o),n}return I(t,a.PureComponent),r(t,[{key:"componentWillUnmount",value:function(){this._showNotifyTimer.cancel(),this._showBatteryTimer.cancel()}},{key:"batteryUpdate",value:function(e){var t=this.state.lowBatteryWarning;u.default.plugged||u.default.battery>s.default.BATTERY_LOW_THRESHOLD_1?0!==t&&this.setState({lowBatteryWarning:0}):u.default.battery<=s.default.BATTERY_LOW_THRESHOLD_2?-2!==t&&(e?this._showBatteryTimer.onOrBefore(s.default.BATTERY_DELAY):2!==t&&this.setState({lowBatteryWarning:2})):t>-1&&u.default.battery<=s.default.BATTERY_LOW_THRESHOLD_1&&(e?this._showBatteryTimer.onOrBefore(s.default.BATTERY_DELAY):1!==t&&this.setState({lowBatteryWarning:1}))}},{key:"render",value:function(){var e=null;switch(E.default.displayInfo){case _.StreamInfo.OFFLINE:e=a.createElement(L,{key:"bbar"});break;case _.StreamInfo.OPENING:case _.StreamInfo.CONNECTING:e=a.createElement(x,{key:"bbar"});break;case _.StreamInfo.NORMAL:break;case _.StreamInfo.RESUMING:case _.StreamInfo.TIMEOUT:var t=a.createElement(a.Fragment,null,l10n.t(643)," ",a.createElement(H,{action:V},l10n.t(588)));e=a.createElement(F,{type:"phone",key:"bbar",title:l10n.t(843),text:t})}if(!e&&this.state.lowBatteryWarning>0&&(e=a.createElement(F,{type:"battery",key:"bbar",title:l10n.t(841),text:l10n.t(287),dismissable:!0,onDismiss:this.dismissLowBatteryWarning})),!e&&E.default.needsUpdate){var n=a.createElement(H,null,l10n.t(309));e=a.createElement(F,{type:"update",key:"bbar",title:l10n.t(1044),text:n,action:this.onReload})}if(e)this.state.showNotify&&this._showNotifyTimer.onOrBefore(0,!1);else if(this.state.showNotify){if(window.Notification&&this.state.notifyPermission===s.default.PERMISSION_DEFAULT){var r=a.createElement(H,null,l10n.t(412));e=a.createElement(F,{type:"notification",key:"bbar",title:l10n.t(447),text:r,action:this.requestPermissions})}}else this._showNotifyTimer.onOrBefore(s.default.NOTIFICATION_PROMPT_DELAY,!0);return a.createElement(m.default,{transitionName:"butterbar",className:C.default.container},e)}}]),t}();U.CONCERNS={stream:["displayInfo","needsUpdate"]},U.displayName="ButterBarClass";var G=(0,f.default)((0,v.default)((0,y.hoc)(U),U.CONCERNS));function F(e){var t=e.action||null,n=(0,o.default)(C.default.butterbar,{[C.default.action]:t,[C.default.computer]:"computer"===e.type,[C.default.phone]:"phone"===e.type,[C.default.notification]:"notification"===e.type,[C.default.battery]:"battery"===e.type,[C.default.update]:"update"===e.type}),r=e.onDismiss?a.createElement("div",{className:C.default.controls},a.createElement(w.default,{name:"x-light",onClick:e.onDismiss})):null,i=e.text?a.createElement("div",{className:C.default.text},e.text):null;return a.createElement("div",{className:C.default.wrapper},a.createElement("div",{className:n,onClick:t},a.createElement("div",{className:C.default.icon},a.createElement(w.default,{name:{computer:"alert-computer",phone:"alert-phone",notification:"alert-notification",battery:"alert-battery",update:"alert-update"}[e.type]})),a.createElement("div",{className:C.default.body},a.createElement("div",{className:C.default.title},e.title),i),r))}function B(){i.default.closeModal()}function $(){switch(j.default.browser){case s.default.BROWSER_TYPE.CHROME:return(0,M.openExternalLink)((0,P.getNotificationChromeFaqUrl)());case s.default.BROWSER_TYPE.FIREFOX:return(0,M.openExternalLink)((0,P.getNotificationFirefoxFaqUrl)());case s.default.BROWSER_TYPE.SAFARI:return(0,M.openExternalLink)((0,P.getNotificationSafariFaqUrl)());case s.default.BROWSER_TYPE.OPERA:return(0,M.openExternalLink)((0,P.getNotificationOperaFaqUrl)());case s.default.BROWSER_TYPE.EDGE:return(0,M.openExternalLink)((0,P.getNotificationEdgeFaqUrl)());default:return(0,M.openExternalLink)((0,P.getNotificationChromeFaqUrl)())}}function V(){(0,M.openExternalLink)((0,P.getCannotConnectFaqUrl)())}function H(e){return a.createElement("span",{className:C.default.actionLink},a.createElement("span",{className:C.default.actionText,onClick:e.action},e.children),a.createElement(w.default,{className:C.default.chevron,directional:!0,name:"chevron-right-text"}))}t.default=function(){return a.createElement(G,{stream:E.default})},F.displayName="BB",H.displayName="ActionLink"},cggajedfhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=P(n("eeghcebdh")),u=P(n("ejegihaeh")),s=P(n("gbfffciea")),l=P(n("eadfaddcj")),c=P(n("bjgiedaj")),f=P(n("fifhbjiec")),d=P(n("ccaaiecfib")),p=P(n("dhccihecch")),h=P(n("deabffecii")),m=P(n("cfegjiegcd")),b=P(n("bfejacaeaj")),g=P(n("ihfccfgdf")),v=P(n("dcjdgceiej")),y=P(n("cehjjfagii")),_=n("gaifbabbj"),E=n("dcbdjheea"),j=n("ejbdjaifi"),O=n("bgjddhffji"),S=n("bheafeifce"),w=P(n("iiaihjfbi"));function P(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=M(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.ProductCatalogSession=new h.default,r.launchProductView=function(e){if(e&&e.stopPropagation(),d.default.supportsFeature(d.default.F.CATALOG)){var t=r.props.msg;if(t){var n=t.businessOwnerJid&&(0,E.createWid)(t.businessOwnerJid);if(n){var a=u.default.get(n);if(a){var i=t.productId&&a.productCollection.get(t.productId),l=t.productId&&a.msgProductCollection.get(t.productId);if(i||l){var c=l;i&&i.t>=t.t&&(c=i,l&&a.msgProductCollection.remove(l)),c&&((0,O.logProductMsgClick)((0,S.unproxy)(c),r.ProductCatalogSession.toString()),s.default.openDrawerRight(o.createElement(m.default,{chat:t.chat,product:c,refreshCarousel:!0,sessionId:r.ProductCatalogSession.toString()}),"slide-left",r.context.uim))}}}}}},M(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){if(d.default.supportsFeature(d.default.F.CATALOG)){var e=this.props.msg;if(!(e.businessOwnerJid&&(0,E.createWid)(e.businessOwnerJid)))return;u.default.addMsgAsproduct((0,S.unproxy)(e))}}},{key:"renderProductInfo",value:function(){var e=this.props,t=e.msg,n=e.trusted,r=t.title,a=t.description,u=t.priceAmount1000,s=t.currencyCode,d=(n?_.Configuration.TrustedConversation:_.Configuration.UntrustedConversation)({mentions:t.mentionMap(),links:t.getLinks(),selectable:!0}),p=null!=u&&s?c.default.format(s,u):a,h=o.createElement(f.default,{direction:"inherit",selectable:!0,text:r,formatters:d,ellipsify:!0,className:i.default.title}),m=p?o.createElement(w.default,{msg:t,className:i.default.subtitle},o.createElement(f.default,{direction:"inherit",selectable:!0,text:p,formatters:d,textLimit:l.default.MAX_PRODUCT_SUBTITLE_LENGTH})):null;return o.createElement("div",{className:i.default.productInfo,onClick:this.launchProductView},h,m)}},{key:"render",value:function(){if(!d.default.supportsFeature(d.default.F.CATALOG))return null;var e=this.props,t=e.displayAuthor,n=e.msg,a=(!1!==t?!n.isSentByMe&&n.isGroupMsg:null)?o.createElement("div",{className:i.default.author},o.createElement(y.default,{msg:n,contact:n.senderObj})):null,u=o.createElement(p.default,r({},this.props,{displayAuthor:!1,contentContainerClassName:i.default.productContainer,captionComponent:this.renderProductInfo(),thumbClassName:i.default.thumb,onThumbClick:this.launchProductView})),s=o.createElement(f.default,{className:i.default.productCta,onClick:this.launchProductView,text:l10n.t(859)});return o.createElement("div",{className:i.default.bubble},a,u,s)}}]),t}();C.contextTypes={uim:b.default.instanceOf(v.default)},C.CONCERNS={msg:["businessOwnerJid","chat","chat","currencyCode","description","dir","id","isGroupMsg","isProductInquiry","isSentByMe","mediaData","priceAmount1000","productId","productImageCount","retailerId","rtl","senderObj","t","title","url"]},C.displayName="Product",t.default=(0,g.default)((0,j.hoc)(C),C.CONCERNS)},cggchheahd:function(e,t){e.exports={muted:"wcUYd",container:"_38w5G",fullscreen:"blq_W",youtubeContainer:"_7KBPw",blockYoutube:"_25JqX",videoControlsWrapper:"_3Tkpy",strippedVideoControls:"_2wzgf",opacityTransition:"_1Cx2d",widgetsWrapper:"Xv_gE",dimmed:"_2oMEO"}},cghfaedged:function(e,t){e.exports={muted:"_30nGa",highRes:"_298rb",wrapper:"_2ZDCk",medium:"_2a0VK",lowRes:"_23bAn",large:"_3CMkL",xlarge:"_2FANH",animation:"_1EdGp",invisible:"_1nia9",heart:"_1Kzee"}},cgidhbdcgc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.associateMediaWithMsg=function(e,t){e.addMsg(t)},t.disassociateMediaFromMsg=function(e,t){if(t._mediaObject=null,e.removeMsg(t),e.hasAssociatedMsgsOrStickers())return;e.filehash&&delete i[e.filehash];e.delete()},t.delistAndDeleteAllMedia=function(){var e=i;for(var t in i={},e)e[t].delete()},t.getOrCreateMediaObject=function(e){return i.hasOwnProperty(e)?i[e]:i[e]=new o.default},t.clearMediaForChat=function(e){},t.associateMediaWithStickerPack=function(e,t){e.addStickerPack(t)},t.disassociateMediaFromStickerPack=function(e,t){if(t._mediaObject=null,e.removeStickerPack(t),e.hasAssociatedMsgsOrStickers())return;e.filehash&&delete i[e.filehash];e.delete()},t.associateMediaWithSticker=function(e,t){e.addSticker(t)},t.disassociateMediaFromSticker=function(e,t){if(t._mediaObject=null,e.removeSticker(t),e.hasAssociatedMsgsOrStickers())return;e.filehash&&delete i[e.filehash];e.delete()};var r,a=n("chfghiiefb"),o=(r=a)&&r.__esModule?r:{default:r};var i={}},cgjafchgje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.StickerPanelEmpty=m;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("ceffhbhahb")),i=d(n("ecjegjabde")),u=d(n("dhfbfehaef")),s=d(n("iagahbjff")),l=d(n("dbhijaface")),c=d(n("dfhebgbhja")),f=d(n("cjfhhbcfdh"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleGridFocusPrev=function(){r.props.onFocusPrev&&r.props.onFocusPrev()},r._setRefScrollGrid=function(e){r._refScrollGrid=e},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"focus",value:function(){this._refScrollGrid&&this._refScrollGrid.focus()}},{key:"_getContent",value:function(){return this.props.recentStickersEnabled&&0===this.props.selectedStickerPackIndex?a.createElement(s.default,{ref:this._setRefScrollGrid,onFocusPrev:this._handleGridFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onSticker,onStickerEnter:this.props.onSticker}):a.createElement(l.default,{ref:this._setRefScrollGrid,onFocusPrev:this._handleGridFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onSticker,onStickerEnter:this.props.onSticker,selectedStickerPackIndex:this.props.selectedStickerPackIndex-this.props.specialItemsCount})}},{key:"render",value:function(){return a.createElement(u.default,{className:c.default.container,handlers:(0,i.default)({"shift+tab":this.props.onFocusPrev,tab:this.props.onFocusNext})},this._getContent())}}]),t}();function m(e){var t=e.containerClassName,n=e.onClick,r=e.onFocusPrev,i=e.onFocusNext,s=e.onRef;return a.createElement("div",{className:(0,o.default)(t,c.default.emptyContainer),onClick:n},a.createElement("div",{className:c.default.emptySticker,style:{backgroundImage:`url(${f.default})`}}),a.createElement(u.default,{handlers:{"shift+tab":r,tab:i},onRef:s},a.createElement("p",{className:c.default.emptyText},l10n.t(1010))))}h.displayName="StickerPanelContent",t.default=h,m.displayName="StickerPanelEmpty"},cgjcdbggeb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n("ddjgcdciii"));t.addParticipants=function(e,t){return function e(t,n){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,o.genId)();var d=t.groupMetadata.participants;if((0,r.default)(n,function(e){return d.get(e.id)}))return l.default.error("models:groupMetadata:participantCollection:addParticipants already a group member")(),Promise.reject(new u.ActionError);if(!d.canAdd())return Promise.reject(new u.ActionError);var p=(0,c.sendAddParticipants)(t.id,n.map(function(e){return e.id}));var h=n.map(function(e){return e.formattedShortName}).join(l10n.t(413));var m=new o.ActionType(l10n.t(114,{participantNames:h,_plural:n.length}));var b=p.then(function(e){d.sendForNeededAddRequest(e);var t=s.formatResult(e,s.addSuccessString,s.addFailedString,s.addPartialFailedString,n);return new o.ActionType(t)}).catch(function(r){return l.default.error("models:groupMetadata:participantCollection:addParticipants dropped")(r),new o.ActionType(l10n.t(111,{participantNames:h,_plural:n.length}),l10n.t(152),function(){return e(t,n,f)})});i.default.openToast(a.createElement(o.ActionToast,{id:f,initialAction:m,pendingAction:b}));return p.then(function(){})}((0,f.unproxy)(e),t)},t.removeParticipants=function(e,t){return function e(t,n){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,o.genId)();var d=t.groupMetadata.participants;if((0,r.default)(n,function(e){return!d.canRemove(e)}))return Promise.reject(new u.ActionError);var p=(0,c.sendRemoveParticipants)(t.id,n.map(function(e){return e.id}));var h=n.map(function(e){return e.contact.formattedShortName}).join(l10n.t(413));var m=new o.ActionType(l10n.t(133,{participantNames:h,_plural:n.length}));var b=p.then(function(e){var t=s.formatRemoveResult(e,n.map(function(e){return e.contact}));return new o.ActionType(t)}).catch(function(r){return l.default.error("models:groupMetadata:participantCollection:removeParticipants dropped")(r),new o.ActionType(l10n.t(129,{participantNames:h,_plural:n.length}),l10n.t(152),function(){return e(t,n,f)})});i.default.openToast(a.createElement(o.ActionToast,{id:f,initialAction:m,pendingAction:b}));return p.then(function(){})}((0,f.unproxy)(e),t)},t.promoteParticipants=function(e,t){return function e(t,n){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,o.genId)();var d=t.groupMetadata.participants;if((0,r.default)(n,function(e){return!d.canPromote(e)}))return Promise.reject(new u.ActionError);var p=(0,c.sendPromoteParticipants)(t.id,n.map(function(e){return e.id}));var h=n.map(function(e){return e.contact.formattedShortName}).join(l10n.t(413));var m=new o.ActionType(l10n.t(128,{participantNames:h,_plural:n.length}));var b=p.then(function(e){var t=s.formatResult(e,s.promoteSuccessString,s.promoteFailedString,s.promotePartialFailedString,n.map(function(e){return e.contact}));return new o.ActionType(t)}).catch(function(r){return l.default.error("models:groupMetadata:participantCollection:removeParticipants dropped")(r),new o.ActionType(l10n.t(125,{participantNames:h,_plural:n.length}),l10n.t(152),function(){return e(t,n,f)})});i.default.openToast(a.createElement(o.ActionToast,{id:f,initialAction:m,pendingAction:b}));return p.then(function(){})}((0,f.unproxy)(e),t)},t.demoteParticipants=function(e,t){return function e(t,n){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,o.genId)();var d=t.groupMetadata.participants;if((0,r.default)(n,function(e){return!d.canDemote(e)}))return Promise.reject(new u.ActionError);var p=(0,c.sendDemoteParticipants)(t.id,n.map(function(e){return e.id}));var h=n.map(function(e){return e.contact.formattedShortName}).join(l10n.t(413));var m=new o.ActionType(l10n.t(119,{participantNames:h,_plural:n.length}));var b=p.then(function(e){var t=s.formatResult(e,s.demoteSuccessString,s.demoteFailedString,s.demotePartialFailedString,n.map(function(e){return e.contact}));return new o.ActionType(t)}).catch(function(r){return l.default.error("models:groupMetadata:participantCollection:demoteParticipants dropped")(r),new o.ActionType(l10n.t(115,{participantNames:h,_plural:n.length}),l10n.t(152),function(){return e(t,n,f)})});i.default.openToast(a.createElement(o.ActionToast,{id:f,initialAction:m,pendingAction:b}));return p.then(function(){})}((0,f.unproxy)(e),t)};var a=d(n("ddhijeejag")),o=n("ccihhdchab"),i=p(n("gbfffciea")),u=d(n("cajijabhgb")),s=d(n("gcehifbbc")),l=p(n("bdiiahhjbe")),c=n("bceahhbbcj"),f=n("bheafeifce");function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}},cgjijjgidi:function(e,t){e.exports={muted:"_1wi1c",hidden:"_3hTQn",container:"_34tCm"}},chaebfegeh:function(e,t,n){"use strict";var r=i(n("jccfhaecf")),a=n("dcbdjheea"),o=i(n("bdiiahhjbe"));function i(e){return e&&e.__esModule?e:{default:e}}var u=n("ccebfaijda");function s(e){try{return(0,a.createWid)(e)}catch(t){return e}}e.exports=function(e){var t="",n="",a=e.singleByte,i=e.doubleByte,l=e.nibbleDecode;this.readNode=function(e){var n=e.readByte(),r=this.readListSize(e,n);if((n=e.readByte())===u.STREAM_END)throw new Error("unexpected stream end "+e.debugInfo());var a=this.readString(e,n);if(0===r||!a)throw new Error("invalid node. 0 list or empty tag"+e.debugInfo());var o=r-2+r%2>>1;t=a;var i=this.readAttributes(e,o);if(r%2==1)return[a,i,void 0];var s=void 0;if(n=e.readByte(),this.isListTag(n))s=this.readList(e,n);else if(n===u.BINARY_8){var l=e.readByte();s=e.readBytes(l)}else if(n===u.BINARY_20){var c=e.readInt20();s=e.readBytes(c)}else if(n===u.BINARY_32){var f=e.readInt32();s=e.readBytes(f)}else s=this.readString(e,n);return[a,i,s]},this.isListTag=function(e){return e===u.LIST_EMPTY||e===u.LIST_8||e===u.LIST_16},this.readListSize=function(e,t){if(t===u.LIST_EMPTY)return 0;if(t===u.LIST_8)return e.readByte();if(t===u.LIST_16)return e.readInt16();throw new Error("invalid list size "+e.debugInfo())},this.readString=function(e,a){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=void 0;if(-1===a)throw new Error("invalid start token readString"+e.debugInfo());if(a>2&&a<236){var c=this.getToken(a);return"s.whatsapp.net"===c&&(c="c.us"),c}switch(a){case u.DICTIONARY_0:case u.DICTIONARY_1:case u.DICTIONARY_2:case u.DICTIONARY_3:var f=e.readByte();return this.getTokenDouble(a-u.DICTIONARY_0,f);case u.LIST_EMPTY:return;case u.BINARY_8:return l=e.readString(e.readByte()),this.isAttr&&i&&r.default.isWid(l)?s(l):l;case u.BINARY_20:return l=e.readString(e.readInt20()),this.isAttr&&i&&r.default.isWid(l)?s(l):l;case u.BINARY_32:return l=e.readString(e.readInt32()),this.isAttr&&i&&r.default.isWid(l)?s(l):l;case u.JID_PAIR:var d=this.readString(e,e.readByte()),p=this.readString(e,e.readByte());if(void 0!==d&&void 0!==p){var h=d+"@"+p;return i&&r.default.isWid(h)?s(h):h}if(void 0!==p)return p;throw new Error("invalid jid "+d+","+p+" "+e.debugInfo());case u.NIBBLE_8:case u.HEX_8:return this.readPacked8(a,e);default:throw o.default.infoVerbose(`\n                Unexpected token in binary protocol read. Token : ${a}\n                lastTag: ${t}\n                lastAttributeKey: ${n}\n                ${e.debugInfoWithPadding()}\n              `)(),new Error("invalid string "+a)}},this.getToken=function(e){var t=void 0;if(e>=0&&e<a.length&&(t=a[e]),void 0===t)throw new Error("invalid token "+e);return t},this.getTokenDouble=function(e,t){var n=void 0,r=256*e+t;if(r>=0&&r<i.length&&(n=i[r]),void 0===n)throw new Error("invalid double byte token "+e+" "+t);return n},this.readAttributes=function(e,t){this.isAttr=!0;for(var a=void 0,o=void 0,i=t?{}:void 0,u=0;u<t;u++)a=this.readString(e,e.readByte()),n=a,o=this.readString(e,e.readByte(),r.default.canBeWid(a)),i[a]=o;return this.isAttr=!1,i},this.readList=function(e,t){for(var n=[],r=this.readListSize(e,t),a=0;a<r;a++)n.push(this.readNode(e));return n},this.readPacked8=function(e,t){for(var n=t.readByte(),r=n>>7,a=127&n,o="",i=0;i<a;i++){var u=t.readByte();o+=this.unpackByte(e,(240&u)>>4),o+=this.unpackByte(e,15&u)}return r&&(o=o.substring(0,o.length-1)),o},this.unpackByte=function(e,t){switch(e){case u.NIBBLE_8:return this.unpackNibble(t);case u.HEX_8:return this.unpackHex(t);default:throw new Error("unpack non-nibble/hex type: "+e)}},this.unpackNibble=function(e){if(!l.hasOwnProperty(e))throw new Error("invalid nibble to unpack: "+e);return l[e]},this.unpackHex=function(e){if(e>=0&&e<=15)return e.toString(16).toUpperCase();throw new Error("invalid hex to unpack: "+e)}}},chbfbiahhb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("dfbccdiiii")),i=s(n("bfdcadbbif")),u=s(n("ceffhbhahb"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement("div",{className:(0,u.default)(o.default.button,{[o.default.fullscreen]:this.props.isFullscreenMode}),onClick:this.props.onClick},this.props.isFullscreenMode?a.createElement(i.default,{name:"video-exit-fullscreen"}):a.createElement(i.default,{name:"video-fullscreen"}))}}]),t}();l.displayName="FullscreenToogleButton",t.default=l},chbgjdggfh:function(e,t){e.exports={muted:"_1Jc4O",chat:"_2UaNq",chatAvatar:"_3vpWv",chatBody:"_2WP9Q",chatDetails:"_2-LYg",chatMain:"KgevS",noDelete:"_221a1",chatSecondary:"xD91K",chatTitle:"_3H4MS",chatStatus:"_2Bw3Q",chatMeta:"_0LqQ",unread:"_2ko65",active:"_3mMX1",chatDrag:"_3w49t",idle:"_1k-OW",themeMessage:"_2J5yE",themeSearch:"_3sA1g",themeDrawerList:"_2nQ7u",themeStatus:"_2t0gn",themeCheckbox:"_3UYKy",themeIdentity:"_3fAgu",themePlain:"_3Ff9z",themeListNames:"_27Ppf",member:"_30Q1W",themeLabel:"_2ZcHO",groupV4Invite:"_1tsvT",product:"_2f0ay",media:"ROigK"}},chbjajaddg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n("cgcgbfbffj")),o=n("ddjgcfjicj"),i=l(n("ccaaiecfib")),u=l(n("cbcbdjdah")),s=l(n("biecbbiiee"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.syncPromise=null,r.isSynced=!1,c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"onResume",value:function(){this.isSynced=!1,this.sync(this.parent)}},{key:"sync",value:function(e){var t=this;return i.default.supportsFeature(i.default.F.INDEX_RECEIVED_VCARD)?this.isSynced?Promise.resolve():this.syncPromise?this.syncPromise:(this.syncPromise=s.default.queryVCard(e.id).then(function(e){return t.add(e)}).catch(o.E499,function(){}).catch(function(){}).finally(function(){t.isSynced=!0,t.syncPromise=null}),this.syncPromise):(this.isSynced=!0,Promise.resolve())}}]),t}();f.model=u.default,f.resumeOnAvailable=!0,t.default=f},chccggajbc:function(e,t){e.exports={muted:"o_Fi2",statusLoading:"_2kE6F"}},chcdheijc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("bcbahjefec")),i=m(n("hbciiabei")),u=m(n("dggfjficbb")),s=m(n("fidbefhib")),l=m(n("bijffg")),c=m(n("gbfffciea")),f=m(n("cahigbeecb")),d=m(n("eadfaddcj")),p=m(n("biddiiafgd")),h=m(n("cfhgffgbcb"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),m=0;m<o;m++)i[m]=arguments[m];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onDeleteLabel=function(e){e.forEach(function(e){var t=e.id;l.default.deleteLabel(t)})},r.onManageLabels=function(e){c.default.openModal(a.createElement(h.default,{modelsToUpdate:e}))},r.onEditLabel=function(e){c.default.openModal(a.createElement(s.default,{labelId:e,onUpdateLabel:r.onUpdateLabel,onCancel:c.default.closeModal()}))},r.onLabelClick=function(e){r.push(a.createElement(u.default,{openLabelColorDrawer:r.openLabelColorDrawer,labelId:e,onManageLabels:r.onManageLabels,onClose:r._pop,onRemoveLabel:r.onRemoveLabel,onEditLabel:r.onEditLabel}))},r.openAddLabel=function(){l.default.toArray().length>=d.default.MAX_SMB_LABEL_COUNT?c.default.openModal(a.createElement(p.default,{okText:l10n.t(825),onOK:function(){return c.default.closeModal()}},l10n.t(1362,{count:d.default.MAX_SMB_LABEL_COUNT}))):c.default.openModal(a.createElement(s.default,{onAddLabel:r.onAddLabel,onCancel:c.default.closeModal()}))},r.onUpdateLabel=function(e,t,n){l.default.updateLabel(e,t,n)},r.openLabelColorDrawer=function(e,t){r.push(a.createElement(f.default,{labelId:e,onClose:r._pop,onUpdateColor:r.onUpdateLabel,currentColor:t}))},r._pop=function(){r.pop()},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.push(a.createElement(i.default,{onDeleteLabel:this.onDeleteLabel,onLabelClick:this.onLabelClick,onClose:this._pop,openAddLabel:this.openAddLabel}))}},{key:"onAddLabel",value:function(e,t){l.default.addNewLabel(e,t)}},{key:"onRemoveLabel",value:function(e,t){var n=[{id:e,type:"remove"}];l.default.addOrRemoveLabels(n,t)}}]),t}();t.default=g},chdbdhafaj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n("ichdigdd")),o=f(n("bdiiahhjbe")),i=f(n("cgdfjifbb")),u=f(n("cjbdijighi")),s=f(n("cbiibcfhjf")),l=n("cgffhfegce"),c=n("fgeddfbg");function f(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.checkIfAlreadyUploaded=(0,u.default)(function(e){return e.encFilehash},function(e){var t={encFilehash:e.encFilehash,type:e.type};return o.default.log("uploadManager.checkIfAlreadyUploaded: start",t)(),i.default.checkIfUploadExists(e).catch(c.MediaNotFoundError,function(e){return null}).then(function(e){return o.default.log("uploadManager.checkIfAlreadyUploaded: success",t)(),e}).catch(function(e){throw o.default.error("uploadManager.checkIfAlreadyUploaded: error",t,e)(),e})}),this._getExistingOrUpload=(0,u.default)(function(e){return e.encFilehash},function(e){var n=e.ciphertextHmac,r=e.encFilehash,a=e.signal,u=e.type,s=e.onCheckExistingSuccess,l=e.onCheckExistingError,c=e.onUploadHostFound,f=e.onUploadAttemptSuccess,d=e.onUploadAttemptError,p=e.onUploadSuccess,h=e.onUploadError,m={encFilehash:r,type:u};return o.default.log("uploadManager._getExistingOrUpload: start",m)(),t.checkIfAlreadyUploaded({encFilehash:r,type:u,signal:a}).catch(function(e){throw l&&l(e),e}).then(function(e){return e?(s&&s(),e):i.default.upload({ciphertextHmac:n,encFilehash:r,type:u,signal:a,onUploadHostFound:c,onUploadAttemptSuccess:f,onUploadAttemptError:d}).then(function(e){return p&&p(),e})}).then(function(e){return o.default.log("uploadManager._getExistingOrUpload: success",m,e)(),e}).catch(function(e){throw h&&h(e),o.default.error("uploadManager._getExistingOrUpload: error",m,e)(),e})})}return r(e,[{key:"encryptAndUpload",value:function(e){var t=this,n=e.blob,r=e.signal,i=e.type,u=e.onArrayBufferCreated,c=e.onCheckExistingSuccess,f=e.onCheckExistingError,d=e.onUploadHostFound,p=e.onUploadAttemptSuccess,h=e.onUploadAttemptError,m=e.onUploadSuccess,b=e.onUploadError,g={type:i};return o.default.log("uploadManager.encryptAndUpload: start",g)(),(0,l.blobToArrayBuffer)(n).then(function(n){u&&u(n);var o=e.mediaKey||(0,s.default)();return(0,a.default)({type:i,plaintext:n,mediaKey:o}).then(function(e){var n=e.ciphertextHmac,a=e.hash,u=e.sidecar;return t._getExistingOrUpload({ciphertextHmac:n,encFilehash:a,type:i,signal:r,onCheckExistingSuccess:c,onCheckExistingError:f,onUploadHostFound:d,onUploadAttemptSuccess:p,onUploadAttemptError:h,onUploadSuccess:m,onUploadError:b}).then(function(e){return{directPath:e.directPath,encFilehash:a,mediaKey:o,sidecar:u,url:e.url}})})}).then(function(e){return o.default.log("uploadManager.encryptAndUpload: success",g)(),e}).catch(function(e){throw o.default.error("uploadManager.encryptAndUpload: error",g,e)(),e})}}]),e}();t.default=new d},chdfbgffgh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=v(n("cegfhjajbg")),i=v(n("dbdfbgehgj")),u=n("iaibjaeb"),s=v(u),l=n("hdccjfbbg"),c=v(l),f=v(n("dhfbfehaef")),d=n("bbhhbdicgc"),p=v(d),h=v(n("cbgeijgefb")),m=v(n("dcaibchbg")),b=v(n("bcfjfagjhe")),g=n("bgddggdhc");function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=0,j=1,O=2,S=3,w=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=r=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.onFocusGain=function(e){e.target===(0,g.forbiddenAssertDOMNode)(r)&&(r.selection.index<0?r.focusFirst():r.selection.reset(!0))},r.focusFirst=function(){r.selection.setFirst(!0)},r.onNextContact=function(e){e.preventDefault(),e.stopPropagation(),r.selection.setNext(!0)},r.onPrevContact=function(e){e.preventDefault(),e.stopPropagation(),r.selection.prev()>-1?r.selection.setPrev(!0):(r.selection.unset(),r.props.onFocusSearch(e))},r.renderContact=function(e,t){var n=void 0;return e.isBlocked()&&(n=l10n.t(343)),a.createElement(c.default,{active:r.selection,contact:e,onClick:r.props.onClick,secondary:n,frequent:t,waitIdle:!0})},r.renderItem=function(e){switch(e.type){case E:return a.createElement(h.default,{key:"frequent-contacts-header",header:l10n.t(1134)});case S:var t=e.data,n=e.frequent;return r.renderChat(t,n);case O:var i=e.data,u=e.frequent;return r.renderContact(i,u);case j:var s=e.data,l=e.separator;return a.createElement("div",{className:b.default.header},l?a.createElement(o.default,{key:`separator-${s}`}):null,a.createElement(h.default,{header:s}));default:throw new d.UnknownDataError(e)}},_(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.selection=new m.default(this.getSelectionList(this.props)),this.frequentContacts=this.props.frequentContacts||[]}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.selection.init(this.getSelectionList(e)),this.frequentContacts=e.frequentContacts||[]}},{key:"getSelectionList",value:function(e){var t=e.contacts,n=e.frequentContacts,r=n?n.map(function(e){return l.FREQUENT_PREFIX+e.id.toString()}):[],a=[],o=[];return t.forEach(function(e){e.isGroup?o.push(e.id.toString()):a.push(e.id.toString())}),r.concat(a).concat(o)}},{key:"renderChat",value:function(e,t){return a.createElement(s.default,{active:this.selection,chat:e,mode:u.Mode.INFO,noContext:!0,onClick:this.props.onClick,frequent:t})}},{key:"getFrequentContactsData",value:function(){var e=this,t=[];return this.frequentContacts.forEach(function(n){var r=e.getContactDataItem(n,!0);r&&t.push(r)}),t}},{key:"getContactDataItem",value:function(e,t){var n=(t?l.FREQUENT_PREFIX:"")+e.id.toString();if(e.isGroup){var r=i.default.get(e.id);return r?{itemKey:n,data:r,type:S,frequent:t}:null}return{itemKey:n,data:e,type:O,frequent:t}}},{key:"getData",value:function(){var e=[],t=[],n=[];this.frequentContacts&&this.frequentContacts.length&&(e.push({itemKey:"frequent-contacts-header",type:E}),e.push.apply(e,y(this.getFrequentContactsData()))),this.props.contacts.forEach(function(e){e.isGroup?n.push(e):t.push(e)});var r=this.getDataFromContacts(t),a=this.getDataFromContacts(n);if(this.props.showPersonGroupDivisionHeader&&r.length>0){var o=l10n.t(1102);e.push({itemKey:`header-${o}`,data:o,separator:!0,type:j})}if(e.push.apply(e,y(r)),this.props.showPersonGroupDivisionHeader&&a.length>0){var i=l10n.t(1193);e.push({itemKey:`header-${i}`,data:i,separator:!0,type:j})}return e.push.apply(e,y(a)),e}},{key:"getDataFromContacts",value:function(e){if(0===e.length)return[];for(var t=e[0].isGroup?"group":"contact",n=[],r=e.length>10,a="XXX",o=0;o<e.length;o++){var i=e[o];if(r&&i.header){var u=i.header;if(u!==a){var s=o<e.length-1&&u!==e[o+1].header;n.push({itemKey:`header-${t}-${u}`,data:u,separator:s,type:j}),a=u}}var l=this.getContactDataItem(i);l&&n.push(l)}return n}},{key:"render",value:function(){var e={down:this.onNextContact,up:this.onPrevContact};return a.createElement(f.default,{handlers:e,onFocus:this.onFocusGain,"data-tab":3},a.createElement(p.default,{data:this.getData(),renderItem:this.renderItem,flatListController:this.props.flatListController}))}}]),t}();w.displayName="ContactList",t.default=w},chdggedfah:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("dgjddffcfg")),o=(u(n("eadfaddcj")),u(n("cfiighfhhg"))),i=u(n("dbabefhajh"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.msg,n=e.displayAuthor;e.displayType;return r.createElement(i.default,{msg:t,displayAuthor:n},r.createElement(o.default,{iconName:"unknown",msg:t},a.default.msgText(t)))}s.displayName="TemplateMessage"},chdhhgfaj:function(e,t){e.exports={muted:"_4renq",container:"_15Ywg",wrapper:"fsf95",innerWrapper:"_1Awt5",starIcon:"_11MuB",thumb:"K-kNO",blur:"_2sb6A"}},chegeejfcg:function(e,t){e.exports={"-emoji-width":"44px",emojiWidth:"44px",muted:"_3Rs2r",panel:"_2JiCb"}},chfehjfdj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("sticker"!==t.tag(e))return;var n=t.attr("filehash",e);if(!n)return void o.default.error("sticker:parse missing filehash field")();var r={id:n,clientUrl:t.attr("url",e),directPath:t.attr("direct_path",e),mediaKey:t.attr("media_key",e),filehash:n,uploadhash:t.attr("enc_filehash",e),mimetype:t.attr("mimetype",e),width:parseInt(t.attr("width",e),10),height:parseInt(t.attr("height",e),10),size:parseInt(t.attr("size",e),10)};(!r.mimetype||Number.isNaN(r.width)||Number.isNaN(r.height)||Number.isNaN(r.size))&&o.default.error("sticker:parse missing preferred fields: ")(r);return r};var r,a=n("bdiiahhjbe"),o=(r=a)&&r.__esModule?r:{default:r}},chfghiiefb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=g(n("eadfaddcj")),u=g(n("feacbgeaf")),s=g(n("bdiiahhjbe")),l=g(n("beeieigghj")),c=g(n("ceddibdhdb")),f=g(n("bihdhbjih")),d=n("eifaagjjg"),p=n("fabajdgab"),h=n("beadfddidc"),m=n("daichdjff"),b=g(n("gbjefdbgb"));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._msgs=[],this._notifyTimer=new c.default(function(){!function(e){var t={};y(t,e,m.FIELDS.RAW),y(t,e.contentInfo,e.contentFields()),e.mediaBlob&&(t.renderableUrl=e.mediaBlob.url());for(var n=e._msgs,r=n.length,o=0;o<r;o++){var u=a(n[o],2),s=u[0],l=u[1];if(!l){if(s.type!==i.default.MSG_TYPE.CIPHERTEXT){t.mediaStage=_(s,e);for(var c=0;c<m.MSG_SPECIFIC_FIELDS.length;c++){var f=m.MSG_SPECIFIC_FIELDS[c];t[f]=s[m.MEDIA_TO_MSG[f]]}}else{delete t.mediaStage;for(var d=0;d<m.MSG_SPECIFIC_FIELDS.length;d++)delete t[m.MSG_SPECIFIC_FIELDS[d]]}s.mediaData.set(t)}}for(var p=n.length-1;p>=0;p--)n[p][1]&&n.splice(p,1);var h=e._callOnConsolidate;!e._pendingChanges&&h&&(e._callOnConsolidate=null,h.forEach(function(e){e()}));e._saveMedia&&e._saveMedia(e)}(t),function(e){var t={};y(t,e,m.FIELDS.RAW),y(t,e.contentInfo,e.contentFields()),e.mediaBlob&&(t.renderableUrl=e.mediaBlob.url());var n=E(e);e._stickers=e._stickers.filter(function(e){var t=a(e,2);return t[0],!t[1]}),e._stickers.forEach(function(e){var o=a(e,2),i=o[0];o[1],i.mediaData.set(r({},t,{mediaStage:n}))}),e._stickerPacks=e._stickerPacks.filter(function(e){var t=a(e,2);return t[0],!t[1]}),e._stickerPacks.forEach(function(e){var o=a(e,2),i=o[0];o[1],i.mediaData.set(r({},t,{mediaStage:n}))}),!e._pendingChanges&&e._callOnConsolidate&&(e._callOnConsolidate.forEach(function(e){e()}),e._callOnConsolidate=null);e._saveMedia&&e._saveMedia(e)}(t)}),this._uploadAsGif=!1,this._callOnConsolidate=null,this._keyedProcesses=null,this._pendingChangesCount=0,this._saveMedia=null,this._stickers=[],this._stickerPacks=[],this.entries=new d.MediaEntryList,this.downloadStage=m.DOWNLOAD_STAGE.INIT,this.uploadStage=m.UPLOAD_STAGE.INIT,this.userAttemptCount=0,this.mustDownloadMedia=!1,this.downloadPromise=null,this.uploadPromise=null,this.mediaBlob=null,this.size=void 0,this.filehash=void 0,this.contentInfo={}}return o(e,[{key:"consolidate",value:function(e){return!!function(e,t){var n=e.contentInfo,r=!1,a=function(e,t){switch(e){case m.OUTWARD_TYPES.TEMPLATE:if((0,h.shouldEnableHsm)()){if(t===i.default.TEMPLATE_SUBTYPE.IMAGE)return m.TYPE.IMAGE;if(t===i.default.TEMPLATE_SUBTYPE.VIDEO)return m.TYPE.VIDEO;if(t===i.default.TEMPLATE_SUBTYPE.DOCUMENT)return m.TYPE.DOCUMENT}case m.OUTWARD_TYPES.IMAGE:case m.OUTWARD_TYPES.PRODUCT:return m.TYPE.IMAGE;case m.OUTWARD_TYPES.VIDEO:return m.TYPE.VIDEO;case m.OUTWARD_TYPES.STICKER:return m.TYPE.STICKER;case m.OUTWARD_TYPES.AUDIO:case m.OUTWARD_TYPES.PTT:return m.TYPE.AUDIO;case m.OUTWARD_TYPES.DOCUMENT:default:return}}(t.type,t.subtype);a&&!e.type&&(e.type=a,r=!0);var o=t.downloadStage,u=t.uploadStage;o&&o!==e.downloadStage&&(e.downloadStage=o,r=!0);u&&u!==e.uploadStage&&(e.uploadStage=u,r=!0);t.resolvedPreview&&!n.preview&&(t.resolvedPreview.retain(),n.preview=t.resolvedPreview,r=!0);var s=t.mediaBlob;s&&!s.isBlobEqual(e.mediaBlob)&&(e.mediaBlob&&e.clearBlob(),s.retain(),e.mediaBlob=s,e.size=s.size(),r=!0);null!=t.size&&(null==e.size||t.size<e.size)&&(e.size=t.size,r=!0);t.filehash&&!e.filehash&&(e.filehash=t.filehash,r=!0);for(var l=e.contentFields(),c=0;c<l.length;c++){var f=l[c];switch(f){case"preview":t.preview&&!n._preview&&(e.runProcessIfNotRunBefore("preview",j,t.preview),n._preview=t.preview,r=!0);break;case"fullWidth":case"fullHeight":case"aspectRatio":var d=t[f];null!=d&&0!==d&&n[f]!==d&&(n[f]=d,r=!0);break;case"animationDuration":var p=t[f];null!=p&&p!==n[f]&&(n[f]=p,r=!0);break;default:var b=t[f];void 0!==b&&void 0===n[f]&&(n[f]=b,r=!0)}}null!=n.aspectRatio&&0!==n.aspectRatio||(null!=n.fullWidth&&0!==n.fullWidth&&null!=n.fullHeight&&0!==n.fullHeight?(n.aspectRatio=n.fullWidth/n.fullHeight,r=!0):n.preview&&e.runProcessIfNotRunBefore("aspectRatio",O,n.preview));return r}(this,e)&&(this.notifyMsgsAsync(),!0)}},{key:"clearBlob",value:function(){var e=this.mediaBlob;e&&(this.mediaBlob=null,e.autorelease())}},{key:"contentFields",value:function(){return m.FIELDS[this.type||m.TYPE.DOCUMENT]}},{key:"resolveWhenConsolidated",value:function(){var e=this;return this._notifyTimer.ts||this._pendingChanges?new Promise(function(t){e._callOnConsolidate?e._callOnConsolidate.push(t):e._callOnConsolidate=[t]}):Promise.resolve()}},{key:"notifyMsgsAsync",value:function(){this._notifyTimer.debounce(0)}},{key:"addMsg",value:function(e){for(var t=this._msgs,n=0;n<t.length;n++){var r=a(t[n],2),o=r[0],i=r[1];s.default.assert(o!==e||i,"redundant-media-msg")()}t.push([e,!1]),this.notifyMsgsAsync()}},{key:"removeMsg",value:function(e){for(var t=this._msgs,n=!1,r=0;!n&&r<t.length;r++){var o=a(t[r],2),i=o[0],u=o[1];i!==e||u||(t[r][1]=!0,n=!0)}}},{key:"hasAssociatedMsgsOrStickers",value:function(){for(var e=this._msgs,t=0;t<e.length;t++)if(!e[t][1])return!0;return this.hasAssociatedStickers()||this.hasAssociatedStickerPacks()}},{key:"associatedMsgs",value:function(){for(var e=this._msgs,t=[],n=0;n<e.length;n++){var r=a(e[n],2),o=r[0];r[1]||t.push(o)}return t}},{key:"rmr",value:function(){var e=this,t=this.associatedStickers();if(t.length>0)return this.rmrSticker(t[0]).then(function(e){return e.sticker?{status:e.status,url:e.sticker.url,mediaKey:e.sticker.mediaKey}:{status:e.status}});var n=this.associatedStickerPacks();if(n.length>0)return this.rmrStickerPack(n[0]).then(function(e){return e.stickerPack?{status:e.status,url:e.stickerPack.url,mediaKey:e.stickerPack.mediaKey}:{status:e.status}});for(var r=void 0,o=this._msgs,i=0;!r&&i<o.length;i++){var u=a(o[i],2),l=u[0];u[1]||l.isUnsentPhoneMsg()||(r=l)}return s.default.assert(r,"media-fault","rmr called on MediaObject with no msg")(),r?f.default.requestMediaReupload(r).tap(function(t){if(200===t.status&&r){var n=e.entries.updateEntry(t.url,t.mediaKey||r.mediaKey);n&&n.markWhetherOnServer(!0)}}):Promise.reject(new Error("rmr called on MediaObject with no msg"))}},{key:"rmrSticker",value:function(e){var t=this;return s.default.assert(e,"media-fault","rmr called on MediaObject without sticker")(),f.default.mediaUpload("sticker",e.id).tap(function(e){var n=e.sticker;if(200===e.status&&n){t._stickers.forEach(function(e){var t=a(e,2),r=t[0];t[1]||(r.clientUrl=n.url,r.filehash=n.filehash,r.width=n.width,r.height=n.height,r.mediaKey=n.mediaKey,r.directPath=n.directPath,r.uploadhash=n.encFilehash,n.mimetype&&(r.mimetype=n.mimetype))});var r=t.entries.addEntry(n.url,n.mediaKey,n.encFilehash,b.default.STICKER,null,n.directPath);r&&r.markWhetherOnServer(!0)}})}},{key:"rmrStickerPack",value:function(e){var t=this;return s.default.assert(e,"media-fault","rmr called on MediaObject without stickerPack")(),f.default.mediaUpload("sticker-pack",e.id).tap(function(e){var n=e.stickerPack;if(200===e.status&&n){t._stickerPacks.forEach(function(e){var t=a(e,2),r=t[0];t[1]||(r.url=n.url,r.filehash=n.filehash,r.mediaKey=n.mediaKey,r.directPath=n.directPath,r.uploadhash=n.encFilehash,n.mimetype&&(r.mimetype=n.mimetype))});var r=t.entries.addEntry(n.url,n.mediaKey,n.encFilehash,b.default.IMAGE,null,n.directPath);r&&r.markWhetherOnServer(!0)}})}},{key:"msgProps",value:function(e){var t={};y(t,this,m.FIELDS.RAW),y(t,this.contentInfo,this.contentFields()),y(t,e,m.MSG_SPECIFIC_FIELDS),t.preview=this.contentInfo._preview;var n={};for(var r in t){var a=m.MEDIA_TO_MSG[r];a&&(n[a]=t[r])}return n}},{key:"uploadType",value:function(){switch(this.type){case m.TYPE.VIDEO:return this._uploadAsGif?m.UPLOAD_TYPE.GIF:m.UPLOAD_TYPE.VIDEO;case m.TYPE.IMAGE:case m.TYPE.PRODUCT:return m.UPLOAD_TYPE.IMAGE;case m.TYPE.AUDIO:return m.UPLOAD_TYPE.AUDIO;default:return m.UPLOAD_TYPE.DOCUMENT}}},{key:"delete",value:function(){this._saveMedia=null,this.downloadPromise&&this.downloadPromise.control.waitForPoke(),this.uploadPromise&&this.uploadPromise.control.cancel(),this.clearBlob()}},{key:"runProcessIfNotRunBefore",value:function(e,t,n){var r=this,a=this._keyedProcesses;a||(a=this._keyedProcesses={}),a.hasOwnProperty(e)||(this._pendingChangesCount++,a[e]=Promise.resolve(n).then(t).then(function(e){r.consolidate(e)}).finally(function(){r._pendingChangesCount--,0===r._pendingChangesCount&&r.notifyMsgsAsync()}))}},{key:"getPendingProcess",value:function(e){return 0!==this._pendingChangesCount&&this._keyedProcesses&&this._keyedProcesses.hasOwnProperty(e)?this._keyedProcesses[e]:Promise.resolve()}},{key:"videoStreamingInfo",value:function(e){var t=this;if(this.type!==m.TYPE.VIDEO)return s.default.assert(!1,"media-fault",`media streaming info request for non-video type: ${String(this.type)}`)(),null;var n=this.entries.getDownloadEntry();return n&&n.sidecar?Promise.all([(0,u.default)(b.default.VIDEO,n.mediaKey),n.url()]).then(function(o){var i=a(o,2),u=i[0],s=i[1];return{cryptoKeys:r({},u,{cipherKey:u.encKey,sidecar:n.sidecar}),streamData:{clientUrl:s,size:t.size,msgKey:e}}}):null}},{key:"addStickerPack",value:function(e){for(var t=this._stickerPacks,n=0;n<t.length;n++){var r=a(t[n],2),o=r[0],i=r[1];s.default.assert(o!==e||i,"redundant-sticker-pack-add")()}t.push([e,!1]),this.notifyMsgsAsync()}},{key:"addSticker",value:function(e){for(var t=this._stickers,n=0;n<t.length;n++){var r=a(t[n],2),o=r[0],i=r[1];s.default.assert(o!==e||i,"redundant-sticker-add")()}t.push([e,!1]),this.notifyMsgsAsync()}},{key:"removeSticker",value:function(e){for(var t=this._stickers,n=!1,r=0;!n&&r<t.length;r++){var o=a(t[r],2),i=o[0],u=o[1];i!==e||u||(t[r][1]=!0,n=!0)}}},{key:"removeStickerPack",value:function(e){for(var t=this._stickerPacks,n=!1,r=0;!n&&r<t.length;r++){var o=a(t[r],2),i=o[0],u=o[1];i!==e||u||(t[r][1]=!0,n=!0)}}},{key:"hasAssociatedStickers",value:function(){return this._stickers.some(function(e){var t=a(e,2);t[0];return!t[1]})}},{key:"hasAssociatedStickerPacks",value:function(){return this._stickerPacks.some(function(e){var t=a(e,2);t[0];return!t[1]})}},{key:"associatedStickers",value:function(){return this._stickers.reduce(function(e,t){var n=a(t,2),r=n[0];return n[1]?e:e.concat(r)},[])}},{key:"associatedStickerPacks",value:function(){return this._stickerPacks.reduce(function(e,t){var n=a(t,2),r=n[0];return n[1]?e:e.concat(r)},[])}},{key:"toJSON",value:function(){return{mediaBlob:this.mediaBlob,size:this.size,filehash:this.filehash,type:this.type,contentInfo:this.contentInfo,downloadStage:this.downloadStage,uploadStage:this.uploadStage}}}]),e}();function y(e,t,n){for(var r=0;r<n.length;r++){var a=n[r];e[a]=t[a]}}function _(e,t){return t.filehash?e.id.fromMe&&e.ack<1?(s.default.assert(e.local,"media-fault","unsent media system message not local")(),function(e){switch(e.uploadStage){case m.UPLOAD_STAGE.INIT:case m.UPLOAD_STAGE.PREPARING:return m.STAGE.PREPARING;case m.UPLOAD_STAGE.UPLOADING:return m.STAGE.UPLOADING;case m.UPLOAD_STAGE.NEED_UPLOAD:return m.STAGE.NEED_UPLOAD;case m.UPLOAD_STAGE.ERROR_MISSING:return m.STAGE.ERROR_MISSING;case m.UPLOAD_STAGE.ERROR_TOO_LARGE:return m.STAGE.ERROR_TOO_LARGE;case m.UPLOAD_STAGE.UPLOADED:return m.STAGE.SENDING}}(t)):E(t):m.STAGE.PREPARING}function E(e){switch(e.downloadStage){case m.DOWNLOAD_STAGE.INIT:return m.STAGE.INIT;case m.DOWNLOAD_STAGE.PREPARING:return m.STAGE.PREPARING;case m.DOWNLOAD_STAGE.REUPLOADING:return m.STAGE.REUPLOADING;case m.DOWNLOAD_STAGE.FETCHING:return m.STAGE.FETCHING;case m.DOWNLOAD_STAGE.PROCESSING:return m.STAGE.DECRYPTING;case m.DOWNLOAD_STAGE.NEED_POKE:return m.STAGE.NEED_POKE;case m.DOWNLOAD_STAGE.ERROR_MISSING:return m.STAGE.ERROR_MISSING;case m.DOWNLOAD_STAGE.ERROR_UNSUPPORTED:return m.STAGE.ERROR_UNSUPPORTED;case m.DOWNLOAD_STAGE.RESOLVED:return m.STAGE.RESOLVED}}function j(e){return l.default.createFromBase64Jpeg(e).then(function(e){return e.autorelease(),{resolvedPreview:e}})}function O(e){return(0,p.getImageWidthHeight)(e).then(function(e){return{aspectRatio:e.width/e.height}})}t.default=v},chgafjbahd:function(e,t){e.exports={muted:"wlceo",container:"Drque",quotedMsg:"_2HTIU",statusV3QuotedMsg:"_7Q1c5",composeBoxQuotedMsg:"_2I-yY",hover:"_1W7nH",colorBar:"_1dvF4",msgBody:"_3LVMN",msgText:"SdGy6",quotedPaymentMsg:"zPdFn"}},chgdeiebag:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a.default.globalUnixTime()+r.default.mmsMediaKeyTTL+Math.floor(86400*Math.random())};var r=o(n("bfgbdiffgd")),a=o(n("bjebjijbfc"));function o(e){return e&&e.__esModule?e:{default:e}}},chghbbjidc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.getBefore=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(!a.default.supportsFeature(a.default.F.MODEL_STORAGE))return Promise.resolve({messages:[],remaining:t});return u.default.lock(["meta-message-island","message-island"],function(n){var a=r(n,2),i=a[0],u=a[1];return function(e,t){return e.equals(["messages"],t.toString()).then(function(e){return e.length?e[0]:null})}(u,e).then(function(n){if(!n)return{messages:[],remaining:t};var r=n.messages.findIndex(function(t){return t===e.toString()});if(-1===r)return o.default.error(`MessageIsland was found via message ${e.toString()}, but message not found in island.messages array`)(),{messages:[],remaining:t};var a=n.messages.slice(0,r),s=t-a.length;return 0===s?{messages:a,remaining:s}:i.get(n.parent).then(function(e){if(!e)return o.default.error("MetaMessageIsland for island.parent was not found")(),{messages:a,remaining:s};var t=e.islands.findIndex(function(e){return e===n.id});return t<=0?{messages:a,remaining:s}:function e(t,n,r,a,o){var i=n[r];return t.get(i).then(function(i){return i?o<=i.messages.length?{messages:i.messages.slice(-o).concat(a),remaining:0}:r>0?e(t,n,r-1,i.messages.concat(a),o-i.messages.length):{messages:i.messages.concat(a),remaining:o-i.messages.length}:{messages:a,remaining:o}})}(u,e.islands,t-1,a,s)})})}).then(function(e){var t=e.messages,n=e.remaining;return i.Message.bulkGet(t).then(function(e){return{remaining:n,messages:e.filter(function(e,n){return!!e||(o.default.error(`getBefore: cannot find msg ${t[n]} locally`)(),!1)})}})})};var a=s(n("ccaaiecfib")),o=s(n("bdiiahhjbe")),i=n("cefcddgdgg"),u=s(n("ffjiicch"));function s(e){return e&&e.__esModule?e:{default:e}}},chghgadcbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=s(a),i=s(n("bhggeigghg")),u=s(n("jccfhaecf"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,a.prop)(),l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"contact",value:function(){return i.default.Contact.gadd(this.id)}}]),t}();c.Collection="Blocklist",c.Proxy="blocklist",c.idClass=u.default,t.default=(0,a.defineModel)(c)},chhcagejdh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n("bhaghghai")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=g(n("ceffhbhahb")),u=g(n("dfgeejdaib")),s=g(n("cjiiehdbge")),l=n("ccgdfaeibd"),c=g(n("bfdcadbbif")),f=g(n("eceadcicaf")),d=n("ejbdjaifi"),p=g(n("cdcbgdeab")),h=g(n("dhfbfehaef")),m=n("ddajbaceej"),b=n("bgddggdhc");function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E={RIGHT:"RIGHT",LEFT:"LEFT"},j=4,O=function(e){function t(){var e,n,r;v(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={curIndex:0,direction:E.RIGHT},r.msgLength=0,r.starredPreviewRef={},r.selectionIndex=0,r.onSlideLeft=function(){return r.hasLeft()?new Promise(function(e){r.setState({curIndex:r.state.curIndex-1,direction:E.LEFT},function(){e(!0)})}):Promise.resolve(!1)},r.onSlideRight=function(){return r.hasRight()?new Promise(function(e){r.setState({curIndex:r.state.curIndex+1,direction:E.RIGHT},function(){e(!0)})}):Promise.resolve(!1)},r.setRef=function(e){r._ref=e},r.hasRight=function(){return r.state.curIndex+j<r.msgLength},r.hasLeft=function(){return r.state.curIndex>0},r.handleLeftArrow=function(e){r.onSlideLeft().then(function(t){r.selectionIndex=t?r.selectionIndex:r.selectionIndex-1,r.selectionIndex<0?r.stopEvent(e):(r.stopEvent(e),r.focusStarredGif())})},r.handleRightArrow=function(e){r.onSlideRight().then(function(t){r.selectionIndex=t?r.selectionIndex-1:r.selectionIndex;var n=Object.keys(r.starredPreviewRef).length;if(r.selectionIndex<3&&r.selectionIndex<n-1)r.selectionIndex=r.selectionIndex+1;else{if(!r.hasRight())return void r.stopEvent(e);r.selectionIndex=3}r.stopEvent(e),r.focusStarredGif()})},r.stopEvent=function(e){e&&(e.preventDefault(),e.stopPropagation())},r.handleEnter=function(e){r.stopEvent(e),r.starredPreviewRef[r.selectionIndex].component._gifRef.handleClick()},r.focusStarredGif=function(){var e=(0,b.forbiddenAssertDOMNode)(r.starredPreviewRef[r.selectionIndex]);e&&(0,m.focus)(e)},r.initSelection=function(){r.selectionIndex=0,r.focusStarredGif()},y(r,n)}return _(t,o.Component),a(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=u.default;this.props.listeners.add(t,"add remove reset",function(){e.forceUpdate()}),t.isSynced||t.sync()}},{key:"getClientHeight",value:function(){return this._ref&&this._ref.clientHeight}},{key:"hasGifs",value:function(){return Boolean(this._ref&&this._ref.childNodes.length)}},{key:"isStarredGif",value:function(e){return!!e&&(!!this._ref&&this._ref.contains(e))}},{key:"render",value:function(){var e=this,t={left:this.handleLeftArrow,right:this.handleRightArrow,enter:this.handleEnter},n=(0,r.default)(u.default.toArray(),"filehash");if(this.msgLength=n.length,0===n.length)return o.createElement("div",null);if(n.length<=j){var a=0,f=n.map(function(t,n){return a+=Math.round(t.mediaData.aspectRatio*l.TARGET_GIF_HEIGHT),o.createElement(s.default,{key:t.filehash,ref:function(t){return e.starredPreviewRef[n]=t},msg:t,onSend:e.props.onSend})});return a+=(f.length-1)*l.GAP_SIZE,o.createElement(h.default,{className:p.default.section,handlers:t},o.createElement("div",{ref:this.setRef,className:p.default.searchRow,style:{maxWidth:`${a}px`}},f))}var d=this.hasLeft(),m=this.hasRight(),b=d?this.onSlideLeft:null,g=m?this.onSlideRight:null,v=(0,i.default)(p.default.pager,p.default.pagerLeft,{[p.default.pagerDisabled]:!d}),y=(0,i.default)(p.default.pager,p.default.pagerRight,{[p.default.pagerDisabled]:!m}),_=o.createElement("div",{className:v,onClick:b},o.createElement(c.default,{name:"chevron-left-alt"})),E=o.createElement("div",{className:y,onClick:g},o.createElement(c.default,{name:"chevron-right-alt"})),O=n.slice(this.state.curIndex,this.state.curIndex+j).map(function(t,n){return o.createElement(s.default,{key:t.filehash,ref:function(t){return e.starredPreviewRef[n]=t},msg:t,onSend:e.props.onSend})});return o.createElement("div",{className:p.default.section},o.createElement(h.default,{onRef:this.setRef,className:p.default.searchRow,handlers:t},_,o.createElement("div",{className:p.default.body},O),E))}}]),t}();O.displayName="StarredGifs";var S=function(e){function t(){return v(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,(0,f.default)((0,d.hoc)(O))),a(t,[{key:"getClientHeight",value:function(){return this.getComponent().getClientHeight()}},{key:"hasGifs",value:function(){return this.getComponent().hasGifs()}},{key:"isStarredGif",value:function(e){return this.getComponent().isStarredGif(e)}}]),t}();t.default=S},chihfebbce:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=void 0;var r=y(n("eabbadcaee")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=y(n("dbdfbgehgj")),i=y(n("gbfffciea")),u=y(n("eadfaddcj")),s=y(n("dhigahgdjb")),l=y(n("cijheiibhg")),c=y(n("cccehdaiaf")),f=y(n("bdiiahhjbe")),d=y(n("bfbggcdbfb")),p=y(n("bjdjjaiejj")),h=y(n("biecbbiiee")),m=n("dcdiaahjj"),b=y(m),g=y(n("egjjcjcg")),v=n("bcjidabgad");function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(){return Math.floor(window.performance.now())}var j=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.timings={},e.data={webcPersistentLoginEnabled:!1,webcQrCodes:0,webcSyncMessageCount:0,webcSyncMessageSize:0},window.performance&&window.performance.now?g.default.knowsPhone()?(e.listenToOnce(i.default,"logout",e.init),_(e)):(e.init(),e):_(e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),a(t,[{key:"init",value:function(){this.timings.startSync=b.default.lastSyncStart,this.listenTo(b.default,"change:mode",this.changeStreamMode),this.listenTo(o.default,u.default.COLLECTION_HAS_SYNCED,this.onChatSync),this.listenTo(s.default,u.default.COLLECTION_HAS_SYNCED,this.onContactSync),this.listenTo(h.default,u.default.COLLECTION_HAS_SYNCED,this.onMsgSync),this.listenTo(h.default,"handle:msg_history",this.onMsgHistory)}},{key:"changeStreamMode",value:function(){b.default.mode===m.StreamMode.SYNCING&&(this.timings.startSync=E(),this.data.webcPersistentLoginEnabled=g.default.getRememberMe()),b.default.mode===m.StreamMode.MAIN&&(this.timings.endSync=E(),this.maybeLogToWam())}},{key:"onChatSync",value:function(e){null!=e.timing?this.data.webcSyncChatT=e.timing:this.timings.chatSync=E(),this.data.webcSyncChatCount=e.count,this.data.webcSyncChatSize=e.binarySize,this.maybeLogToWam()}},{key:"onMsgSync",value:function(e){e&&(this.timings.msgSync=E(),this.data.webcSyncMessageCount+=e.count,this.data.webcSyncMessageSize+=e.binarySize),this.maybeLogToWam()}},{key:"onContactSync",value:function(e){null!=e.timing?this.data.webcSyncContactT=e.timing:this.timings.contactSync=E(),this.data.webcSyncContactCount=e.count,this.data.webcSyncContactSize=e.binarySize,this.maybeLogToWam()}},{key:"onMsgHistory",value:function(e){this.data.webcSyncMessageSize+=e.binarySize,this.data.webcSyncMessageCount+=e.count,this.timings.msgSync&&(this.timings.msgSync=E())}},{key:"maybeLogToWam",value:function(){var e=this,t=this.timings,n=t.contactSync,a=t.msgSync,o=t.chatSync,i=(0,r.default)(o||this.data.webcSyncChatT),u=(0,r.default)(n||this.data.webcSyncContactT),s=(0,r.default)(a);i&&u&&s&&(this._commitPromise||(this._commitPromise=(0,l.default)().then(function(t){return e._commitEvent(t)}).catch(function(t){f.default.error("wam:Error comitting login event")(t,e.data)}).finally(function(){return e.reset()})))}},{key:"_commitEvent",value:function(e){var t=this.timings,n=t.startSync,a=t.endSync,o=t.contactSync,i=t.msgSync,u=t.chatSync,s=p.default.initialDisplayDate;null!=s&&0!==s&&(0,r.default)(s)&&(0,r.default)(n)&&(0,r.default)(a)?(this.data.webcQrLoadT=s,this.data.webcQrCodes=p.default.get(),this.data.webcLoginT=n-s,this.data.webcSyncT=a-n,this.data.webcSyncMessageT=i-n,this.data.webcSyncChatT||(this.data.webcSyncChatT=u-n),this.data.webcSyncContactT||(this.data.webcSyncContactT=o-n),this.data.webcBrowserNetworkType=(0,v.getEffectiveNetworkType)(),e&&(this.data.webcBrowserStorageQuotaBytes=e.quota,this.data.webcBrowserStorageQuotaUsedBytes=e.usage),new d.default.WebcLogin(this.data).commit()):f.default.error("One or more of the login timings was not logged: ")(this.timings)}},{key:"reset",value:function(){this.stopListening(),this.data={webcPersistentLoginEnabled:!1,webcQrCodes:0,webcSyncMessageCount:0,webcSyncMessageSize:0},this.timings={},this._commitPromise=void 0,this.listenToOnce(i.default,"logout",this.init)}}]),t}();t.initialize=function(){return new j}},chjchbjied:function(e,t){e.exports={muted:"_1AsLo",quote:"_2FaAB",hasAuthor:"woe4f",forwarded:"_3mOLI",hasSuspiciousLinks:"_2UjxI",linkPreview:"NB3Gq",meta:"_1sfgn",title:"KfTPt",footer:"_3Pggp"}},chjdbchg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=A(n("ddhijeejag")),o=A(n("cajijabhgb")),i=T(n("dhbceejbjg")),u=T(n("gbfffciea")),s=T(n("dhhfaeacef")),l=T(n("djcchigfih")),c=T(n("djbhiedbef")),f=T(n("cabhjigfgc")),d=n("dajffajabh"),p=T(d),h=T(n("fifhbjiec")),m=T(n("bhedcifgbg")),b=T(n("fffdgbfji")),g=T(n("bjbedjfe")),v=T(n("cccgaejadd")),y=T(n("ihfccfgdf")),_=T(n("cehhcbdgih")),E=T(n("bfdcadbbif")),j=n("bfjajhbdf"),O=T(j),S=n("ejbdjaifi"),w=n("cicgeajfge"),P=n("ddjgcfjicj"),M=n("bejbgaghc"),C=n("eagfdbhhhh");function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var k={LOADING:0,REVOKING:1,SUCCESS:2},I=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,d=Array(l),p=0;p<l;p++)d[p]=arguments[p];return n=r=N(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),r.state={state:k.LOADING},r.getErrorMessageFromStatusCode=function(e){switch(e){case 401:return b.default.t(493);case 403:return b.default.t(494);case 404:return b.default.t(495);default:return b.default.t(496)}},r.handleLoadingErrorStatusCode=function(e){var t=r.getErrorMessageFromStatusCode(e);r.props.onBack(),u.default.openToast(a.createElement(O.default,{msg:t,id:(0,j.genId)()}))},r.handleRevokeGroupInvite=function(){u.default.openModal(a.createElement(m.default,{pushTransition:"none",popTransition:"none",chat:r.props.chat,onConfirm:r.handleConfirmRevokeGroupInvite}),{transition:"modal-flow"})},r.handleRevokingErrorStatusCode=function(e){var t=r.getErrorMessageFromStatusCode(e);r.props.onBack(),u.default.openToast(a.createElement(O.default,{msg:t,id:(0,j.genId)()}))},r.handleConfirmRevokeGroupInvite=function(){r.setState({state:k.REVOKING});var e=(0,M.revokeGroupInvite)(r.props.groupMetadata);Promise.delay(500).then(function(){return e}).checkpoint(r.props.rejectOnUnmount()).then(function(){u.default.openToast(a.createElement(O.default,{msg:b.default.t(501),id:(0,j.genId)()})),r.setState({state:k.SUCCESS})}).catch(P.ServerStatusCodeError,function(e){r.handleRevokingErrorStatusCode(e.code)}).catch(o.Unmount,function(){})},r.handleSendGroupInviteLink=function(){u.default.openModal(a.createElement(v.default,{chat:r.props.chat,pushTransition:"none",popTransition:"none"}),{transition:"modal-flow"})},r.handleClickGroupInviteLinkCapture=function(e){e.preventDefault(),e.stopPropagation()},r.handleCopyLink=function(){window.getSelection().removeAllRanges();var e=document.querySelector("#group-invite-link-anchor"),t=document.createRange();e&&t.selectNode(e),window.getSelection().addRange(t);var n=void 0;try{n=document.execCommand("copy"),window.getSelection().removeAllRanges()}catch(e){n=!1}n?u.default.openToast(a.createElement(O.default,{msg:b.default.t(490),id:(0,j.genId)()})):u.default.openToast(a.createElement(O.default,{msg:b.default.t(489),id:(0,j.genId)()}))},r.renderDrawerBody=function(){var e=r.props.groupMetadata,t=void 0;if(r.state.state===k.LOADING)t=a.createElement(w.LoadingWithText,{text:b.default.t(481)});else if(r.state.state===k.REVOKING)t=a.createElement(w.LoadingWithText,{text:b.default.t(500,{groupName:r.props.chat.contact.name})});else{var n=e.groupInviteLink,o=null;document.queryCommandSupported("copy")&&(o=a.createElement(f.default,{a8nText:"li-copy-link",icon:a.createElement(E.default,{name:"copy",className:_.default.icon}),onClick:r.handleCopyLink},b.default.t(484)));var u=a.createElement(s.default,{id:r.props.chat.id,size:82,quality:s.default.Quality.HIGH}),l=a.createElement("span",{className:_.default.linkContainer},a.createElement(C.SelectableLink,{id:"group-invite-link-anchor",href:n,selectable:!0},n));t=a.createElement(c.default,null,a.createElement(i.default,{image:u,primary:a.createElement(h.default,{text:r.props.chat.contact.name,direction:"auto"}),theme:"identity",secondary:l}),a.createElement("div",{className:_.default.descContainer},b.default.t(491)),a.createElement(f.default,{a8nText:"li-share-link",icon:a.createElement(E.default,{name:"forward",className:_.default.icon}),onClick:r.handleSendGroupInviteLink},b.default.t(486)),o,a.createElement(f.default,{a8nText:"li-revoke-link",icon:a.createElement(E.default,{name:"revoke",className:_.default.icon}),onClick:r.handleRevokeGroupInvite},b.default.t(485)))}return t},N(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;(0,M.queryGroupInviteCode)(this.props.groupMetadata).checkpoint(this.props.rejectOnUnmount()).then(function(){e.setState({state:k.SUCCESS})}).catch(P.ServerStatusCodeError,function(t){e.handleLoadingErrorStatusCode(t.code)}).catch(o.Unmount,function(){})}},{key:"render",value:function(){return a.createElement(l.default,null,a.createElement(p.default,{title:b.default.t(488),onBack:this.props.onBack,type:d.DRAWER_HEADER_TYPE.SMALL}),this.renderDrawerBody())}}]),t}();I.CONCERNS={groupMetadata:["inviteCode","groupInviteLink"]},I.displayName="GroupInviteLinkDrawer",t.default=(0,g.default)((0,y.default)((0,S.hoc)(I),I.CONCERNS))},chjfbhjejb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift();return(0,o.default)(t)};var r,a=n("bbehjhfdfe"),o=(r=a)&&r.__esModule?r:{default:r}},chjjhigbaj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendSpamReport=function(e){var t=void 0;t=a.default.supportsFeature(a.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):i.default.sendSpamReport(e.id).then(function(e){if(200!==e.status)throw new r.ServerStatusCodeError(e.status)});return t},t.sendNotSpam=function(e){var t=void 0;t=a.default.supportsFeature(a.default.F.MD_BACKEND)?Promise.resolve():i.default.sendConversationNotSpam(e.id).then(function(e){if(200!==e.status)throw new r.ServerStatusCodeError(e.status)});return t.then(function(){return a.default.supportsFeature(a.default.F.MODEL_STORAGE)?o.Chat.merge(e.id.toString(),{notSpam:!0}):Promise.resolve()})};var r=n("ddjgcfjicj"),a=u(n("ccaaiecfib")),o=n("cefcddgdgg"),i=u(n("bihdhbjih"));function u(e){return e&&e.__esModule?e:{default:e}}},ciaidfgabf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("ceffhbhahb")),o=u(n("fffdgbfji")),i=u(n("bacfgbeffc"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=o.default.isRTL()?-1:1,n=-1===e.selectedTabIndex?-2:e.selectedTabIndex,u={width:`${100/e.numTabs}%`,transform:`translateX(${100*n*t}%)`};return r.createElement("div",{className:(0,a.default)(i.default.menuTabsMarker,{[i.default.hide]:e.hide}),style:u})}s.displayName="MenuTabMarker"},ciajafaaie:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isParsableOnlineVideoURL=function(e,t){if(!r.default.supportsFeature(r.default.F.VIDEO_PLAYBACK_URL))return!1;if(e===o.EXTENDED_TEXT_MESSAGE_PREVIEWTYPE.VIDEO&&t){var n=u.default.hostname(t);if(n===i.default.HOSTNAME.INSTAGRAM||n===i.default.HOSTNAME.STREAMABLE||n===i.default.HOSTNAME.FACEBOOK)return!0}if(t)for(var s in a.URL_PATTERNS.ONLINE_VIDEO_URL)for(var l=a.URL_PATTERNS.ONLINE_VIDEO_URL[s],c=0;c<l.length;c++)if(l[c].test(t))return!0;return!1};var r=s(n("ccaaiecfib")),a=n("cgecdbiihg"),o=n("bgiachiigg"),i=s(n("eadfaddcj")),u=s(n("edbaidcaf"));function s(e){return e&&e.__esModule?e:{default:e}}},cibcaiabfd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("ceffhbhahb")),i=m(n("bdiiahhjbe")),u=m(n("ihfccfgdf")),s=n("ejbdjaifi"),l=m(n("bfdcadbbif")),c=m(n("bdgdgicfaf")),f=m(n("eadfaddcj")),d=n("cicjibbhdb"),p=m(n("ccaaiecfib")),h=m(n("eceadcicaf"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.updateAfterFeatureFlagChange=function(){r.forceUpdate()},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(p.default,p.default.FEATURE_CHANGE_EVENT,this.updateAfterFeatureFlagChange)}},{key:"render",value:function(){var e=this.props.msg,t=void 0;switch(e.type){case f.default.MSG_TYPE.VIDEO:case f.default.MSG_TYPE.AUDIO:case f.default.MSG_TYPE.VCARD:case f.default.MSG_TYPE.MULTI_VCARD:case f.default.MSG_TYPE.DOCUMENT:case f.default.MSG_TYPE.CIPHERTEXT:case f.default.MSG_TYPE.UNKNOWN:case f.default.MSG_TYPE.IMAGE:t=e.isGif?"status-gif":{video:"status-video",audio:"status-audio",vcard:"status-vcard",multi_vcard:"status-vcard",document:"status-document",ciphertext:"status-ciphertext",unknown:"status-unknown",image:"status-image"}[e.type];break;case f.default.MSG_TYPE.PRODUCT:t=p.default.supportsFeature(p.default.F.CATALOG)?"business-description":"status-unknown";break;case f.default.MSG_TYPE.STICKER:t="status-sticker";break;case f.default.MSG_TYPE.CALL_LOG:switch(e.subtype){case"miss_video":case"miss_group_video":t="status-miss_video";break;default:t="status-miss"}break;case f.default.MSG_TYPE.PTT:t=4===e.ack?"status-ptt-blue":e.isSentByMe?"status-ptt-gray":"status-ptt-green";break;case f.default.MSG_TYPE.REVOKED:t="recalled-in";break;case f.default.MSG_TYPE.LOCATION:t=e.isLive?(0,d.liveLocationIcon)(!1):"status-location";break;case f.default.MSG_TYPE.GROUPS_V4_INVITE:t=p.default.supportsFeature(p.default.F.GROUPS_V_4_JOIN_PERMISSION)?"group":"status-unknown";break;case f.default.MSG_TYPE.PAYMENT:switch(e.subtype){case"send":t="status-document";break;case"ciphertext":t="status-ciphertext";break;case"futureproof":default:t="status-unknown"}break;case f.default.MSG_TYPE.TEMPLATE:switch(e.subtype){case f.default.TEMPLATE_SUBTYPE.IMAGE:t="status-image";break;case f.default.TEMPLATE_SUBTYPE.VIDEO:t="status-video";break;case f.default.TEMPLATE_SUBTYPE.DOCUMENT:t="status-document";break;case f.default.TEMPLATE_SUBTYPE.LOCATION:t="status-location";break;default:t="status-unknown"}break;default:t="status-unknown",i.default.log(`chat:getClasses Invalid msg type:"${e.type}"`)()}var n=(0,o.default)(c.default.symbol,t,e.isRevoked?null:c.default.margin);return a.createElement("div",{className:n},a.createElement(l.default,{name:t}))}}]),t}();g.CONCERNS={msg:["ack","isGif","isLive","type","subtype","isRevoked","isSentByMe"]},g.displayName="MsgSymbol",t.default=(0,h.default)((0,u.default)((0,s.hoc)(g),g.CONCERNS))},cicabfhdbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiSuggestionsPanelComponent=t.EMOJI_WIDTH=void 0;var r=w(n("dbafiicfja")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=w(n("gbfffciea")),i=w(n("djegeegcbf")),u=w(n("fifhbjiec")),s=w(n("bggjbiacd")),l=w(n("dfbhcehadj")),c=w(n("dhfbfehaef")),f=w(n("eceadcicaf")),d=w(n("bhhdeihhhf")),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),h=n("bgddggdhc"),m=w(n("fbjjefaic")),b=n("ejbdjaifi"),g=w(n("caffijjhc")),v=w(n("dadidajbgf")),y=w(n("dcjdgceiej")),_=n("gaifbabbj"),E=n("dbgdaechch"),j=n("eecehffbj"),O=w(n("bfejacaeaj")),S=w(n("chegeejfcg"));function w(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var M=t.EMOJI_WIDTH=parseInt(S.default["-emoji-width"].replace(/px$/,""),10),C=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var f=arguments.length,h=Array(f),m=0;m<f;m++)h[m]=arguments[m];return n=a=P(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(h))),a.state={selectedIndex:0,skinTonePicker:null},a.emojiList=null,a.rowLength=0,a.windowResized=function(){var e=a.getEmojiRowLength();if(a.rowLength!==e){a.rowLength=e;var t=a.state.selectedIndex>=e?e-1:a.state.selectedIndex;a.setState({selectedIndex:t})}},a.onEmojiClick=function(e){if(T(e),e.target instanceof HTMLElement){var t=e.target.dataset.unicode;if(t)if(i.default.skinToneEmojis[t]){var n=a.getEmojiVariant(t);n?a.onEmoji(n):a.onContextMenu(e)}else a.onEmoji(t)}},a.onEmojiMouseDown=function(e){if(T(e),e.target instanceof HTMLElement){var t=e.target.dataset.unicode;t&&i.default.skinToneEmojis[t]&&a.startPickerTimer(e)}},a.onEmoji=function(e){a.props.onEmoji(e),a.releaseFocus()},a.releaseFocus=function(){a.props.onFocusRelease&&a.props.onFocusRelease()},a.getEmojiVariant=function(e){return i.default.skinToneEmojis[e]?l.default.getVariant(e):null},a.setEmojiVariant=function(e,t,n){T(e),a.onEmoji(n),l.default.setVariant(t,n);var r=a.context.uim;return r&&(r.pop(!1,!1),r.uie.requestDismiss()),!1},a.onContextMenu=function(e){if(T(e),e.target instanceof HTMLElement){var t=e.target.dataset.unicode;t&&i.default.skinToneEmojis[t]&&a._onContextMenu(t,e.target)}},a._onContextMenu=function(e,t,n){a.clearPickerTimer();var r=i.default.skinToneEmojis[e],o=j.SKIN_TONE_VARIATIONS.map(function(t){var n=i.default.variantToUnicode(r,t);return p.createElement(d.default,{type:"emoji",key:n,a8n:"mi-emoji-variant",action:function(t){return a.setEmojiVariant(t,e,n)}},p.createElement(u.default,{text:n,formatters:_.Configuration.LargeEmojiOnly(),tabIndex:"-1"}))});a.setState({skinTonePicker:{menu:o,anchor:t,type:"picker",dirX:E.DirX.RIGHT,dirY:E.DirY.TOP,horizontal:!0,autoFocus:n}},function(){var e=a.props.onSkinTonePicker;e&&e(!0)})},a.closeSkinTonePicker=function(){a.setState({skinTonePicker:null},function(){var e=a.props.onSkinTonePicker;e&&e(!1)})},a.clearPickerTimer=function(){null!=a.pickerTimer&&(a.props.clearTimeout(a.pickerTimer),a.pickerTimer=null)},a.startPickerTimer=function(e){T(e),a.clearPickerTimer();var t=e.target;if(t instanceof HTMLElement){var n=t.dataset.unicode;a.pickerTimer=a.props.setTimeout(function(){a.props.listeners.addOnce(o.default,"window_click",T),a._onContextMenu(n,t)},250),a.props.listeners.addOnce(window,"mouseup",a.clearPickerTimer,!0)}},a.getEmojiRowLength=function(){var e=a.emojiPanel&&a.emojiPanel.offsetWidth;return null==e?8:Math.floor(e/M)},a.onEmojiArrowLeft=function(e){a.onEmojiArrow(e,"left")},a.onEmojiArrowRight=function(e){a.onEmojiArrow(e,"right")},a.onEmojiArrow=function(e,t){if(T(e),e.target instanceof HTMLElement){var n=e.target.dataset.emojiIndex;if(n){n=Number(n);var r=a.props.emojiList,o=n;switch(t){case"left":n>0&&(o=n-1);break;case"right":if(n+1>=r.length)return;o=n+1}a.setState({selectedIndex:o})}}},a.renderEmojiList=function(e){var t=e,n=a.getEmojiRowLength();t&&t.length>n&&(t=t.slice(0,n));var o=(0,r.default)(t,function(e,t){var n=i.default.getUnicodeFromEmoji(e),r=a.getEmojiVariant(n),o=a.state.selectedIndex===t&&!a.state.skinTonePicker;return p.createElement(s.default,{element:"span",emoji:r||n,size:"large",key:n,"data-unicode":n,"data-variant":r,tabIndex:"-1","data-emoji-index":t,selected:o})});return p.createElement(c.default,{onMouseDown:a.onEmojiMouseDown,onClick:a.onEmojiClick,onContextMenu:a.onContextMenu},p.createElement("div",{className:S.default.panel,ref:(0,b.GetRef)("emojis",a)},o))},a.onEmojiEnter=function(e){if(T(e),e.target instanceof HTMLElement){var t=e.target.dataset.emojiIndex;if(t&&a.props.emojiList){var n=a.props.emojiList[Number(t)],r=i.default.getUnicodeFromEmoji(n);a.keyboardSelectEmoji(e,r)}}},a.keyboardSelectEmoji=function(e,t){if(i.default.skinToneEmojis[t]){var n=a.getEmojiVariant(t);if(n)a.onEmoji(n);else{if(T(e),!(e.target instanceof HTMLElement))return;a._onContextMenu(t,e.target,!0)}}else a.onEmoji(t)},P(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.Component),a(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=Math.min(this.state.selectedIndex,e.emojiList.length-1);this.setState({selectedIndex:t}),this.state.skinTonePicker&&this.closeSkinTonePicker()}},{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(l.default,"add remove change:variant",function(){return e.forceUpdate()});var t=this.props.debounce(this.windowResized,100);this.props.listeners.add(window,"resize",t),this.windowResized()}},{key:"getEmojiAtIndex",value:function(e){return e>=0&&e<this.props.emojiList.length?i.default.getUnicodeFromEmoji(this.props.emojiList[e]):null}},{key:"getEmojiElement",value:function(e){if(!(e<0)&&this.emojis){var t=(0,h.forbiddenAssertDOMNode)(this.emojis).children;if(!(e>=t.length))return t[e]}}},{key:"render",value:function(){var e=void 0;return this.state.skinTonePicker&&(e=p.createElement(g.default,{displayName:"SkinTonePicker",popable:!0,escapable:!0,requestDismiss:this.closeSkinTonePicker},p.createElement(v.default,{tooltip:this.state.skinTonePicker}))),p.createElement("div",{ref:(0,b.GetRef)("emojiPanel",this)},this.renderEmojiList(this.props.emojiList),e)}},{key:"moveSelectionLeft",value:function(){this.setState({selectedIndex:Math.max(this.state.selectedIndex-1,0)})}},{key:"moveSelectionRight",value:function(){this.setState({selectedIndex:Math.min(this.state.selectedIndex+1,this.getEmojiRowLength()-1,this.props.emojiList.length-1)})}},{key:"pickSelectedEmoji",value:function(){var e=this.getEmojiAtIndex(this.state.selectedIndex);if(!e)return null;if(i.default.skinToneEmojis[e]){var t=this.getEmojiVariant(e);if(t)this.onEmoji(t);else{var n=this.getEmojiElement(this.state.selectedIndex);n&&this._onContextMenu(e,n,!0)}}else this.onEmoji(e)}}]),t}();C.contextTypes={uim:O.default.instanceOf(y.default)},C.displayName="EmojiSuggestionsPanel";t.EmojiSuggestionsPanelComponent=C;function T(e){e&&(e.preventDefault(),e.stopPropagation())}t.default=(0,f.default)((0,m.default)((0,b.hoc)(C)))},cicdfhbegf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GROUP_ACTIONS=void 0,t.handleGroupAction=function(e,t,n){!function(e,t,n){var a=n.action;switch(n.action){case u.SUBJECT:var i={name:n.subject};return void e.contact.set(i);case u.ADD:case u.PROMOTE:case u.DEMOTE:var s="promote"===a,l=n.participants.map(function(e){return{id:e,isAdmin:s}});return e.groupMetadata.participants.add(l,{merge:!0}),void("add"===a&&n.participants.forEach(function(t){o.default.GroupMetadata.trigger(`group_participant_change_${t.toString()}`,e.id)}));case u.REMOVE:var c=e.groupMetadata;return n.participants.forEach(function(e){c.participants.remove(e)}),void n.participants.forEach(function(t){o.default.GroupMetadata.trigger(`group_participant_change_${t.toString()}`,e.id)});case u.MODIFY:return;case u.INVITE_CODE:return void(n.code?e.groupMetadata.inviteCode=n.code:r.default.error(`model:chat:handleGroupAction:invalid invite code: ${n.code} for ${e.id.toString()}`)());case u.DESC_ADD:return void e.groupMetadata.set({desc:n.desc,descId:n.descId,descTime:n.descTime,descOwner:t});case u.DESC_REMOVE:return void(e.groupMetadata.descId===n.descId&&e.groupMetadata.set({desc:void 0,descId:void 0,descTime:void 0,descOwner:void 0}));case u.RESTRICT:return void(e.groupMetadata.restrict=!!n.value);case u.ANNOUNCE:return void(e.groupMetadata.announce=!!n.value);case u.NO_FORWARD:return void(e.groupMetadata.noFrequentlyForwarded=!!n.value);default:;}}((0,a.unproxy)(e),t,n)};var r=i(n("bdiiahhjbe")),a=n("bheafeifce"),o=i(n("bhggeigghg"));function i(e){return e&&e.__esModule?e:{default:e}}var u=t.GROUP_ACTIONS=Object.freeze({SUBJECT:"subject",ADD:"add",PROMOTE:"promote",DEMOTE:"demote",REMOVE:"remove",MODIFY:"modify",INVITE_CODE:"invite",DESC_ADD:"desc_add",DESC_REMOVE:"desc_remove",RESTRICT:"restrict",ANNOUNCE:"announce",NO_FORWARD:"no_frequently_forwarded"})},cicgeajfge:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LazyLoadRetry=t.NoResultForLabel=t.LoadingWithText=t.Loading=t.ImageSearchEmpty=t.SearchingImages=t.BeforeImageSearch=t.DocMsgs=t.LinkMsgs=t.MediaMsgs=t.StarredMsgs=t.AllArchived=t.ListStatus=t.BeforeSearchMessages=t.ListGroups=t.ListChats=t.SearchMessagesUnavailable=t.SearchMessages=t.SearchGroups=t.SearchWithKeyword=t.SearchWithoutKeyword=t.SearchContacts=t.SearchingMessages=t.Searching=t.Search=t.Archived=t.Blocked=t.Empty=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("dbdfbgehgj")),i=h(n("becfabjeeg")),u=h(n("effbcehec")),s=h(n("ceffhbhahb")),l=h(n("fifhbjiec")),c=h(n("bfdcadbbif")),f=h(n("gbfffciea")),d=h(n("dfbcaibdjh")),p=h(n("bijffg"));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=e.a8nText,n=e.a8nTitle,o=e.children,i=e.className,c=e.icon,f=e.text,p=e.theme,h=e.title,m=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["a8nText","a8nTitle","children","className","icon","text","theme","title"]),b=h?a.createElement("div",{"data-a8n":u.default.key(n),className:d.default.title},h):null,g=f?a.createElement("div",{"data-a8n":u.default.key(t),className:d.default.text},a.createElement(l.default,{text:f})):null,v=(0,s.default)(d.default.empty,i,{[d.default.compact]:"compact"===p});return a.createElement("div",r({className:v},m),c,b,g,o)};function b(){var e=n("cajbicccif");f.default.openDrawerLeft(a.createElement(e,null))}m.displayName="Empty",t.Empty=m,(t.Blocked=function(){var e=a.createElement("div",{className:d.default.icon},a.createElement(c.default,{name:"empty-blocked"}));return a.createElement(m,{icon:e,title:l10n.t(216),text:l10n.t(159),a8nTitle:"blocked-empty",a8nText:"add-blocked-description"})}).displayName="Blocked",(t.Archived=function(){var e=a.createElement("div",{className:d.default.icon},a.createElement(c.default,{name:"empty-archived"}));return a.createElement(m,{icon:e,title:l10n.t(181),a8nTitle:"archived-empty"})}).displayName="Archived",(t.Search=function(){return a.createElement(m,{className:d.default.emptyTop,text:l10n.t(939),a8nText:"search-no-chats-or-contacts"})}).displayName="Search",(t.Searching=function(){return a.createElement(m,{className:d.default.emptyTop,text:l10n.t(947),a8nText:"searching-chats-contacts-messages"})}).displayName="Searching",(t.SearchingMessages=function(){return a.createElement(m,{className:d.default.emptyTop,text:l10n.t(949),a8nText:"searching-messages"})}).displayName="SearchingMessages",(t.SearchContacts=function(){return a.createElement(m,{className:d.default.emptyTop,text:l10n.t(940),a8nText:"search-no-contacts"})}).displayName="SearchContacts",(t.SearchWithoutKeyword=function(){return a.createElement(m,{className:d.default.emptyTop,text:l10n.t(814),a8nText:"search-no-results-without-keyword"})}).displayName="SearchWithoutKeyword",(t.SearchWithKeyword=function(e){return a.createElement(m,{className:d.default.emptyTop,text:l10n.t(943,{keyword:e}),a8nText:"search-no-results-without-keyword"})}).displayName="SearchWithKeyword",(t.SearchGroups=function(){return a.createElement(m,{className:d.default.emptyTop,text:l10n.t(941),a8nText:"search-no-groups"})}).displayName="SearchGroups",(t.SearchMessages=function(){return a.createElement(m,{className:d.default.emptyTop,text:l10n.t(942),a8nText:"search-no-messages"})}).displayName="SearchMessages",(t.SearchMessagesUnavailable=function(){return a.createElement(m,{className:d.default.emptyTop,text:l10n.t(946),a8nText:"search-results-unavailable"})}).displayName="SearchMessagesUnavailable",(t.ListChats=function(){return a.createElement(m,{text:l10n.t(806),a8nText:"no-chats"})}).displayName="ListChats",(t.ListGroups=function(){return a.createElement(m,{text:l10n.t(809),a8nText:"no-groups"})}).displayName="ListGroups",(t.BeforeSearchMessages=function(e,t){var n=t?l10n.t(290,{chatName:e}):l10n.t(350,{chatName:e});return a.createElement(m,{className:d.default.emptyTop,text:n,a8nText:"chat-search-prompt"})}).displayName="BeforeSearchMessages",(t.ListStatus=function(){return a.createElement(m,null)}).displayName="ListStatus",(t.AllArchived=function(){var e=o.default.filter(function(e){return e.archive}).length;return a.createElement(m,{title:l10n.t(174),a8nTitle:"all-chats-archived"},a.createElement("div",{"data-a8n":u.default.key("see-archived"),role:"button",onClick:b,className:d.default.action},l10n.t(950,{count:e,_plural:e})))}).displayName="AllArchived",(t.StarredMsgs=function(){return a.createElement(m,{text:l10n.t(815),a8nText:"no-starred-messages"})}).displayName="StarredMsgs",(t.MediaMsgs=function(){return a.createElement(m,{text:l10n.t(811),a8nText:"no-media"})}).displayName="MediaMsgs",(t.LinkMsgs=function(){return a.createElement(m,{text:l10n.t(810),a8nText:"no-links"})}).displayName="LinkMsgs",(t.DocMsgs=function(){return a.createElement(m,{text:l10n.t(808),a8nText:"no-docs"})}).displayName="DocMsgs",(t.BeforeImageSearch=function(){return a.createElement(m,{text:l10n.t(565),a8nText:"image-search-prompt"})}).displayName="BeforeImageSearch",(t.SearchingImages=function(){return a.createElement(m,{text:l10n.t(948),a8nText:"searching-images"})}).displayName="SearchingImages",(t.ImageSearchEmpty=function(){return a.createElement(m,{text:l10n.t(564),a8nText:"image-search-no-results"})}).displayName="ImageSearchEmpty",(t.Loading=function(){return a.createElement(m,null,a.createElement(i.default,{size:50,stroke:4}))}).displayName="Loading",(t.LoadingWithText=function(e){var t=e.text;return a.createElement(m,null,a.createElement("div",{className:d.default.spinner},a.createElement(i.default,{size:50,stroke:4})),a.createElement(l.default,{element:"div",className:d.default.text,text:t}))}).displayName="LoadingWithText",(t.NoResultForLabel=function(e){var t=e.labelId,n=p.default.assertGet(t);return a.createElement(m,null,a.createElement(l.default,{element:"div",className:d.default.text,text:l10n.t(813,{labelName:n.name})}))}).displayName="NoResultForLabel",(t.LazyLoadRetry=function(e){var t=e.className,n=e.onClick;return a.createElement(m,{className:t,onClick:n},a.createElement(c.default,{name:"live-location-refresh"}),a.createElement("div",null,l10n.t(910)))}).displayName="LazyLoadRetry"},cicjcfabii:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=s(n("bfifafibjc")),u=s(n("cahfddcdga"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a._setRefObserver=function(e){a._refObserver=e,a.props.onRef&&a.props.onRef(e)},a.getScrollTop=function(){var e=a._refObserver;if(e)return e.scrollTop},a.setScrollTop=function(e){var t=a._refObserver;t&&(t.scrollTop=e)},a._handleRegisterList=function(){var e=(0,u.default)(a._refObserver);a.props.flatListControllers.forEach(function(t){return t.triggerLayout({position:e.getBoundingClientRect(),width:e.clientWidth,height:e.clientHeight})})},a._handleScroll=function(e){var t=a.props,n=t.flatListControllers,r=t.onScroll;r&&r(e),n.forEach(function(e){return e.triggerScroll()})},a._handleResize=function(e){var t=a.props,n=t.flatListControllers,o=t.onLayout,i=(0,u.default)(a._refObserver),s=r({position:i.getBoundingClientRect()},e);n.forEach(function(e){return e.triggerLayout(s)}),o&&o(s)},l(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this;this.props.flatListControllers.forEach(function(t){return t.registerContainer({getScrollTop:e.getScrollTop,setScrollTop:e.setScrollTop,onRegisterList:e._handleRegisterList})})}},{key:"componentWillUnmount",value:function(){this.props.flatListControllers.forEach(function(e){return e.unregisterContainer()})}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.flatListControllers,e.onScroll,e.onLayout,e.onRef,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","flatListControllers","onScroll","onLayout","onRef"]));return o.createElement(i.default,r({},n,{onResize:this._handleResize,onScroll:this._handleScroll,onRef:this._setRefObserver}),t)}}]),t}();c.displayName="FlatListContainer",t.default=c},cicjibbhdb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.liveLocationIcon=function(e){var t="live-location";e&&(t+="-active");var n=function(){switch(o.default.platform){case a.PLATFORMS.ANDROID:case a.PLATFORMS.SMBA:return"android";case a.PLATFORMS.IPHONE:case a.PLATFORMS.SMBI:case a.PLATFORMS.IPAD:case a.PLATFORMS.IPOD:return"iphone";case a.PLATFORMS.WP7:return"wp";default:return""}}();n&&(t+="-"+n);return t};var r,a=n("bjigbaghc"),o=(r=a)&&r.__esModule?r:{default:r}},ciddcjeaij:function(e,t,n){"use strict";var r=g(n("bcdjgfbfa")),a=g(n("iidhbgeed")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=n("chcadgfgad"),s=g(u),l=g(n("djcchigfih")),c=n("dajffajabh"),f=g(c),d=g(n("djbhiedbef")),p=g(n("cdbcigcahd")),h=n("dcbdjheea"),m=g(n("djbfhebjhe")),b=g(n("cdjajhiedh"));function g(e){return e&&e.__esModule?e:{default:e}}var v=n("cgfjebhhej"),y=window.l10n,_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"renderContacts",value:function(){var e=this;return(0,a.default)(this.props.vCard.TEL,function(e){return e.properties.waid}).map(function(t){var n=(0,h.numberToWid)((0,r.default)(t.properties.waid));return i.createElement("div",{className:b.default.container,key:`vCard-${t.index}`},i.createElement(p.default,{title:(0,m.default)(n),onClick:function(){return e.onSelect(n)},icon:e.props.icon},v.getType(t)))})}},{key:"onSelect",value:function(e){this.props.onSelect(e)}},{key:"render",value:function(){return i.createElement(s.default,{type:u.BoxModalType},i.createElement(l.default,null,i.createElement(f.default,{onCancel:this.props.onCancel,type:c.DRAWER_HEADER_TYPE.POPUP,title:y.t(296)}),i.createElement(d.default,null,this.renderContacts())))}}]),t}();_.defaultProps={onCancel:function(){},onSelect:function(){}},_.displayName="VCardWAidChoiceModal",e.exports=_},cieaaiahhf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("iffjgahba"),o=(r=a)&&r.__esModule?r:{default:r},i=n("cajijabhgb");var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,`File (${e.type()}) size = ${e.size()}`));return n.opaqueData=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,o.default)("MediaFileTooLarge",i.MediaFileError)),t}();t.default=u},cieaeggjg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.MetaFrame=_;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=b(n("cgffcjcehg")),i=b(n("ihfccfgdf")),u=n("ejbdjaifi"),s=n("bheafeifce"),l=b(n("bjebjijbfc")),c=b(n("gbfffciea")),f=b(n("bfdcadbbif")),d=b(n("ceffhbhahb")),p=b(n("cedifchehj")),h=b(n("eadfaddcj")),m=b(n("icghcjegh"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=h.default.MSG_TYPE,y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.openInfoDrawer=function(){c.default.msgInfoDrawer((0,s.unproxy)(r.props.msg))},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.msg,t=this.props.theme,n=[],r=(e.type===v.IMAGE||e.type===v.VIDEO)&&!e.caption||e.type===v.LOCATION&&!e.isLive&&!e.get("loc");if(e.star&&!e.isRevoked){var i=r?"star-light":e.isSentByMe?"star":"star-in";n.push(a.createElement(f.default,{name:i}))}if(e.broadcast){var u=r?"broadcast-light":"broadcast";n.push(a.createElement(f.default,{name:u}))}var s=e.isSentByMe&&e.type!==v.REVOKED,c=s?a.createElement(o.default,{msg:this.props.msg}):null,d=e.labels&&e.labels.length>0?a.createElement(m.default,{labels:e.labels,showName:!1}):null;return a.createElement(_,{icons:n,labels:d,light:r,onClick:s?this.openInfoDrawer:null,status:c},"date"!==t?e.t?l.default.timestampStr(e.t):null:e.t?l.default.relativeStr(e.t):null)}}]),t}();function _(e){var t=e.icons&&e.icons.length>0?e.icons.map(function(e,t){return a.createElement("div",{className:p.default.icon,key:`icon-${t}`},e)}):null,n=e.labels?a.createElement("div",{className:p.default.labels},e.labels):null,r=e.status?a.createElement("div",{className:p.default.status},e.status):null,o=(0,d.default)(p.default.meta,{[p.default.metaLight]:e.light});return a.createElement("div",{className:o,onClick:e.onClick,role:e.onClick?"button":null},t,n,a.createElement("span",{className:p.default.timestamp},e.children),r)}y.CONCERNS={msg:["t","isSentByMe","isLive","isRevoked","type","broadcast","star","caption","labels"]},y.displayName="Meta",_.displayName="MetaFrame",t.default=(0,i.default)((0,u.hoc)(y),y.CONCERNS)},ciebcgbegd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=j(n("effbcehec")),i=j(n("eadfaddcj")),u=j(n("djcchigfih")),s=n("dajffajabh"),l=j(s),c=j(n("djbhiedbef")),f=j(n("cabhjigfgc")),d=n("bfbggcdbfb"),p=j(n("ecbjchafdg")),h=j(n("bfebbjhgbh")),m=j(n("gbfffciea")),b=j(n("gifddfdia")),g=n("eagfdbhhhh"),v=n("facgccaif"),y=n("dfjhjafaab"),_=n("bidfjbaebi"),E=j(n("fbdhjahjj"));function j(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S="animated-doodle",w=n("bjhdcidgah"),P={selector:`.${E.default.animation}`,low:{default:w},high:{default:w}},M=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.openTime=-1,r.actionsTaken=!1,r.onTOS=function(){r.actionsTaken=!0,(0,_.openExternalLink)((0,y.getTosUrl)())},r.onFAQ=function(){(0,_.openExternalLink)((0,v.getFaqUrl)()),r.logSessionEvent(d.CONTACT_US_EXIT_STATE.FAQ)},r.onContactUs=function(){m.default.openModal(a.createElement(h.default,{onCancel:r.onContactUsCancel,onSend:r.onContactUsSend}))},r.onSendNativeLogComplete=function(e,t){e?r.onContactUsSend():r.onContactUsCancel()},r.onContactUsCancel=function(){r.logSessionEvent(d.CONTACT_US_EXIT_STATE.PROBLEM_DESCRIPTION)},r.onContactUsSend=function(e){r.logSessionEvent(d.CONTACT_US_EXIT_STATE.EMAIL_SEND,e)},r.onKeyboardShortcuts=function(){m.default.openModal(a.createElement(p.default,null))},O(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.openTime=performance.now(),b.default.isAssetLoaded(S)||b.default.loadAsset(P,S)}},{key:"componentWillUnmount",value:function(){this.actionsTaken||this.logSessionEvent(d.CONTACT_US_EXIT_STATE.CANCELLED)}},{key:"logSessionEvent",value:function(e,t){var n=new d.ContactUsSession({contactUsExitState:e,contactUsT:Math.ceil(performance.now()-this.openTime)});t&&(n.contactUsAutomaticEmail=!0,n.contactUsProblemDescription=t.subject,n.contactUsScreenshotC=t.numScreenshots),n.commit(),this.actionsTaken=!0}},{key:"render",value:function(){return a.createElement(u.default,null,a.createElement(l.default,{a8n:"drawer-title-help",title:l10n.t(554),onBack:this.props.onClose,type:s.DRAWER_HEADER_TYPE.LARGE}),a.createElement(c.default,null,a.createElement("div",{className:E.default.animation}),a.createElement(g.SelectableDiv,{"data-a8n":o.default.key("version"),className:E.default.version,selectable:!0},l10n.t(1072,{version:i.default.VERSION_STR})),a.createElement(f.default,{a8nText:"li-faq",onClick:this.onFAQ},l10n.t(1280)),a.createElement(f.default,{a8nText:"li-contact-us",onClick:this.onContactUs},l10n.t(969)),a.createElement(f.default,{a8nText:"li-tos",onClick:this.onTOS},l10n.t(1019))))}}]),t}();M.displayName="HelpDrawer",t.default=M},cieccfhhib:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("eceadcicaf"),u=(r=i)&&r.__esModule?r:{default:r},s=n("ejbdjaifi");function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){var e,n,r;l(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.isOpen=!1,r._setRefInput=function(e){r._refInput=e},r._handleClick=function(e){e.stopPropagation(),r._handleOpen()},r._handleChange=function(e){r._handleClose(),r.props.onChange(e)},c(r,n)}return f(t,o.PureComponent),a(t,[{key:"open",value:function(){this._refInput&&(this.isOpen||this._refInput.click())}},{key:"_handleOpen",value:function(){this.isOpen=!0}},{key:"_handleClose",value:function(){this.isOpen=!1}},{key:"render",value:function(){return o.createElement("input",{accept:this.props.mimes,ref:this._setRefInput,type:"file",multiple:!0,style:{display:"none"},onClick:this._handleClick,onChange:this._handleChange})}}]),t}();d.displayName="FilePicker";var p=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,(0,u.default)((0,s.hoc)(d))),a(t,[{key:"open",value:function(){return function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).open()}}]),t}();t.default=p},ciefdgaafc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n("diifagijfe")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=n("hdccjfbbg"),s=p(u),l=p(n("bdfjbfgea")),c=p(n("eceadcicaf")),f=n("ejbdjaifi"),d=p(n("didfdhbecg"));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderPills=function(e){var t=n.props,o=t.useShortName,l=t.isDisabled,c=t.onDelete;return(0,r.default)(e)?e.map(function(e){var t=l&&l(e.id)?null:{onDelete:c};return i.createElement(s.default,a({contact:e,useShortName:o},t,{type:u.Type.SMALL,key:e.id.toString(),theme:"list-names",waitIdle:!0}))}):null},n.props.listeners.add(n.props.selections,"all"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"render",value:function(){return i.createElement(d.default,{transitionName:"slide-up-down-footer",className:l.default.selectedListContainer},this.renderPills(this.props.selections.getSelected()))}}]),t}();h.displayName="ContactSelectionPill",t.default=(0,c.default)((0,f.hoc)(h))},ciehajbjae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){return(e||"").trim().toLowerCase().split("\n").reduce(function(e,t){if(!t.trim())return e;var n=t.split(":"),a=r(n,2),o=a[0],i=a[1];return o=o.trim(),i=i.trim().replace(/;$/,""),e[o]?Array.isArray(e[o])?e[o].push(i):e[o]+=`, ${i}`:e[o]=i,e},{})}},cifhabcfgj:function(e,t,n){"use strict";e.exports={SMILEYS_PEOPLE:[1531,1534,1535,1532,1537,1536,1533,1884,2409,1541,1538,1596,1597,1540,1543,1544,2060,1555,1554,1556,1557,1542,1558,1560,1559,1902,1900,2144,1829,1545,1901,2061,1546,1549,1561,1551,1562,1552,1595,2408,1566,1553,1573,2325,2336,1565,1575,1567,1563,1564,1904,1907,1581,2063,2064,1579,1571,1578,1568,1550,1833,1830,1905,1903,1886,1584,1547,1548,1574,1598,1577,1569,1570,1576,1580,1582,1885,1572,1583,1827,2062,1883,1906,1899,1585,2334,1831,1828,1881,1539,1181,1170,1171,1882,1273,1172,1182,2400,1179,1180,1832,429,1588,1586,1587,1589,1590,1591,1594,1593,1592,1925,759,1655,753,1868,741,747,723,2492,1857,1863,1874,2504,1880,1839,735,711,717,699,705,2399,2498,1851,1493,1505,729,1845,1279,1499,2510,1685,2115,2109,1213,1243,692,2116,693,685,691,777,679,677,2269,1521,778,779,1151,791,2156,785,1069,2150,932,1059,924,1058,923,1114,1115,1061,926,1060,925,2168,1145,2162,1139,1121,1132,1133,2174,1084,1085,1162,1163,1205,1206,1471,1472,1062,927,1038,897,1039,898,1040,899,1041,900,1043,902,1044,903,1052,917,1053,918,1054,919,1055,920,1042,901,1057,922,1064,929,1056,921,1063,928,1103,1943,1169,1937,2127,2128,2139,2140,1949,436,2221,2222,2263,2264,2240,2343,2265,2266,2267,2268,2251,2252,2233,2234,1178,1913,1919,1633,1634,1193,1194,1609,1610,1621,1622,1648,1649,1897,1898,1960,1961,1678,1679,1666,1667,1238,1239,1230,1231,2185,2186,1219,1931,1212,1482,1096,1097,1460,1776,1777,500,501,1071,1073,1072,1249,1066,930,1247,1068,931,1070,916,914,912,915,1048,1051,1049,1047,1050,908,911,909,907,910,1045,2315,1046,2313,2314,904,2312,905,2311,906,2290,2289,2273,2065,769,764,765,763,766,768,767,2068,775,2310,776,773,774,2067,2274,2272,2271,467,2270,761,450,2456,760,1245,772,770,771,1297,449,2287,762,1473,2066,304],ANIMALS_NATURE:[667,662,659,670,2309,2078,672,673,654,661,2070,660,668,674,669,666,1635,1636,1637,632,634,653,652,650,649,651,2074,2337,2077,2075,671,637,665,2073,643,641,2079,626,644,642,2099,2091,1474,1475,2071,648,627,2082,2090,2089,639,2085,2084,2098,2069,647,646,645,658,664,625,2076,624,620,621,2087,2081,638,2095,2083,656,657,2086,2092,618,617,619,628,636,629,631,2093,630,2080,635,655,622,633,2072,2094,2096,2102,1425,2308,2097,2101,616,615,676,2088,675,623,663,353,430,350,351,352,349,363,2393,364,444,442,367,366,365,368,640,362,1248,355,357,2013,358,356,360,359,332,331,329,330,328,323,324,325,326,319,320,321,322,327,316,315,317,1280,2542,333,2517,2443,2388,1269,1399,342,310,2384,336,2452,337,2385,338,339,2453,341,340,2520,2387,2451,344,1272,1271,1270,2391,2386,312,343],FOOD_DRINK:[379,378,2303,374,375,376,373,371,382,372,381,380,2057,377,2049,2041,369,370,2029,2050,2056,2030,354,361,2033,2032,395,2028,2059,393,2034,2052,2141,2038,414,2042,2031,2053,386,385,2103,345,383,394,384,2054,2037,346,347,2035,2036,2055,392,391,413,390,398,412,2043,399,388,389,387,400,2044,2058,397,396,402,403,401,2051,2142,411,2304,409,408,407,406,426,404,405,348,2040,410,2039,423,2392,416,2048,417,421,422,2015,418,2016,419,420,425,2017,415,424,2047,2045,2046,2143],ACTIVITY:[2449,487,522,2450,2026,2307,563,523,2027,475,566,607,565,564,2025,562,2018,2464,608,461,2022,2023,485,1826,1824,2468,2024,486,2467,489,546,547,1987,1988,1972,1973,2479,2480,1986,2011,2012,558,559,521,2209,2210,512,513,534,535,1999,2e3,2331,1725,2197,2198,1764,1765,1752,1753,515,2019,2020,2021,514,451,605,452,469,457,468,1984,1985,471,466,470,462,465,484,481,2014,2305,482,2306,483,476,2424,473,477,472,474,2277],TRAVEL_PLACES:[1709,1707,1711,1698,1700,561,1705,1703,1704,1702,1712,1713,1714,1822,1740,1823,560,1730,1706,1699,1710,1708,2332,1718,1717,1689,1697,1716,1715,1690,1691,1694,1688,1692,1693,1696,1695,2485,1818,1819,1817,1295,1820,1686,1825,1687,2333,2466,1726,1816,1821,2465,1719,2434,2482,1729,1728,1727,1701,1525,1530,1528,1527,595,594,578,459,460,458,2463,2462,569,576,575,313,2461,567,1526,568,2481,579,580,571,573,570,592,581,591,582,583,584,585,587,589,590,588,1250,574,2460,1427,1428,1426,2459,1815,1814,1529,448,577,307,306,334,438,437,309,308,572,305,314,311,303],OBJECTS:[2357,1350,2320,1296,2359,1507,1508,1509,1510,1476,1518,1298,1299,1300,1301,1360,1355,1356,1357,463,1361,456,1331,2389,1332,1333,1358,1359,453,454,455,2281,2374,2369,2368,2323,2358,2370,1334,1374,1375,1265,1400,1453,2283,1813,1293,1290,1289,1291,1292,1285,1288,1246,2437,2284,1401,1402,2433,1811,2455,1403,2439,2285,2457,2286,1405,1267,2276,1404,1520,2435,1812,1734,2447,2448,609,1408,1362,2299,1240,2438,1407,1406,1454,1242,1241,2280,2100,2279,2278,335,2293,2294,2295,1784,1738,1786,1793,1792,2296,2297,2288,1806,1380,1519,1732,1798,1807,1804,2292,1511,1805,1810,428,439,446,427,441,440,445,593,447,2275,2486,1342,1341,1340,1244,1338,1337,1339,606,1343,1344,1345,1346,1347,1348,1329,1304,1305,1318,2298,1311,1309,1310,1516,1517,1307,1306,1515,1308,1513,1524,1514,1312,1302,1303,1512,2324,1349,1320,1321,1319,1322,1324,1325,1326,1327,1323,1385,2291,1386,1315,1483,1317,1316,2282,1313,1314,2483,1484,1485,2512,1486,1487,1330,2511,1376,1377,1378,1379,1381,1382],SYMBOLS:[2529,2344,1259,1258,1257,1260,1506,1252,2528,1253,1262,1251,1255,1254,1256,1261,1263,2405,2515,2404,1424,2407,2516,1409,2322,2406,2403,1808,2454,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,25,2440,301,2401,2402,1352,1351,295,289,297,299,296,2519,31,1283,300,2548,2547,293,294,298,291,17,18,21,22,19,29,2522,2543,1809,2458,1328,1733,1284,1266,2429,1778,1737,1741,1739,1392,1353,1735,2527,2526,2524,2525,2345,2346,1368,1369,2546,2442,1779,1411,2441,1410,2430,2484,290,1294,2521,2518,2523,318,1264,2375,302,1268,586,1785,2432,20,292,288,1794,1795,1796,1797,1780,1781,1783,1782,1736,464,1354,287,1397,2348,1398,1395,1394,27,28,30,23,26,24,3,4,5,6,7,8,9,10,11,12,1393,1396,1,2,2360,2378,2371,2367,2372,2373,2365,2366,2361,2362,2363,2364,2379,1422,1423,2533,2544,2538,2539,2352,2353,2354,2351,2350,2349,2356,2355,2536,2537,1363,1364,1365,1367,1366,479,480,2530,2531,2532,2514,2431,1287,1286,2347,13,14,678,1388,2321,1389,1391,1390,2545,2534,2535,2513,2390,1387,2445,2446,1414,1415,1420,1421,1418,1419,1416,1417,1413,1412,2376,2377,2383,2382,2381,2380,2540,2541,1371,1370,1372,1373,1383,1384,1336,1335,1281,1282,1523,2425,2426,2427,2428,16,478,15,1429,1430,1431,1432,1433,1434,1435,1436,1437,1438,1439,1440,1441,1442,1443,1444,1445,1446,1447,1448,1449,1450,1451,1452],FLAGS:[598,604,599,488,1731,596,597,268,35,47,38,96,43,33,40,37,41,36,42,39,46,45,44,48,64,55,51,50,68,52,69,57,59,65,61,49,67,63,141,275,60,54,53,56,152,79,70,136,85,62,158,73,250,78,80,87,71,81,2302,74,72,77,83,76,133,84,86,88,89,93,92,94,95,98,100,244,123,102,99,104,105,108,109,107,106,110,115,209,251,111,120,114,90,117,118,124,119,113,122,127,126,116,121,128,129,134,132,130,135,144,140,137,143,142,138,2301,139,145,147,149,443,146,148,159,150,153,281,157,151,160,169,161,166,165,170,163,167,168,182,178,176,190,192,189,179,187,177,184,185,188,283,191,2300,173,172,181,174,186,171,193,180,194,203,202,200,195,205,199,196,198,204,197,155,183,201,206,212,219,217,207,210,220,208,211,215,213,218,216,221,222,223,225,226,280,238,243,227,239,224,229,237,232,245,236,234,125,228,240,284,156,242,103,164,58,233,154,162,214,273,230,241,247,231,75,246,263,254,264,253,256,252,255,259,261,258,260,257,249,262,276,266,265,34,112,600,601,602,269,603,270,271,278,272,274,277,279,101,282,285,286]}},cificacaii:function(e,t){e.exports={muted:"_1f7YV",header:"_1mJpB",photo:"_1Z4e7",text:"_3K8QZ",name:"_1zc7y",description:"_1S1xi",spinner:"_160a0",img:"_1IGJ4"}},cifjfjfegc:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("bjebjijbfc")),i=h(n("djiibcjggg")),u=h(n("eceadcicaf")),s=h(n("bffjfbgbg")),l=n("ejbdjaifi"),c=h(n("bfdcadbbif")),f=h(n("cafgbeeihg")),d=h(n("bbjadhadbg")),p=h(n("ccaaiecfib"));function h(e){return e&&e.__esModule?e:{default:e}}var m=n("ceffhbhahb"),b=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onSelectClick=function(t){e.props.onMessageSelect&&e.props.onMessageSelect(e.props.msg,!e.props.selected)},e.onMouseOver=function(t){e.state.hover||e.setState({hover:!0})},e.onMouseEnter=function(t){e.state.hover||e.setState({hover:!0})},e.onMouseLeave=function(t){e.state.hover&&e.setState({hover:!1})},e._renderImg=function(t,n,r){return e.props.onDragStart?a.createElement("div",{className:t,style:n,onClick:e.props.onClick||null,ref:(0,l.GetRef)("img",e),onDragStart:e.props.onDragStart,draggable:!0},r):a.createElement("div",{className:t,style:n,onClick:e.props.onClick||null,ref:(0,l.GetRef)("img",e)},r)},e.state={hover:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(this.props.msg.mediaData,"change:preview"),this.props.listeners.add(this.props.msg,"change:star"),this.props.imgRef&&this.props.imgRef(this.img)}},{key:"componentWillUnmount",value:function(){this.props.imgRef&&this.props.imgRef(null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.msg.mediaData,r=t.selectable,o=t.theme,u=t.active,l=this.props.selected||!1,h=void 0,b=null,v=null,y=null,_=null,E=null,j=null;if(this.props.msg.star&&(n.type!==s.default.TYPE.AUDIO&&(v=a.createElement("div",{className:f.default.shade})),E=a.createElement("div",{className:f.default.iconStar},a.createElement(c.default,{name:"star-light"}))),n.type===s.default.TYPE.IMAGE)if(h=f.default.mediaCanvas,p.default.supportsFeature(p.default.F.REPLACE_MEDIABLOB)){var O=function(t){return e._renderImg(h,{backgroundImage:`url(${t})`},v)};j=a.createElement(d.default,{mediaData:n,placeholderRenderer:function(){return n.preview?O(n.preview.url()):e._renderImg(h,null,v)}},O)}else n.renderableUrl?b={backgroundImage:`url(${n.renderableUrl})`}:n.preview&&(b={backgroundImage:`url("${n.preview.url()}")`}),j=this._renderImg(h,b,v);else{switch(n.type){case s.default.TYPE.AUDIO:h=`${f.default.mediaCanvas} attach-media-audio-thumb`,y=a.createElement("div",{className:f.default.iconType},a.createElement(c.default,{name:"msg-audio-light"})),_=a.createElement(g,{duration:n.duration});break;case s.default.TYPE.VIDEO:v=a.createElement("div",{className:f.default.shade}),n.isGif?(h=n.preview?f.default.mediaCanvas:`${f.default.mediaCanvas} media-video-thumb`,y=a.createElement("div",{className:f.default.iconType},a.createElement(c.default,{name:"msg-gif-light"}))):(h=f.default.mediaCanvas,y=a.createElement("div",{className:f.default.iconType},a.createElement(c.default,{name:"msg-video-light"})),_=a.createElement(g,{duration:n.duration})),n.preview&&(b={backgroundImage:`url("${n.preview.url()}")`})}j=this._renderImg(h,b,v)}var S=void 0;(r||this.state.hover)&&(S=a.createElement("div",{className:f.default.mediaSelect},a.createElement("div",{className:f.default.shadeTop,onClick:this.props.onClick||null}),a.createElement(i.default,{onChange:this.onSelectClick,hover:this.state.hover,checked:l})));var w=null,P=null,M=null;this.props.hoverEvent&&(w=this.onMouseOver,P=this.onMouseEnter,M=this.onMouseLeave);var C=m(this.props.classes,f.default.canvasComponent,{[f.default.canvasSelected]:l,[f.default.canvasSecondRow]:"hideableSecondRow"===o,[f.default.viewerFlow]:"viewerFlow"===o,[f.default.active]:!0===u});return a.createElement("div",{className:C,onMouseOver:w,onMouseEnter:P,onMouseLeave:M},S,a.createElement("div",{className:f.default.canvasBody},y,_,E),j)}}]),t}();function g(e){var t=e.duration,n=o.default.durationStr(t);return n?a.createElement("span",{className:f.default.mediaCanvasDuration},n):null}b.displayName="MediaThumb",e.exports=(0,u.default)((0,l.hoc)(b))},cigbgdjabj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("ichcjagij")),i=s(n("icghcjegh")),u=s(n("ccaaiecfib"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.renderLabel=function(){var e=r.props.labels;if(e)return e.map(function(e,t){return a.createElement("div",{key:t,className:o.default.labelRow},a.createElement(i.default,{labels:[e],showName:!0}))})},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return this.props.labels&&u.default.supportsFeature(u.default.F.LABELS_DISPLAY)?a.createElement("div",{className:o.default.labelContainer},this.renderLabel()):null}}]),t}();c.displayName="InfoDrawerLabelWell",t.default=c},cigddfbici:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=b(n("gbfffciea")),i=b(n("biddiiafgd")),u=b(n("dbdfbgehgj")),s=b(n("dhigahgdjb")),l=b(n("bcbahjefec")),c=b(n("ccaaiecfib")),f=b(n("bfcjfjfjjj")),d=b(n("becfabjeeg")),p=b(n("bihdhbjih")),h=n("ddjgcfjicj"),m=n("dcbdjheea");function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r._cancel=function(){r._queryChatPromise&&r._queryChatPromise.cancel(),r._queryChatPromise=void 0,r.end()},r.error=function(e){r.push(a.createElement(i.default,{onOK:function(){return r.end()},okText:l10n.t(1225)},l10n.t(711)))},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.push(a.createElement(i.default,{title:l10n.t(991),onCancel:this._cancel,cancelText:l10n.t(1091)},a.createElement("div",{className:f.default.spinner},a.createElement(d.default,{stroke:6,size:24})))),this._queryChatPromise=this.queryChat().cancellable().then(function(e){return u.default.find(e)}).then(function(t){e.props.onSuccess(t),e.openChat(t),e.end()}).catch(Promise.CancellationError,function(){}).catch(this.error)}},{key:"queryChat",value:function(){var e=this.props.phone,t=(0,m.createWid)(e.slice(1));return s.default.get(t)?Promise.resolve(t):p.default.queryExist(e).then(function(e){return 200===e.status?(c.default.supportsFeature(c.default.F.QUERY_VNAME)&&e.biz&&p.default.queryVname(e.jid).catch(h.WapDrop,function(){}),e.jid):Promise.reject("Invalid number")})}},{key:"openChat",value:function(e){var t=this.props.msgText;e.active&&t?o.default.pasteChatTextInput(e,t):(t&&e.setComposeContents({text:t}),o.default.openChatFromUnread(e).then(function(t){t&&o.default.focusChatTextInput(e)}))}}]),t}();v.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"},t.default=v},ciggibedij:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryServerProps=function(){var e=void 0;e=r.default.supportsFeature(r.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):a.default.queryServerProps();return e};var r=o(n("ccaaiecfib")),a=o(n("bihdhbjih"));function o(e){return e&&e.__esModule?e:{default:e}}},cighigadh:function(e,t){e.exports={muted:"_2GCfc",msg:"FTBzM","msgontinuation":"_17BiH","msgontinuation":"_17BiH",msgSystem:"_3CGDY",message:"_1zGQT",messageBackground:"_2Wx_5",messageTransparent:"a81-s",tailOverrideHide:"PJFFv",messageSystem:"a7otO",messageChat:"_2ugFP",messageCode:"_3kab4",messageE2ENotification:"S-bQb",messageBizNotification:"_1LwB5",messagePlaceholder:"_28d1E",msgGallery:"_3RxKY",messageAudio:"_1uSEj",messageDocument:"oty3x",messageImage:"_26GKj",messageProduct:"nt61F",messageMultiVcard:"_2HP6E",messagePTT:"xPyAe",messagePtt:"xPyAe",messageSticker:"ossEC",messageVcard:"_1ikYm",messageGif:"_2lXrM",messageVideo:"_1hLcX",messageLocation:"_2qxEJ",messageLiveLocation:"_3Vhqk",msgInfo:"_2DWMU",messageHidden:"_2Bze7",messageContainer:"_3FLoA",btnForward:"gxf3C",msgPSA:"_3ZL2B",msgPsa:"_3ZL2B",messageVideoLinkPreview:"wsR1v",placeholder:"_1wS8b",gridContainer:"_1b0ym",author:"_3892J",albumBubbleContainer:"O4QF8",authorForward:"_11U8j",groupStickerContainer:"hvF75",groupStickerAuthor:"_3tMyP",transparent:"_3aoog",hasBorderBox:"_3LG3B",hasUrlCallButtons:"BXXBZ"}},cihcggiidc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=w(n("djcchigfih")),o=w(n("djbhiedbef")),i=n("dajffajabh"),u=w(i),s=w(n("fffdgbfji")),l=w(n("dfigcajgai")),c=w(n("bjbedjfe")),f=n("ejbdjaifi"),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),p=w(n("didfdhbecg")),h=w(n("cdjhjdcbeg")),m=w(n("bfdcadbbif")),b=w(n("begjfegacj")),g=w(n("hfhhcchgj")),v=w(n("chcadgfgad")),y=w(n("dhbceejbjg")),_=w(n("dhhfaeacef")),E=w(n("bjieiiccce")),j=w(n("dhefcajhhb")),O=w(n("fifhbjiec")),S=w(n("eadfaddcj"));function w(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var M=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=P(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isBusy:!1,inviteComment:s.default.t(518)},r.setRefParticipantList=function(e){r.refParticipantList=e},r.onClose=function(){(0,r.props.onClose)()},r.getGroupThumbBase64=function(){var e=r.props.gid,t=j.default.get(e);return new Promise(function(e,n){t&&t.img?E.default.get(t.img,E.default.RESP_TYPE.BLOB).then(function(t){if(200===t.status){var n=new FileReader;n.onloadend=function(){var t=n.result;if(null!=t){var r=t.toString().split(",")[1];e(r)}else e(void 0)},n.readAsDataURL(t.response)}else e(void 0)}).catch(function(){return e(void 0)}):e(void 0)})},r.onSend=function(){var e=r.props.onSend,t=r.state.inviteComment;r.getGroupThumbBase64().then(function(n){e(t,n)})},r.onInviteCommentChange=function(e){r.setState({inviteComment:e})},r.setRefEmojiInput=function(e){r.refEmojiInput=e},P(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),r(t,[{key:"render",value:function(){var e=d.createElement(h.default,{a8nText:"group-participants-btn",large:!0,onClick:this.onSend},d.createElement(m.default,{name:"send-light",directional:!0})),t=d.createElement(_.default,{id:this.props.gid}),n=d.createElement(O.default,{text:this.props.subject});return d.createElement(v.default,{type:"invite"},d.createElement(a.default,{theme:"invite"},d.createElement(u.default,{type:i.DRAWER_HEADER_TYPE.POPUP,title:s.default.t(526),onCancel:this.onClose}),d.createElement(o.default,null,d.createElement("div",{className:b.default.search},d.createElement("div",{"data-list-scroll-container":!0},d.createElement(l.default,{ref:this.setRefParticipantList,theme:"list-names",contacts:this.props.participants.map(function(e){return e.contact})}))),d.createElement("div",{className:b.default.commentInput},d.createElement(g.default,{ref:this.setRefEmojiInput,value:this.state.inviteComment,showRemaining:!0,maxLength:S.default.MAX_CAPTION_LENGTH,onChange:this.onInviteCommentChange,theme:"v4-invite-caption",supportsEmoji:!0})),d.createElement(p.default,{transitionName:"btn",className:b.default.onSendInvite},e),d.createElement("div",{className:b.default.groupInfo},d.createElement(y.default,{idle:!0,image:t,primary:n,secondary:s.default.t(523),theme:"group_v4_invite"})))))}}]),t}();M.displayName="GroupV4InviteAddComment",t.default=(0,c.default)((0,f.hoc)(M))},ciheehhei:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=p(n("gbfffciea")),u=p(n("biddiiafgd")),s=n("bidfjbaebi"),l=p(s),c=p(n("bcijeefgje")),f=n("chhhffajfi"),d=n("facgccaif");function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onOK=function(){i.default.closeModal()},r.onCancel=function(){var e=r.props.link.href;(0,s.openExternalLink)(e),i.default.closeModal()},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"renderHostname",value:function(){var e=this.props.link,t=e.suspiciousCharacters,n=e.domain.split("."),r=[];return n.forEach(function(e,a){var i=!1,u=e.split("").map(function(e,n){var r=t&&t.has((0,f.codePointAt)(e,0));i=r||i;var u=r?c.default.suspiciousCharacter:void 0;return o.createElement("span",{key:`${a}-${n}-${e}`,className:u},e)}),s=i?c.default.suspiciousHostname:void 0,l=o.createElement("span",{key:`${a}-${e}`,className:s},u);r.push(l),a+1!==n.length&&r.push(o.createElement("span",{key:`${a}`},"."))}),r}},{key:"render",value:function(){var e=this.props.link,t=e.href,n=e.domain,a=t.split(n),i=r(a,2),s=i[0],f=i[1];return o.createElement(u.default,{title:l10n.t(1013),okText:l10n.t(1091),cancelText:l10n.t(1015),onOK:this.onOK,onCancel:this.onCancel},o.createElement("div",{className:c.default.explanation},l10n.t(1016)+" ",o.createElement(l.default,{href:(0,d.getSuspiciousLinkFaqUrl)()},l10n.t(588))),o.createElement("div",{className:c.default.url},s,this.renderHostname(),f))}}]),t}();m.displayName="SuspiciousLinkPopup",t.default=m},cihffbbgjc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationPin=function(e,t,n){return o.default.sendConversationPin(e,t,n).then(function(n){return r.default.supportsFeature(r.default.F.MODEL_STORAGE)&&200===n.status&&!n._duplicate?a.Chat.merge(e.toString(),{pin:t}).then(function(){return n}):n})};var r=i(n("ccaaiecfib")),a=n("cefcddgdgg"),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}},cihhicgaca:function(e,t){e.exports={muted:"_1trhb",textThumb:"_25_R-",statusImage:"_39J1B",container:"_20CJh"}},cihiahfgbc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n("eaaagccfda")),a=h(n("iidhbgeed")),o=h(n("dbafiicfja")),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),s=n("iaibjaeb"),l=h(s),c=n("cicgeajfge"),f=h(n("dfjibhjhde")),d=h(n("dcaibchbg")),p=h(n("dgjddffcfg"));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSelect=function(e,t){if(t instanceof s.Mode){var r=t.props.chat;!0===n.props.filter(r)&&n.props.onGroup(t.props.chat)}},n.onSearch=(0,r.default)(function(e){n.setState({searchText:e})},100),n.renderItem=function(e){var t=n.props,r=t.onGroup,a=void 0,o=void 0,i=(0,t.filter)(e.chat),c="boolean"!=typeof i;return c&&(a=i,o="group-modal"),u.createElement(l.default,{chat:e.chat,contact:e.chat.contact,mode:s.Mode.INFO,active:n.selection,secondary:a,noContext:!0,theme:o,onClick:c?void 0:r.bind(null,e.chat)})},n.selection=new d.default,n.state={loading:!0,searchText:void 0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),i(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props.chats;Promise.delay(300).then(function(){return Promise.all((0,o.default)((0,a.default)(t,function(e){return e.groupMetadata.stale}),function(e){return e.groupMetadata.update().catch(function(){})}))}).then(function(){return e.setState({loading:!1})})}},{key:"getData",value:function(){var e=this.props,t=e.chats,n=e.filter,r=this.state,a=r.loading,o=r.searchText;if(a)return[];var i=l10n.accentFold(o),u=p.default.numberSearch(i),s=t.filter(function(e){return n(e)&&(!i||i&&e.contact.searchMatch(i,u))});return this.selection.init(s.filter(function(e){return!0===n(e)}).map(function(e){return e.id})),s.map(function(e){return{chat:e,itemKey:e.id.toString()}})}},{key:"render",value:function(){var e=this.props.onCancel,t=this.state.loading?u.createElement(c.Loading,null):u.createElement(c.SearchGroups,null);return u.createElement(f.default,{title:l10n.t(1193),data:this.getData(),renderItem:this.renderItem,emptyState:t,selection:this.selection,onSearch:this.onSearch,searchPlaceholder:l10n.t(937),onSelect:this.onSelect,onCancel:e})}}]),t}();m.defaultProps={filter:function(){return!0}},m.displayName="GroupsModal",t.default=m},cihjadddhc:function(e,t){e.exports={muted:"-Wycj",container:"_1XANn",media:"_2vDTu",document:"_10zRs",text:"Cltyv",icon:"_3YCc3"}},ciibfajghc:function(e,t,n){"use strict";var r=s(n("digcccheca")),a=s(n("ebgjhfacdb")),o=s(n("bidcddiaag")),i=s(n("decdhbjfjc")),u=s(n("jjjdieajj"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=n("bcjcbbafcj").isTrident,f=25,d="/",p={Enter:a.default.ENTER,Tab:a.default.TAB,ArrowUp:a.default.UP,ArrowDown:a.default.DOWN,Backspace:a.default.BACKSPACE},h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleSelect=function(e){e.useOnce();var t=window.getSelection(),n=m(r.ctx,t);void 0!==n&&((0,i.default)(t,n.length+1),r.ctx.replaceSelection(e.message),(0,i.default)(t,e.message.length),r.handle(a.default.INACTIVE))},r.handlers={onKeyDown(e,t){var n=p[e.key];return!!n&&this.handle(n,[e,t])},onSelect(e,t){if(c)return!1;if(this.ctx.isComposing)return!1;var n=window.getSelection(),r=m(this.ctx,n);return void 0===r?(this.handle(a.default.INACTIVE),!1):(this.handle(a.default.FILTER,[r]),!1)},onBlur(){return this.handle(a.default.INACTIVE),!1}},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();function m(e,t){var n="",r=!1,a=!0;return(0,o.default)(e,t,function(e,t,o){return r?(i=e,a=Boolean(u.default[i])||b.test(i),!0):n.length>f||void((r=e===d)||(n=e+n));var i}),r&&a?n:void 0}var b=/\W/;e.exports=new h},ciifehaief:function(e,t){e.exports={muted:"_1pOq-",container:"_2ndBv",clickable:"_3UFi3",caption:"_3FeE8",author:"_3Qug7",meta:"_1L1b-",hasCaption:"_21klb",actionButton:"_1B0oP",thumb:"_3qW--",avatar:"_2rdru",map:"uTFa6",overlay:"_2qCGf",expired:"aJedp",thumbBody:"_1NZVj",quote:"_23sdy",status:"_3C3Pi",statusIcon:"_149ps",statusText:"_2ofvs",stopLocation:"_2SLZ5",viewLocation:"zPczZ",hidden:"_3upOq"}},cijaehcdg:function(e,t,n){"use strict";e.exports=function(e){return!e.getModifierState("Shift")&&!e.getModifierState("Alt")&&!e.getModifierState("Control")}},cijhadicdb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("becfabjeeg")),i=s(n("bfdcadbbif")),u=s(n("dcbcechchi"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.direction,t=void 0,n=void 0,r=void 0;if("earlier"===e&&this.props.isLoadingEarlierMsgs||"recent"===e&&this.props.isLoadingRecentMsgs||"around"===e&&this.props.isLoadingAroundMsgs)t=a.createElement(o.default,{stroke:6,size:24,color:"highlight"}),n=l10n.t(628);else{switch(e){case"earlier":n=l10n.t(625);break;case"recent":n=l10n.t(626);break;default:n=l10n.t(628)}t=a.createElement("div",{className:u.default.icon},a.createElement(i.default,{name:"refresh"})),r=this.props.loadMoreMsgs}return a.createElement("div",{className:u.default.wrapper},a.createElement("div",{className:u.default.button,title:n,onClick:r},t))}}]),t}();l.displayName="LoadMoreMessages",t.default=l},cijhchjfjc:function(e,t){e.exports={muted:"_21zN-",preview:"HNuTV",bubbleIn:"Lhd3q",bubbleOut:"_2nZ2E",title:"_2IHkF",description:"_3JxFB",source:"_23MBZ",body:"_2a6mc",noThumb:"D_Fkg",thumbnailWrapper:"h6D8Z",thumbnail:"WGJYh",youtubeThumbnail:"pCs82",thumbnailPlaceholder:"_1RKID",mediaStateControlsWrapper:"_2QYdY",attribution:"_2W5M3"}},cijihedhb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("cificacaii")),i=d(n("fifhbjiec")),u=d(n("bhheahajjg")),s=d(n("ihfccfgdf")),l=d(n("eedjbihej")),c=n("ejbdjaifi"),f=n("dhhfaeacef");function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"renderDescription",value:function(){var e=this.props.businessProfile;return e&&e.description?a.createElement("div",{className:o.default.description},a.createElement(i.default,{text:e.description,direction:"auto",selectable:!0,titlify:!0})):null}},{key:"renderPicture",value:function(){var e=this.props,t=e.profilePicThumb,n=e.contact;if(!t)return null;var r=(0,f.getDefaultIcon)(n.id);return a.createElement("div",{className:o.default.photo},a.createElement(f.DetailImageCommon,{profilePicThumb:t,loader:!0,defaultIcon:r,profilePicThumbImg:t.imgFull,spinnerClassName:o.default.spinner,imgClassName:o.default.img,theme:"business"}))}},{key:"render",value:function(){var e=this.props.contact;return a.createElement("div",{className:o.default.header},this.renderPicture(),a.createElement("div",{className:o.default.text},a.createElement(l.default,{block:!0,className:o.default.name,theme:"large"},a.createElement(u.default,{contact:e,useDisplayName:!0,selectable:!0,showBusinessCheckmark:!0})),this.renderDescription()))}}]),t}();p.CONCERNS={profilePicThumb:["imgFull"],contact:["id","isMe"],businessProfile:["description"]},p.displayName="ProductListDrawerHeader",t.default=(0,s.default)((0,c.hoc)(p),p.CONCERNS)},cijjejhjfh:function(e,t){e.exports={muted:"_2tSdY",stickerItem:"_20-F",stickerMenu:"U-JiQ"}},cjaagagigi:function(e,t){e.exports={muted:"zCXcX",author:"_1QjgA",name:"_1uQFN",number:"ZObjg",screenName:"_1F9Ap",verifiedIcon:"_1Tvm-",hoverable:"_2q8oz"}},cjabddhidj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n("cgcgbfbffj")),o=d(n("ebjaejiaba")),i=d(n("dbdfbgehgj")),u=d(n("dfjfgdhbjj")),s=d(n("bjigbaghc")),l=d(n("bhggeigghg")),c=n("eaaehfdjdg"),f=d(c);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.stale=!1,r.add(e,{silent:!0}),r.contact=n,r.listenTo(l.default.GroupMetadata,`group_participant_change_${s.default.me.toString()}`,r.updateCommonGroups),r.listenTo(l.default.GroupMetadata,`group_participant_change_${r.contact.toString()}`,r.updateCommonGroups),r.listenTo(f.default,"change:stream",function(){f.default.stream===c.STREAM.DISCONNECTED&&(r.stale=!0)}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"updateCommonGroups",value:function(e){var t=l.default.GroupMetadata.assertGet(e).participants,n=s.default.me;this.get(e)?t.get(this.contact)&&t.get(n)||this.remove(e):t.get(this.contact)&&t.get(n)&&this.add(i.default.assertGet(e))}}]),t}();p.model=o.default,p.comparator=u.default,t.default=p},cjafhagbj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendMsgRecord=function(e){if(!a.default.supportsFeature(a.default.F.MD_BACKEND))return o.default.msgCreateRecord(e).then(function(e){return 200!==e.status?Promise.reject(new r.ServerStatusCodeError(e.status)):e})};var r=n("ddjgcfjicj"),a=i(n("ccaaiecfib")),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}},cjaiehadfe:function(e,t,n){"use strict";var r={sendConversationDismissChangeNumber:function(e){return this.sendConversationOpWithKey("modify",e,void 0,void 0)}};e.exports=r},cjbgdeaacg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("ihfccfgdf")),i=n("ejbdjaifi"),u=l(n("bfdcadbbif")),s=l(n("bacgdahheh"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.msg.ack,t=void 0;return t=e<1?"status-time":1===e?"status-check":2===e?"status-dblcheck":"status-dblcheck-ack",a.createElement("div",{className:s.default.ack},a.createElement(u.default,{name:t}))}}]),t}();c.CONCERNS={msg:["ack"]},c.displayName="MsgAck",t.default=(0,o.default)((0,i.hoc)(c),c.CONCERNS)},cjbicbfaej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("baehciajii")),i=m(n("gbfffciea")),u=m(n("dhfbfehaef")),s=m(n("djhbegbdaf")),l=m(n("fffdgbfji")),c=m(n("chcadgfgad")),f=m(n("cfaiaibca")),d=n("bfjajhbdf"),p=m(d),h=m(n("ceffhbhahb"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=["NO_MATCH","SPAM","ILLEGAL","SCAM","KNOCKOFF","OTHER"],v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={reason:null},r.onCancel=function(){var e=r.props.onCancel;e&&e()},r.onSubmit=function(){if(!r.state.reason)return r.noSelectionToast();r.props.onTellUsMoreSubmit(r.state.reason)},r.onReasonChange=function(e){e.target&&e.target.value&&r.setState({reason:e.target.value})},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"noSelectionToast",value:function(){i.default.openToast(a.createElement(p.default,{msg:l.default.t(870),id:(0,d.genId)()}))}},{key:"renderRadioOptions",value:function(){var e=this,t=this.state.reason;return g.map(function(n){return a.createElement("li",{key:`ReportProductReasonPopup-${n}-option`},a.createElement("label",{className:o.default.label},a.createElement("input",{type:"radio",name:n,value:n,onChange:e.onReasonChange,className:o.default.input,checked:t===n}),a.createElement(y,{reason:n})))})}},{key:"render",value:function(){var e=l.default.t(865),t=a.createElement("div",{className:(0,h.default)(o.default.section)},a.createElement("ul",{className:o.default.reasonList},this.renderRadioOptions())),n=a.createElement(f.default,{a8nText:"popup-controls-submit",type:"primary",onClick:this.onSubmit,key:"ReportProductReasonPopup-submitButton",disabled:!this.state.reason},l.default.t(868)),r=a.createElement(f.default,{type:"plain",a8nText:"popup-controls-cancel",onClick:this.onCancel,key:"ReportProductReasonPopup-cancelButton"},l.default.t(1091)),i={escape:this.onCancel},s=a.createElement("div",{className:o.default.buttons},r,n);return a.createElement(u.default,{handlers:i},a.createElement(c.default,{title:e,actions:s,children:t}))}}]),t}();function y(e){var t=e.reason;switch(t){case"NO_MATCH":return a.createElement(s.default,{id:863});case"SPAM":return a.createElement(s.default,{id:867});case"ILLEGAL":return a.createElement(s.default,{id:861});case"SCAM":return a.createElement(s.default,{id:866});case"KNOCKOFF":return a.createElement(s.default,{id:862});case"OTHER":return a.createElement(s.default,{id:864});default:throw new Error(`Invalid reason: ${t}`)}}v.displayName="ReportProductReasonPopup",t.default=v},cjcabghhji:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MMS_VCA_ENABLED=!1,t.CAT_HOST_TIMESPAN=0,t.MAX_BUCKETS=null},cjcaccbiih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("bjdfbiahbi")),i=d(n("fifhbjiec")),u=d(n("ccaaiecfib")),s=d(n("ihfccfgdf")),l=n("ejbdjaifi"),c=d(n("bfdcadbbif")),f=d(n("ecgfheibgg"));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=e.presence,r=void 0,s=void 0;return(r="list"===this.props.location||"info"===this.props.location?n.getFormattedString():n.withholdDisplay?this.props.placeholder:n.getFormattedString()||(n.forceDisplay?"":this.props.placeholder))&&(s=a.createElement(o.default,{text:r,location:this.props.location})),"title"===this.props.location&&u.default.supportsFeature(u.default.F.VNAME_V_2)&&r!==this.props.placeholder&&t&&t.showBusinessVname?a.createElement("div",{className:f.default.wrapper},a.createElement(i.default,{text:t.verifiedName,className:f.default.verifiedText,direction:"auto",ellipsify:!0,titlify:!0}),a.createElement("div",{className:f.default.icon},a.createElement(c.default,{name:"psa-verified"})),s&&a.createElement("span",{className:f.default.divider},""),s):s||null}}]),t}();p.CONCERNS={contact:["name","verifiedName","showBusinessVname"],presence:["withholdDisplay","forceDisplay","hasData"],chatstate:["type","deny","t"]},p.displayName="UserSubtitle",t.default=(0,s.default)((0,l.hoc)(p),p.CONCERNS)},cjcecfgaji:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n("bgeijhbbad")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=b;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("dgfecega"),u=h(i),s=n("becfabjeeg"),l=h(s),c=h(n("ccfdaijebj")),f=h(n("ceffhbhahb")),d=h(n("dhhbehfjej")),p=n("behbjhhbg");function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,r.default)(p.MIMETYPES,function(e){return"image"===e.msgType||"video"===e.msgType});function b(e){var t=e.mimeType,n=e.url,r=e.isGif,p=e.size,h=e.processing,b=e.preview,g=void 0;switch(m[t].msgType){case"image":g=o.createElement("img",{src:n,className:d.default.img});break;case"video":var v=r?{loop:!h,autoPlay:!h,muted:!1,controls:!1}:{},y=h?o.createElement("div",{className:d.default.spinner},o.createElement(l.default,{color:s.colorOptions.white,size:50,stroke:3})):null,_=b?o.createElement("img",{className:d.default.staticPreview,src:`data:image/jpeg;base64,${b}`}):null,E=h?null:o.createElement(c.default,a({controls:!0,className:d.default.video},v,{src:n}));g=o.createElement("div",{className:(0,f.default)(d.default.img,d.default.videoContainer)},y,E,_);break;case"audio":g=o.createElement("audio",{controls:!0,className:d.default.audio,type:t,src:n})}return o.createElement("div",{className:d.default.container,"data-animate-attach-media":!0},o.createElement("div",{className:d.default.media},o.createElement(u.default,{type:i.FIT_TYPE.SCALE_DOWN,size:p},g)))}b.displayName="AttachMediaTypeMedia"},cjcejcdhic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return{low:o(`${t}-${"large"===n?"40":"64"}.png`,e.toLowerCase()),high:o(`${t}-64.png`,e.toLowerCase())}};var r=n("ecejfgiega"),a=n("cjedbjfabb").EMOJI.LARGE_EMOJI_BASE_PATH;function o(e,t){return`${a}/${r.prefixHash}_${t.slice(0,1)}_${e}`}},cjcffhicea:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListType=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=C(n("dbdfbgehgj")),o=C(n("dceicchccd")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=n("bgddggdhc"),s=C(n("dcaibchbg")),l=n("gajigdged"),c=C(l),f=C(n("gbfffciea")),d=C(n("djcchigfih")),p=C(n("djbhiedbef")),h=n("dajffajabh"),m=C(h),b=C(n("bggeiidigb")),g=n("dhfbfehaef"),v=C(g),y=C(n("dbciicjiad")),_=n("chcadgfgad"),E=C(_),j=C(n("efhjefegg")),O=C(n("bhcdajjdgi")),S=C(n("fbjjefaic")),w=n("ejbdjaifi"),P=C(n("ccfcjccjbg")),M=C(n("ciefdgaafc"));function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=n("ddajbaceej"),I=t.ListType={CHAT_SELECT_MODAL:"CHAT_SELECT_MODAL",CONTACT_SELECT_MODAL:"CONTACT_SELECT_MODAL",PARTICIPANT_MANAGE_MODAL:"PARTICIPANT_MANAGE_MODAL"},R=function(e){function t(){var e,n,r;T(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=A(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.setSearch=function(e){return r.search=e},r.setList=function(e){return r.list=e},r.flatListController=new b.default,r.state={searchText:""},r.onSearch=r.props.debounce(function(e){r.setState({searchText:e})},100),r.onFocusList=function(e){e&&(e.preventDefault(),e.stopPropagation()),r.list&&k.focus((0,u.forbiddenAssertDOMNode)(r.list))},r.indicateSearchFocus=function(e){r.active.unset(),(0,g.indicateFocus)(r.search,["#fbfbfb","#D9F3FF"])},r.onLeaveList=function(e){(0,g.shouldIndicateFocus)(),k.focus(r.search)},r.handleEnter=function(e){r.list&&r.list.toggleFirst(!1)},r.handleForward=function(){var e=r.props,t=e.onChat,n=e.listType,o=r.selectedChats.getSelected();n===I.CONTACT_SELECT_MODAL||n===I.PARTICIPANT_MANAGE_MODAL?t(o):Promise.map(o,function(e){return e instanceof P.default?a.default.find(e.id):e}).then(function(e){t(e)})},r.handleSelectionChanged=function(e,t){r.search&&r.search.select()},r.onSelectedListDelete=function(e,t){r.selectedChats.setVal(t,!1)},r.onCancel=r.props.onCancel?r.props.onCancel:function(){return f.default.closeModal()},A(r,n)}return N(t,i.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.active=new s.default([],function(e){return e.id}),this.selectedChats=new o.default([],function(e){return e.id.toString()})}},{key:"componentWillUnmount",value:function(){this.onSearch.cancel()}},{key:"render",value:function(){var e={down:this.onFocusList,enter:this.handleEnter},t=void 0;switch(this.props.listType){case I.CHAT_SELECT_MODAL:t=i.createElement(j.default,{ref:this.setList,msgType:this.props.msgType,excludeChat:this.props.excludeChat,getInitialItems:this.props.getInitialItems,searchText:this.state.searchText,activeChat:this.active,selectedChats:this.selectedChats,maxChats:this.props.maxItems,onLeaveList:this.onLeaveList,onSelectionChanged:this.handleSelectionChanged,hasFrequentlyForwarded:this.props.hasFrequentlyForwarded,flatListController:this.flatListController});break;case I.PARTICIPANT_MANAGE_MODAL:case I.CONTACT_SELECT_MODAL:t=i.createElement(O.default,{ref:this.setList,useAllContacts:this.props.useAllContacts,getInitialItems:this.props.getInitialItems,searchText:this.state.searchText,activeChat:this.active,selectedChats:this.selectedChats,maxContacts:this.props.maxItems,onLeaveList:this.onLeaveList,onSelectionChanged:this.handleSelectionChanged,isDisabled:this.props.isDisabled,isSelected:this.props.isSelected,customSecondaryText:this.props.customSecondaryText,filter:this.props.filter,allowBlockedContacts:this.props.allowBlockedContacts,flatListController:this.flatListController});break;default:throw new Error(`Invalid list type: ${this.props.listType}`)}var n=this.props,r=n.listType,a=n.useShortName,o=!!this.props.getInitialItems&&0!==this.props.getInitialItems().length,u=r===I.PARTICIPANT_MANAGE_MODAL?i.createElement(M.default,{selections:this.selectedChats,useShortName:a,onDelete:this.onSelectedListDelete,isDisabled:this.props.isDisabled}):null,s=r===I.PARTICIPANT_MANAGE_MODAL?l.FooterType.MANAGE_ADMINS:null;return i.createElement(E.default,{type:_.TowerModalType},i.createElement(d.default,{key:"chat-modal"},i.createElement(m.default,{title:this.props.title,type:h.DRAWER_HEADER_TYPE.POPUP,onCancel:this.onCancel}),i.createElement(v.default,{handlers:e,onFocus:this.indicateSearchFocus},i.createElement(y.default,{ref:this.setSearch,onSearch:this.onSearch,placeholder:l10n.t(932)})),this.props.customHeader,u,i.createElement(p.default,{flatListControllers:[this.flatListController]},t),i.createElement(c.default,{type:s,selections:this.selectedChats,onForward:this.handleForward,startActive:o})))}}]),t}();R.displayName="SelectModal";var L=function(e){function t(){return T(this,t),A(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return N(t,(0,S.default)((0,w.hoc)(R))),r(t,[{key:"onFocusList",value:function(e){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).onFocusList(e)}}]),t}();t.default=L},cjcghajbag:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRODUCT_REVIEW_STATUS=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=u(n("cgcgbfbffj")),i=u(n("idbcfjbae"));function u(e){return e&&e.__esModule?e:{default:e}}var s=t.PRODUCT_REVIEW_STATUS={NO_REVIEW:"",PENDING:"PENDING",REJECTED:"REJECTED",APPROVED:"APPROVED",OUTDATED:"OUTDATED"};var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"getProductModels",value:function(){var e=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toArray",this).call(this);if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this)<1)return e;var n=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"head",this).call(this);return n&&n.catalogWid?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"filter",this).call(this,function(e){return e.reviewStatus===s.APPROVED&&!e.old}):e}},{key:"add",value:function(e,n){var r=n?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e);return this.sort(),r}}]),t}();l.model=i.default,l.comparator=function(e,t){return e.index-t.index},t.default=l},cjciachhej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendClear=function(e,t){return function e(t,n){var l=t.promises;if(l.sendClear)return l.sendClear;var c=t.getLastMsgKeyForAction();var f=c?t.msgs.get(c):void 0;var d=l.sendClear=(0,o.sendClear)(t,c,n);var p=new a.ActionType(l10n.t(17));var h=d.then(function(e){return new a.ActionType(l10n.t(16))}).catch(u.ServerStatusCodeError,function(e){if(e.status>=400)return new a.ActionType(l10n.t(15))}).catch(function(r){return s.default.error("models:chat:sendClear dropped")(r),new a.ActionType(l10n.t(15),l10n.t(152),function(){return e(t,n)})});i.default.openToast(r.createElement(a.ActionToast,{id:(0,a.genId)(),initialAction:p,pendingAction:h}));return d.then(function(e){e._duplicate||t.deleteMsgsBeforeMsgInclusive(f,n)}).catch(u.ServerStatusCodeError,function(e){}).finally(function(){l.sendClear=null})}((0,l.unproxy)(e),t)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("ccihhdchab"),o=n("dbbggghaed"),i=c(n("gbfffciea")),u=n("ddjgcfjicj"),s=c(n("bdiiahhjbe")),l=n("bheafeifce");function c(e){return e&&e.__esModule?e:{default:e}}},cjdaccjhdg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("bffjfbgbg")),i=l(n("cjieghfgda")),u=l(n("ihfccfgdf")),s=n("ejbdjaifi");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={blob:i.default.get(n.props.mediaData.filehash)},n.state.blob||e.mediaData.mediaStage!==o.default.STAGE.RESOLVED||e.downloadMedia(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidUpdate",value:function(){if(!this.state.blob){var e=this.props.mediaData.filehash;i.default.has(e)&&this.setState({blob:i.default.get(e)})}}},{key:"render",value:function(){var e=this.state.blob;return e?this.props.render(e):this.props.renderPlaceholder()}}]),t}();c.CONCERNS={mediaData:["filehash","mediaStage"]},c.displayName="MediaBlobProvider",t.default=(0,u.default)((0,s.hoc)(c),c.CONCERNS)},cjdafdbcjb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("ceffhbhahb")),i=f(n("cfedfiga")),u=f(n("eadfaddcj")),s=f(n("eahbjifecd")),l=f(n("bahgfcjcda")),c=f(n("cgfjebhhej"));function f(e){return e&&e.__esModule?e:{default:e}}var d=u.default.MSG_TYPE,p=d.CHAT,h=d.IMAGE,m=d.VIDEO,b=d.LOCATION,g=d.DOCUMENT,v=d.VCARD,y=d.MULTI_VCARD,_=d.PRODUCT,E=d.TEMPLATE,j=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.inConversation,r=e.theme,f=void 0,d=void 0;switch(t.type){case h:case m:case g:case _:f=a.createElement(s.default,{mediaData:t.mediaData});break;case b:t.body&&(f=a.createElement("div",{style:{backgroundImage:`url(data:image/jpeg;base64,${t.body})`},className:i.default.image}));break;case p:t.thumbnail&&(f=a.createElement("div",{style:{backgroundImage:`url("data:image/jpeg;base64,${t.thumbnail}")`},className:i.default.image}));break;case v:d=n?58:79,f=a.createElement(l.default,{waid:t.getVCardThumbnailWAid(),thumb:t.body&&c.default.thumbnail(t.body),quoted:!0,square:!0,size:d});break;case y:d=n?58:79,f=a.createElement(l.default,{size:d,square:!0,quoted:!0});break;case E:if(t.hsmEnabled)switch(t.subtype){case u.default.TEMPLATE_SUBTYPE.IMAGE:case u.default.TEMPLATE_SUBTYPE.VIDEO:case u.default.TEMPLATE_SUBTYPE.DOCUMENT:f=a.createElement(s.default,{mediaData:t.mediaData});break;case u.default.TEMPLATE_SUBTYPE.LOCATION:f=a.createElement("div",{style:{backgroundImage:`url(data:image/jpeg;base64,${t.body})`},className:i.default.image})}}var j=(0,o.default)(i.default.imageWrapper,{[i.default.composeBox]:"composeBox"===r,[i.default.statusV3]:"statusV3"===r});return f?a.createElement("div",{className:j},a.createElement("div",{className:i.default.msgImage},f)):null}}]),t}();j.displayName="QuotedMedia",t.default=j},cjdfbfihbe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._children={},this._indices=[],t&&(this._data=t)}return r(e,[{key:"addBackwardsString",value:function(t,n){for(var r=t.length-1,a=this;r>=0;){var o=t.charAt(r);a._addIndex(n),a=a.get(o)||a.set(o,new e),r--}return a._addIndex(n),this}},{key:"addForwardsString",value:function(t,n){for(var r=0,a=this;r<t.length;){var o=t.charAt(r);a._addIndex(n),a=a.get(o)||a.set(o,new e),r++}return a._addIndex(n),this}},{key:"set",value:function(e,t){return this._children[e]=t,t}},{key:"get",value:function(e){return this._children[e]}},{key:"hasChildren",value:function(){return!function(e){for(var t in e)return!1;return!0}(this._children)}},{key:"search",value:function(e){var t=this._data;if(!t)return[];for(var n=this,r=0;r<e.length&&n;r++){var a=e[r];n=n.get(a)}return n?n._getIndices().map(function(e){return t[e]}):[]}},{key:"_addIndex",value:function(e){this._indices.push(e)}},{key:"_getIndices",value:function(){var e=this._indices,t=Object.keys(this._children);return 1===t.length&&0===this._indices.length?this._children[t[0]]._getIndices():e}},{key:"_optimize",value:function(){var e=this;if(!this.hasChildren())return this;var t=Object.keys(this._children);return t.forEach(function(t){e._children[t]._optimize()}),1===t.length&&(this._indices=[]),this}}],[{key:"fromBackwardsStrings",value:function(t,n){return t.reduce(function(e,t,n){return e.addBackwardsString(t,n)},new e(n))._optimize()}},{key:"fromForwardsStrings",value:function(t,n){return t.reduce(function(e,t,n){return e.addForwardsString(t,n)},new e(n))._optimize()}}]),e}();t.default=a},cjeajhjegi:function(e,t){e.exports={muted:"_3oqez",container:"_15Rkh",link:"_1000r",title:"lnNFH",address:"eqh3k",hasURL:"_32tnI",hasUrl:"_32tnI",text:"_2mjS6",author:"KKKc8",forwarded:"ZT7uk",forwardedIndicator:"_3Jnwt",hasAuthor:"_2nXsu",meta:"_29iuh",thumb:"_3s-xU",thumbBody:"_1YW53",quote:"_3wvFg",hasCaption:"_3z_3G",caption:"_1FHrD",footer:"_2N5do"}},cjecagehda:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return e.onRoot(i(e,t.children,n),n)};var r,a=n("cgeeeeddea"),o=(r=a)&&r.__esModule?r:{default:r};function i(e,t,n){return t.reduce(function(t,r){return t.push(function(e,t,n){if(t.type){var r=t.value;switch(t.type){case"text":return e.onText(r,n);case"delimiter":return e.onDelimiter(r,n);default:(0,o.default)(!1,"Invalid node type")}}return e.onMutator(t.mutator,i(e,t.children,n),t.match[5],t.opts,n)}(e,r,n)),t},[])}},cjedbbhjhh:function(e,t,n){"use strict";e.exports={AllStarredMsgs:n("djfhiceeje").default,Blocklist:n("bgfcjjddjf").default,BusinessProfile:n("ejiicdbii").default,Call:n("biaifggagf").default,Catalog:n("ejegihaeh").default,Product:n("cjcghajbag").default,Chat:n("dbdfbgehgj").default,ChatPreference:n("ebcagbhefg"),Cmd:n("dhggbbghfb"),Contact:n("dhigahgdjb").default,ConversionTuple:n("ccbihadedf"),EmojiVariant:n("dfbhcehadj").default,GroupMetadata:n("djaadchjch"),Label:n("bijffg").default,LiveLocation:n("cdcijfdgje").default,Msg:n("biecbbiiee").default,MsgInfo:n("eigdejjai").default,Mute:n("dagdiahdfi").default,Presence:n("ebbjbbjjg").default,ProfilePicThumb:n("dhefcajhhb").default,QuickReply:n("bechejbabh").default,RecentEmoji:n("bjfecgfdgj").default,RecentSticker:n("jdigiabic").default,ServerProps:n("bfgbdiffgd").default,StarredGifMsgs:n("dfgeejdaib"),Status:n("gbbacfeci").default,StatusV3:n("bgcdajbhif").default,Sticker:n("dhjffabgfb").default,StickerPack:n("fagbfehid").default,Wid:n("ecadbdfdef")}},cjefbihjci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playMidPttTone=function(){i.play()},t.playEndPttTone=function(){u.play()};var r,a=n("eadfaddcj"),o=(r=a)&&r.__esModule?r:{default:r};var i=new window.Audio(o.default.PTT_MIDDLE_TONE_PATH),u=new window.Audio(o.default.PTT_END_TONE_PATH)},cjegehjigc:function(e,t){e.exports={muted:"t3vGj",playerWrapper:"_2VR0P",mediaStateControls:"g5ZbI",playerBackground:"_3KWZg",media:"_2Rvcb",captionBackdrop:"_3omcs",mediaCaption:"_23YnB",progresBarBackdrop:"_1wQjq",progressBarBackdropNarrow:"_3qWvl",profile:"_2soDh",nonClickProfile:"_1biSk",profileNarrow:"_20Axr",playerAvatar:"_38nNR",measuringProfile:"_1f7BH",profileMac:"N4pj4",msgInfo:"F6FSn",msgInfoName:"_1Og5G",timestamp:"_3sv8f",playerContent:"_1nKyQ",statusPanelPlayerContent:"_3ZnPf",statusThumbnailPlayerContent:"_24B2W",loading:"nck4i",v3Image:"_3LH4d",v3Video:"QYk9n",text:"_2ylxC",textLarge:"Iz658",textMedium:"_3JSAh",textSmall:"_2Rme_",font_1:"_3xchW",font1:"_3xchW",font_2:"_3Y-cn",font2:"_3Y-cn",font_3:"izRyU",font3:"izRyU",font_5:"_1el17",font5:"_1el17",unknown:"_37AKF",textThumbnailPlayerContent:"_1A1Ek"}},cjejfecgc:function(e,t){e.exports={muted:"_2Wn9_",avatar:"_3RWII",avatarDefault:"B9BIa",avatarImage:"jZhyM",isLoaded:"_13Xdg",avatarSquare:"eLUC2",avatarBorder:"L4M2f",status_v3:"_1G8Da",statusV3:"_1G8Da"}},cjfhhbcfdh:function(e,t,n){e.exports=n.p+"img/sticker-empty_9d7feb47a66ef5b59cc731acafd02266.png"},cjfiaefceb:function(e,t){e.exports={muted:"_4sjWD",ring:"_18eSE",read:"_3J6CL",unread:"_3yudO"}},cjgadgafji:function(e,t){e.exports={muted:"_1C0vb",btn:"_1g8sv",large:"NOJWi"}},cjgafgfbff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("fffdgbfji")),i=s(n("cfiighfhhg")),u=s(n("dbabefhajh"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.msg;return a.createElement(u.default,{msg:e,displayAuthor:this.props.displayAuthor},a.createElement(i.default,{iconName:"unknown",msg:e},o.default.t(293)))}}]),t}();l.displayName="GroupsV4InviteMsgPlaceholder",t.default=l},cjgdeggcdi:function(e,t){e.exports={muted:"WHk74",inputEmoji:"_2hexs",wrapper:"_3ogpF",textInput:"_3B1_S",labelText:"Am8s6",clearInput:"_2DGEU",float:"WoUSh",textActive:"_35YcC",suggestionsPositioner:"_1A9F6",suggestionsContainer:"_2bcHA",charCounter:"_3LlXC",inputControls:"_1zv3N",charCounterWithClearBtn:"_2bX7-",spacer:"_388ph",noPlaceholder:"_1aGJU",buttonContainer:"_3vWnP",active:"_2Fvnm"}},cjidjghdjj:function(e,t){e.exports={muted:"_3CMWE",body:"_1IiPy",vcardWrapper:"_1v8mQ"}},cjihajjici:function(e,t){e.exports={muted:"_2K_Lw",mediaPanelHeader:"_3Jv5R",info:"_31qvp",productName:"_1_-3U",mediaPanelTools:"OUGX2",infoName:"_2Hnjv"}},cjihgicbe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("bfbggcdbfb"),i=n("bdiiahhjbe"),u=(r=i)&&r.__esModule?r:{default:r};var s={document:o.MEDIA_TYPE.DOCUMENT,video:o.MEDIA_TYPE.VIDEO,gif:o.MEDIA_TYPE.GIF,image:o.MEDIA_TYPE.PHOTO,audio:o.MEDIA_TYPE.AUDIO},l=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaPickerSentUnchanged=0,this.mediaPickerDeleted=0,this.mediaPickerChanged=new Set,this.mediaPickerCroppedRotated=new Set,this.mediaPickerDrawing=new Set,this.mediaPickerStickers=new Set,this.mediaPickerText=new Set,this.mediaPickerLikeDoc=0,this.mediaPickerNotLikeDoc=0,this.mediaPickerOrigin=0,this.mediaPickerT=0,this.t0=Date.now(),this.mediaType=s[n],this.mediaPickerOrigin=r,this.medias=new Set,this.medias.add(t),this.changeTypes={mediaPickerCroppedRotated:this.mediaPickerCroppedRotated,mediaPickerDrawing:this.mediaPickerDrawing,mediaPickerStickers:this.mediaPickerStickers,mediaPickerText:this.mediaPickerText}}return a(e,[{key:"onAdd",value:function(e){this.medias.add(e),"document"===this.mediaType?this.mediaPickerLikeDoc++:this.mediaPickerNotLikeDoc++}},{key:"onChange",value:function(e,t){this.mediaPickerChanged.add(e),this.changeTypes[t].add(e)}},{key:"onDelete",value:function(e){if(this.medias.delete(e),this.mediaPickerDeleted++,0===this.medias.size)return this.onCancel()}},{key:"onSend",value:function(){return this.mediaPickerSent=this.medias.size,this.mediaPickerSentUnchanged=this.mediaPickerSent-this.mediaPickerChanged.size,this.dataPreflight()}},{key:"onCancel",value:function(){return this.mediaPickerSent=0,this.mediaPickerSentUnchanged=0,this.dataPreflight()}},{key:"onPause",value:function(){this.mediaPickerT+=Date.now()-(this.t0||0),this.t0=null}},{key:"onResume",value:function(){this.t0=null!=this.t0?this.t0:Date.now()}},{key:"dataPreflight",value:function(){var e=this.mediaPickerSentUnchanged;return isNaN(e)&&(e=0,u.default.assert(!1,"mediaPickerSentUnchange is not a number",`mediaPickerSentUnchange mediaPickerSent: ${null!=this.mediaPickerSent&&0!==this.mediaPickerSent?this.mediaPickerSent:"undefined"}, mediaPickerChanged: ${this.mediaPickerChanged.size||"undefined"}`)()),{mediaPickerSent:this.mediaPickerSent,mediaPickerSentUnchanged:e,mediaPickerT:this.mediaPickerT+(Date.now()-(this.t0||0)),mediaType:this.mediaType,mediaPickerOrigin:this.mediaPickerOrigin,mediaPickerChanged:this.mediaPickerChanged.size,mediaPickerCroppedRotated:this.mediaPickerCroppedRotated.size,mediaPickerDrawing:this.mediaPickerDrawing.size,mediaPickerStickers:this.mediaPickerStickers.size,mediaPickerText:this.mediaPickerText.size,mediaPickerLikeDoc:this.mediaPickerLikeDoc,mediaPickerNotLikeDoc:this.mediaPickerNotLikeDoc,mediaPickerDeleted:this.mediaPickerDeleted}}}]),e}();t.default=l},cjiiehdbge:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=y(n("ddhijeejag")),o=v(n("ceffhbhahb")),i=v(n("hbabifghf")),u=n("ccgdfaeibd"),s=n("bgiachiigg"),l=v(n("bffjfbgbg")),c=y(n("ecibddhig")),f=v(n("gbfffciea")),d=v(n("biddiiafgd")),p=v(n("bfdcadbbif")),h=v(n("dfgeejdaib")),m=v(n("eceadcicaf")),b=n("ejbdjaifi"),g=v(n("chdhhgfaj"));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.setRefGif=function(e){r._gifRef=e},r.getGifProvider=function(){switch(r.props.msg.gifAttribution){case s.VIDEO_MESSAGE_ATTRIBUTION.GIPHY:return u.GIPHY;case s.VIDEO_MESSAGE_ATTRIBUTION.TENOR:return u.TENOR;default:return""}},r.handleClick=function(e){switch(e.stopPropagation(),r.props.msg.mediaData.mediaStage){case l.default.STAGE.NEED_POKE:r.props.msg.downloadMedia(!0);break;case l.default.STAGE.FETCHING:r.props.msg.cancelDownload();break;case l.default.STAGE.UPLOADING:r.props.msg.cancelUpload();break;case l.default.STAGE.ERROR_MISSING:f.default.openModal(a.createElement(d.default,{title:l10n.t(704),onOK:function(){return f.default.closeModal()},okText:l10n.t(1225)},l10n.t(703)))}},r.onUnstarMsg=function(){var e=r.props.msg;h.default.remove(e)},_(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"animateGif",value:function(){var e=this;this.props.listeners.uiIdle(function(){e._gifRef&&e._gifRef.setShouldAnimate(!0)})}},{key:"componentDidMount",value:function(){this.animateGif()}},{key:"componentDidUpdate",value:function(){this.animateGif()}},{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props.msg;this.props.listeners.add(t,"change:mediaData.mediaStage",function(){e.forceUpdate()}),this.props.listeners.uiIdle(function(){t.downloadMedia()})}},{key:"render",value:function(){var e=this.props.msg,t=e.mediaData,n=new u.GifInfo(void 0,t.renderableUrl,void 0,void 0,void 0,Math.round(t.aspectRatio*u.TARGET_GIF_HEIGHT),this.getGifProvider(),!1);if(t.mediaStage===l.default.STAGE.RESOLVED)return a.createElement(i.default,{key:e.filehash,ref:this.setRefGif,gif:n,onSend:this.props.onSend,isStarred:!0,onUnstarMsg:this.onUnstarMsg});if(t.preview){var r=t.preview.url(),s=void 0;switch(t.mediaStage){case l.default.STAGE.ERROR_MISSING:break;case l.default.STAGE.NEED_POKE:s=a.createElement(c.Download,null);break;case l.default.STAGE.FETCHING:case l.default.STAGE.UPLOADING:s=a.createElement(c.PendingCancel,null);break;default:s=a.createElement(c.Pending,null)}var f=(0,o.default)(g.default.thumb,{[g.default.blur]:t.mediaStage===l.default.STAGE.ERROR_MISSING}),d=a.createElement("div",{className:f,style:{backgroundImage:`url(${r})`,height:`${u.TARGET_GIF_HEIGHT}px`}});return a.createElement("div",{className:g.default.container,style:{flexBasis:n.widthStr},key:e.filehash},a.createElement("div",{className:g.default.wrapper,style:{width:n.widthStr},onClick:this.handleClick},a.createElement("div",{className:g.default.innerWrapper,style:{paddingBottom:n.ratioStr}},s,d)),a.createElement("button",{className:g.default.starIcon,onClick:this.onUnstarMsg},a.createElement(p.default,{name:"star-light"})))}return null}}]),t}();E.displayName="StarredGifPreview",t.default=(0,m.default)((0,b.hoc)(E))},cjijbdhgbf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=document.createElement("img");return t.src=e,{width:t.naturalWidth,height:t.naturalHeight}}},cjijcbcfhd:function(e,t,n){"use strict";var r,a=n("cahfddcdga"),o=(r=a)&&r.__esModule?r:{default:r};var i={parsePaymentInfo:function(e,t){t&&(e.currency=t.currency||"",e.amount1000=(0,o.default)(t.amount1000),e.receiverJid=this.decodeJid((0,o.default)(t.receiverJid)),e.paymentStatus=t.status,e.paymentTransactionTimestamp=(0,o.default)(t.transactionTimestamp))}};e.exports=i},cjijggjfed:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THEMES=void 0;var r=s(n("dhgeffcgbg")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=s(n("ceffhbhahb")),u=s(n("bbfiaehhcd"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=t.THEMES={CAROUSEL:"CAROUSEL",CAROUSEL_END:"CAROUSEL_END",MENU:"MENU"},f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleClick=function(e){r.props.onClick&&r.props.onClick(r.props.sectionId,e)},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"_getStyle",value:function(e){return(0,r.default)(this._style,e)?this._style:(this._style=e,this._style)}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.title;return o.createElement("div",{ref:this.props.onRef,role:"button",className:(0,i.default)(u.default.tab,{[u.default.menu]:t===c.MENU,[u.default.carousel]:t===c.CAROUSEL||t===c.CAROUSEL_END,[u.default.carouselEnd]:t===c.CAROUSEL_END,[u.default.selected]:this.props.selected}),onClick:this._handleClick,style:this._getStyle({width:this.props.width,transform:this.props.transform}),title:n},this.props.children)}}]),t}();f.displayName="MenuTab",t.default=f},cjjdbgcihf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("eacifebjhe"),u=(r=i)&&r.__esModule?r:{default:r};var s=t.defaults={jitter:0,maxTimeout:1/0},l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._opts=a({},s,e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),o(t,[{key:"_retryCount",get:function(){return this._i}}]),o(t,[{key:"_next",value:function(){var e=this._opts,n=e.factor,r=e.jitter,a=e.maxTimeout,o=e.retries,i=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_next",this).call(this);if(i.done)return i;if(this._retryCount>o)return this.return();var u=n;return u*=i.value,u*=Math.random()*r*2-r+1,{done:!1,value:u=Math.min(u,a)}}}]),t}();t.default=l},cjjefedaad:function(e,t,n){"use strict";e.exports={"#":1,"":1,"*":2,"0":3,"":3,"1":4,"":4,"2":5,"":5,"3":6,"":6,"4":7,"":7,"5":8,"":8,"6":9,"":9,"7":10,"":10,"8":11,"":11,"9":12,"":12,"":13,"":14,"":17,"":21,"":22,"":23,"":24,"":31,"":32,"":48,"":49,"":54,"":55,"":59,"":61,"":62,"":64,"":79,"":80,"":81,"":82,"":83,"":84,"":85,"":86,"":87,"":88,"":89,"":90,"":91,"":93,"":94,"":95,"":96,"":97,"":100,"":109,"":110,"":115,"":116,"":117,"":120,"":126,"":129,"":130,"":132,"":147,"":148,"":149,"":151,"":153,"":159,"":165,"":183,"":184,"":185,"":188,"":190,"":191,"":192,"":193,"":195,"":199,"":201,"":204,"":205,"":206,"":209,"":210,"":212,"":213,"":214,"":215,"":217,"":218,"":219,"":220,"":221,"":223,"":225,"":226,"":228,"":230,"":231,"":278,"":287,"":298,"":306,"":308,"":341,"":345,"":353,"":421,"":462,"":480,"":481,"":482,"":483,"":485,"":487,"":488,"":489,"":490,"":491,"":492,"":493,"":495,"":497,"":498,"":499,"":500,"":501,"":502,"":503,"":505,"":520,"":526,"":545,"":546,"":548,"":549,"":550,"":551,"":552,"":555,"":557,"":558,"":559,"":560,"":562,"":563,"":566,"":567,"":571,"":576,"":577,"":581,"":582,"":583,"":584,"":585,"":586,"":587,"":588,"":590,"":591,"":592,"":595,"":596,"":605,"":606,"":607,"":608,"":609,"":610,"":611,"":613,"":615,"":616,"":621,"":622,"":623,"":624,"":625,"":626,"":632,"":633,"":634,"":635,"":638,"":639,"":640,"":641,"":642,"":643,"":644,"":645,"":654,"":655,"":657,"":658,"":659,"":660,"":661,"":662,"":664,"":665,"":668,"":669,"":670,"":674,"":675,"":676,"":677,"":679,"":683,"":684,"":685,"":686,"":713,"":720,"":777,"":779,"":780,"":782,"":783,"":784,"":785,"":786,"":787,"":788,"":789,"":790,"":792,"":793,"":798,"":799,"":800,"":824,"":825,"":828,"":829,"":831,"":834,"":835,"":836,"":837,"":838,"":842,"":843,"":847,"":849,"":850,"":851,"":854,"":855,"":856,"":857,"":858,"":859,"":860,"":862,"":863,"":864,"":865,"":866,"":867,"":868,"":869,"":870,"":875,"":878,"":884,"":890,"":892,"":898,"":904,"":910,"":916,"":922,"":928,"":934,"":940,"":946,"":952,"":958,"":959,"":961,"":962,"":964,"":965,"":966,"":969,"":972,"":973,"":974,"":975,"":976,"":979,"":985,"":991,"":1117,"":1268,"":1303,"":1321,"":1327,"":1333,"":1351,"":1359,"":1360,"":1366,"":1367,"":1368,"":1369,"":1394,"":1400,"":1401,"":1431,"":1432,"":1433,"":1434,"":1436,"":1437,"":1439,"":1441,"":1443,"":1445,"":1446,"":1447,"":1450,"":1451,"":1452,"":1453,"":1454,"":1455,"":1456,"":1458,"":1460,"":1461,"":1462,"":1463,"":1465,"":1467,"":1468,"":1469,"":1480,"":1481,"":1489,"":1490,"":1491,"":1492,"":1493,"":1495,"":1496,"":1518,"":1525,"":1528,"":1529,"":1530,"":1531,"":1537,"":1539,"":1542,"":1545,"":1546,"":1547,"":1548,"":1550,"":1551,"":1554,"":1555,"":1556,"":1569,"":1572,"":1576,"":1577,"":1578,"":1579,"":1588,"":1589,"":1596,"":1599,"":1602,"":1606,"":1607,"":1608,"":1609,"":1610,"":1611,"":1627,"":1628,"":1629,"":1630,"":1631,"":1632,"":1633,"":1634,"":1635,"":1636,"":1637,"":1638,"":1726,"":1727,"":1728,"":1732,"":1733,"":1734,"":1735,"":1740,"":1741,"":1743,"":1744,"":1746,"":1749,"":1750,"":1751,"":1753,"":1755,"":1757,"":1759,"":1760,"":1761,"":1763,"":1764,"":1765,"":1766,"":1768,"":1771,"":1773,"":1776,"":1779,"":1780,"":1781,"":1782,"":1786,"":1851,"":1881,"":1887,"":1890,"":1891,"":1892,"":1894,"":1896,"":1899,"":1902,"":1904,"":1905,"":1906,"":1908,"":1910,"":1912,"":1913,"":1921,"":1934,"":1935,"":1937,"":1942,"":1943,"":1948,"":1988,"":1989,"":1990,"":1991,"":1992,"":1993,"":1995}},cjjjgbhjif:function(e,t){e.exports={muted:"crGsa",icon:"_3p0T6",transparent:"w4k6i"}},cjjjhbdicf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.resyncMessages=function(e){return s.default.resyncMessages(e).then(function(e){if(o.default.supportsFeature(o.default.F.MODEL_STORAGE)&&(!e.status||e.status<400)){var t=e.data,n=[],s=[];return t.forEach(function(e){var t=u.default.Chat.get(e.id);t?"clear"===e.type?n.push({id:e.id.toString(),t:e.t,unreadCount:e.unreadCount,archive:e.archive,isReadOnly:e.isReadOnly,modifyTag:e.modifyTag,notSpam:e.notSpam,pin:e.pin,changeNumberOldJid:e.changeNumberOldJid,changeNumberNewJid:e.changeNumberNewJid,muteExpiration:e.muteExpiration}):"delete"===e.type?s.push(e.id.toString()):n.push(a({},e,{id:e.id.toString()})):n.push(a({},e,{id:e.id.toString()}))}),i.default.lock(["chat"],function(e){var t=r(e,1),a=t[0];return a.bulkCreateOrMerge(n).then(function(){return a.bulkRemove(s)})}).then(function(){return e})}return e})};var o=l(n("ccaaiecfib")),i=l(n("ffjiicch")),u=l(n("bhggeigghg")),s=l(n("bihdhbjih"));function l(e){return e&&e.__esModule?e:{default:e}}},daabecicc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;return(0,a.default)(n,(0,r.default)(e,t,i),o)};var r=o(n("dfgcaedggj")),a=o(n("cjecagehda"));function o(e){return e&&e.__esModule?e:{default:e}}},daahhbhaaf:function(e,t){e.exports={muted:"_1f2ta",wrapper:"_1Ahi2",inactive:"zU1W3",offline:"_3-OfU",circle:"_38rfD",text:"t5gsa",backToCenter:"_4QzIW",visible:"_71XX9"}},dabaejgacg:function(e,t,n){"use strict";var r,a;Object.defineProperty(t,"__esModule",{value:!0}),t.default="Symbol"in window?Symbol:(a=r=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},r.iterator="@@iterator",a)},dabbhadeic:function(e,t){e.exports={muted:"_3PomN",listUser:"_2rZZg",header:"_3Jvyf",listControls:"sbcXq"}},dabbjcaadh:function(e,t,n){"use strict";var r=B(n("ccjgiajgj")),a=B(n("cjjebecgeb")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=F(n("ddhijeejag")),u=B(n("ebcagbhefg")),s=n("bgddggdhc"),l=B(n("effbcehec")),c=B(n("cbcchiaeeb")),f=B(n("cgijjjgici")),d=B(n("djdhjggcbi")),p=B(n("bcifhbgija")),h=B(n("jdcjegfeb")),m=B(n("ifijdebbd")),b=B(n("dejcdgeeje")),g=B(n("bijegdjcac")),v=B(n("djigcbdaeh")),y=B(n("ecfbchagde")),_=B(n("dbdidgdgai")),E=B(n("gbfffciea")),j=B(n("bfbggcdbfb")),O=B(n("didfdhbecg")),S=B(n("dceicchccd")),w=B(n("ddffjbhaib")),P=n("ejbdjaifi"),M=F(n("cajijabhgb")),C=B(n("egjjcjcg")),T=B(n("ccaaiecfib")),A=B(n("bfgbdiffgd")),N=B(n("ihfccfgdf")),k=B(n("eceadcicaf")),I=B(n("bjbedjfe")),R=B(n("caffijjhc")),L=B(n("ccbjfaficd")),D=B(n("eadfaddcj")),x=B(n("cahfddcdga")),U=B(n("djjdedaheg")),G=B(n("bchahacead"));function F(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function B(e){return e&&e.__esModule?e:{default:e}}var $=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));e.fillerHeight=0,e.updateAnnounceGrpState=function(){e.forceUpdate()},e.onComposeState=function(){var t=e.props.chat.canSend;e.state.canCompose!==t&&e.setState({canCompose:t})},e.onComposeHeightChange=function(t,n){var r=t.input,a=t.overlay,o=void 0===a?0:a,i=(0,s.forbiddenFindDOMNode)(e.refMsgPanel);if(i&&e.msgs){var u=e.msgs.getScrollBottom();if(void 0===r){if(n)return e.fillerHeight=o,void(e.refFiller&&(e.refFiller.style.height=`${e.fillerHeight}px`,e.msgs.setScrollBottom(u)));e.fillerHeight+=o,o<0&&(e.refFiller&&(e.refFiller.style.height=`${e.fillerHeight}px`),e.msgs&&e.msgs.setScrollBottom(u)),e.msgPanelAnimation&&(e.didCancel=!0,e.msgPanelAnimation.cancel()),e.msgPanelAnimation=(e.msgPanelAnimation||Promise.resolve()).then(function(){return(0,p.default)(i,{translateY:o>0?[-o,0]:[0,o]},{duration:300,easing:[.1,.82,.25,1]})}).cancellable().catch(M.Unmount,function(){}).then(function(){o>0&&e.refFiller&&(e.refFiller.style.height=`${e.fillerHeight}px`),i.style.transform="",e.msgs&&o>0&&e.msgs.setScrollBottom(u)}).catch(Promise.CancellationError,function(){(0,p.default)(i,"finish",!0)}).then(function(){e.didCancel?e.didCancel=!1:e.msgPanelAnimation=void 0})}else e.msgs.onComposeHeightChange(r)}},e.onWallpaperColorPreview=function(t){t?e.state.wallpaperColor!==t&&e.setState({wallpaperColor:t}):e.setState({wallpaperColor:u.default.assertGet("defaultPreference").wallpaperColor})},e.onSelectMessages=function(){e.state.selectable||e.setState({selectable:!0})},e.onCancelSelection=function(){e.state.selectable&&(e.selectedMessages.unsetAll(),e.setState({selectable:!1}))},e.onMessageSelect=function(t,n,r){e.onSelectMessages();var a=e.selectedMessages.getSelected().pop(),o=r&&r.shiftKey;e.selectedMessages.setVal(t,n,!0),o&&e.selectMsgRange(a,t,n)},e.selectMsgRange=function(t,n,r){var a=e.props.msgCollection;if(t&&a){var o=a.indexOf(t);if(o)for(var i=a.indexOf(n),u=i>o?-1:1,s=o+(r?u:i<o?0:2*u);i!==s;)e.selectedMessages.setVal((0,x.default)(a.at(i)),r,!0),i+=u}},e.onPageUpDown=function(t){e.msgs.onPageUpDown(t)},e.onDragStart=function(t){e.state.canCompose&&(e.blockDrop=!0)},e.onDragEnd=function(t){e.state.canCompose&&(e.blockDrop=!1)},e.onDragEnter=function(t){e.state.canCompose&&(e.onCancelSelection(),e.ComposeBoxRef&&!e.blockDrop&&t.dataTransfer&&((0,a.default)(t.dataTransfer.types,"Files")||(0,a.default)(t.dataTransfer.types,"text/uri-list")||(0,a.default)(t.dataTransfer.types,"text/html"))&&(e.ComposeBoxRef.saveComposeContentDebounced.flush(),E.default.attachMediaDrawer({chat:e.props.chat,initCaption:e.ComposeBoxRef.getCurrentComposeContent(),onComplete:e.ComposeBoxRef.updateTextAfterMediaDrawerClose}),t.stopPropagation(),t.preventDefault()))},e.getComposeContents=function(){return e.ComposeBoxRef&&e.ComposeBoxRef.getCurrentComposeContent()},e.onMenuComplete=function(t,n){return e.ComposeBoxRef&&e.ComposeBoxRef.updateTextAfterMediaDrawerClose(t,n)},e.setRefFiller=function(t){e.refFiller=t},e.setRefMsgPanel=function(t){e.refMsgPanel=t},e.handleSetRefHeader=function(t){e.refHeader=t},e.getHeaderOffset=function(t){if(e.refHeader){var n=e.refHeader.getBoundingClientRect();t((0,r.default)(n,["right","bottom"]))}else t(null)},e.closeGroupDescription=function(){e.setState({showGroupDesc:!1})},e.getMsgs=(0,P.GetRef)("msgs",e);var n=e.props.chat;return e.selectedMessages=new S.default([],function(e){return e.id.toString()}),e.state={canCompose:n.canSend,selectable:!1,showGroupDesc:n.isGroup&&e.showGroupDesc(),wallpaperColor:e.props.chatPreference.wallpaperColor},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"showGroupDesc",value:function(){if(!(T.default.supportsFeature(T.default.F.GROUPS_V_3)&&A.default.groupDescLength>0))return!1;var e=this.props.chat;return!C.default.getSeenGroupDesc(e.id)&&(C.default.setSeenGroupDesc(e.id),0===e.unreadCount?!e.msgs.some(function(e){return e.type!==D.default.MSG_TYPE.E2E_NOTIFICATION&&e.type!==D.default.MSG_TYPE.GP2}):!e.shouldShowUnreadDivider)}},{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.chat;this.props.listeners.add(e,"change:canSend",this.onComposeState),this.props.listeners.add(e,"change:isReadOnly change:isAnnounceGrpRestrict",this.updateAnnounceGrpState),this.props.listeners.add(E.default,"get_conversation_header_offset",this.getHeaderOffset),this.openEvent=new j.default.WebcChatOpen({webcUnreadCount:e.unreadCount,webcWindowHeight:(0,d.default)()}),this.uiActionEvent=new j.default.UiAction({uiActionType:j.default.UI_ACTION_TYPE.CHAT_OPEN,uiActionPreloaded:!0});var t=e.getReceivedVCardMsgs();t&&!t.isSynced&&t.sync(e)}},{key:"componentDidMount",value:function(){var e=this,t=this.props.chat;t.set({active:!0,viewed:!0});var n=this.openEvent;if(n){this.openEvent=null,this.msgs&&(n.webcRenderedMessageCount=this.msgs.getRenderedMessageCount()),n.markWebcChatOpenT(),this._beforePaintRafId=requestAnimationFrame(function(){e._beforePaintRafId=null,n.markWebcChatOpenBeforePaintT()});var r=this.props.rejectOnUnmount();(0,c.default)({signal:r}).then(function(){r.isRejected()||(e.msgs&&(n.webcFinalRenderedMessageCount=e.msgs.getRenderedMessageCount()),n.markWebcChatOpenPaintedT(),n.commit())}).catch(f.default,function(){})}var a=this.uiActionEvent;a&&(a.markUiActionT(),a.commit(),this.uiActionEvent=void 0),this.props.listeners.add(u.default,"wallpaper_color_preview",this.onWallpaperColorPreview),t.composeAttachMediaContents&&E.default.attachMediaDrawer({chat:t,animationName:"noop"})}},{key:"componentWillUnmount",value:function(){var e=this.props.chat;e.urlText&&(e.urlText=void 0),e.urlNumber&&(e.urlNumber=void 0),e.active=!1,null!=this._beforePaintRafId&&cancelAnimationFrame(this._beforePaintRafId)}},{key:"render",value:function(){var e=this.props,t=e.chat,n=e.msgCollection,r=e.focusCtx,a=e.groupMetadata,o=void 0,u=void 0,s=void 0,c=void 0;if(this.state.showGroupDesc&&a&&a.desc&&(c=i.createElement(R.default,{displayName:"GroupDesc",escapable:!0,requestDismiss:this.closeGroupDescription},i.createElement(v.default,{onClose:this.closeGroupDescription},i.createElement(U.default,{chat:t,groupMetadata:a})))),this.state.selectable)u=i.createElement(R.default,{displayName:"MultiSelect",escapable:!0,requestDismiss:this.onCancelSelection},i.createElement(_.default,{chat:t,selectedMessages:this.selectedMessages,disableRevoke:!1,noSortOnForward:!1,onCancel:this.onCancelSelection})),o=i.createElement("footer",{className:L.default.footer}),s=i.createElement("div",{ref:this.setRefFiller,className:L.default.filler});else if(this.state.canCompose)o=i.createElement(y.default,{chat:t,ref:(0,P.GetRef)("ComposeBoxRef",this),onComposeHeightChange:this.onComposeHeightChange,onPageUpDown:this.onPageUpDown}),s=i.createElement("div",{ref:this.setRefFiller,style:{height:`${this.fillerHeight}px`},className:L.default.filler});else{var f=void 0,d=void 0;t.isGroup&&!t.isReadOnly&&t.isAnnounceGrpRestrict&&a?f=i.createElement(G.default,{chat:t,groupMetadata:a,mute:t.mute}):d=t.isGroup?l10n.t(1092):t.isPSA?l10n.t(1271):l10n.t(1093,{contact:t.contact.formattedName}),o=i.createElement("footer",{className:L.default.footer},i.createElement("div",{"data-a8n":l.default.key("block-message"),className:L.default.footerMessage},f||d))}return i.createElement(R.default,{displayName:"ConversationPanel",state:R.default.State.INACTIVE},i.createElement("div",{id:"main",className:L.default.pane},i.createElement(m.default,{wallpaperColor:this.state.wallpaperColor}),i.createElement(b.default,{chat:t,onSelectMessages:this.onSelectMessages,canAttach:this.state.canCompose,onRef:this.handleSetRefHeader,getComposeContents:this.getComposeContents,onMenuComplete:this.onMenuComplete}),i.createElement(O.default,{transitionName:"butterbar",className:L.default.subheader},c),i.createElement("div",{className:L.default.subheader},i.createElement(h.default,{chat:t})),i.createElement("div",{className:L.default.body,ref:this.setRefMsgPanel,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onDragEnter:this.onDragEnter},i.createElement(g.default,{ref:this.getMsgs,chat:t,selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,msgCollection:n,onSelectMessages:this.onSelectMessages,focusCtx:r,selectedMessages:this.selectedMessages,notifyChatRendered:this.props.notifyChatRendered,updateOpenedChatInfo:this.props.updateOpenedChatInfo})),s,o,i.createElement(O.default,{transitionName:"slide-up"},u),i.createElement(w.default,null)))}}]),t}();$.CONCERNS={chatPreference:["wallpaperColor"]},$.WEAK_CONCERNS={groupMetadata:["desc","announce","participants"]},$.displayName="ConversationPanel",e.exports=(0,I.default)((0,k.default)((0,N.default)((0,P.hoc)($),$.CONCERNS)))},dabcaghhah:function(e,t,n){"use strict";var r={singleByte:[void 0,void 0,void 0,"200","400","404","500","501","502","action","add","after","archive","author","available","battery","before","body","broadcast","chat","clear","code","composing","contacts","count","create","debug","delete","demote","duplicate","encoding","error","false","filehash","from","g.us","group","groups_v2","height","id","image","in","index","invis","item","jid","kind","last","leave","live","log","media","message","mimetype","missing","modify","name","notification","notify","out","owner","participant","paused","picture","played","presence","preview","promote","query","raw","read","receipt","received","recipient","recording","relay","remove","response","resume","retry","s.whatsapp.net","seconds","set","size","status","subject","subscribe","t","text","to","true","type","unarchive","unavailable","url","user","value","web","width","mute","read_only","admin","creator","short","update","powersave","checksum","epoch","block","previous","409","replaced","reason","spam","modify_tag","message_info","delivery","emoji","title","description","canonical-url","matched-text","star","unstar","media_key","filename","identity","unread","page","page_count","search","media_message","security","call_log","profile"],doubleByte:[],nibbleEncode:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"-":10,".":11,"\0":15},nibbleDecode:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"-",11:".",15:"\0"}};e.exports=r},dabcbibhcf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("ceffhbhahb")),o=u(n("cegfacfjjj")),i=u(n("bfdcadbbif"));function u(e){return e&&e.__esModule?e:{default:e}}function s(){return r.createElement("div",{className:(0,a.default)(o.default.centerChild,o.default.show)},r.createElement(i.default,{name:"sticker"}))}s.displayName="StickerPackIconPlaceHolder",t.default=s},dabiaaabdf:function(e,t){e.exports={muted:"_1DrqE",checkboxContainer:"_3wpnE",checkbox:"_1Zo-R",checkmark:"_1ygtt",partialCheckMark:"_3MbsG",checkedCheckbox:"_15wNI",checkedCheckmark:"_3zTzS","checkmark-expand":"_1M_aK",checkmarkExpand:"_1M_aK",uncheckedCheckmark:"_31Di_",disabled:"_2lvd3"}},dabidjgjaj:function(e,t,n){"use strict";e.exports={singleByte:["gif","vcard","frequent"]}},dabieifebj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e.length)return"";var n=e[0];if(1===e.length)return n;var r=e[e.length-1];if(2===e.length)return function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?l10n.t(727,u(e,t)):a.createElement(i.default,{id:727,params:{A:e,B:t}})}(n,r,t);var o=e[1],s=e.slice(2,e.length-1);return function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=[o?l10n.t(726,u(e,t)):a.createElement(i.default,{id:726,key:"listItem_firstItem",params:{A:e,B:t}})],l=n.reduce(function(e,t,n){return[o?l10n.t(724,u(t,e)):a.createElement(i.default,{id:724,key:`listItem_${n}`,params:{A:t,B:e}})]},s);return o?l10n.t(724,u(l,r)):a.createElement(i.default,{id:725,params:{A:l,B:r}})}(n,o,s,r)};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("djhbegbdaf"),i=(r=o)&&r.__esModule?r:{default:r};function u(e,t){return{A:e,B:t}}},dacbiajefj:function(e,t,n){"use strict";e.exports={"#":1,"*":2,"0":3,"1":4,"2":5,"3":6,"4":7,"5":8,"6":9,"7":10,"8":11,"9":12,"":13,"":14,"":15,"":16,"":17,"":18,"":19,"":20,"":21,"":22,"":23,"":24,"":25,"":26,"":27,"":28,"":29,"":30,"":31,"":32,"":33,"":34,"":35,"":36,"":37,"":38,"":39,"":40,"":41,"":42,"":43,"":44,"":45,"":46,"":47,"":48,"":49,"":50,"":51,"":52,"":53,"":54,"":55,"":56,"":57,"":58,"":59,"":60,"":61,"":62,"":63,"":64,"":65,"":66,"":67,"":68,"":69,"":70,"":71,"":72,"":73,"":74,"":75,"":76,"":77,"":78,"":79,"":80,"":81,"":82,"":83,"":84,"":85,"":86,"":87,"":88,"":89,"":90,"":91,"":92,"":93,"":94,"":95,"":96,"":97,"":98,"":99,"":100,"":101,"":102,"":103,"":104,"":105,"":106,"":107,"":108,"":109,"":110,"":111,"":112,"":113,"":114,"":115,"":116,"":117,"":118,"":119,"":120,"":121,"":122,"":123,"":124,"":125,"":126,"":127,"":128,"":129,"":130,"":131,"":132,"":133,"":134,"":135,"":136,"":137,"":138,"":139,"":140,"":141,"":142,"":143,"":144,"":145,"":146,"":147,"":148,"":149,"":150,"":151,"":152,"":153,"":154,"":155,"":156,"":157,"":158,"":159,"":160,"":161,"":162,"":163,"":164,"":165,"":166,"":167,"":168,"":169,"":170,"":171,"":172,"":173,"":174,"":175,"":176,"":177,"":178,"":179,"":180,"":181,"":182,"":183,"":184,"":185,"":186,"":187,"":188,"":189,"":190,"":191,"":192,"":193,"":194,"":195,"":196,"":197,"":198,"":199,"":200,"":201,"":202,"":203,"":204,"":205,"":206,"":207,"":208,"":209,"":210,"":211,"":212,"":213,"":214,"":215,"":216,"":217,"":218,"":219,"":220,"":221,"":222,"":223,"":224,"":225,"":226,"":227,"":228,"":229,"":230,"":231,"":232,"":233,"":234,"":235,"":236,"":237,"":238,"":239,"":240,"":241,"":242,"":243,"":244,"":245,"":246,"":247,"":248,"":249,"":250,"":251,"":252,"":253,"":254,"":255,"":256,"":257,"":258,"":259,"":260,"":261,"":262,"":263,"":264,"":265,"":266,"":267,"":268,"":269,"":270,"":271,"":272,"":273,"":274,"":275,"":276,"":277,"":278,"":279,"":280,"":281,"":282,"":283,"":284,"":285,"":286,"":287,"":288,"":289,"":290,"":291,"":292,"":293,"":294,"":295,"":296,"":297,"":298,"":299,"":300,"":301,"":302,"":303,"":304,"":305,"":306,"":307,"":308,"":309,"":310,"":311,"":312,"":313,"":314,"":315,"":316,"":317,"":318,"":319,"":320,"":321,"":322,"":323,"":324,"":325,"":326,"":327,"":328,"":329,"":330,"":331,"":332,"":333,"":334,"":335,"":336,"":337,"":338,"":339,"":340,"":341,"":342,"":343,"":344,"":345,"":346,"":347,"":348,"":349,"":350,"":351,"":352,"":353,"":354,"":355,"":356,"":357,"":358,"":359,"":360,"":361,"":362,"":363,"":364,"":365,"":366,"":367,"":368,"":369,"":370,"":371,"":372,"":373,"":374,"":375,"":376,"":377,"":378,"":379,"":380,"":381,"":382,"":383,"":384,"":385,"":386,"":387,"":388,"":389,"":390,"":391,"":392,"":393,"":394,"":395,"":396,"":397,"":398,"":399,"":400,"":401,"":402,"":403,"":404,"":405,"":406,"":407,"":408,"":409,"":410,"":411,"":412,"":413,"":414,"":415,"":416,"":417,"":418,"":419,"":420,"":421,"":422,"":423,"":424,"":425,"":426,"":427,"":428,"":429,"":430,"":431,"":432,"":433,"":434,"":435,"":436,"":437,"":438,"":439,"":440,"":441,"":442,"":443,"":444,"":445,"":446,"":447,"":448,"":449,"":450,"":451,"":452,"":453,"":454,"":455,"":456,"":457,"":458,"":459,"":460,"":461,"":462,"":463,"":464,"":465,"":466,"":467,"":468,"":469,"":470,"":471,"":472,"":473,"":474,"":475,"":476,"":477,"":478,"":479,"":480,"":481,"":482,"":483,"":484,"":485,"":486,"":487,"":488,"":489,"":490,"":491,"":491,"":492,"":493,"":493,"":494,"":495,"":495,"":496,"":497,"":497,"":498,"":499,"":499,"":500,"":501,"":501,"":502,"":503,"":503,"":504,"":505,"":505,"":506,"":507,"":507,"":508,"":509,"":509,"":510,"":511,"":511,"":512,"":513,"":513,"":514,"":515,"":516,"":517,"":518,"":519,"":520,"":521,"":522,"":523,"":524,"":525,"":525,"":526,"":527,"":527,"":528,"":529,"":529,"":530,"":531,"":531,"":532,"":533,"":533,"":534,"":535,"":535,"":536,"":537,"":537,"":538,"":539,"":539,"":540,"":541,"":541,"":542,"":543,"":543,"":544,"":545,"":545,"":546,"":547,"":547,"":548,"":549,"":549,"":550,"":551,"":551,"":552,"":553,"":553,"":554,"":555,"":555,"":556,"":557,"":557,"":558,"":559,"":559,"":560,"":561,"":562,"":563,"":564,"":565,"":566,"":567,"":568,"":569,"":570,"":571,"":572,"":573,"":574,"":575,"":576,"":577,"":578,"":579,"":580,"":581,"":582,"":583,"":584,"":585,"":586,"":587,"":588,"":589,"":590,"":591,"":592,"":593,"":594,"":595,"":596,"":597,"":598,"":599,"":600,"":601,"":602,"":603,"":604,"":605,"":606,"":607,"":608,"":609,"":610,"":611,"":612,"":613,"":614,"":615,"":616,"":617,"":618,"":619,"":620,"":621,"":622,"":623,"":624,"":625,"":626,"":627,"":628,"":629,"":630,"":631,"":632,"":633,"":634,"":635,"":636,"":637,"":638,"":639,"":640,"":641,"":642,"":643,"":644,"":645,"":646,"":647,"":648,"":649,"":650,"":651,"":652,"":653,"":654,"":655,"":656,"":657,"":658,"":659,"":660,"":661,"":662,"":663,"":664,"":665,"":666,"":667,"":668,"":669,"":670,"":671,"":672,"":673,"":674,"":675,"":676,"":677,"":678,"":679,"":680,"":681,"":682,"":683,"":684,"":685,"":686,"":687,"":688,"":689,"":690,"":691,"":692,"":693,"":694,"":695,"":696,"":697,"":698,"":699,"":700,"":701,"":702,"":703,"":704,"":705,"":706,"":707,"":708,"":709,"":710,"":711,"":712,"":713,"":714,"":715,"":716,"":717,"":718,"":719,"":720,"":721,"":722,"":723,"":724,"":725,"":726,"":727,"":728,"":729,"":730,"":731,"":732,"":733,"":734,"":735,"":736,"":737,"":738,"":739,"":740,"":741,"":742,"":743,"":744,"":745,"":746,"":747,"":748,"":749,"":750,"":751,"":752,"":753,"":754,"":755,"":756,"":757,"":758,"":759,"":760,"":761,"":762,"":763,"":764,"":765,"":766,"":767,"":768,"":769,"":770,"":771,"":772,"":773,"":774,"":775,"":776,"":777,"":778,"":779,"":780,"":781,"":782,"":783,"":784,"":785,"":786,"":787,"":788,"":789,"":790,"":791,"":792,"":793,"":794,"":795,"":796,"":797,"":798,"":799,"":800,"":801,"":802,"":803,"":804,"":805,"":806,"":807,"":808,"":809,"":810,"":811,"":812,"":813,"":814,"":815,"":816,"":817,"":818,"":819,"":820,"":821,"":822,"":823,"":824,"":825,"":826,"":827,"":828,"":829,"":830,"":831,"":832,"":833,"":834,"":835,"":836,"":837,"":838,"":839,"":840,"":841,"":842,"":843,"":844,"":845,"":846,"":847,"":848,"":849,"":850,"":851,"":852,"":853,"":854,"":855,"":856,"":857,"":858,"":859,"":860,"":861,"":862,"":863,"":864,"":865,"":866,"":867,"":868,"":869,"":870,"":871,"":872,"":873,"":874,"":875,"":876,"":877,"":878,"":879,"":880,"":881,"":882,"":883,"":884,"":885,"":886,"":887,"":888,"":889,"":890,"":891,"":892,"":893,"":894,"":895,"":896,"":897,"":898,"":899,"":900,"":901,"":902,"":903,"":904,"":905,"":906,"":907,"":908,"":909,"":910,"":911,"":912,"":913,"":914,"":915,"":916,"":917,"":918,"":919,"":920,"":921,"":922,"":923,"":924,"":925,"":926,"":927,"":928,"":929,"":930,"":931,"":932,"":933,"":934,"":935,"":936,"":937,"":938,"":939,"":940,"":941,"":942,"":943,"":944,"":945,"":946,"":947,"":948,"":949,"":950,"":951,"":952,"":953,"":954,"":955,"":956,"":957,"":958,"":959,"":960,"":961,"":962,"":963,"":964,"":965,"":966,"":967,"":968,"":969,"":970,"":971,"":972,"":973,"":974,"":975,"":976,"":977,"":978,"":979,"":980,"":981,"":982,"":983,"":984,"":985,"":986,"":987,"":988,"":989,"":990,"":991,"":992,"":993,"":994,"":995,"":996,"":997,"":998,"":999,"":1e3,"":1001,"":1002,"":1003,"":1004,"":1005,"":1006,"":1007,"":1008,"":1009,"":1010,"":1011,"":1012,"":1013,"":1014,"":1015,"":1016,"":1017,"":1018,"":1019,"":1020,"":1021,"":1022,"":1023,"":1024,"":1025,"":1026,"":1027,"":1028,"":1029,"":1030,"":1031,"":1032,"":1033,"":1034,"":1035,"":1036,"":1037,"":1038,"":1039,"":1040,"":1041,"":1042,"":1043,"":1044,"":1045,"":1046,"":1047,"":1048,"":1049,"":1050,"":1051,"":1052,"":1053,"":1054,"":1055,"":1056,"":1057,"":1058,"":1059,"":1060,"":1061,"":1062,"":1063,"":1064,"":1065,"":1066,"":1067,"":1068,"":1069,"":1070,"":1071,"":1072,"":1073,"":1074,"":1075,"":1075,"":1076,"":1077,"":1077,"":1078,"":1079,"":1079,"":1080,"":1081,"":1081,"":1082,"":1083,"":1083,"":1084,"":1085,"":1085,"":1086,"":1086,"":1087,"":1088,"":1088,"":1089,"":1090,"":1090,"":1091,"":1092,"":1092,"":1093,"":1094,"":1094,"":1095,"":1096,"":1096,"":1097,"":1098,"":1099,"":1100,"":1101,"":1102,"":1103,"":1104,"":1105,"":1105,"":1106,"":1107,"":1107,"":1108,"":1109,"":1109,"":1110,"":1111,"":1111,"":1112,"":1113,"":1113,"":1114,"":1115,"":1115,"":1116,"":1117,"":1118,"":1119,"":1120,"":1121,"":1122,"":1123,"":1123,"":1124,"":1125,"":1125,"":1126,"":1127,"":1127,"":1128,"":1129,"":1129,"":1130,"":1131,"":1131,"":1132,"":1133,"":1133,"":1134,"":1135,"":1136,"":1137,"":1138,"":1139,"":1140,"":1141,"":1142,"":1143,"":1144,"":1145,"":1146,"":1147,"":1148,"":1149,"":1150,"":1151,"":1152,"":1153,"":1153,"":1154,"":1155,"":1155,"":1156,"":1157,"":1157,"":1158,"":1159,"":1159,"":1160,"":1161,"":1161,"":1162,"":1163,"":1163,"":1164,"":1165,"":1166,"":1167,"":1168,"":1169,"":1170,"":1171,"":1172,"":1173,"":1174,"":1175,"":1176,"":1177,"":1178,"":1179,"":1180,"":1181,"":1182,"":1183,"":1183,"":1184,"":1185,"":1185,"":1186,"":1187,"":1187,"":1188,"":1189,"":1189,"":1190,"":1191,"":1191,"":1192,"":1193,"":1193,"":1194,"":1195,"":1196,"":1196,"":1197,"":1198,"":1198,"":1199,"":1200,"":1200,"":1201,"":1202,"":1202,"":1203,"":1204,"":1204,"":1205,"":1206,"":1206,"":1207,"":1208,"":1209,"":1210,"":1211,"":1212,"":1213,"":1214,"":1215,"":1216,"":1217,"":1218,"":1219,"":1220,"":1220,"":1221,"":1222,"":1222,"":1223,"":1224,"":1224,"":1225,"":1226,"":1226,"":1227,"":1228,"":1228,"":1229,"":1230,"":1230,"":1231,"":1232,"":1232,"":1233,"":1234,"":1234,"":1235,"":1235,"":1236,"":1236,"":1237,"":1237,"":1238,"":1238,"":1239,"":1240,"":1241,"":1242,"":1243,"":1244,"":1245,"":1246,"":1247,"":1248,"":1249,"":1250,"":1251,"":1252,"":1253,"":1254,"":1255,"":1256,"":1257,"":1258,"":1259,"":1260,"":1261,"":1262,"":1263,"":1264,"":1265,"":1266,"":1267,"":1268,"":1269,"":1270,"":1271,"":1272,"":1273,"":1274,"":1275,"":1276,"":1277,"":1278,"":1279,"":1280,"":1281,"":1282,"":1283,"":1284,"":1285,"":1286,"":1287,"":1288,"":1289,"":1290,"":1291,"":1292,"":1293,"":1294,"":1295,"":1296,"":1297,"":1298,"":1299,"":1300,"":1301,"":1302,"":1303,"":1304,"":1305,"":1306,"":1307,"":1308,"":1309,"":1310,"":1311,"":1312,"":1313,"":1314,"":1315,"":1316,"":1317,"":1318,"":1319,"":1320,"":1321,"":1322,"":1323,"":1324,"":1325,"":1326,"":1327,"":1328,"":1329,"":1330,"":1331,"":1332,"":1333,"":1334,"":1335,"":1336,"":1337,"":1338,"":1339,"":1340,"":1341,"":1342,"":1343,"":1344,"":1345,"":1346,"":1347,"":1348,"":1349,"":1350,"":1351,"":1352,"":1353,"":1354,"":1355,"":1356,"":1357,"":1358,"":1359,"":1360,"":1361,"":1362,"":1363,"":1364,"":1365,"":1366,"":1367,"":1368,"":1369,"":1370,"":1371,"":1372,"":1373,"":1374,"":1375,"":1376,"":1377,"":1378,"":1379,"":1380,"":1381,"":1382,"":1383,"":1384,"":1385,"":1386,"":1387,"":1388,"":1389,"":1390,"":1391,"":1392,"":1393,"":1394,"":1395,"":1396,"":1397,"":1398,"":1399,"":1400,"":1401,"":1402,"":1403,"":1404,"":1405,"":1406,"":1407,"":1408,"":1409,"":1410,"":1411,"":1412,"":1413,"":1414,"":1415,"":1416,"":1417,"":1418,"":1419,"":1420,"":1421,"":1422,"":1423,"":1424,"":1425,"":1426,"":1427,"":1428,"":1429,"":1430,"":1431,"":1432,"":1433,"":1434,"":1435,"":1436,"":1437,"":1438,"":1439,"":1440,"":1441,"":1442,"":1443,"":1444,"":1445,"":1446,"":1447,"":1448,"":1449,"":1450,"":1451,"":1452,"":1453,"":1454,"":1455,"":1456,"":1457,"":1458,"":1459,"":1460,"":1461,"":1462,"":1462,"":1463,"":1464,"":1464,"":1465,"":1466,"":1466,"":1467,"":1468,"":1468,"":1469,"":1470,"":1470,"":1471,"":1472,"":1472,"":1473,"":1474,"":1475,"":1476,"":1477,"":1478,"":1479,"":1480,"":1481,"":1482,"":1483,"":1484,"":1485,"":1486,"":1487,"":1488,"":1489,"":1490,"":1491,"":1492,"":1493,"":1494,"":1495,"":1496,"":1497,"":1498,"":1499,"":1500,"":1501,"":1502,"":1503,"":1504,"":1505,"":1506,"":1507,"":1508,"":1509,"":1510,"":1511,"":1512,"":1513,"":1514,"":1515,"":1516,"":1517,"":1518,"":1519,"":1520,"":1521,"":1522,"":1523,"":1524,"":1525,"":1526,"":1527,"":1528,"":1529,"":1530,"":1531,"":1532,"":1533,"":1534,"":1535,"":1536,"":1537,"":1538,"":1539,"":1540,"":1541,"":1542,"":1543,"":1544,"":1545,"":1546,"":1547,"":1548,"":1549,"":1550,"":1551,"":1552,"":1553,"":1554,"":1555,"":1556,"":1557,"":1558,"":1559,"":1560,"":1561,"":1562,"":1563,"":1564,"":1565,"":1566,"":1567,"":1568,"":1569,"":1570,"":1571,"":1572,"":1573,"":1574,"":1575,"":1576,"":1577,"":1578,"":1579,"":1580,"":1581,"":1582,"":1583,"":1584,"":1585,"":1586,"":1587,"":1588,"":1589,"":1590,"":1591,"":1592,"":1593,"":1594,"":1595,"":1596,"":1597,"":1598,"":1599,"":1599,"":1600,"":1601,"":1601,"":1602,"":1603,"":1603,"":1604,"":1605,"":1605,"":1606,"":1607,"":1607,"":1608,"":1609,"":1609,"":1610,"":1611,"":1611,"":1612,"":1613,"":1613,"":1614,"":1615,"":1615,"":1616,"":1617,"":1617,"":1618,"":1619,"":1619,"":1620,"":1621,"":1621,"":1622,"":1623,"":1624,"":1624,"":1625,"":1626,"":1626,"":1627,"":1628,"":1628,"":1629,"":1630,"":1630,"":1631,"":1632,"":1632,"":1633,"":1634,"":1634,"":1635,"":1636,"":1637,"":1638,"":1638,"":1639,"":1640,"":1640,"":1641,"":1642,"":1642,"":1643,"":1644,"":1644,"":1645,"":1646,"":1646,"":1647,"":1648,"":1648,"":1649,"":1650,"":1651,"":1652,"":1653,"":1654,"":1655,"":1656,"":1656,"":1657,"":1658,"":1658,"":1659,"":1660,"":1660,"":1661,"":1662,"":1662,"":1663,"":1664,"":1664,"":1665,"":1666,"":1666,"":1667,"":1668,"":1668,"":1669,"":1670,"":1670,"":1671,"":1672,"":1672,"":1673,"":1674,"":1674,"":1675,"":1676,"":1676,"":1677,"":1678,"":1678,"":1679,"":1680,"":1681,"":1682,"":1683,"":1684,"":1685,"":1686,"":1687,"":1688,"":1689,"":1690,"":1691,"":1692,"":1693,"":1694,"":1695,"":1696,"":1697,"":1698,"":1699,"":1700,"":1701,"":1702,"":1703,"":1704,"":1705,"":1706,"":1707,"":1708,"":1709,"":1710,"":1711,"":1712,"":1713,"":1714,"":1715,"":1716,"":1717,"":1718,"":1719,"":1720,"":1720,"":1721,"":1721,"":1722,"":1722,"":1723,"":1723,"":1724,"":1724,"":1725,"":1725,"":1726,"":1727,"":1728,"":1729,"":1730,"":1731,"":1732,"":1733,"":1734,"":1735,"":1736,"":1737,"":1738,"":1739,"":1740,"":1741,"":1742,"":1743,"":1743,"":1744,"":1745,"":1745,"":1746,"":1747,"":1747,"":1748,"":1749,"":1749,"":1750,"":1751,"":1751,"":1752,"":1753,"":1753,"":1754,"":1755,"":1755,"":1756,"":1757,"":1757,"":1758,"":1759,"":1759,"":1760,"":1761,"":1761,"":1762,"":1763,"":1763,"":1764,"":1765,"":1765,"":1766,"":1767,"":1767,"":1768,"":1769,"":1769,"":1770,"":1771,"":1771,"":1772,"":1773,"":1773,"":1774,"":1775,"":1775,"":1776,"":1777,"":1777,"":1778,"":1779,"":1780,"":1781,"":1782,"":1783,"":1784,"":1785,"":1786,"":1787,"":1788,"":1789,"":1790,"":1791,"":1792,"":1793,"":1794,"":1795,"":1796,"":1797,"":1798,"":1799,"":1800,"":1801,"":1802,"":1803,"":1804,"":1805,"":1806,"":1807,"":1808,"":1809,"":1810,"":1811,"":1812,"":1813,"":1814,"":1815,"":1816,"":1817,"":1818,"":1819,"":1820,"":1821,"":1822,"":1823,"":1824,"":1825,"":1826,"":1827,"":1828,"":1829,"":1830,"":1831,"":1832,"":1833,"":1834,"":1835,"":1836,"":1837,"":1838,"":1839,"":1840,"":1841,"":1842,"":1843,"":1844,"":1845,"":1846,"":1847,"":1848,"":1849,"":1850,"":1851,"":1852,"":1853,"":1854,"":1855,"":1856,"":1857,"":1858,"":1859,"":1860,"":1861,"":1862,"":1863,"":1864,"":1865,"":1866,"":1867,"":1868,"":1869,"":1870,"":1871,"":1872,"":1873,"":1874,"":1875,"":1876,"":1877,"":1878,"":1879,"":1880,"":1881,"":1882,"":1883,"":1884,"":1885,"":1886,"":1887,"":1888,"":1888,"":1889,"":1890,"":1890,"":1891,"":1892,"":1892,"":1893,"":1894,"":1894,"":1895,"":1896,"":1896,"":1897,"":1898,"":1898,"":1899,"":1900,"":1901,"":1902,"":1903,"":1904,"":1905,"":1906,"":1907,"":1908,"":1909,"":1910,"":1911,"":1912,"":1913,"":1914,"":1915,"":1916,"":1917,"":1918,"":1919,"":1920,"":1921,"":1922,"":1923,"":1924,"":1925,"":1926,"":1927,"":1928,"":1929,"":1930,"":1931,"":1932,"":1933,"":1934,"":1935,"":1936,"":1937,"":1938,"":1939,"":1940,"":1941,"":1942,"":1943,"":1944,"":1945,"":1946,"":1947,"":1948,"":1949,"":1950,"":1950,"":1951,"":1952,"":1952,"":1953,"":1954,"":1954,"":1955,"":1956,"":1956,"":1957,"":1958,"":1958,"":1959,"":1960,"":1960,"":1961,"":1962,"":1963,"":1963,"":1964,"":1965,"":1965,"":1966,"":1967,"":1967,"":1968,"":1969,"":1969,"":1970,"":1971,"":1971,"":1972,"":1973,"":1973,"":1974,"":1975,"":1975,"":1976,"":1977,"":1977,"":1978,"":1979,"":1979,"":1980,"":1981,"":1981,"":1982,"":1983,"":1983,"":1984,"":1985,"":1985,"":1986,"":1987,"":1988,"":1988,"":1989,"":1990,"":1990,"":1991,"":1992,"":1992,"":1993,"":1994,"":1994,"":1995,"":1996,"":1996,"":1997,"":1998,"":1998,"":1999,"":2e3,"":2e3,"":2001,"":2001,"":2002,"":2003,"":2003,"":2004,"":2005,"":2005,"":2006,"":2007,"":2007,"":2008,"":2009,"":2009,"":2010,"":2011,"":2011,"":2012,"":2013,"":2014,"":2015,"":2016,"":2017,"":2018,"":2019,"":2020,"":2021,"":2022,"":2023,"":2024,"":2025,"":2026,"":2027,"":2028,"":2029,"":2030,"":2031,"":2032,"":2033,"":2034,"":2035,"":2036,"":2037,"":2038,"":2039,"":2040,"":2041,"":2042,"":2043,"":2044,"":2045,"":2046,"":2047,"":2048,"":2049,"":2050,"":2051,"":2052,"":2053,"":2054,"":2055,"":2056,"":2057,"":2058,"":2059,"":2060,"":2061,"":2062,"":2063,"":2064,"":2065,"":2066,"":2067,"":2068,"":2069,"":2070,"":2071,"":2072,"":2073,"":2074,"":2075,"":2076,"":2077,"":2078,"":2079,"":2080,"":2081,"":2082,"":2083,"":2084,"":2085,"":2086,"":2087,"":2088,"":2089,"":2090,"":2091,"":2092,"":2093,"":2094,"":2095,"":2096,"":2097,"":2098,"":2099,"":2100,"":2101,"":2102,"":2103,"":2104,"":2105,"":2106,"":2107,"":2108,"":2109,"":2110,"":2111,"":2112,"":2113,"":2114,"":2115,"":2116,"":2117,"":2118,"":2119,"":2120,"":2121,"":2122,"":2123,"":2124,"":2125,"":2126,"":2127,"":2128,"":2129,"":2130,"":2131,"":2132,"":2133,"":2134,"":2135,"":2136,"":2137,"":2138,"":2139,"":2140,"":2141,"":2142,"":2143,"":2144,"":2145,"":2146,"":2147,"":2148,"":2149,"":2150,"":2151,"":2152,"":2153,"":2154,"":2155,"":2156,"":2157,"":2158,"":2159,"":2160,"":2161,"":2162,"":2163,"":2164,"":2165,"":2166,"":2167,"":2168,"":2169,"":2170,"":2171,"":2172,"":2173,"":2174,"":2175,"":2176,"":2176,"":2177,"":2178,"":2178,"":2179,"":2180,"":2180,"":2181,"":2182,"":2182,"":2183,"":2184,"":2184,"":2185,"":2186,"":2186,"":2187,"":2187,"":2188,"":2189,"":2189,"":2190,"":2191,"":2191,"":2192,"":2193,"":2193,"":2194,"":2195,"":2195,"":2196,"":2197,"":2197,"":2198,"":2199,"":2199,"":2200,"":2201,"":2201,"":2202,"":2203,"":2203,"":2204,"":2205,"":2205,"":2206,"":2207,"":2207,"":2208,"":2209,"":2209,"":2210,"":2211,"":2211,"":2212,"":2213,"":2213,"":2214,"":2215,"":2215,"":2216,"":2217,"":2217,"":2218,"":2219,"":2219,"":2220,"":2221,"":2221,"":2222,"":2223,"":2223,"":2224,"":2225,"":2225,"":2226,"":2227,"":2227,"":2228,"":2229,"":2229,"":2230,"":2231,"":2231,"":2232,"":2233,"":2233,"":2234,"":2235,"":2235,"":2236,"":2236,"":2237,"":2237,"":2238,"":2238,"":2239,"":2239,"":2240,"":2240,"":2241,"":2241,"":2242,"":2243,"":2243,"":2244,"":2245,"":2245,"":2246,"":2247,"":2247,"":2248,"":2249,"":2249,"":2250,"":2251,"":2251,"":2252,"":2253,"":2254,"":2254,"":2255,"":2256,"":2256,"":2257,"":2258,"":2258,"":2259,"":2260,"":2260,"":2261,"":2262,"":2262,"":2263,"":2264,"":2264,"":2265,"":2265,"":2266,"":2267,"":2267,"":2268,"":2269,"":2270,"":2271,"":2272,"":2273,"":2274,"":2275,"":2276,"":2277,"":2278,"":2279,"":2280,"":2281,"":2282,"":2283,"":2284,"":2285,"":2286,"":2287,"":2288,"":2289,"":2290,"":2291,"":2292,"":2293,"":2294,"":2295,"":2296,"":2297,"":2298,"":2299,"":2300,"":2301,"":2302,"":2303,"":2304,"":2305,"":2306,"":2307,"":2308,"":2309,"":2310,"":2311,"":2312,"":2313,"":2314,"":2315,"":2316,"":2317,"":2318,"":2319,"":2320,"":2321,"":2322,"":2323,"":2324,"":2325,"":2326,"":2327,"":2328,"":2329,"":2330,"":2331,"":2332,"":2333,"":2334,"":2335,"":2336,"":2337,"":2338,"":2339,"":2340,"":2341,"":2342,"":2343,"":2344,"":2345,"":2346,"":2347,"":2348,"":2349,"":2350,"":2351,"":2352,"":2353,"":2354,"":2355,"":2356,"":2357,"":2358,"":2359,"":2360,"":2361,"":2362,"":2363,"":2364,"":2365,"":2366,"":2367,"":2368,"":2369,"":2370,"":2371,"":2372,"":2373,"":2374,"":2375,"":2376,"":2377,"":2378,"":2379,"":2380,"":2381,"":2382,"":2383,"":2384,"":2385,"":2386,"":2387,"":2388,"":2389,"":2390,"":2391,"":2392,"":2393,"":2394,"":2395,"":2396,"":2397,"":2398,"":2399,"":2400,"":2401,"":2402,"":2403,"":2404,"":2405,"":2406,"":2407,"":2408,"":2409,"":2410,"":2411,"":2412,"":2413,"":2414,"":2415,"":2416,"":2417,"":2418,"":2419,"":2420,"":2421,"":2422,"":2423,"":2424,"":2425,"":2426,"":2427,"":2428,"":2429,"":2430,"":2431,"":2432,"":2433,"":2434,"":2435,"":2436,"":2437,"":2438,"":2439,"":2440,"":2441,"":2442,"":2443,"":2444,"":2445,"":2446,"":2447,"":2448,"":2449,"":2450,"":2451,"":2452,"":2453,"":2454,"":2455,"":2456,"":2457,"":2458,"":2459,"":2460,"":2461,"":2462,"":2463,"":2464,"":2465,"":2466,"":2467,"":2468,"":2469,"":2470,"":2470,"":2471,"":2472,"":2472,"":2473,"":2474,"":2474,"":2475,"":2476,"":2476,"":2477,"":2478,"":2478,"":2479,"":2480,"":2480,"":2481,"":2482,"":2483,"":2484,"":2485,"":2486,"":2487,"":2488,"":2489,"":2490,"":2491,"":2492,"":2493,"":2494,"":2495,"":2496,"":2497,"":2498,"":2499,"":2500,"":2501,"":2502,"":2503,"":2504,"":2505,"":2506,"":2507,"":2508,"":2509,"":2510,"":2511,"":2512,"":2513,"":2514,"":2515,"":2516,"":2517,"":2518,"":2519,"":2520,"":2521,"":2522,"":2523,"":2524,"":2525,"":2526,"":2527,"":2528,"":2529,"":2530,"":2531,"":2532,"":2533,"":2534,"":2535,"":2536,"":2537,"":2538,"":2539,"":2540,"":2541,"":2542,"":2543,"":2544,"":2545,"":2546,"":2547,"":2548}},dacdidjdfi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHECKBOX_STATE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("ceffhbhahb")),i=u(n("dabiaaabdf"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.CHECKBOX_STATE={UNCHECKED:0,CHECKED:1,PARTIAL:2};var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onToggle=function(e){e&&e.stopPropagation(),r.props.onChange(e)},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.checked,n=e.disabled,r=(0,o.default)(i.default.checkbox,{[i.default.checkedCheckbox]:!!t,[i.default.disabled]:n}),u=(0,o.default)(i.default.checkmark,{[i.default.checkedCheckmark]:1===t,[i.default.uncheckedCheckmark]:0===t,[i.default.partialCheckMark]:2===t});return a.createElement("div",{className:i.default.checkboxContainer,onClick:this.onToggle},a.createElement("div",{className:r},a.createElement("div",{className:u})))}}]),t}();l.displayName="CheckBox",t.default=l},dacfecidja:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("cgcgbfbffj")),o=c(n("dbdfbgehgj")),i=n("ddjgcfjicj"),u=c(n("bfbggcdbfb")),s=c(n("cbcbdjdah")),l=c(n("biecbbiiee"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.hasMoreMsgs=!0,e.resultPage=0,e.searchPromise=null,e.searchTerm=null,e.searchLabel=null,e.updateFtsAfterMsgLabelUpdate=function(){if(e.currentLabelSearch){var t=e.filter(function(t){return!t.labels||!t.labels.includes(e.currentLabelSearch)});e.remove(t,{silent:!0})}},e.listenTo(l.default,"remove_msgs",function(t){e.remove(t,{silent:!0}).filter(function(e){return!!e}).length&&e.trigger("bulk_remove")}),e.listenTo(o.default,"remove",function(t){var n=[];e.forEach(function(e){e.chat===t&&n.push(e)}),e.remove(n,{silent:!0}).filter(function(e){return!!e}).length&&e.trigger("bulk_remove")}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"delete",value:function(e){e&&this.stopListening(),function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this)}},{key:"resetSearch",value:function(){this.hasMoreMsgs=!0,this.resultPage=0,this.searchTerm=null,this.searchPromise&&this.searchPromise.cancel()}},{key:"search",value:function(e){var t=this,n=e.chat,r=e.count,a=e.filter,o=void 0===a?{}:a,s=e.searchTerm,c=`${s}__${o.label||o.kind||""}`;this.currentLabelSearch=o.label;var f=!1;this.searchTerm!==c?(this.searchTerm&&0===s.indexOf(this.searchTerm)?f=!0:(this.searchTerm=c,this.delete()),this.resultPage=0,this.hasMoreMsgs=!0):f=!0;var d=new u.default.UiAction({uiActionType:u.default.UI_ACTION_TYPE.IMAGE_OPEN,uiActionPreloaded:f});if(this.searchPromise){if(this.searchTerm===c)return this.searchPromise;this.searchPromise.cancel()}var p=void 0;return p=n?n.fts(s,++this.resultPage,r):l.default.search(s,++this.resultPage,r,void 0,o),this.searchPromise=p.cancellable().then(function(e){e.eof&&(t.hasMoreMsgs=!1),t.searchTerm!==c&&t.delete(),t.searchTerm=c,e.messages&&t.add(e.messages.filter(function(e){return!e.isRevoked})),d.markUiActionT(),d.commit()}).catch(i.WapDrop,Promise.CancellationError,function(){}).finally(function(){t.searchPromise=null,t.trigger("searchPromise_update")}),this.trigger("searchPromise_update"),this.searchPromise}}]),t}();f.model=s.default,t.default=f},dachjgjeda:function(e,t,n){e.exports=function(){return new Worker(n.p+"63ad63c7b264f1c0bc60.js")}},dacicgjcai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeCodeBlocks=t.isInsideCodeBlock=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("ceggedffg")),i=u(n("fahgabfbb"));function u(e){return e&&e.__esModule?e:{default:e}}var s=/```([\s\S]*?\S[\s\S]*?)```/g,l=(0,o.default)(s,1),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l),r(t,null,[{key:"jsx",value:function(e,t,n){var r=n.selectable,o=void 0!==r&&r;return a.createElement(i.default,{selectable:o},e)}}]),t}();c.nestable=!1,c.format=!1,t.default=c;t.isInsideCodeBlock=function(e){var t=e.split(s).pop();return/```/.test(t)},t.removeCodeBlocks=function(e){return e.replace(s," ")}},dadagidhdg:function(e,t){e.exports={muted:"qgBHk",closeBtn:"_1DWLi",fullscreen:"_--P4m"}},daddjfeaa:function(e,t){e.exports={muted:"_2BKKL",menu:"_3lq69",item:"_3j8Pd",selected:"_1eXOh",active:"GPmgf",disabled:"_2-xTw"}},dadhidfcfe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("effbcehec")),i=n("dacdidjdfi"),u=c(i),s=c(n("biddiiafgd")),l=c(n("bhcacchcde"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={additionalActions:!0},r.onToggleAdditionalActions=function(){r.setState({additionalActions:!r.state.additionalActions})},r.onReport=function(){r.state.additionalActions?r.props.isGroupChat?r.props.onReportExitClear():r.props.onReportBlockClear():r.props.onReport()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=void 0,t=void 0;return this.props.isGroupChat?(e=l10n.t(897),t=l10n.t(896)):this.props.isBusiness?(e=l10n.t(891),t=l10n.t(890)):(e=l10n.t(894),t=l10n.t(893)),a.createElement(s.default,{onOK:this.onReport,okText:l10n.t(887),onCancel:this.props.onCancel},e,a.createElement("div",{className:l.default.section,onClick:this.onToggleAdditionalActions},a.createElement("div",{"data-a8n":o.default.key("menu-icon-report-spam"),className:l.default.control},a.createElement(u.default,{onChange:this.onToggleAdditionalActions,checked:this.state.additionalActions?i.CHECKBOX_STATE.CHECKED:i.CHECKBOX_STATE.UNCHECKED})),a.createElement("div",{className:l.default.label},t)))}}]),t}();d.displayName="ReportSpamPopup",t.default=d},dadidajbgf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=l(n("gbfffciea")),u=l(n("dcjdgceiej")),s=l(n("bfejacaeaj"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=r({},this.props.tooltip,{uim:this.context.uim});i.default.openTooltip(t,function(t){e.element=t})}},{key:"componentWillUnmount",value:function(){i.default.closeTooltip(this.context.uim)}},{key:"getElement",value:function(){return this.element}},{key:"render",value:function(){return null}}]),t}();c.contextTypes={uim:s.default.instanceOf(u.default)},c.displayName="UIETooltip",t.default=c},daedihffb:function(e,t){e.exports={muted:"_1hBvD",price:"_3xyXO",description:"_14zFZ"}},daeidjcaja:function(e,t){e.exports={muted:"bUCwV",controls:"_3Z-uK",spinner:"_2se6c","progress-container":"_1rTdA",progressContainer:"_1rTdA",btnMeta:"_10YBz",button:"_3UAb1",icon:"f9onB",cancel:"_1IV9x",cursorPointer:"UsM-b",play:"_13zv_",iconMeta:"_1gFPQ"}},daejhbgabi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("dhhhjaejje"),o=(r=a)&&r.__esModule?r:{default:r};var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();function u(e){return e.filter(function(e){return!!e}).join("")}i.onDelimiter=function(){},i.onMutator=function(e,t){return u(t)},i.onRoot=function(e){return u(e)},i.onText=function(e){return e},t.default=i},daejhdfjb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=h(a),i=h(n("dghjhchjic")),u=h(n("gbfffciea")),s=h(n("bjigbaghc")),l=h(n("ccaaiecfib")),c=n("hgeacfdgi"),f=h(c),d=h(n("bhgjacgcdd")),p=n("cgejjichfa");function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.id=(0,a.prop)(),r.peerJid=(0,a.prop)(),r.offerTime=(0,a.prop)(),r.startTime=(0,a.prop)(),r.isVideo=(0,a.prop)(!1),r.isGroupCall=(0,a.prop)(!1),r.canHandleLocally=(0,a.prop)(!1),r.outgoing=(0,a.prop)(!1),r.webClientShouldHandle=(0,a.prop)(!1),r.participants=(0,a.collection)(i.default),r._state=(0,a.prop)(),m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"getState",value:function(){return this._state}},{key:"setState",value:function(e){var t,n=e;(t=this._state,n in g[t||"EMPTY"])&&(this.webClientShouldHandle||n===p.CALL_STATES.INCOMING_RING||(n=p.CALL_STATES.HANDLED_REMOTELY,f.default.callId===this.id&&d.default.callEndByHandledRemotely()),this._state!==p.CALL_STATES.CONNECTION_LOST&&n===p.CALL_STATES.ACTIVE&&(this.startTime=Date.now()),this._state=n,this.handleNotification(),this.potentiallyUpdateCallUi())}},{key:"handleNotification",value:function(){var e=this.getState();!s.default.tosShowCallNotification||!this.peerJid||n("bfgbdiffgd").default.getWebVoipInternalTester()&&l.default.supportsFeature(l.default.F.DESKTOP_VOIP_VOICE_CALL)||(e===p.CALL_STATES.INCOMING_RING?u.default.alertCall(this.peerJid,this.id,this.isVideo,this.canHandleLocally):u.default.cancelCall(this.peerJid))}},{key:"potentiallyUpdateCallUi",value:function(){f.default.callId===this.id?this.setCallUiProps():!f.default.callId&&this.getState()===p.CALL_STATES.INCOMING_RING&&l.default.supportsFeature(l.default.F.VOIP_INDIVIDUAL_INCOMING)&&this.canHandleLocally&&(f.default.callId=this.id,this.setCallUiProps())}},{key:"setCallUiProps",value:function(){f.default.type=this.isVideo?c.CALL_TYPES.VIDEO:c.CALL_TYPES.VOICE,f.default.to=this.outgoing?this.peerJid:s.default.me,f.default.from=this.outgoing?s.default.me:this.peerJid,f.default.startTime=this.startTime,f.default.outgoing=this.outgoing,f.default.state===p.CALL_UI_STATES.ENDED&&(f.default.peerBusy=!1),f.default.state=this.getUiState()}},{key:"getUiState",value:function(){switch(this.getState()){case p.CALL_STATES.INCOMING_RING:return p.CALL_UI_STATES.INCOMING_RING;case p.CALL_STATES.OUTGOING_RING:return p.CALL_UI_STATES.OUTGOING_RING;case p.CALL_STATES.OUTGOING_CALLING:return p.CALL_UI_STATES.OUTGOING_CALLING;case p.CALL_STATES.CONNECTING:return p.CALL_UI_STATES.CONNECTING;case p.CALL_STATES.CONNECTION_LOST:return p.CALL_UI_STATES.RECONNECTING;case p.CALL_STATES.ACTIVE:return p.CALL_UI_STATES.ACTIVE;case p.CALL_STATES.HANDLED_REMOTELY:return p.CALL_UI_STATES.NONE;case p.CALL_STATES.ENDED:return p.CALL_UI_STATES.ENDED;case p.CALL_STATES.REJECTED:return p.CALL_UI_STATES.REJECTED;case p.CALL_STATES.REMOTE_CALL_IN_PROGRESS:return p.CALL_UI_STATES.REMOTE_CALL_IN_PROGRESS;case p.CALL_STATES.FAILED:return p.CALL_UI_STATES.FAILED;default:return p.CALL_UI_STATES.NONE}}}]),t}();b.Collection="Call",b.Proxy="call",t.default=(0,a.defineModel)(b);var g={EMPTY:{[p.CALL_STATES.INCOMING_RING]:!0,[p.CALL_STATES.OUTGOING_CALLING]:!0,[p.CALL_STATES.CONNECTING]:!0,[p.CALL_STATES.REJECTED]:!0,[p.CALL_STATES.HANDLED_REMOTELY]:!0,[p.CALL_STATES.ENDED]:!0,[p.CALL_STATES.FAILED]:!0},INCOMING_RING:{[p.CALL_STATES.HANDLED_REMOTELY]:!0,[p.CALL_STATES.CONNECTING]:!0,[p.CALL_STATES.ACTIVE]:!0,[p.CALL_STATES.REJECTED]:!0,[p.CALL_STATES.ENDED]:!0,[p.CALL_STATES.REMOTE_CALL_IN_PROGRESS]:!0,[p.CALL_STATES.FAILED]:!0},OUTGOING_CALLING:{[p.CALL_STATES.OUTGOING_RING]:!0,[p.CALL_STATES.CONNECTING]:!0,[p.CALL_STATES.ENDED]:!0,[p.CALL_STATES.FAILED]:!0},OUTGOING_RING:{[p.CALL_STATES.ACTIVE]:!0,[p.CALL_STATES.REJECTED]:!0,[p.CALL_STATES.ENDED]:!0,[p.CALL_STATES.FAILED]:!0},CONNECTING:{[p.CALL_STATES.OUTGOING_RING]:!0,[p.CALL_STATES.ACTIVE]:!0,[p.CALL_STATES.ENDED]:!0,[p.CALL_STATES.REMOTE_CALL_IN_PROGRESS]:!0,[p.CALL_STATES.FAILED]:!0},CONNECTION_LOST:{[p.CALL_STATES.ACTIVE]:!0,[p.CALL_STATES.ENDED]:!0,[p.CALL_STATES.FAILED]:!0},ACTIVE:{[p.CALL_STATES.ENDED]:!0,[p.CALL_STATES.FAILED]:!0,[p.CALL_STATES.CONNECTION_LOST]:!0},HANDLED_REMOTELY:{},ENDED:{},REJECTED:{},REMOTE_CALL_IN_PROGRESS:{},FAILED:{}}},dafafigeih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("bfhjejbhhd"));t.mungePSAContact=function(e){if(Array.isArray(e)){var t=(0,r.default)(e,function(e){return e&&a.default.isPSA(e.id)}),n=e[t];t>-1&&n&&(n.name=l10n.t(1351),n.shortName=l10n.t(1351))}};var a=o(n("jccfhaecf"));function o(e){return e&&e.__esModule?e:{default:e}}},daffbcegjj:function(e,t,n){"use strict";var r=void 0,a=void 0;e.exports={dir:function(e){!function(){if(!r){var e=n("bffadhdafi"),t=e.length/2;r=new Int32Array(t),a=new Int32Array(t);for(var o=0,i=0;o<t;o++,i+=2)r[o]=e[i]+(0===o?0:r[o-1]),a[o]=e[i+1]}}();for(var t=0;t<e.length;t++){var o=0|e.charCodeAt(t);if(55296<=o&&o<56320){if(++t===e.length)break;var i=e.charCodeAt(t);if(!(56320<=i&&i<57344))continue;o=65536+((1023&o)<<10|1023&i)}else if(56320<=o&&o<57344)continue;if(!(o<r[0])){for(var u=0,s=(0|r.length)-1|0;u<s;){var l=s+u>>1;if(r[l]>o)s=l-1|0;else{if(r[l+1]>o){s=l;break}u=l+1|0}}var c=a[s];if(o<(r[s]+Math.abs(c)|0))return c<0?"rtl":"ltr"}}}}},dafiibaihc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("fffdgbfji")),i=l(n("eadfaddcj")),u=n("chhhffajfi"),s=l(n("djachcgbii"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));f.call(n);var r=e.text,a=e.textLimit;return n.state={textLimit:d(r,a,a)?a:1/0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement(a.Fragment,null,this.props.children(this.state),this.state.textLimit!==1/0?a.createElement("span",{className:s.default.read_more,role:"button",onClick:this._handleReadMoreClick}," "+o.default.t(878)):null)}}]),t}(),f=function(){var e=this;this._handleReadMoreClick=function(){var t=e.props.text,n=i.default.SUBSEQUENT_PAGE_SIZE;e.setState(function(e){var r=e.textLimit+i.default.SUBSEQUENT_PAGE_SIZE;return{textLimit:d(t,r,n)?r:1/0}})}};function d(e,t,n){return(0,u.numCodepoints)(e)-t>n*i.default.OVERFLOWING_PAGE_THRESHOLD}c.displayName="ExpandableText",t.default=c},dagdiahdfi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("cgcgbfbffj"),o=d(a),i=d(n("bjigbaghc")),u=d(n("bdiiahhjbe")),s=n("dhadcigcaf"),l=d(s),c=d(n("bhggeigghg")),f=d(n("egjjcjcg"));function d(e){return e&&e.__esModule?e:{default:e}}var p=!0,h=!0,m=!0,b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"initializeFromCache",value:function(e){this.add(e),this.setGlobalNotifications(f.default.getGlobalNotifications()),this.setGlobalSounds(f.default.getGlobalSounds()),this.setGlobalPreviews(f.default.getGlobalPreviews())}},{key:"saveToCache",value:function(){if(i.default.me){var e=this.constructor.cachePolicy.id;u.default.log(`models:mute:cache-save: ${String(e)}`)(),f.default.setCollection(e,[this.globalMute().toJSON()])}}},{key:"globalMute",value:function(){var e=this.get(s.GLOBAL_MUTE);return e||this.add({id:s.GLOBAL_MUTE})[0]}},{key:"getGlobalSounds",value:function(){return p}},{key:"setGlobalSounds",value:function(e){p=e,f.default.setGlobalSounds(e)}},{key:"getGlobalNotifications",value:function(){return h}},{key:"setGlobalNotifications",value:function(e){h=e,f.default.setGlobalNotifications(e)}},{key:"getGlobalPreviews",value:function(){return m}},{key:"setGlobalPreviews",value:function(e){m=e,f.default.setGlobalPreviews(e)}},{key:"handle",value:function(e){e.forEach(function(e){var t=c.default.Chat.get(e.id);t&&"mute"===e.type&&t.mute.setMute(e.muteExpiration)})}}]),t}();b.model=l.default,b.cachePolicy={id:"mute",policy:a.CACHE_POLICY.LOAD,delay:1e3},t.default=new b},dagibffcjf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_ASPECT_RATIO=t.MIN_ASPECT_RATIO=t.MIN_WIDTH=t.MIN_HEIGHT=t.LONGER_SIDE_DEFAULT_LENGTH=t.MARGIN_Y=t.MARGIN_X=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("gbfffciea")),i=(s(n("bffjfbgbg")),s(n("gejffefga"))),u=s(n("habccggff"));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.MARGIN_X=10,c=t.MARGIN_Y=10,f=t.LONGER_SIDE_DEFAULT_LENGTH=330,d=t.MIN_HEIGHT=145,p=t.MIN_WIDTH=145,h=t.MIN_ASPECT_RATIO=p/f,m=t.MAX_ASPECT_RATIO=f/d,b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.getInitialMediaStyle(n.props.aspectRatio),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"getInitialMediaStyle",value:function(e){var t=this.getAspectRatio(e);if(this.props.initialPiPStyle)return{initialPiPStyle:this.props.initialPiPStyle,aspectRatio:t};var n=void 0;o.default.getConversationHeaderOffset(function(e){n=e});var r=void 0,a=void 0;return t>1?a=(r=f)/t:r=(a=f)*t,n||(n={right:window.innerWidth,bottom:0}),{initialPiPStyle:{width:r,left:n.right<window.innerWidth?n.right-r-l:window.innerWidth-r-l,bottom:window.innerHeight-c-a-n.bottom},aspectRatio:t}}},{key:"getAspectRatio",value:function(e){var t=1;return null!=e&&(t=e<h?h:e>m?m:e),t}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.aspectRatio!==this.props.aspectRatio&&this.setState(this.getInitialMediaStyle(e.aspectRatio))}},{key:"render",value:function(){var e=this.state.aspectRatio;if(!e)return null;var t=d*e,n=p<t?t:p,r={x:l,y:c},o=void 0;if(null!=this.props.aspectRatio&&0!==this.props.aspectRatio&&e===h&&e>this.props.aspectRatio||null!=this.props.aspectRatio&&0!==this.props.aspectRatio&&e===m&&e<this.props.aspectRatio){var s=void 0;if(this.props.previewUrl){var f={backgroundImage:this.props.previewUrl};s=a.createElement("div",{className:u.default.bgImg,style:f})}o=a.createElement("div",{className:u.default.bottomLayer},s)}return a.createElement(i.default,{aspectRatio:e,margin:r,minWidth:n,className:u.default.videoFloater,initialStyle:this.state.initialPiPStyle,animationStartStyle:this.props.animationStartStyle},o,this.props.children)}}]),t}();b.displayName="FloatingVideoPlayer",t.default=b},dahaahdjfa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n("bgiachiigg"),o=m(n("hgjcbccfg")),i=m(n("chgdeiebag")),u=m(n("ccaaiecfib")),s=n("beadfddidc"),l=m(n("bdiiahhjbe")),c=n("bffjfbgbg"),f=m(n("ccgjijjbbj")),d=n("hjbbdjjdf"),p=m(n("jccfhaecf")),h=n("dcbdjheea");function m(e){return e&&e.__esModule?e:{default:e}}var b={parseMsgProto:function(e,t,n,r,a,o){if(!e)return l.default.assert(!1,"null-message","drop: not Message")(e,t),t;var i=e.conversation,c=e.imageMessage,f=e.contactMessage,p=e.locationMessage,h=e.liveLocationMessage,m=e.extendedTextMessage,b=e.documentMessage,g=e.audioMessage,v=e.videoMessage,y=e.stickerMessage,_=e.contactsArrayMessage,E=e.protocolMessage,j=e.sendPaymentMessage,O=e.requestPaymentMessage,S=e.productMessage,w=e.groupInviteMessage,P=e.templateMessage,M=e.templateButtonReplyMessage,C=void 0;if((0,d.isString)(i)&&this.parseConversationProto(t,i),w&&this.parseGroupInviteMessageProto(t,w),c&&(this.parseImageMessageProto(t,c),C=c.contextInfo),y&&(this.parseStickerMessageProto(t,y),C=y.contextInfo),f&&(this.parseContactMessageProto(t,f),C=f.contextInfo),_&&(this.parseContactsArrayMessageProto(t,_),C=_.contextInfo),p&&(this.parseLocationMessageProto(t,p),C=p.contextInfo),h&&(this.parseLiveLocationMessageProto(t,h,a),C=h.contextInfo),j&&(C=j&&j.noteMessage&&j.noteMessage.extendedTextMessage&&j.noteMessage.extendedTextMessage.contextInfo,this.parseSendPaymentMessageProto(t,j,r)),O&&(C=O&&O.noteMessage&&O.noteMessage.extendedTextMessage&&O.noteMessage.extendedTextMessage.contextInfo,this.parseRequestPaymentMessageProto(t,O,r)),m&&(this.parseExtendedTextMessageProto(t,m),C=m.contextInfo),b&&(this.parseDocumentMessageProto(t,b),C=b.contextInfo),g&&(this.parseAudioMessageProto(t,g),C=g.contextInfo),v&&(this.parseVideoMessageProto(t,v),C=v.contextInfo),E&&this.parseProtocolMessageProto(t,E,n),S&&u.default.supportsFeature(u.default.F.CATALOG)&&(this.parseProductMessageProto(t,S),C=S.contextInfo),w&&this.parseGroupInviteMessageProto(t,w),P){if(u.default.supportsFeature(u.default.F.MD_BACKEND)&&u.default.supportsFeature(u.default.F.MD_HSM))this.parseTemplateMessage(t,P.fourRowTemplate);else if(u.default.supportsFeature(u.default.F.HSM)){var T=P.hydratedFourRowTemplate;this.parseTemplateMessage(t,T),t.caption=T.hydratedContentText,t.footer=T.hydratedFooterText,t.title=T.hydratedTitleText}t.type="template"}return M&&((0,s.shouldEnableHsm)()&&(this.parseContextInfoProto(t,M.contextInfo),this.parseTemplateButtonReplyMessage(t,M)),t.type="template_button_reply"),C&&this.parseContextInfoProto(t,C,o),t},parseConversationProto:function(e,t){e.type="chat",e.body=t},parseImageMessageProto:function(e,t){e.type="image",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath||"",e.mimetype=t.mimetype||"",e.caption=t.caption,e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.size=t.fileLength||0,e.height=t.height||0,e.width=t.width||0,e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:(0,i.default)(),e.body=this.decodeBytes(t.jpegThumbnail)||""},parseStickerMessageProto:function(e,t){e.type="sticker",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath||"",e.mimetype=t.mimetype||"",e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:(0,i.default)(),e.height=t.height||0,e.width=t.width||0,e.pngThumbnail=this.decodeBytes(t.pngThumbnail)},parseContactMessageProto:function(e,t){e.type="vcard",e.subtype=t.displayName,e.body=t.vcard},parseContactsArrayMessageProto:function(e,t){var n=t.contacts;e.type="multi_vcard",e.subtype=t.displayName,e.vcardList=Array.isArray(n)?n.map(function(e){return{displayName:e.displayName,vcard:e.vcard}}):[]},parseLocationMessageProto:function(e,t){var n=t.name&&t.address?`${t.name}\n${t.address}`:t.name||t.address||"";e.type="location",e.lat=void 0!==t.degreesLatitude?t.degreesLatitude:void 0,e.lng=void 0!==t.degreesLongitude?t.degreesLongitude:void 0,e.loc=n,e.body=this.decodeBytes(t.jpegThumbnail)||"",e.clientUrl=t.url},parseExtendedTextMessageProto:function(e,t){var n=t.matchedText||t.canonicalUrl||t.description||t.title;e.type="chat",e.subtype=n?"url":void 0,e.body=t.text||"",e.matchedText=t.matchedText,e.canonicalUrl=t.canonicalUrl,e.description=t.description,e.title=t.title,e.thumbnail=this.decodeBytes(t.jpegThumbnail)||"",e.richPreviewType=t.previewType,e.doNotPlayInline=t.doNotPlayInline,e.textColor=t.textArgb,e.backgroundColor=t.backgroundArgb;var r=a.Message.ExtendedTextMessage.FONTTYPE;switch(t.font){case r.SANS_SERIF:case r.SERIF:case r.NORICAN_REGULAR:case r.BRYNDAN_WRITE:case r.BEBASNEUE_REGULAR:case r.OSWALD_HEAVY:e.font=t.font}},parseDocumentMessageProto:function(e,t){e.type="document",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath,e.mimetype=t.mimetype,e.caption=(0,c.cleanIncomingFilename)(t.title),e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.size=t.fileLength||0,e.pageCount=t.pageCount||0,e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:(0,i.default)(),e.filename=(0,c.cleanIncomingFilename)(t.fileName),e.body=this.decodeBytes(t.jpegThumbnail)||""},parseAudioMessageProto:function(e,t){e.type=t.ptt?"ptt":"audio",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath,e.mimetype=t.mimetype,e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.size=t.fileLength||0,e.duration=`${t.seconds||0}`,e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:(0,i.default)(),e.streamingSidecar=t.streamingSidecar},parseVideoMessageProto:function(e,t){e.type="video",e.clientUrl=this.decodeUrl(t.url),e.directPath=t.directPath,e.mimetype=t.mimetype,e.filehash=this.decodeBytes(t.fileSha256),e.uploadhash=this.decodeBytes(t.fileEncSha256),e.size=t.fileLength||0,e.height=t.height,e.width=t.width,e.duration=`${t.seconds||0}`,e.mediaKey=this.decodeBytes(t.mediaKey),e.mediaKeyTimestamp=null!=t.mediaKeyTimestamp?t.mediaKeyTimestamp:(0,i.default)(),e.caption=t.caption,e.body=this.decodeBytes(t.jpegThumbnail)||"",e.isGif=t.gifPlayback,e.gifAttribution=t.gifAttribution,e.streamingSidecar=t.streamingSidecar},parseContextInfoProto:function(e,t,n){var r=t.quotedMessage,a=t.mentionedJid;e.quotedMsg=r&&this.parseMsgProto(r,{type:"unknown"}),e.quotedMsg&&"payment"===e.quotedMsg.type&&n&&l.default.log("parseContextInfoProto: payment not supported")(),e.quotedStanzaID=t.stanzaId,e.quotedParticipant=this.decodeJid(t.participant),e.quotedRemoteJid=this.decodeJid(t.remoteJid),e.mentionedJidList=Array.isArray(a)?a.map(this.decodeJid):a,e.isForwarded=t.isForwarded,e.forwardingScore=t.forwardingScore},parseProtocolMessageProto:function(e,t,n){if("relay"===n){var r=void 0;switch(t.type){case a.Message.ProtocolMessage.TYPE.REVOKE:r="revoke";break;default:r="unknown"}var o=t.key;if(!o)throw new Error("parseProtocolMessageProto: no message key is defined for protocol message");var i=o.id;if(!i)throw new Error("parseProtocolMessageProto: no message id is defined for protocol message");var s=null;s=u.default.supportsFeature(u.default.F.MD_BACKEND)?new f.default({id:i,fromMe:e.id.fromMe,remote:e.id.remote,participant:e.id.participant}):new f.default({id:i,fromMe:o.fromMe,remote:this.decodeJid(o.remoteJid),participant:this.decodeJid(o.participant)}),e.type="protocol",e.subtype=r,e.protocolMessageKey=s}},decodeJid:function(e){return p.default.isWid(e)?(0,h.createWid)(e):e},decodeUrl:function(e){return e&&!e.includes("/u/")?e:void 0},decodeBytes:function(e){return e?o.default.encode(e):void 0},parseTemplateMessage:function(e,t){var n=t.documentMessage,r=t.imageMessage,a=t.locationMessage,o=t.videoMessage;n?(this.parseDocumentMessageProto(e,n),e.subtype="document"):r?(this.parseImageMessageProto(e,r),e.subtype="image"):a?(this.parseLocationMessageProto(e,a),e.subtype="location"):o?(this.parseVideoMessageProto(e,o),e.subtype="video"):(e.subtype="text",t.hydratedContentText&&(e.body=t.hydratedContentText)),t.hydratedButtons&&this.parseButtons(e,t)},parseButtons:function(e,t){var n=t.hydratedButtons,a=function(e){return e.callButton?"call":e.urlButton?"url":e.quickReplyButton?"quick_reply":void 0};e.buttons=n.map(function(e){return r({index:e.index,subtype:a(e)},function(e){return e.quickReplyButton||e.urlButton||e.callButton}(e))})},parseTemplateButtonReplyMessage:function(e,t){e.body=t.selectedDisplayText},parseProductMessageProto:function(e,t){if(u.default.supportsFeature(u.default.F.CATALOG)){var n=t.product;n&&(n.productImage&&this.parseImageMessageProto(e,n.productImage),e.type="product",e.businessOwnerJid=t.businessOwnerJid,e.contextInfo=t.contextInfo,e.productId=n.productId,e.currencyCode=n.currencyCode,e.priceAmount1000=n.priceAmount1000,e.retailerId=n.retailerId,e.url=n.url,e.productImageCount=n.productImageCount,e.title=n.title,e.description=n.description)}},parseLiveLocationMessageProto:function(e,t,n){l.default.log("parseLiveLocationMessageProto: not supported")()},parseSendPaymentMessageProto:function(e,t,n){l.default.log("parseSendPaymentMessageProto: not supported")()},parseRequestPaymentMessageProto:function(e,t,n){l.default.log("parseSendPaymentMessageProto: not supported")()},parseGroupInviteMessageProto:function(e,t){l.default.log("parseGroupInviteMessageProto: not supported")()}};t.default=b},dahbdjdajd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextMention=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("daffbcegjj"),i=n("eagfdbhhhh"),u=p(n("ceffhbhahb")),s=p(n("daabecicc")),l=n("cdejbeiiha"),c=p(n("idgifdccc")),f=p(n("ihfccfgdf")),d=n("ejbdjaifi");function p(e){return e&&e.__esModule?e:{default:e}}var h=t.TextMention=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=e.onClick,r=e.theme,f=e.selectable,d=t.displayName,p=t.id,h=(0,o.dir)(d)||"auto",m=!!r&&r.quoted,b=(0,s.default)(d,[[[c.default,{selectable:f}]]],l.JSXSerializer,void 0,1/0);return a.createElement(i.SelectableSpan,{"data-jid":p.toString(),"data-display":d,className:(0,u.default)("matched-mention",{"quoted-mention":m,"inactive-mention":!n||m}),onClick:n,plainText:`@${d}`,selectable:f,selectAll:!0,appTextTemplate:`${p.toString()}`},a.createElement("span",{className:"at-symbol"},"@"),a.createElement("span",{dir:h},b))}}]),t}();h.CONCERNS={contact:["id","displayName"]},h.displayName="TextMention",t.default=(0,f.default)((0,d.hoc)(h),h.CONCERNS)},dahcghhcfg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rmr=t.downloadMedia=t.manuallySetMedia=t.cancelDownloadMedia=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cciafhggdb"));var a=function(){if(void 0!==r)return r;throw new Error("cannot find media download")}(),o=a.cancelDownloadMedia,i=a.manuallySetMedia,u=a.downloadMedia,s=a.rmr;t.cancelDownloadMedia=o,t.manuallySetMedia=i,t.downloadMedia=u,t.rmr=s},dahicgggee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GifPanel=void 0;var r=M(n("cfcjaeagdi")),a=M(n("bebajedcaf")),o=M(n("hhegggegb")),i=M(n("ddfeabiaci")),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=P(n("ddhijeejag")),l=P(n("cgejchjdhj")),c=n("bgddggdhc"),f=M(n("ccaaiecfib")),d=M(n("caciiaejed")),p=M(n("djhfffbdac")),h=n("ejbdjaifi"),m=M(n("dhfbfehaef")),b=M(n("djcjgfjggc")),g=M(n("dcjcghaij")),v=n("ccgdfaeibd"),y=M(n("eceadcicaf")),_=M(n("bfbggcdbfb")),E=M(n("cahfddcdga")),j=M(n("didfdhbecg")),O=n("igbbahaj"),S=M(O),w=M(n("caahjiefj"));function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function M(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N=1e3,k=100,I=62,R=5,L=15,D=.7*I,x=1.5*I,U=t.GifPanel=function(e){function t(e){C(this,t);var n=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.lastScrollTop=0,n.fastScroll=!1,n.lastClickTime=0,n._sectionIds=O.ORDERED_TAB_SECTION_IDS,n.handleScroll=function(){if(n.state.searchText&&n.scrollContainer&&n.gifPanel)n.gifPanel.animateOnScroll(n.scrollContainer);else if(!(Date.now()-n.lastClickTime<N)){var e={};if(n.state.isPreview&&(e.isPreview=!1),n.scrollContainer){var t=n.scrollContainer,r=t.scrollTop,o=r<=0;o!==n.state.scrolledToTop&&(e.scrolledToTop=o);var i=n.lastScrollTop-r,u=Math.abs(i)>R;n.fastScroll=Math.abs(i)>L,i<0?n.state.showSearchInput&&(r>D&&u||n.lastScrollTop<D&&r>=D)&&(e.showSearchInput=!1):n.state.showSearchInput||(u||r<x)&&(e.showSearchInput=!0),n.gifPanel&&n.gifPanel.animateOnScroll(t),n.lastScrollTop=r,(0,a.default)(e)||n.setState(e)}}},n.setRefSearchInput=function(e){n.searchInput=e},n.restoreFocus=function(e){n.focusSearchInput(e)},n.onRotateFocus=function(e){n.stopEvent(e),n.searchInputHasFocus()?n.props.onFocusRelease&&n.props.onFocusRelease():n.focusSearchInput()},n.stopEvent=function(e){e&&(e.preventDefault(),e.stopPropagation())},n.scrollGifIntoViewIfNeeded=function(e){n.scrollContainer&&e.offsetTop-n.scrollContainer.scrollTop<I&&l.scrollIntoView(e,!0,n.scrollContainer)},n.searchInputHasFocus=function(){return!!n.searchInput&&n.searchInput.hasFocus()},n.focusSearchInput=function(e){if(!n.searchInput)return n.fastScroll=!0,void n.setState({showSearchInput:!0},function(){return n.focusSearchInput(!0)});n.searchInput.focus(e)},n.onGifSearchDown=function(e){n.stopEvent(e),n.gifPanel&&n.gifPanel.initSelection()},n.getSearchBox=function(){var e=null;n.state.showSearchInput&&(e=s.createElement(p.default,{label:l10n.t(936,{service:v.BRAND_NAMES[(0,v.gifProvider)()]}),onChange:n.onSearch,onDownKey:n.onGifSearchDown,ref:n.setRefSearchInput,shadow:!n.state.scrolledToTop,tabFocused:n.state.tabFocused,value:n.state.searchText||""}));var t=n.fastScroll?"emoji-search-slide-away-fast":"emoji-search-slide-away";return s.createElement(j.default,{transitionName:t},e)},n.onSearch=function(e,t){n.stopEvent(t);var a=(0,r.default)(e);0===a.length&&(a=null),null==n.state.searchText&&(n.scrollTopBeforeSearch=n.scrollContainer&&n.scrollContainer.scrollTop),n.setState({searchText:a,tabFocused:!1})},n.preventBlur=function(e){n.stopEvent(e),n.restoreFocus()},n.handleParentContainerUp=function(e){var t=e&&e.nativeEvent.target,r=t instanceof HTMLElement&&n.gifPanel&&n.gifPanel._starredGifs&&n.gifPanel._starredGifs.isStarredGif(t),a=t instanceof HTMLElement&&!!n.gifPanel&&(0,c.forbiddenAssertDOMNode)(n.gifPanel).contains(t);r?(n.focusSearchInput(),n.stopEvent(e)):a&&n.gifPanel&&n.gifPanel._starredGifs&&n.gifPanel._starredGifs.hasGifs()?(n.gifPanel&&n.gifPanel.initSelection(!1),n.stopEvent(e)):a&&(n.focusSearchInput(),n.stopEvent(e))},n.handleDownArrow=function(e){var t=e&&e.nativeEvent.target;t instanceof HTMLElement&&n.gifPanel&&n.gifPanel._starredGifs&&n.gifPanel._starredGifs.isStarredGif(t)?(n.gifPanel&&n.gifPanel.initSelection(!0),n.stopEvent(e)):n.gifPanel&&(0,c.forbiddenAssertDOMNode)(n.gifPanel).contains(t)&&(n.gifPanel&&n.gifPanel.initSelection(!1),n.stopEvent(e))},n.handleTabKey=function(e){if(e.preventDefault(),e.stopPropagation(),n.searchInput)return n.searchInput.hasFocus()?void(n.props.onFocusNext&&n.props.onFocusNext()):n.focusSearchInput()},n.handleShiftTabKey=function(e){if(e.preventDefault(),e.stopPropagation(),n.searchInput)return n.searchInput.hasFocus()?void(n.props.onFocusPrev&&n.props.onFocusPrev()):n.focusSearchInput()},n.handleMenuTabClick=function(e){e===S.default.FAVORITES?n.setState({selectedSectionId:e,searchText:null,tabFocused:!0}):n.setState({selectedSectionId:e,searchText:e,tabFocused:!0})},n.renderGifTab=function(e,t){return s.createElement(g.default,{key:e,onClick:n.handleMenuTabClick,sectionId:e,selected:t})};var u=(0,i.default)(n.props.displayCache||{},{scrollTop:0,showSearchInput:!0});return f.default.supportsFeature(f.default.F.STARRED_GIFS)||(n._sectionIds=n._sectionIds.filter(function(e){return e!==S.default.FAVORITES})),n.handleScroll=(0,o.default)(n.handleScroll,k),n.state={isPreview:!u.scrollTop,scrolledToTop:0===u.scrollTop,searchText:null,searchResults:null,showSearchInput:u.showSearchInput,selectedSectionId:S.default.TRENDING,tabFocused:!1},n}return A(t,s.PureComponent),u(t,[{key:"componentDidMount",value:function(){var e=this;this.lastClickTime=Date.now();var t=this.props.displayCache&&this.props.displayCache.scrollTop;this.scrollContainer&&null!=t&&0!==t&&(this.scrollContainer.scrollTop=t),this.props.listeners.uiIdle(function(){e.restoreFocus(),new _.default.WebcEmojiOpen({webcEmojiOpenTab:"GIF"}).commit(),e.setState({isPreview:!1})})}},{key:"componentWillUnmount",value:function(){this.props.onDisplayCache&&this.props.onDisplayCache({scrollTop:this.scrollContainer?this.scrollContainer.scrollTop:0,showSearchInput:this.state.showSearchInput}),this.handleScroll.cancel()}},{key:"componentDidUpdate",value:function(e,t){if(t.searchText!==this.state.searchText){if(!this.scrollContainer)return;this.state.searchText?this.scrollContainer.scrollTop=0:null!=this.scrollTopBeforeSearch&&0!==this.scrollTopBeforeSearch&&(this.scrollContainer.scrollTop=this.scrollTopBeforeSearch)}}},{key:"render",value:function(){var e=this.getSearchBox();return s.createElement(m.default,{handlers:{tab:this.handleTabKey,"shift+tab":this.handleShiftTabKey,up:this.handleParentContainerUp,down:this.handleDownArrow}},s.createElement(d.default,{selectedSectionId:this.state.selectedSectionId,sectionIds:this._sectionIds,renderSectionTab:this.renderGifTab}),s.createElement("div",{className:w.default.gifPanel},s.createElement("div",{className:w.default.bodyContainer,onMouseDown:this.preventBlur},e,s.createElement("div",{className:w.default.panelBody,onScroll:this.handleScroll,ref:(0,h.GetRef)("scrollContainer",this)},s.createElement(b.default,{ref:(0,h.GetRef)("gifPanel",this),onGif:(0,E.default)(this.props.onGif),searchText:this.state.searchText,scrollGifIntoViewIfNeeded:this.scrollGifIntoViewIfNeeded,selectedSectionId:this.state.selectedSectionId})))))}}]),t}();U.displayName="GifPanel";var G=function(e){function t(){return C(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,(0,y.default)((0,h.hoc)(U))),u(t,[{key:"focusSearchInput",value:function(e){this.getComponent().focusSearchInput(e)}},{key:"restoreFocus",value:function(e){this.getComponent().restoreFocus(e)}}]),t}();t.default=G},daiaacfgce:function(e,t){e.exports={muted:"_2rX1j",description:"JmH7x",containerAllow:"NWyjc",icon:"X5OiD",title:"_2yVvV",controls:"_2TDHw",topCenter:"_3_Q4R",topLeft:"AZ3xD",bottomCenter:"_3Ikk4"}},daibgjhabc:function(e,t){e.exports={muted:"_1ovL5",container:"qTFAl",isChecked:"_3Z2tD",gallery:"_21W00"}},daichdjff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.MEDIA_TO_MSG=Object.freeze({preview:"body",mediaKey:"mediaKey",size:"size",filehash:"filehash",mimetype:"mimetype",duration:"duration",pageCount:"pageCount",fullHeight:"height",fullWidth:"width",type:"type",filename:"filename",caption:"caption",isGif:"isGif",gifAttribution:"gifAttribution",sidecar:"streamingSidecar",subtype:"subtype"}),a=t.MSG_TO_MEDIA=Object.freeze({body:"preview",directPath:"directPath",mediaKey:"mediaKey",size:"size",filehash:"filehash",mimetype:"mimetype",duration:"duration",pageCount:"pageCount",height:"fullHeight",width:"fullWidth",type:"type",filename:"filename",caption:"caption",isGif:"isGif",gifAttribution:"gifAttribution",streamingSidecar:"sidecar",subtype:"subtype"}),o=t.MAPPED_MSG_PROPS=Object.keys(a);t.MAPPED_MEDIA_PROPS=Object.keys(r),t.MAPPED_STICKER_PROPS=["filehash","height","mimetype","size","type","width"],t.MEDIA_MSG_PROPS=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o),["clientUrl","directPath","mediaKey","uploadhash","streamable"]),t.FIELDS=Object.freeze({VIDEO:Object.freeze(["aspectRatio","fullWidth","fullHeight","preview","duration","durationFloat"]),AUDIO:Object.freeze(["duration"]),IMAGE:Object.freeze(["aspectRatio","fullWidth","fullHeight","preview"]),PRODUCT:Object.freeze(["aspectRatio","fullWidth","fullHeight","preview"]),STICKER:Object.freeze(["animationDuration","fullWidth","fullHeight","preview","rgbaBuffer","rgbaWidth","rgbaHeight","aspectRatio"]),STICKER_PACK:Object.freeze([]),DOCUMENT:Object.freeze(["aspectRatio","pageCount","preview"]),RAW:Object.freeze(["mediaBlob","size","filehash"])}),t.MSG_SPECIFIC_FIELDS=["type","filename","caption","isGif","gifAttribution","mimetype","sidecar","subtype"],t.DOWNLOAD_STAGE={INIT:"INIT",PREPARING:"PREPARING",REUPLOADING:"REUPLOADING",FETCHING:"FETCHING",PROCESSING:"PROCESSING",NEED_POKE:"NEED_POKE",ERROR_MISSING:"ERROR_MISSING",ERROR_UNSUPPORTED:"ERROR_UNSUPPORTED",RESOLVED:"RESOLVED"},t.UPLOAD_STAGE={INIT:"INIT",PREPARING:"PREPARING",UPLOADING:"UPLOADING",NEED_UPLOAD:"NEED_UPLOAD",ERROR_MISSING:"ERROR_MISSING",ERROR_TOO_LARGE:"ERROR_TOO_LARGE",UPLOADED:"UPLOADED"},t.STAGE={INIT:"INIT",PREPARING:"PREPARING",UPLOADING:"UPLOADING",SENDING:"SENDING",REUPLOADING:"REUPLOADING",FETCHING:"FETCHING",DECRYPTING:"DECRYPTING",RESOLVED:"RESOLVED",NEED_POKE:"NEED_POKE",NEED_UPLOAD:"NEED_UPLOAD",ERROR_MISSING:"ERROR_MISSING",ERROR_TOO_LARGE:"ERROR_TOO_LARGE",ERROR_UNSUPPORTED:"ERROR_UNSUPPORTED",REMOTE_UPLOADING:"REMOTE_UPLOADING",REMOTE_NEED_UPLOAD:"REMOTE_NEED_UPLOAD"},t.OUTWARD_TYPES={IMAGE:"image",VIDEO:"video",AUDIO:"audio",PTT:"ptt",STICKER:"sticker",DOCUMENT:"document",PRODUCT:"product",TEMPLATE:"template",UNKNOWN:"unknown"},t.TYPE=Object.freeze({VIDEO:"VIDEO",IMAGE:"IMAGE",AUDIO:"AUDIO",STICKER:"STICKER",DOCUMENT:"DOCUMENT",PRODUCT:"PRODUCT"}),t.UPLOAD_TYPE={VIDEO:"video",GIF:"gif",IMAGE:"image",AUDIO:"audio",DOCUMENT:"document"}},daiibfchg:function(e,t){e.exports={muted:"_236F6",mediaViewerImg:"_1z6jS",mediaViewerAnimate:"qr_9f","media-viewer-animate":"qr_9f",cursorZoomOut:"LAMxZ",media:"vahb0",mediaViewer:"_2KgjI",mediaContent:"_1HjMu",cursorZoomIn:"_1UPkW",mediaViewerBlurCrop:"_3hQXv",mediaViewerBlurImg:"ARHD2",btn:"_3yth3",btnMediaNext:"yyUKR",btnMediaPrev:"_1cB__",imageAudio:"IhuRP",mediaWithCaption:"_2Lhpe",mediaCaption:"_3qb2N",captionHidden:"_2z3FK",disabledBtn:"_2fw_A",mediaViewerAudio:"_1c2Tf"}},daijadgha:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("dhigahgdjb")),i=l(n("bcbahjefec")),u=l(n("ccjabfdeje")),s=l(n("bheehfahbe"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onSetGroupInfo=function(e){r.push(a.createElement(u.default,{participants:e,onBack:function(){r.popAndUpdate({participants:e})},onContinue:r.end}))},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"UNSAFE_componentWillMount",value:function(){o.default._sort.flush(),this.push(a.createElement(s.default,{onBack:this.end,onContinue:this.onSetGroupInfo}))}}]),t}();t.default=f},dajegcbgdi:function(e,t){e.exports={muted:"utF0r",preview:"_1SsXF",bubbleIn:"_3qblR",bubbleOut:"_1AUdd",noThumbContainer:"_3_nIn",noThumbIcon:"_3waZq",media:"_2B3Ci",iconStar:"_4HPfp",isInvite:"oRECq",title:"_3RQIp",description:"_2cR8w",source:"_17hud",body:"_2Lp2x",isCompose:"_5U8oQ",extended:"_3eauZ"}},dajffajabh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DRAWER_HEADER_TYPE=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=c(n("effbcehec")),o=c(n("ceffhbhahb")),i=n("bhfdfhefca"),u=c(n("didfdhbecg")),s=c(n("bfdcadbbif")),l=c(n("dgafbfebjc"));function c(e){return e&&e.__esModule?e:{default:e}}var f=t.DRAWER_HEADER_TYPE={SMALL:"small",LARGE:"large",POPUP:"popup",OFFSET:"offset",MULTI_MEDIA_GALLERY:"multiMediaGallery",LABELS:"labels"},d=function(e){var t=e.title,n=e.onBack,c=e.onCancel,d=e.type,p=e.children,h=e.menu,m=d===f.SMALL?"back":"back-light",b=n?r.createElement("button",{className:l.default.btnCloseDrawer,"data-a8n":a.default.key("btn-closer-drawer"),onClick:n},r.createElement(s.default,{name:m,directional:!0})):null,g=d===f.SMALL?"x":"x-light",v=c?r.createElement("button",{className:l.default.btnCloseDrawer,"data-a8n":a.default.key("btn-closer-drawer"),onClick:c},r.createElement(s.default,{name:g})):null,y=null!=h?r.createElement("span",{className:l.default.paneListControls},r.createElement(i.MenuBar,{key:"drawer-header"},r.createElement(u.default,{transitionName:"btn"},h))):null,_=(0,o.default)({[l.default.multiMediaGallery]:d===f.MULTI_MEDIA_GALLERY,[l.default.labels]:d===f.LABELS,[l.default.drawerHeader]:d===f.LARGE||d===f.MULTI_MEDIA_GALLERY||d===f.LABELS,[l.default.drawerHeaderSmall]:d===f.SMALL,[l.default.drawerHeaderOffset]:d===f.OFFSET||d===f.POPUP,[l.default.drawerHeaderPopup]:d===f.POPUP}),E=t&&p?r.createElement("div",{className:l.default.side},p):null;return r.createElement("header",{className:_},r.createElement("div",{className:l.default.drawerTitle,"data-animate-drawer-title":!0},r.createElement("div",{className:l.default.drawerTitleAction},b,v),r.createElement("div",{"data-a8n":a.default.key("drawer-title-body"),className:l.default.drawerTitleBody},t||p),E,y))};d.displayName="DrawerHeader",t.default=d},dajhhehjhc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=n("dbajccegac"),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.buf=new a}return r(e,[{key:"pushInt16",value:function(e){this.buf.writeUint16(e)}},{key:"pushInt20",value:function(e){if("number"!=typeof e)throw new Error("invalid int20");this.buf.writeUint8((983040&e)>>16),this.buf.writeUint16(65535&e)}},{key:"pushInt32",value:function(e){this.buf.writeUint32(e)}},{key:"pushByte",value:function(e){this.buf.writeUint8(e)}},{key:"pushBytes",value:function(e){if(!(e instanceof ArrayBuffer))throw new Error("invalid byte buffer");this.buf.writeBuffer(e)}},{key:"pushUint8Array",value:function(e){if("[object Uint8Array]"!==Object.prototype.toString.call(e))throw new Error("invalid Uint8Array");this.buf.writeByteArray(e)}},{key:"pushString",value:function(e){if("string"!=typeof e)throw new Error("invalid string");this.buf.writeString(e)}},{key:"toBuffer",value:function(){return this.buf.readBuffer()}}]),e}();t.default=o},dbabefhajh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=c(n("cehjjfagii")),a=c(n("eadfaddcj")),o=c(n("ceffhbhahb")),i=c(n("dfeecdfijg")),u=c(n("cieaeggjg")),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),l=c(n("beejfjjdjf"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=(0,o.default)(l.default.bubble,{[l.default.isPSA]:e.msg.isPSA}),n=(!1!==e.displayAuthor?!e.msg.isSentByMe&&e.msg.isGroupMsg:null)?s.createElement(r.default,{msg:e.msg,contact:e.msg.senderObj}):null,c=e.msg.showForwarded()?s.createElement(i.default,{msg:e.msg}):null,f=e.displayType===a.default.DISP_TYPE.GALLERY||e.hideMeta?null:s.createElement("div",{className:l.default.meta},s.createElement(u.default,{msg:e.msg}));return s.createElement("div",{className:t},n,c,e.children,f)}f.displayName="TextBubble"},dbaedajgf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=i(n("caegbedegd"));function i(e){return e&&e.__esModule?e:{default:e}}var u=(0,i(n("ceggedffg")).default)(/^(\w*)\b/g),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r(t,null,[{key:"jsx",value:function(e,t,n){var r=n.selectable,i=void 0!==r&&r;return a.createElement(o.default,{selectable:i},e)}}]),t}();t.default=s},dbahdjadcb:function(e,t){e.exports={muted:"_1qWhd",title:"_6xQdq",large:"_1drsQ","section-title":"_3he1q",sectionTitle:"_3he1q",small:"_3D8gv",plain:"_3CjAc",danger:"_23Un5",success:"XSHGx",dark:"_2tNox"}},dbbaabdabi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversionTupleExpiry=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=d(n("djheacfeif")),i=n("dcaifjegcg"),u=d(i),s=d(n("dbajccegac")),l=d(n("bjebjijbfc")),c=d(n("bdiiahhjbe")),f=d(n("jccfhaecf"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,i.prop)(),r.conversionData=(0,i.prop)(),r.conversionSource=(0,i.prop)(),r.timestamp=(0,i.prop)(function(){return l.default.globalUnixTime()}),r.alarmId=(0,i.session)(),p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"initialize",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.listenTo(this,"change:timestamp",this._setExpiryTimer),this._setExpiryTimer()}},{key:"_setExpiryTimer",value:function(){var e=this,t=this.timestamp+604800;if(t<0)return c.default.error("Invalid conversionTuple timer")(),void this.delete();this.alarmId=o.default.setLocalTimeout(function(){e.delete()},1e3*t,this.alarmId)}},{key:"_clearAlarm",value:function(){this.alarmId&&(o.default.clearTimeout(this.alarmId),this.alarmId=void 0)}},{key:"elapsedSeconds",value:function(){return l.default.globalUnixTime()-this.timestamp}},{key:"formatTuple",value:function(){var e={conversionDelaySeconds:this.elapsedSeconds()};return this.conversionData&&(e.conversionData=this.conversionData),this.conversionSource&&(e.conversionSource=this.conversionSource),e}},{key:"toJSON",value:function(){var e=this.serialize(),t=e.conversionData;if(t instanceof ArrayBuffer){var n=new s.default(t);e.conversionData=n.readString(t.byteLength)}return e}},{key:"delete",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.getCollection().remove(this.id),this._clearAlarm()}}]),t}();h.Collection="ConversionTuple",h.Proxy="conversionTuple",h.idClass=f.default,t.default=(0,i.defineModel)(h),t.ConversionTupleExpiry=604800},dbbbgjbbgf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=c(n("ihfccfgdf")),u=n("ejbdjaifi"),s=c(n("djidhiidef")),l=c(n("ccaaiecfib"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=void 0===e.spacer||e.spacer,n=(0,a.default)(s.default.text,e.className,{[s.default.spacer]:t,[s.default.spacerStar]:t&&e.msg.star,[s.default.spacerBroadcast]:t&&e.msg.broadcast,[s.default.placeholderIn]:"placeholder"===e.theme&&!e.msg.isSentByMe,[s.default.placeholderOut]:"placeholder"===e.theme&&e.msg.isSentByMe,[s.default.spacerLabels]:e.msg.labels&&e.msg.labels.length&&l.default.supportsFeature(l.default.F.LABELS_DISPLAY),[s.default.template]:e.msg.hsmEnabled});return o.createElement("div",{className:n},e.children)}}]),t}();f.CONCERNS={msg:["broadcast","star","isSentByMe","labels","hsmEnabled"]},f.displayName="MessageText",t.default=(0,i.default)((0,u.hoc)(f),f.CONCERNS)},dbbfeecced:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=s(n("ceggedffg")),u=s(n("ijhhjedi"));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,i.default)(/(^|\s)(((#|t|T|D|P|s|S|r)([0-9]{3,16}))|([0-9a-fA-F]{8,40}))(?=$|\b)/g,2,function(e,t){var n=r(e,7),a=n[1],o=n[6];if(o&&(!f.test(o)||!d.test(o)))return null;a&&(e.index+=a.length,e[0]=e[0].slice(a.length));return e}),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l),a(t,null,[{key:"jsx",value:function(e,t,n){var a=n.selectable,i=void 0!==a&&a,s=function(e){var t=r(e,7),n=t[4],a=t[5],o=t[6];if(o)return`${b}${o.toLowerCase()}`;switch(n){case"T":case"t":case"#":return`${h}${a}`;case"S":case"s":return`${m}${a}`;default:return`${p}${n}${a}`}}(t);return o.createElement(u.default,{href:s,selectable:i},e)}}]),t}();t.default=c;var f=/[a-fA-F]/,d=/[0-9]/;var p="https://phabricator.intern.facebook.com/",h="https://our.intern.facebook.com/intern/tasks/?t=",m="https://our.intern.facebook.com/intern/sevmanager/view/s/",b="https://our.intern.facebook.com/intern/bunny/?q=hash%20"},dbbggghaed:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendClear=function(e,t,n){var i=void 0;i=a.default.supportsFeature(a.default.F.MD_BACKEND)?Promise.resolve({_duplicate:!1}):o.default.sendConversationClear(e.id,t,!n).then(function(e){if(200!==e.status)throw new r.ServerStatusCodeError(e.status);return e});return i};var r=n("ddjgcfjicj"),a=i(n("ccaaiecfib")),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}},dbbhhgjjbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n("bebajedcaf")),a=m(n("ddfeabiaci"));t.sendTextMsgToChat=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},h=(t||"").trim(),m=n.linkPreview,b=n.quotedMsg,g=n.mentionedJidList,v=n.quotedMsgAdminGroupJid,y=n.selectedId,_=n.selectedIndex;if(""===h)return Promise.resolve();(0,c.clearPresence)(e);var E=e.id,j=i.default.me,O=new l.default({from:j,to:E,id:(0,d.default)(),participant:void 0,selfDir:"out"}),S=void 0;b?S=b.msgContextInfo(e.id):v&&(S={quotedRemoteJid:v});var w=(0,a.default)({id:O,body:h,type:"chat",subtype:m&&!(0,r.default)(m)?"url":null,t:o.default.globalUnixTime(),from:j,to:E,self:"out",local:!0,ack:0,urlText:e.urlText,urlNumber:e.urlNumber},m||{},S||{},{mentionedJidList:g});e.urlText&&(e.urlText=void 0);e.urlNumber&&(e.urlNumber=void 0);(0,u.shouldEnableHsm)()&&null!=_&&(w.type="template_button_reply",w.selectedId=y,w.selectedIndex=_);var P=new s.default(w);return(0,f.appendMessage)(e.id,P.toJSON()).then(function(){var t=(0,p.sendMsgRecord)(P);return e.msgs.add(P),t})}((0,h.unproxy)(e),t,n)};var o=m(n("bjebjijbfc")),i=m(n("bjigbaghc")),u=n("beadfddidc"),s=m(n("cbcbdjdah")),l=m(n("ccgjijjbbj")),c=n("icbibjcg"),f=n("cceagdehdf"),d=m(n("cfejjfjhca")),p=n("bdgehigfig"),h=n("bheafeifce");function m(e){return e&&e.__esModule?e:{default:e}}},dbcedfihd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("chihjdheic"));t.findLinks=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2];if(!w.test(e))return[];S.lastIndex=0;var r=[],a=void 0;for(;a=P(e);){var o=C(a,t,n);o&&r.push(o)}return r},t.findLink=M,t.validateEmail=function(e){var t=M(e);return t&&t.url===e&&"mailto:"===t.scheme&&t.username&&!t.params&&!t.anchor?t:null};var a=i(n("bdiiahhjbe")),o=n("eajefhgiag");function i(e){return e&&e.__esModule?e:{default:e}}var u="abb|abbott|abc|abudhabi|ac|academy|accountants|actor|ad|adult|ae|aero|af|africa|ag|agency|ai|aig|al|am|amex|amsterdam|ao|apartments|app|aq|ar|archi|army|art|as|asia|at|attorney|au|auction|audi|audio|auspost|auto|aw|aws|ax|axa|az|ba|baby|band|bank|bar|barcelona|barclays|basketball|bb|bd|be|beer|berlin|best|bet|bf|bg|bh|bi|bible|bid|bike|bio|biz|bj|black|blog|blue|bm|bmw|bn|bnpparibas|bo|boats|boston|bot|boutique|box|br|bradesco|broker|brother|brussels|bs|bt|build|builders|business|buzz|bw|by|bz|bzh|ca|cab|cafe|cam|camera|camp|canon|capetown|capital|car|cards|care|career|careers|cars|casa|cash|casino|cat|catering|cba|cc|cd|center|ceo|cern|cf|cg|ch|chat|cheap|chrome|church|ci|city|ck|cl|claims|click|clinic|clothing|cloud|club|cm|cn|co|coach|codes|coffee|college|com|community|company|computer|condos|consulting|contractors|cool|coop|corsica|coupons|cr|credit|creditcard|creditunion|cricket|crs|cruises|cu|cv|cw|cx|cy|cymru|cz|dance|date|dating|de|deals|delivery|dental|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|dj|dk|dm|do|doctor|dog|domains|download|dvag|dz|earth|ec|eco|edu|education|ee|eg|email|energy|engineer|engineering|equipment|es|estate|et|eu|eus|events|exchange|expert|exposed|express|fage|fail|faith|family|fan|fans|farm|fashion|fedex|fi|film|finance|financial|fish|fit|fitness|fj|flights|florist|flowers|fm|fo|football|forex|forsale|foundation|fox|fr|fun|fund|furniture|futbol|fyi|ga|gal|gallery|game|games|garden|gb|gd|gdn|ge|gg|gh|gi|gift|gifts|gives|gl|glass|gle|global|gm|gmbh|gn|gold|golf|goog|google|gop|gov|gp|gq|gr|graphics|gratis|green|group|gs|gt|guide|guitars|guru|gy|haus|health|healthcare|help|hermes|hk|hm|hn|holdings|holiday|honda|horse|host|hosting|house|how|hr|ht|hu|icu|id|ie|il|im|in|inc|info|ink|institute|insurance|insure|int|international|investments|io|ipiranga|iq|ir|irish|is|ist|istanbul|it|itau|java|jcb|je|jetzt|jewelry|jm|jo|jobs|joburg|jp|ke|kg|kh|kim|kitchen|kiwi|km|kn|kp|kpmg|kr|krd|kred|kw|ky|kz|la|lamborghini|land|lat|law|lawyer|lb|lc|lease|leclerc|legal|li|lidl|life|lighting|limited|limo|link|live|lk|llc|loan|loans|lol|london|love|lr|ls|lt|ltd|lu|luxe|lv|ly|ma|madrid|man|management|map|market|marketing|markets|mba|mc|md|me|media|melbourne|men|menu|mg|miami|mil|mk|ml|mm|mn|mo|mobi|moda|moe|moi|mom|monash|money|monster|mortgage|moscow|movie|mp|mq|mr|ms|mt|mu|museum|mv|mw|mx|my|mz|na|nagoya|name|nc|ne|net|network|neustar|news|next|nf|ng|ngo|ni|ninja|nl|no|np|nr|nrw|nu|nyc|nz|observer|office|om|one|onl|online|ooo|org|organic|ovh|pa|page|paris|partners|parts|party|pe|pet|pf|pg|ph|pharmacy|photo|photography|photos|pics|pictet|pictures|pink|pioneer|pizza|pk|pl|place|plus|pm|pn|poker|porn|post|pr|press|pro|productions|promo|properties|property|ps|pt|pub|pw|py|qa|quebec|racing|radio|re|realestate|realtor|realty|recipes|red|ren|rent|rentals|repair|report|rest|restaurant|review|reviews|rio|rip|ro|rocks|rodeo|rs|ru|rugby|run|rw|sa|sale|salon|sandvik|sap|saxo|sb|sbi|sc|school|schule|science|scot|sd|se|security|services|ses|sex|sexy|sg|sh|sharp|shaw|shell|shiksha|shoes|shop|shopping|show|si|singles|site|sk|ski|sl|sm|sn|sncf|so|soccer|social|softbank|software|solar|solutions|sony|soy|space|sport|spot|sr|srl|st|statebank|storage|store|stream|studio|study|style|su|supplies|supply|support|surf|sv|swiss|sx|sy|sydney|systems|sz|taipei|tatar|tattoo|tax|taxi|tc|team|tech|technology|tel|tennis|tf|tg|th|theater|theatre|tienda|tips|tirol|tj|tk|tl|tm|tn|to|today|tokyo|tools|top|tours|town|toyota|toys|tr|trade|trading|training|travel|tt|tube|tv|tw|tz|ua|ug|uk|university|uno|uol|us|uy|uz|va|vanguard|vc|ve|vegas|ventures|vet|vg|video|villas|vin|vip|vision|vlaanderen|vn|vodka|vote|voto|voyage|vu|wales|wang|watch|webcam|weber|website|wedding|wf|wien|wiki|win|wine|work|works|world|ws|wtf|xin|xyz|yandex|ye|yoga|yokohama|yt|za|zip|zm|zone|zw|||||||||||||||||",s=/^https?:\/\/$/gi,l="\\w|[^\\s\0-]|%[0-9a-f][0-9a-f]",c=`(?:${l})|(?:${l})(?:${l}|-)*(?:${l})`,f=`(?:${l}|[^\\s%])`,d=`[+@!.?,(\\[{<:]*(?!${f}|#)`,p=`(^|\\W\\.|[^/\\w.]|_)((?:http|https)://|mailto:)?(\\b\\w[0-9a-z!#$%&'*+/=?^_\`{|}~\\-]*(?:\\.[0-9a-z!#$%&'*+/=?^_\`{|}~\\-]+)*@)?(${`(?!_)(?:(?:${c})\\.)+(?:${u})(?!\\.${c})`})(?:(?!${c})|(?=_))(?:(?=[^:/?#])|(:\\d{1,5})?(${`/${f}*?`})?(${`\\?(?!${d})${f}*?`})?(${`#${f}*?`})?(?=${d}))`,h=1,m=2,b=3,g=4,v=5,y=6,_=7,E=8,j=new Map([[34,34],[41,40],[62,60],[93,91],[125,123],[187,171],[8217,8216],[8221,8220]]),O=new Map([[34,34],[40,41],[60,62],[91,93],[123,125],[171,187],[8216,8217],[8220,8221]]),S=new RegExp(`${p}`,"ig"),w=new RegExp(`\\.(?:${u})`,"i");function P(e){try{return S.exec(e)}catch(t){return a.default.assert(!1,"linkify-regex-error",`text size: ${e.length}, error: ${String(t)}`)(t),null}}function M(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2];return S.lastIndex=0,C(P(e),t,n)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2];if(!e)return null;var a=e[h].length,i=e[0],u=e.index+a,l=e.index;if("_"===e[h]&&l-1&&/\S/.test(e.input[l-1]))return null;if(e[v]){var c=parseInt(e[v].slice(1),10);if("0"===e[v][1]||!(0<c&&c<65536))return null}var f=(0,r.default)([E,_,y],function(t){return e&&e[t]})||0;if(f){var d=[],p=e[f];"_"===p.slice(-1)&&"_"===i[u-1]&&(i=i.slice(0,-1),e[f]=p=p.slice(0,-1));for(var w=0,P=0,M=0;M<p.length;M++){var C=p.charCodeAt(M);C===P?0===(P=d.pop()||0)&&(w=M):O.has(C)?(0!==P&&d.push(P),P=O.get(C)):j.has(C)||0===P&&(w=M)}for(;0!==d.length;)d.pop();w!==p.length-1?(i=e.slice(m,f).filter(function(e){return e}).join("")+p.slice(0,w+1),S.lastIndex=u+i.length):i=i.slice(a)}else i=i.slice(a);var T=i,A=e[m],N=Boolean(A&&A.match(s));if(t&&!N)return null;A?A=A.toLowerCase():(A=0===T.toLowerCase().indexOf("irc.")?"irc://":0===T.toLowerCase().indexOf("ftp.")?"ftp://":e[b]?"mailto:":"http://",T=A+T);var k=e[g];return{href:T,url:i,index:u,input:e.input,scheme:A,username:e[b],domain:k,port:e[v],path:e[y],params:e[_],anchor:e[E],isHttp:N,suspiciousCharacters:n?(0,o.findSuspiciousCharacters)(k,n):void 0}}},dbcfhfbbbf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n("dfcggebdjj")),a=f(n("ccchcigijb")),o=f(n("eccjbdjafd")),i=f(n("eaecbgafff")),u=f(n("bfccafhbbb")),s=f(n("bfjfgcfade")),l=f(n("cdheafhdbh")),c=f(n("ecidjifge"));function f(e){return e&&e.__esModule?e:{default:e}}var d=new a.default,p=new s.default,h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,o.default)([r.default,p,d,i.default])),t}();h.MentionSuggestions=(0,c.default)(u.default,{plugin:d}),h.EmojiSuggestions=(0,c.default)(l.default,{plugin:p}),t.default=h},dbcfhhdejc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatUnknownMsgText=function(e){return e.isSentByMe?r.default.t(1040):"phone"===e.subtype?r.default.t(1039):a.default.isElectron?r.default.t(1038):r.default.t(1041)},t.formatUnknownMsgNotification=function(e){return"phone"===e.subtype?r.default.t(1039):r.default.t(1041)};var r=o(n("fffdgbfji")),a=o(n("bcjcbbafcj"));function o(e){return e&&e.__esModule?e:{default:e}}},dbciicjiad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=T(n("ddjgcdciii")),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=n("bgddggdhc"),s=T(n("effbcehec")),l=T(n("fbjjefaic")),c=n("ejbdjaifi"),f=T(n("becfabjeeg")),d=T(n("caffijjhc")),p=T(n("ddajbaceej")),h=T(n("fffdgbfji")),m=T(n("ceffhbhahb")),b=n("eagfdbhhhh"),g=T(n("bfdcadbbif")),v=T(n("didfdhbecg")),y=T(n("cahcacghci")),_=T(n("bijffg")),E=T(n("icghcjegh")),j=T(n("bhhdeihhhf")),O=T(n("dbjbhajgfd")),S=T(n("ccaaiecfib")),w=T(n("bfbggcdbfb")),P=T(n("eadfaddcj")),M=T(n("biecbbiiee")),C=T(n("eceadcicaf"));function T(e){return e&&e.__esModule?e:{default:e}}function A(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=function(){},L=function(e){function t(){var e,n,a;N(this,t);for(var o=arguments.length,u=Array(o),l=0;l<o;l++)u[l]=arguments[l];return n=a=k(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={searchText:"",searchLabel:null,searchKind:null,isSearching:!1,contextMenu:null},a.disableOnBlur=!1,a.setRefInput=function(e){return a.refInput=e},a.onBlur=function(){a.disableOnBlur||a.props.setTimeout(function(){a.state.searchText||a.state.searchLabel||a.state.searchKind||a.onCancel()},0)},a.onChange=function(e){if(e.target instanceof HTMLInputElement){var t=e.target.value;a.setState({searchText:t},function(){a.props.onSearch(t,{label:a.state.searchLabel,kind:a.state.searchKind})})}},a.renderSmbSearchKindDropDownItem=function(e,t,n){var r=`chat_filter_${e}`;return i.createElement(j.default,{a8n:r,key:r,action:a.updateSearchFilter.bind(a,{kind:e})},i.createElement("div",{className:y.default.kind},i.createElement(g.default,{name:t}),i.createElement("div",{className:y.default.kindName},n)))},a.renderMsgTypeFilter=function(){return S.default.supportsFeature(S.default.F.LABELS_EDIT)&&"chat-msg-search"!==a.props.type?[i.createElement("div",{className:y.default.filterTitle,key:"chat_filter_kind_header"},h.default.t(1095)),a.renderSmbSearchKindDropDownItem(P.default.SMB_SEARCH_FILTERS.UNREAD,"search-unread",h.default.t(981)),a.renderSmbSearchKindDropDownItem(P.default.SMB_SEARCH_FILTERS.GROUP,"group",h.default.t(1193)),a.renderSmbSearchKindDropDownItem(P.default.SMB_SEARCH_FILTERS.BROADCAST,"search-broadcasts",h.default.t(980))]:[]},a.renderFilterSelectorMenu=function(){var e=_.default.toArray().reduce(function(e,t){return t.name&&t.count&&0!==t.count?[].concat(A(e),[i.createElement(j.default,{a8n:`label_item_${t.id}`,key:`label_item_${t.id}`,action:a.updateSearchFilter.bind(a,{label:t.id})},i.createElement("button",{className:y.default.labels},i.createElement(E.default,{labels:[t.id],showName:!0,theme:"label-filter"})))]):e},[]),t=0===e.length?null:i.createElement("div",{className:y.default.filterTitle,key:"chat_filter_label_header"},h.default.t(983));return[].concat(A(a.renderMsgTypeFilter()),[t],A(e))},a.onCancel=function(){a.refInput&&!a.state.contextMenu&&(a.refInput.blur(),a.setState({searchText:"",searchLabel:null,searchKind:null,isSearching:!1}),a.props.onSearch("",void 0))},a.onReset=function(e){e.stopPropagation(),a.focus(),a.setState({searchText:"",searchLabel:null,searchKind:null}),a.props.onSearch("",void 0)},a.onSearchOn=function(){a.setState({isSearching:!0}),a.props.setTimeout(a.focus,0)},a.focus=function(){p.default.focus(a.refInput)},a.showFilterSelector=function(e){var t,n=a.props.SmbFilterSession;n&&(t=n.newSessionId(),new w.default.ChatFilterEvent({actionType:w.default.CHAT_FILTER_ACTION_TYPES.OPEN,sessionId:t}).commit()),e.stopPropagation(),a.setState({contextMenu:{menu:a.renderFilterSelectorMenu(),anchor:e.target}})},a.contextClose=function(){a.setState({contextMenu:null})},a.updateSearchFilter=function(e){var t,n=a.props.SmbFilterSession;a.state.contextMenu&&a.contextClose(),a.setState({searchLabel:e.label,searchKind:e.kind}),n&&(t=n.sessionId,new w.default.ChatFilterEvent({actionType:w.default.CHAT_FILTER_ACTION_TYPES.SELECT_FILTER,filterType:w.default.CHAT_FILTER_TYPES.OTHER_LABELS,sessionId:t}).commit()),a.props.onSearch("",e)},a.labelSelectorMouseEnter=function(){S.default.supportsFeature(S.default.F.LABELS_DISPLAY)&&(a.disableOnBlur=!0)},a.labelSelectorMouseLeave=function(){a.disableOnBlur=!1},a.onContextClose=function(){a.setState({contextMenu:null})},a.constructSearchPlaceholder=function(e){return i.createElement("div",{"data-a8n":s.default.key("input-placeholder"),className:y.default.labelSearchPlaceholder},e)},a.hasActiveLabel=function(){var e=_.default.toArray();return(0,r.default)(e,function(e){return!(!e.name||!e.count||0===e.count)})},k(a,n)}return I(t,i.Component),o(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.state.isSearching||this.state.searchText||this.state.searchLabel||this.state.searchKind||(0,u.forbiddenAssertDOMNode)(this).contains(document.activeElement)||this.onCancel()}},{key:"componentWillUnmount",value:function(){this.onCancel()}},{key:"componentDidMount",value:function(){var e=this;S.default.supportsFeature(S.default.F.LABELS_EDIT)&&this.props.listeners.add(M.default,"new_msg_sent",function(){(e.state.searchKind||e.state.searchLabel)&&e.onCancel()})}},{key:"isAtBeginning",value:function(){var e=this.refInput;if(!e)throw new Error("Accessing Input element when unmounted");return 0===e.selectionStart&&0===e.selectionEnd}},{key:"isAtEnd",value:function(){var e=this.refInput;if(!e)throw new Error("Accessing Input element when unmounted");var t=e.value.length;return e.selectionStart===t&&e.selectionEnd===t}},{key:"select",value:function(){var e=this.refInput;if(!e)throw new Error("Accessing Input element when unmounted");e.select()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.placeholder,r=e.spellCheck,a=e.listFilterEnabled,o=this.state,u=o.isSearching,l=o.searchText,c=o.searchLabel,p=o.searchKind,E=null;u&&(t?E=i.createElement("div",{className:y.default.iconSpinner,key:"icon-clear-search",onClick:this.onReset},i.createElement(f.default,{size:20,stroke:5,color:"highlight"})):l.length||c||p?E=i.createElement("button",{className:y.default.iconCloseSearch,key:"icon-clear-search",onClick:this.onReset},i.createElement(g.default,{name:"x-alt"})):S.default.supportsFeature(S.default.F.LABELS_DISPLAY)&&this.hasActiveLabel()&&a&&(E=i.createElement("button",{className:y.default.iconLabelSelect,key:"icon-select-label",onClick:this.showFilterSelector},i.createElement(g.default,{name:"filter"}))));var j=void 0;u&&(j=i.createElement(d.default,{displayName:"ListSearch",escapable:!0,requestDismiss:this.onCancel,requestFocus:this.focus}));var w=n||h.default.t(944),M=u?this.onCancel:this.onSearchOn,C=(0,m.default)(y.default.listSearch,{[y.default.active]:u||c||p}),T=void 0;this.state.contextMenu&&(T=i.createElement(d.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.onContextClose},i.createElement(O.default,{contextMenu:this.state.contextMenu})));var A=void 0;return!l&&S.default.supportsFeature(S.default.F.LABELS_DISPLAY)&&(c?A=this.constructSearchPlaceholder(h.default.t(586,{labelName:_.default.assertGet(c).name})):p===P.default.SMB_SEARCH_FILTERS.GROUP?A=this.constructSearchPlaceholder(h.default.t(982)):p===P.default.SMB_SEARCH_FILTERS.UNREAD?A=this.constructSearchPlaceholder(h.default.t(984)):p===P.default.SMB_SEARCH_FILTERS.BROADCAST&&(A=this.constructSearchPlaceholder(h.default.t(979)))),i.createElement("div",{onMouseEnter:this.labelSelectorMouseEnter,onMouseLeave:this.labelSelectorMouseLeave,className:C},i.createElement("button",{"data-a8n":s.default.key("icon-search-morph"),className:y.default.iconSearchMorph,onMouseDown:M},i.createElement("div",{className:(0,m.default)(y.default.iconMorph,y.default.iconMorphBack)},i.createElement(g.default,{name:"back-blue"})),i.createElement("div",{className:(0,m.default)(y.default.iconMorph,y.default.iconMorphSearch)},i.createElement(g.default,{name:"search"}))),i.createElement(v.default,{transitionName:"pop"},E,T),i.createElement("div",{"data-a8n":s.default.key("input-placeholder"),className:y.default.inputPlaceholder},l?null:w),A,i.createElement("label",{className:y.default.contInputSearch},i.createElement("input",{type:"text",ref:this.setRefInput,"data-a8n":s.default.key("input-search"),className:(0,m.default)(y.default.inputSearch,b.SELECTABLE_INPUT_CSS_CLASS),"data-tab":2,dir:"auto",spellCheck:r,title:w,value:l,onBlur:this.onBlur,onFocus:u?null:this.onSearchOn,onChange:u?this.onChange:R})),j)}}]),t}();L.displayName="ListSearch";var D=function(e){function t(){return N(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return I(t,(0,l.default)((0,C.default)((0,c.hoc)(L)))),o(t,[{key:"focus",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).focus()}},{key:"isAtEnd",value:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).isAtEnd()}},{key:"setSearchText",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).setState({searchText:e})}},{key:"select",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).select()}}]),t}();t.default=D},dbdagcfdjh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.auth,n=e.directPath,s=e.encFilehash,l=e.hostname,c=e.type,f=e.signal,d=e.onProgress,p=(0,o.default)({auth:t,directPath:n,encFilehash:s,hostname:l,type:c}),h={encFilehash:s,type:c,url:p};return i.default.log("mmsDownload: start",h)(),(0,a.default)(p,{signal:f,onProgress:d}).then(function(e){if(!e.ok)switch(e.status){case 401:throw new u.MMSUnauthorizedError("mmsDownload",{url:p});case 403:throw new u.MMSForbiddenError("mmsDownload",{url:p});case 404:case 410:throw new u.MediaNotFoundError("mmsDownload",{url:p,status:e.status});case 507:throw new u.MMSThrottleError("mmsDownload",{url:p});default:throw new u.HttpStatusCodeError(e.status,"mmsDownload",{url:p})}return e.arrayBuffer()}).then(function(t){return(0,r.default)(t).then(function(n){if(n!==e.encFilehash)throw new u.HttpInvalidResponseError("mmsDownload: filehash mismatch",{url:p,encFilehash:n,expectedEncFilehash:e.encFilehash});return t})}).then(function(e){return i.default.log("mmsDownload: success",h)(),e}).catch(function(e){throw e instanceof u.MediaNotFoundError?i.default.log("mmsDownload: expected error",h,e)():i.default.error("mmsDownload: error",h,e)(),e})};var r=s(n("baeghbhigj")),a=s(n("dgjijbgdai")),o=s(n("ecbacgcajj")),i=s(n("bdiiahhjbe")),u=n("fgeddfbg");function s(e){return e&&e.__esModule?e:{default:e}}},dbdfbgehgj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=U(n("bgeijhbbad")),a=U(n("jcfacighg")),o=U(n("iidhbgeed")),i=U(n("dbafiicfja")),u=U(n("bebajedcaf")),s=U(n("djfhiaaehb")),l=U(n("eaaagccfda")),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n("cgcgbfbffj"),d=U(f),p=n("dfdebdgdei"),h=U(n("ebjaejiaba")),m=U(n("dfjfgdhbjj")),b=U(n("eadfaddcj")),g=n("bjigbaghc"),v=U(g),y=n("ddjgcfjicj"),_=n("bgabieacgg"),E=U(n("bihjahgcja")),j=U(n("bijffg")),O=U(n("bdiiahhjbe")),S=U(n("ccgjijjbbj")),w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ebggjhghhi")),P=U(n("bechejbabh")),M=U(n("jdigiabic")),C=n("cjjjhbdicf"),T=n("dgacffdjd"),A=n("ebffbebefe"),N=U(n("fagbfehid")),k=U(n("bhggeigghg")),I=n("dcjbdhhjge"),R=U(n("egjjcjcg")),L=U(n("jccfhaecf")),D=n("eaaehfdjdg"),x=U(D);function U(e){return e&&e.__esModule?e:{default:e}}var G=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.notSpam={},e.promises={sendUnstarAll:null,initializeRestFromTabletCache:null},e.keysForResyncMsgs=void 0,e._sortEnabled=!1,e.enableSortListener(),e.listenTo(x.default,"change:stream",function(){x.default.stream===D.STREAM.RESUMING&&e.forEach(function(e){e.pendingMsgs=!1})}),e.listenToOnce(e,"sort",(0,l.default)(e.setIndexes,100)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default),c(t,[{key:"enableSortListener",value:function(e){this._sortEnabled||(this.listenTo(this,"change:t change:pin change:isVisible",this.sort),e&&this.sort(),this._sortEnabled=!0)}},{key:"disableSortListener",value:function(){this._sortEnabled&&(this.stopListening(null,null,this.sort),this._sortEnabled=!1)}},{key:"setIndexes",value:function(){this.forEach(function(e,t){e.initialIndex=t})}},{key:"active",value:function(){var e=(0,s.default)(this.filter(function(e){return e.active}));return e||void 0}},{key:"_find",value:function(e){return Promise.resolve({id:e,createdLocally:!0})}},{key:"_findQuery",value:function(e){var t=this,n={};return(0,_.find)(!!e.retry,n).then(function(e){return"preempted"===e?Promise.reject("chats preempted"):(v.default.platform===g.PLATFORMS.IPHONE&&((0,u.default)(e)?k.default.Msg.trigger(b.default.COLLECTION_HAS_SYNCED):setTimeout(function(){k.default.Msg.trigger(b.default.COLLECTION_HAS_SYNCED)},2500)),t.trigger(b.default.COLLECTION_HAS_SYNCED,n),Promise.resolve(e))})}},{key:"sync",value:function(){return this.findQuery({}).catch(y.WapDrop,function(){}),Promise.all([w.waitForBBEvent(this,b.default.COLLECTION_HAS_SYNCED),k.default.Msg._hasSynced()])}},{key:"getKeysForResyncMsgs",value:function(){return this.filter(function(e){return e.isVisible}).map(function(e){var t=e.getAckedPhoneProps(),n=e.lastReceivedKey;return n&&(t.id=n.id,t.fromMe=n.fromMe.toString(),t.participant=n.participant),t})}},{key:"setKeysForResyncMsgs",value:function(e){this.keysForResyncMsgs=e}},{key:"resetKeysForResyncMsgs",value:function(){this.keysForResyncMsgs=void 0}},{key:"resyncMessages",value:function(){var e=this;O.default.log("ChatStore:resyncMessages")();var t=this.keysForResyncMsgs||this.getKeysForResyncMsgs();return(0,C.resyncMessages)(t).then(function(t){return t.status>=400?(O.default.error("ChatStore:resyncMessages resume error "+t.status)(),Promise.reject(new Error("ChatStore:resyncMessages resume error "+t.status))):(O.default.log("ChatStore:resyncMessages resume success")(),(e.keysForResyncMsgs&&e.promises.initializeRestFromTabletCache?e.promises.initializeRestFromTabletCache:Promise.resolve()).then(function(){t.checksum&&(0,T.resyncContacts)(t.checksum),t.statusChecksum&&k.default.StatusV3.sync(t.statusChecksum),t.quickRepliesChecksum&&P.default.sync(t.quickRepliesChecksum),t.labelsChecksum&&j.default.sync(t.labelsChecksum),t.stickerPackChecksum&&N.default.sync(t.stickerPackChecksum),null!=t.recentStickersChecksum&&M.default.sync(t.recentStickersChecksum),e.disableSortListener(),t.data.forEach(function(t){if(t.disableUnreadAnchor=!1,t.firstUnreadKey=void 0,t.keys&&1===t.keys.length){var n=t.keys[0];t.firstUnreadKey=new S.default({id:n[0],fromMe:n[1],participant:n[2],remote:t.id})}if("delete"!==t.type&&!L.default.isPSA(t.id)){var r=k.default.Contact.get(t.id);if(r){if(t.name){var a={name:t.name};(0,I.updateLocal)(r.id,a).then(function(){r.set(a)})}}else k.default.Contact.add({id:t.id,name:t.name})}var o=e.get(t.id);if(o)if("clear"===t.type){o.resetMediaMsgs();var i=[];o.msgs.forEach(function(e){return i.push(e)}),o.msgChunks.length&&o.msgChunks.forEach(function(e){e.forEach(function(e){return i.push(e)})}),o.set({t:t.t,unreadCount:t.unreadCount,createdLocally:!1,archive:t.archive,isReadOnly:t.isReadOnly,modifyTag:t.modifyTag,msgs:[],notSpam:t.notSpam,unreadMsgAnchor:void 0,disableUnreadAnchor:t.disableUnreadAnchor,pendingMsgs:t.pendingMsgs,pin:t.pin,changeNumberOldJid:t.changeNumberOldJid,changeNumberNewJid:t.changeNumberNewJid,muteExpiration:t.muteExpiration}),i.forEach(function(e){e.delete()}),O.default.log("model:chat:resume: cleared chat for "+t.id)()}else"delete"===t.type?(o.delete(),O.default.log("model:chat:resume: deleted chat for "+t.id)()):o.set(t,{merge:!0});else e.add(t)})}).finally(function(){e.enableSortListener(!0)}))}).catch(y.WapDrop,function(e){return O.default.error("ChatStore:resyncMessages resume dropped")(),Promise.reject(e)}).finally(function(){e.resetKeysForResyncMsgs()})}},{key:"unstarAllMessages",value:function(e,t){return(0,A.unstarAllMessages)(e,t)}},{key:"forwardMessagesToChats",value:function(e,t){var r=n("dgjddffcfg"),u=Promise.map(e,function(e){return Promise.props({message:e,canForward:e.canForward()})});return Promise.map(t,function(e){var t=void 0;return t=e.isUser&&e.contact.isBlocked()?(0,p.unblockContact)(e.contact):Promise.resolve(!0),Promise.all([u,t]).spread(function(t,n){var r=(0,i.default)((0,o.default)(t,{canForward:!0}),"message"),a=(0,i.default)((0,o.default)(t,{canForward:!1}),"message");return Promise.props({chat:e,undelivered:e.forwardMessages(r,!0),canForward:r,cannotForward:a})})}).then(function(e){var t=(0,a.default)(e.map(function(e){var t=e.chat,n=e.undelivered,a=e.canForward,o=e.cannotForward,i=null;return(n.length||o.length)&&(i=r.formatForwardError({chat:t,undelivered:n,canForward:a,cannotForward:o})),i?{chat:t,reason:i}:null}));if(t.length)throw new E.default(t);return!0})}},{key:"saveToCache",value:function(){if(v.default.me){var e=t.cachePolicy.id;O.default.log(`ChatCollection:saveToCache save: ${String(e)}`)();var n=this.map(function(e,t){var n=e.toJSON(),a=t<20?Math.min(e.unreadCount+20,50):Math.min(Math.max(3,e.unreadCount),20);return n.msgs=e.msgs?e.msgs.slice(-a).map(function(e){return(0,r.default)(e.toJSON(),function(e){return void 0!==e})}):[],n});R.default.setCollection(e,n,!0)}}},{key:"onResume",value:function(){var e=this.active();e&&e.presence.subscribe()}},{key:"delete",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.listenToOnce(this,"sort",(0,l.default)(this.setIndexes,100))}}]),t}();G.model=h.default,G.comparator=m.default,G.cachePolicy={id:"chat",policy:f.CACHE_POLICY.IMMEDIATE,trigger:"add sort remove reset change:id change:t change:unreadCount change:archive change:isReadOnly change:isAnnounceGrpRestrict change:modifyTag change:muteExpiration change:name change:notSpam change:pin change:changeNumberOldJid change:changeNumberNewJid change:lastReceivedKey change:msg:ack msgs:loadEarlier"},t.default=new G},dbdidgdgai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=P(n("diifagijfe")),a=P(n("cgjajaggch")),o=P(n("dbafiicfja")),i=P(n("iidhbgeed")),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),l=P(n("gbfffciea")),c=P(n("biddiiafgd")),f=P(n("ceffhbhahb")),d=P(n("bjjjdidhhi")),p=P(n("bhcegecbha")),h=P(n("ghbbeafj")),m=P(n("ccaaiecfib")),b=P(n("eceadcicaf")),g=n("ejbdjaifi"),v=n("bheafeifce"),y=P(n("biecbbiiee")),_=P(n("bfdcadbbif")),E=n("bfjajhbdf"),j=P(E),O=P(n("gchdabbf")),S=P(n("eadfaddcj")),w=P(n("cfhgffgbcb"));function P(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=function(e){function t(){var e,n,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var f=arguments.length,m=Array(f),b=0;b<f;b++)m[b]=arguments[b];return n=u=M(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(m))),u.onStarChanged=function(e){u.props.selectedMessages.isSelected(e)&&u.forceUpdate()},u.onStarSelected=function(){var e=u.props,t=e.chat,n=e.selectedMessages,r=e.toastPosition,a=n.getSelected();t&&l.default.sendStarMsgs(t,a,null,r),u.props.onCancel()},u.onUnstarSelected=function(){var e=u.props,t=e.chat,n=e.selectedMessages,r=e.toastPosition,a=n.getSelected();t&&l.default.sendUnstarMsgs(t,a,null,r),u.props.onCancel()},u.onDownloadSelected=function(){var e=(0,i.default)(u.props.selectedMessages.getSelected(),function(e){return e.mediaData});if(e.length){var t=(0,i.default)(e,function(e){return!e.mediaData.renderableUrl});t.length>0?(l.default.openToast(s.createElement(j.default,{msg:l10n.t(392),id:(0,E.genId)()})),Promise.all((0,o.default)(t,function(e){return e.forceDownloadMedia()})).then(function(){var t=(0,i.default)(e,function(e){return e.mediaData.renderableUrl});e.length>t.length&&l.default.openToast(s.createElement(j.default,{msg:l10n.t(420,{_plural:e.length-t.length,count:e.length-t.length}),id:(0,E.genId)()})),t.length&&p.default.initDownload(t)})):p.default.initDownload(e),u.props.onCancel()}},u.addOrRemoveLabelOnSelected=function(){var e=u.props.selectedMessages.getSelected();l.default.openModal(s.createElement(w.default,{onLabelUpdateComplete:u.props.onCancel,modelsToUpdate:e}))},u.onDeleteSelected=function(){var e=u.props,t=e.chat,n=e.selectedMessages,r=e.toastPosition,o=n.getSelected(),i=(0,a.default)(o,function(e){return e.canRevoke()});t&&l.default.openModal(s.createElement(d.default,{chat:t,msgList:o.map(v.unproxy),deletePrompt:!0,revokePrompt:i&&!u.props.disableRevoke,toastPosition:r,onCancel:u.props.onCancel}))},u.onForwardSelected=function(){var e=u.props.selectedMessages.getSelected();!u.props.noSortOnForward&&u.props.chat&&(e=u.props.chat.sortMsgs(e));var t=(0,r.default)(e),n=function(){u.props.onCancel()},a=(0,i.default)(e,function(e){return e.canForward()});if((0,r.default)(a))if(t!==(0,r.default)(a)){l.default.openModal(s.createElement(c.default,{title:l10n.t(321),onOK:function(){l.default.openModal(s.createElement(h.default,{msgs:a,pushTransition:"none",popTransition:"none",onForward:n}),{transition:"modal-flow"})},okText:l10n.t(428),onCancel:function(){return l.default.closeModal()},cancelText:l10n.t(1091)},l10n.t(320)))}else l.default.openModal(s.createElement(h.default,{msgs:e,pushTransition:"none",popTransition:"none",onForward:n}),{transition:"modal-flow"});else l.default.openModal(s.createElement(c.default,{title:l10n.t(417),onOK:function(){return l.default.closeModal()},okText:l10n.t(1225)},l10n.t(414,{_plural:t})))},M(u,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),u(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.props.selectedMessages.getSelected().forEach(function(t){e.props.listeners.add(t,"change:star")}),this.props.listeners.add(this.props.selectedMessages,"all"),this.props.listeners.add(y.default,"change:star",this.onStarChanged)}},{key:"render",value:function(){var e=this.props.selectedMessages.getSelected(),t=(0,r.default)(e),n=m.default.supportsFeature(m.default.F.ENC_DOC)||(0,a.default)(e,function(e){return e.type!==S.default.MSG_TYPE.DOCUMENT}),o=(0,a.default)(e,function(e){return e.canForward()}),i=(0,a.default)(e,function(e){return e.canStar()}),u=(0,a.default)(e,function(e){return e.mediaData}),l=!t||!n||!o,c=s.createElement(T,{disabled:l,name:"forward",onClick:this.onForwardSelected,title:l10n.t(432,{_plural:t})}),d=s.createElement(T,{name:"delete",disabled:!t,title:l10n.t(363,{_plural:t}),onClick:this.onDeleteSelected}),p=void 0,h=void 0,b=void 0;t&&(0,a.default)(e,"star")?(p=this.onUnstarSelected,h="unstar-btn",b=l10n.t(1037,{_plural:t})):(p=this.onStarSelected,h="star-btn",b=l10n.t(987,{_plural:t}));var g=s.createElement(T,{name:h,disabled:!t||!i,title:b,onClick:p}),v=void 0;m.default.supportsFeature(m.default.F.LABELS_EDIT)&&(v=s.createElement(T,{disabled:!t,name:"label",onClick:this.addOrRemoveLabelOnSelected,title:l10n.t(585)}));var y=void 0;Modernizr.adownload&&this.props.downloadButton&&u&&(y=s.createElement(T,{name:"download",disabled:!t,title:l10n.t(1089),onClick:this.onDownloadSelected}));var _=(0,f.default)(O.default.multiControls,{[O.default.mediaGalleryTheme]:"mediaGallery"===this.props.theme});return s.createElement("div",{className:_},s.createElement(T,{name:"x",onClick:this.props.onCancel}),s.createElement("span",{className:O.default.multiCount},l10n.t(951,{count:t,_plural:t})),v,g,d,c,y)}}]),t}();C.defaultProps={downloadButton:!0},C.displayName="MultiselectBar",t.default=(0,b.default)((0,g.hocWithDefaults)(C));var T=function(e){var t=e.name,n=e.title,r=e.onClick,a=e.directional,o=e.disabled;return s.createElement("button",{className:O.default.multiselectIcon,title:n,onClick:r,disabled:o?"disabled":void 0},s.createElement(_.default,{name:t,directional:a}))};T.displayName="BtnIcon"},dbdjchfgia:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerState=void 0;var r=s(n("dhgeffcgbg")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=s(n("cehheibgje"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e){return o({},e,{playerVars:o({},e.playerVars,{autoplay:0,start:0,end:0})})}var f=t.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.listeners=[],r.onPlayerReady=function(e){return r.props.onReady(e)},r.onPlayerError=function(e){return r.props.onError(e)},r.onPlayerStateChange=function(e){switch(r.props.onStateChange(e),e.data){case f.ENDED:r.props.onEnd(e);break;case f.PLAYING:r.props.onPlay(e);break;case f.PAUSED:r.props.onPause(e);break;default:return}},r.onPlayerPlaybackRateChange=function(e){return r.props.onPlaybackRateChange(e)},r.onPlayerPlaybackQualityChange=function(e){return r.props.onPlaybackQualityChange(e)},r.createPlayer=function(){var e=o({},r.props.opts,{videoId:r.props.videoId});r.internalPlayer=(0,u.default)(r.container,e),r.listeners.push(r.internalPlayer.on("ready",r.onPlayerReady),r.internalPlayer.on("error",r.onPlayerError),r.internalPlayer.on("stateChange",r.onPlayerStateChange),r.internalPlayer.on("playbackRateChange",r.onPlayerPlaybackRateChange),r.internalPlayer.on("playbackQualityChange",r.onPlayerPlaybackQualityChange))},r.resetPlayer=function(){return r.internalPlayer.destroy().then(r.createPlayer)},r.updatePlayer=function(){var e=r.internalPlayer.getIframe();r.props.id?e.setAttribute("id",r.props.id):e.removeAttribute("id"),r.props.className?e.setAttribute("class",r.props.className):e.removeAttribute("class")},r.updateVideo=function(){if(null!=r.props.videoId){var e=!1,t=void 0,n=void 0;"playerVars"in r.props.opts&&(e=1===r.props.opts.playerVars.autoplay,"start"in r.props.opts.playerVars&&(t=r.props.opts.playerVars.start),"end"in r.props.opts.playerVars&&(n=r.props.opts.playerVars.end));var a={videoId:r.props.videoId,startSeconds:t,endSeconds:n};e?r.internalPlayer.loadVideoById(a):r.internalPlayer.cueVideoById(a)}else r.internalPlayer.stopVideo()},r.refContainer=function(e){r.container=e},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"componentDidMount",value:function(){this.createPlayer()}},{key:"componentDidUpdate",value:function(e){(function(e,t){return e.id===t.id||e.className===t.className})(e,this.props)&&this.updatePlayer(),function(e,t){return!(0,r.default)(c(e.opts),c(t.opts))}(e,this.props)&&this.resetPlayer(),function(e,t){if(e.videoId!==t.videoId)return!0;var n=e.opts.playerVars||{},r=t.opts.playerVars||{};return n.start!==r.start||n.end!==r.end}(e,this.props)&&this.updateVideo()}},{key:"componentWillUnmount",value:function(){var e=this;this.listeners.forEach(function(t){e.internalPlayer.off(t)}),this.internalPlayer.destroy()}},{key:"render",value:function(){return i.createElement("span",{className:this.props.containerClassName},i.createElement("div",{id:this.props.id,className:this.props.className,ref:this.refContainer}))}}]),t}();d.defaultProps={id:null,className:null,opts:{playerVars:{}},containerClassName:"",onReady:function(){},onError:function(){},onPlay:function(){},onPause:function(){},onEnd:function(){},onStateChange:function(){},onPlaybackRateChange:function(){},onPlaybackQualityChange:function(){}},d.displayName="YouTube",t.default=d},dbefabiacb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContactsToRemove=function(e){var t=[],n={};return e.forEach(function(e){e&&(n[e.id]=!0)}),o.default.Contact.forEach(function(e){var r=e.id;!(e.isUser||e.isGroup&&!o.default.Chat.get(r))||n[r.toString()]||e.isPSA||t.push(e)}),t};var r,a=n("bhggeigghg"),o=(r=a)&&r.__esModule?r:{default:r}},dbegdchadg:function(e,t,n){"use strict";var r,a=n("chgaccicf");var o=(0,((r=a)&&r.__esModule?r:{default:r}).default)({FORWARD:void 0,BACKWARD:void 0});e.exports=function(e,t){var n=window.getSelection();if(!n||!n.rangeCount)return null;var r=n.getRangeAt(0);if(!r.collapsed)return null;var a=r.startContainer,i=r.startOffset;if(a===e){var u=a.childNodes,s=u.length;if(t===o.FORWARD&&i>s||t===o.BACKWARD&&!i)return null;var l=u[i-(t===o.BACKWARD?1:0)];return l instanceof Element?l:null}var c=a.length===i;if(t===o.BACKWARD&&i)return null;if(t===o.FORWARD&&!c)return null;var f=a[t===o.BACKWARD?"previousSibling":"nextSibling"];return f instanceof Element?f:null},e.exports.Direction=o},dbfaahhhec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("ceffhbhahb")),i=f(n("ihgbiaiaa")),u=f(n("bffjfbgbg")),s=f(n("ihfccfgdf")),l=f(n("eedjbihej")),c=n("ejbdjaifi");function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.hasResolved=!1,d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidUpdate",value:function(){this.hasResolved||this.props.deletedProduct||this.props.mediaData.mediaStage!==u.default.STAGE.RESOLVED||(this.props.incrementResolvedCount(),this.hasResolved=!0)}},{key:"getItemClassName",value:function(){var e=this.props.className;return(0,o.default)({[i.default.item]:!e},e)}},{key:"renderLoadingMedia",value:function(){var e=this.props.mediaData,t=e.renderableUrl||e.preview&&e.preview.url();return a.createElement("div",{className:(0,o.default)(this.getItemClassName(),i.default.loadingImageContainer)},t&&a.createElement("div",{className:i.default.loadingImage,style:{backgroundImage:`url('${t}')`,backgroundSize:"cover",backgroundPosition:"center center"}}))}},{key:"renderGridItem",value:function(){var e=this,t=this.props,n=t.mediaData,r=t.imageModel,o=t.onClick;return a.createElement("div",{className:this.getItemClassName(),style:{backgroundImage:`url('${n.renderableUrl}')`,backgroundSize:"cover",backgroundPosition:"center center",cursor:`${o?"pointer":"auto"}`},ref:(0,c.GetRef)("image",this),onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return o&&o(e.image,r)})})}},{key:"renderOverlayTile",value:function(){var e=this,t=this.props,n=t.numImagesNotRendered,r=void 0===n?0:n,u=t.numberTextClassName,s=t.imageModel,c=t.onClick,f=u?{[u]:"string"==typeof u}:null;return a.createElement("div",{className:(0,o.default)(i.default.item,i.default.overlay),onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return c&&c(e.image,s)})},this.renderGridItem(),r>0?a.createElement(l.default,{theme:"large",className:(0,o.default)(i.default.numberText,f)},l10n.t(820,{number:r})):null)}},{key:"render",value:function(){var e=this.props,t=e.mediaData,n=e.renderOverlay,r=e.renderImage;return e.deletedProduct?this.renderLoadingMedia():t.mediaStage!==u.default.STAGE.RESOLVED?null:r?n?this.renderOverlayTile():this.renderGridItem():null}}]),t}();p.CONCERNS={mediaData:["mediaStage","filehash","renderableUrl","preview"]},p.displayName="ImageGridItem",t.default=(0,s.default)((0,c.hoc)(p),p.CONCERNS)},dbfbdfhfee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=n("dacdidjdfi"),a=s(r),o=s(n("ceffhbhahb")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=s(n("daibgjhabc"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=(0,o.default)(u.default.container,{[u.default.isChecked]:e.checked,[u.default.gallery]:"gallery"===e.theme});return i.createElement("div",{className:t,onClick:e.onClick},i.createElement(a.default,{onChange:e.onClick,checked:e.checked?r.CHECKBOX_STATE.CHECKED:r.CHECKBOX_STATE.UNCHECKED}))}l.displayName="MsgCheckbox"},dbfiijcdie:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n("cccehdaiaf")),o=i(n("bdiiahhjbe"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},l=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],c=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],f=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","msfullscreenchange","msfullscreenerror"],d=void 0,p=void 0,h=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.requestFullscreen=function(e){e?d?e[d[s.requestFullscreen]]():o.default.warn("Your browser does not support fullscreen API.")():o.default.error("The element requesting fullscreen is null or undefined.")()},e._fullscreenChangeTrigger=function(t){e.trigger("fullscreen_change",t)},e._fullscreenErrorTrigger=function(t){e.trigger("fullscreen_error",t)},"object"!=typeof window||"object"!=typeof window.document?(o.default.error("document object does not exist")(),u(e)):("fullscreenEnabled"in(p=window.document)?d=Object.keys(s):l[s.fullscreenEnabled]in p?d=l:c[s.fullscreenEnabled]in p?d=c:f[s.fullscreenEnabled]in p&&(d=f),d?(p.addEventListener(d[s.fullscreenchange],e._fullscreenChangeTrigger),p.addEventListener(d[s.fullscreenerror],e._fullscreenErrorTrigger),e):(o.default.warn("Your browser does not support fullscreen API.")(),u(e)))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"exitFullscreen",get:function(){return p?d?p[d[s.exitFullscreen]].bind(p):(o.default.warn("Your browser does not support fullscreen API.")(),function(){}):(o.default.error("document object does not exist")(),function(){})}},{key:"isFullscreenMode",get:function(){return p?d?!!p[d[s.fullscreenElement]]:(o.default.warn("Your browser does not support fullscreen API.")(),!1):(o.default.error("document object does not exist")(),!1)}},{key:"fullscreenEnabled",get:function(){return p?d?Boolean(p[d[s.fullscreenEnabled]]):(o.default.warn("Your browser does not support fullscreen API.")(),!1):(o.default.error("document object does not exist")(),!1)}},{key:"fullscreenElement",get:function(){if(p){if(d)return p[d[s.fullscreenElement]];o.default.warn("Your browser does not support fullscreen API.")()}else o.default.error("document object does not exist")()}}]),t}());o.default.exportToWindow("Fullscreen",h),t.default=h},dbfjecijha:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MsgLoadState=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=d(n("cgeeeeddea")),i=d(n("cgcgbfbffj")),u=n("dcaifjegcg"),s=d(u),l=d(n("bdiiahhjbe")),c=d(n("cbcbdjdah")),f=d(n("bhggeigghg"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){function t(){var e,n,r;p(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.noEarlierMsgs=(0,u.prop)(),r.isLoadingEarlierMsgs=(0,u.prop)(),r.isLoadingRecentMsgs=(0,u.prop)(),r.isLoadingAroundMsgs=(0,u.prop)(),r.contextLoaded=(0,u.prop)(),h(r,n)}return m(t,s.default),t}();b.Proxy="msgLoad";var g=t.MsgLoadState=(0,u.defineModel)(b),v=function(e){function t(){p(this,t);var e=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.msgLoadState=new g({noEarlierMsgs:!1,isLoadingEarlierMsgs:!1,isLoadingRecentMsgs:!1,isLoadingAroundMsgs:!1,contextLoaded:!1}),e.listenTo(e,"add remove reset sort",e.triggerChangeLast),e.listenTo(e.msgLoadState,"change:noEarlierMsgs",function(e,t){if(t){var n=["noEarlierMsgs changed to true",(new Error).stack];l.default.logVerbose(n.join("\n"))()}}),e}return m(t,i.default),r(t,[{key:"delete",value:function(){this.stopListening(),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.msgLoadState.delete()}},{key:"triggerChangeLast",value:function(e,t,n){var r=this.last();if(this._last!==r){this._last=r;var a=!1;t&&t.includes(e)&&n&&n.add&&!n.remove&&(a=!0),this.trigger("change:last",r,a)}}},{key:"add",value:function(e,n){var r=this,o=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n);return f.default.Msg.add(o,n).forEach(function(e){e&&r.isModel(e)&&(e.msgChunk=r)}),o&&this.trigger("bulk_add",o,n),o}},{key:"remove",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this,e,n),i=!!n&&n.silent,u=o.filter(function(e){return!!e});return u.length&&!i&&(this.trigger("remove_msgs",u,n),r||this.trigger("update_sort_time")),o}},{key:"replace",value:function(e){var t=this;e.msgLoadState.noEarlierMsgs&&l.default.logVerbose(`Replacing cmc msgLoadState with one whose noEarlierMsgs is true.\n${(new Error).stack}`)(),this.msgLoadState=e.msgLoadState,this.loadRecentPromise=e.loadRecentPromise,this.loadEarlierPromise=e.loadEarlierPromise,this.loadAroundPromise=e.loadAroundPromise;var n=e.getModelsArray();this.set(n,{silent:!0,merge:!1}),n.forEach(function(e){t.isModel(e)&&(e.msgChunk=t)}),this.trigger("bulk_add",n)}},{key:"onMsgLoadStateChange",value:function(e){var t=this,n=void 0,r=function(){e()},a=function(){(0,o.default)(null!=n,"prevMsgLoadState cannot be null after bulk_add"),n.off("change",r);var a=t.msgLoadState;a.on("change",r),n=a,e()};(n=this.msgLoadState).on("change",r),this.on("bulk_add",a);var i=function(){(0,o.default)(null!=n,"prevMsgLoadState cannot be null when unsubscribing"),t.off("bulk_add",a),n.off("change",r)};return function(){var e=i;e&&(i=null,e())}}}]),t}();v.model=c.default,t.default=v},dbgefjefac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=k(n("ddhijeejag")),o=k(n("ecibddhig")),i=N(n("ceffhbhahb")),u=N(n("bcfhbihafa")),s=N(n("cehjjfagii")),l=N(n("jhcabjcaf")),c=(N(n("eadfaddcj")),N(n("bfjbdahdag"))),f=N(n("bjebjijbfc")),d=N(n("gbfffciea")),p=N(n("dfeecdfijg")),h=N(n("eceadcicaf")),m=N(n("bffjfbgbg")),b=N(n("eiiicijcj")),g=N(n("eafjfadchb")),v=N(n("cieaeggjg")),y=N(n("bfdcadbbif")),_=N(n("deibgadgic")),E=N(n("ihfccfgdf")),j=N(n("cbjacjjfgc")),O=N(n("edbaidcaf")),S=n("bbdfiiibib"),w=N(S),P=N(n("ichhibhgh")),M=N(n("bcafcjajcb")),C=n("dhccihecch"),T=n("ejbdjaifi"),A=n("bheafeifce");function N(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var I={PREVIEW:"PREVIEW",FLOATER:"FLOATER"},R=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.setRefThumb=function(e){n.refThumb=e},n.showMediaMissing=function(){d.default.openModal(a.createElement(b.default,{msg:n.props.msg}))},n.downloadMedia=function(){n.props.msg.forceDownloadMedia(!0)},n.cancelDownload=function(){n.props.msg.cancelDownload()},n.cancelUpload=function(){n.props.msg.cancelUpload()},n.resumeUpload=function(){n.props.msg.resumeUpload()},n.resumeRemoteUpload=function(){n.props.msg.resumeRemoteUpload()},n.downloadUnsupportedToDesktop=function(e){e&&e.stopPropagation(),d.default.openModal(a.createElement(g.default,{msg:(0,A.unproxy)(n.props.msg)}))},n.launchMediaViewer=function(e){if(e&&e.stopPropagation(),n.props.theme===C.THEMES.ALBUM){var t=n.props.zoomMsg||n.props.msg,r=n.props.albumMsgs||[];d.default.mediaViewerModal((0,A.unproxy)(t),null,void 0,r)}else d.default.mediaViewerModal((0,A.unproxy)(n.props.msg),null)},n.launchVideoFloater=function(e){e&&e.stopPropagation();var t=n.refThumb?n.refThumb.getBoundingClientRect():null;P.default.openPiP((0,A.unproxy)(n.props.msg),0,t)},n.setPreviewMode=function(){n.state.mode!==I.PREVIEW&&n.setState({mode:I.PREVIEW})},n.setFloaterMode=function(){n.state.mode!==I.FLOATER&&n.setState({mode:I.FLOATER})};var r=P.default.isOpened((0,A.unproxy)(e.msg))?I.FLOATER:I.PREVIEW;return n.state={mode:r},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(P.default,`${this.props.msg.id.toString()}_pip_did_open`,this.setFloaterMode),this.props.listeners.add(P.default,`${this.props.msg.id.toString()}_pip_did_close`,this.setPreviewMode)}},{key:"render",value:function(){var e=this,t=this.props,n=t.msg,r=t.mediaData,d=t.theme,h=t.overlayContent,b=null,g=null;switch(r.mediaStage){case m.default.STAGE.RESOLVED:case m.default.STAGE.INIT:b=a.createElement(o.Play,null),g=this.launchMediaViewer;break;case m.default.STAGE.NEED_POKE:b=a.createElement(o.Download,{filesize:r.size}),g=this.downloadMedia;break;case m.default.STAGE.UPLOADING:b=a.createElement(o.PendingCancel,null),g=this.cancelUpload;break;case m.default.STAGE.NEED_UPLOAD:b=a.createElement(o.Upload,{filesize:r.size}),g=this.resumeUpload;break;case m.default.STAGE.REMOTE_NEED_UPLOAD:b=a.createElement(o.Upload,{filesize:r.size}),g=this.resumeRemoteUpload;break;case m.default.STAGE.ERROR_MISSING:g=this.showMediaMissing;break;case m.default.STAGE.ERROR_UNSUPPORTED:n.isUnsentMedia||(b=a.createElement(o.Download,{filesize:r.size}),g=this.downloadUnsupportedToDesktop);break;default:b=a.createElement(o.Pending,null)}var E=f.default.durationStr(r.duration),P=E?a.createElement("span",{className:u.default.duration},a.createElement("div",{className:u.default.icon},a.createElement(y.default,{name:"msg-video-light"})),E):null,T=r.preview?O.default.thumbAsBackgroundImage(r.preview.url()):void 0,A=a.createElement("div",{className:u.default.thumbBody,style:T}),N=this.props.displayAuthor&&!n.isSentByMe&&n.isGroupMsg,k=N?a.createElement("div",{className:u.default.author},a.createElement(s.default,{msg:n,contact:n.senderObj})):null,R=n.showForwarded()?a.createElement(p.default,{msg:n,className:u.default.forwardedIndicator}):null,D=a.createElement(j.default,null),x=n.caption?a.createElement("div",{className:u.default.caption},a.createElement(c.default,{msg:n,trusted:this.props.trusted,spacer:!(n.hsmEnabled&&n.footer)})):null,U=(0,i.default)(u.default.bubble,{[u.default.nonAlbumBubble]:!d||d!==C.THEMES.ALBUM}),G=(0,i.default)(U,{[u.default.hasCaption]:x,[u.default.hasAuthor]:N,[u.default.isHover]:this.props.hover,[u.default.forwarded]:n.showForwarded(),[u.default.isPSA]:n.isPSA}),F=void 0;switch(r.mediaStage){case m.default.STAGE.INIT:case m.default.STAGE.RESOLVED:F=a.createElement("div",{className:(0,i.default)(u.default.pipBtn,{[u.default.isHover]:!!this.props.hover})},a.createElement(w.default,{onClick:function(t){t&&t.stopPropagation(),e.launchVideoFloater()},theme:S.PIP_BUTTON_THEME.PREVIEW}));break;default:F=null}var B=this.props.quotedMsg?a.createElement("div",{className:u.default.quote},this.props.quotedMsg):null,$=void 0;switch(this.state.mode){case I.PREVIEW:$=a.createElement(a.Fragment,null,F,b);break;case I.FLOATER:$=a.createElement(M.default,{icon:a.createElement(y.default,{name:"video-pip-large"})},l10n.t(847))}var V=(0,i.default)(u.default.thumb,{[u.default.inAlbum]:d===C.THEMES.ALBUM}),H=void 0;h||(H=a.createElement("div",{className:u.default.meta},a.createElement(v.default,{msg:n})));var W=a.createElement("div",{className:G},k,R,B,a.createElement("div",{ref:this.setRefThumb,className:(0,i.default)(V,"video-thumb",{[u.default.cursorPointer]:this.state.mode===I.PREVIEW,[u.default.overlay]:h}),onClick:g},h?null:$,A,D,h?null:P),x,a.createElement(_.default,{msg:n}),H);return x?a.createElement(l.default,{contact:n.senderObj,msg:n,onClick:L},W):(h&&(W=a.createElement("div",{className:u.default.overlayAlbumText},W,h)),a.createElement("div",{onClick:L},W))}}]),t}();function L(e){e.stopPropagation()}R.CONCERNS={msg:["id","ack","caption","isPSA","isSentByMe","isGroupMsg","gifAttribution","senderObj","isUnsentMedia","footer","rtl","dir","type","hsmEnabled"],mediaData:["aspectRatio","preview","duration","mediaStage","size"]},R.displayName="Video",t.default=(0,h.default)((0,E.default)((0,T.hoc)(R),R.CONCERNS))},dbhbjaeieh:function(e,t){e.exports={muted:"_2QjVs",video:"_1cIQK"}},dbhbjbfadb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FETCH_STATE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n("cgeedcdffb")),o=f(n("bdiiahhjbe")),i=f(n("cafdagagdh")),u=f(n("cjbdijighi")),s=f(n("bcbjcgdgdf")),l=n("beifdajhid"),c=n("ddihieeaee");function f(e){return e&&e.__esModule?e:{default:e}}t.FETCH_STATE={PENDING:"PENDING",SUCCESS:"SUCCESS",ERROR:"ERROR"};var d=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._fetch=(0,u.default)(function(){return"all"},function(e){var n=e.signal;return(0,c.sendQueryMediaConn)(n).then(function(e){t._err=null,t._data={auth:e.auth,authExpirationTime:new Date(e.queryStartTime.getTime()+e.authTTL),authTTL:e.authTTL,hosts:e.hosts.map(function(e){return new i.default(e)}),hostsRefreshTime:new Date(e.queryStartTime.getTime()+e.ttl),queryStartTime:e.queryStartTime}}).catch(function(e){t._data=null,t._err=e,o.default.assert(!1,"Error fetching mms hosts")(e)})}),this._reset()}return r(e,[{key:"getHostsInfo",value:function(e){var t=this,n=e.directPath,r=e.encFilehash,o=e.operation,i=e.type,u={signal:e.signal||(new a.default).signal};return this._refreshIfStale(u).then(function(){if(!t._data)throw new l.NoMediaHostsError("no fetched data");var e=t._data.auth,a=t._data.hosts,u=(0,s.default)({directPath:n,encFilehash:r,hosts:a,operation:o,type:i}),c=u.selectedHost,f=u.fallbackHost;if(!c)throw new l.NoMediaHostsError("no selected host");return{auth:e,selectedHost:c,fallbackHost:f}})}},{key:"_isExpiredOrMissing",value:function(){return!this._data||new Date>=this._data.authExpirationTime}},{key:"_needsRefresh",value:function(){if(!this._data)return!0;if(new Date>=this._data.hostsRefreshTime)return!0;var e=this._data,t=e.authTTL,n=e.queryStartTime,r=Math.floor(.8*t),a=new Date(n.getTime()+r);return new Date>=a}},{key:"_refreshIfStale",value:function(e){return this._isExpiredOrMissing()?(this._reset(),this._fetch(e).then(function(){return!0})):this._needsRefresh()?(this._fetch(e),Promise.resolve(!1)):Promise.resolve(!1)}},{key:"_reset",value:function(){this._data=null,this._err=null}}]),e}();t.default=new d},dbhcbbgdji:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResizeSensor=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("eceadcicaf")),i=n("ejbdjaifi"),u=l(n("bjfjacgeai")),s=l(n("cgeeeeddea"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=window.ResizeObserver,h=function(e){function t(){var e,n,r;c(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleLoad=function(e){e.currentTarget instanceof HTMLObjectElement&&r._addRefListeners(e.currentTarget)},r._handleResize=function(e){r._animationFrameId&&(cancelAnimationFrame(r._animationFrameId),delete r._animationFrameId),r._animationFrameId=requestAnimationFrame(r._handleResizeAtNextAnimationFrame)},r._handleResizeAtNextAnimationFrame=function(){delete r._animationFrameId,r.props.onResize()},f(r,n)}return d(t,a.Component),r(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"_addRefListeners",value:function(e){var t=e&&e.contentDocument&&e.contentDocument.defaultView;t&&this.props.listeners.add(t,"resize",this._handleResize)}},{key:"render",value:function(){return a.createElement("object",{className:u.default.sensor,data:"about:blank",onLoad:this._handleLoad,type:"text/html"})}}]),t}();h.displayName="ObjectBasedResizeSensor";var m=function(e){function t(e){c(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._handleDiv=function(e){null!=e?n._resizeObserver.observe(e):n._resizeObserver.disconnect()},(0,s.default)(null!=p,"The native ResizeObserver API is missing. ObjectBasedResizeSensor should be used."),n._resizeObserver=new p(function(){n._handleResize()}),n}return d(t,a.Component),r(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"_handleResize",value:function(){this.props.onResize()}},{key:"render",value:function(){return a.createElement("div",{ref:this._handleDiv,className:u.default.sensor})}}]),t}();m.displayName="ROBasedResizeSensor";var b=t.ResizeSensor=null==p?h:m;t.default=(0,o.default)((0,i.hoc)(b))},dbhcidbdcf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("ceffhbhahb")),i=m(n("djicgijbjb")),u=m(n("bjebjijbfc")),s=m(n("eadfaddcj")),l=m(n("fifhbjiec")),c=m(n("dgjddffcfg")),f=m(n("ccaaiecfib")),d=m(n("cibcaiabfd")),p=m(n("bgghfidcfh")),h=n("gaifbabbj");function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=s.default.MSG_TYPE,v=g.CHAT,y=g.IMAGE,_=g.VIDEO,E=g.AUDIO,j=g.STICKER,O=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleDownloadMedia=function(){return r.props.msg.downloadMedia()},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){var e=this.props.msg;e.type===j&&e.downloadMedia()}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.inConversation,r=[];t.hasSymbol()&&t.type!==j&&r.push(a.createElement(d.default,{msg:t,key:"msg-symbol"})),t.type!==_&&t.type!==E||t.isGif||t.caption||r.push(u.default.durationStr(Number(t.duration))+" ");var m=h.Configuration.QuotedMention({mentions:t.mentionMap()});if(t.type===v||t.type===y||t.type===_||t.hsmEnabled){var b=t.hsmEnabled&&t.subtype===s.default.TEMPLATE_SUBTYPE.TEXT&&t.title?"*"+t.title+"*\n"+t.body:c.default.msgText(t,!1);r.push(a.createElement(l.default,{formatters:m,className:"quoted-mention",text:b,textLimit:t.initialPageSize,direction:"auto",key:"status"}))}else if(j===t.type){var g="composeBox"===this.props.theme?"composeBoxQuoted":"quoted";r.push(a.createElement(p.default,{key:"sticker",mediaData:t.mediaData,theme:g,downloadMedia:f.default.supportsFeature(f.default.F.REPLACE_MEDIABLOB)?this._handleDownloadMedia:null}))}else r.push(a.createElement(l.default,{formatters:m,className:"quoted-mention",text:c.default.msgText(t),textLimit:t.initialPageSize,direction:"auto",key:"status"}));var O=(0,o.default)(i.default.messageText,{[i.default.composeBoxQuotedMsg]:"composeBox"===this.props.theme});return a.createElement("div",{className:O,role:n?"button":null},r)}}]),t}();O.displayName="QuotedMsgContent",t.default=O},dbhgiicheg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(i.default.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var u,s=e[i.default.iterator]();!(r=(u=s.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n("dfjhghbebf")),i=l(n("dabaejgacg")),u=l(n("dcgheafecg")),s=l(n("dfjadefi"));function l(e){return e&&e.__esModule?e:{default:e}}t.default="Headers"in window&&Headers?Headers:function(){function e(t){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._headers={},t instanceof e)(0,u.default)(t.entries(),function(e){var t=r(e,2),a=t[0];t[1].split(", ").forEach(function(e){n.append(a,e)})});else if("object"==typeof t){var a=function(e){t[e].split(", ").forEach(function(t){n.append(e,t)})};for(var o in t)a(o)}}return a(e,[{key:"append",value:function(e,t){var n=e.toLowerCase();n in this._headers?this._headers[n].push(t):this._headers[n]=[t]}},{key:"delete",value:function(e){var t=e.toLowerCase();delete this._headers[t]}},{key:"entries",value:function(){var e=this,t=Object.keys(this._headers).map(function(t){return[t,e.get(t)||""]});return new o.default(t)}},{key:"get",value:function(e){var t=e.toLowerCase();return t in this._headers?this._headers[t].join(", "):null}},{key:"has",value:function(e){return e.toLowerCase()in this._headers}},{key:"keys",value:function(){return(0,s.default)(this.entries(),function(e){return r(e,1)[0]})}},{key:"set",value:function(e,t){var n=e.toLowerCase();this._headers[n]=[t]}},{key:"values",value:function(){return(0,s.default)(this.entries(),function(e){var t=r(e,2);t[0];return t[1]})}},{key:i.default.iterator,value:function(){return this.entries()}},{key:"toString",value:function(){return"[Object Headers]"}}]),e}()},dbhhbejbcb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIZE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=b(n("ceffhbhahb")),i=n("eadfaddcj"),u=b(n("bggjbiacd")),s=b(n("cajbifjffe")),l=b(n("jjhbchhce")),c=b(n("djegeegcbf")),f=n("bbicdddbdj"),d=n("eagfdbhhhh"),p=b(n("eceadcicaf")),h=n("ejbdjaifi"),m=b(n("cghfaedged"));function b(e){return e&&e.__esModule?e:{default:e}}var g=c.default.getEmojiFromUnicode,v=c.default.getEmojiPath,y=c.default.cacheEmoji,_=c.default.isEmojiCached,E=t.SIZE=f.LARGE_EMOJI_SIZE,j="large",O="xlarge",S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));w.call(n);var r=g(e.emoji),a=Boolean(r&&_(r));return n.state={highResLoaded:a},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.props.listeners.add(window,"dpichange",function(){var t=g(e.props.emoji),n=Boolean(t&&_(t));e.setState({highResLoaded:n})})}},{key:"render",value:function(){var e=this.props,t=e.emoji,n=e.size,r=e.animation,c=e.element,f=e.selectable,p=this.state.highResLoaded,h=g(t);if(!h)return null;var b=(0,o.default)({[m.default.medium]:n===E.MEDIUM,[m.default.large]:n===E.LARGE,[m.default.xlarge]:n===E.XLARGE}),y=void 0;y=n===E.XLARGE?O:j;var _=v(h,y)[l.default.currentRes];if(p&&r){var S=c;return a.createElement(S,{className:m.default.animation},a.createElement(d.SelectableImg,{alt:t,className:(0,o.default)(m.default.highRes,b),draggable:!1,plainText:t,selectable:Boolean(f),src:i.ONE_BY_ONE_TRANS_GIF}),a.createElement(s.default,{className:(0,o.default)(m.default.highRes,b,m.default.heart),draggable:!1,selectable:!1,src:_}))}var w=p?void 0:a.createElement(u.default,{key:"low-res",className:(0,o.default)(m.default.lowRes,b),emoji:t,selectable:f}),P=a.createElement(u.default,{key:"high-res",className:(0,o.default)(m.default.highRes,b,{[m.default.invisible]:!p}),emoji:t,selectable:f,src:_,onLoad:this.onHighResLoaded});return a.createElement("span",{className:m.default.wrapper},w,P)}}]),t}();S.defaultProps={animation:!1,element:"div",size:E.MEDIUM};var w=function(){var e=this;this.onHighResLoaded=function(){var t=g(e.props.emoji);t&&y(t),e.setState({highResLoaded:!0})}};S.displayName="LargeEmoji",t.default=(0,p.default)((0,h.hocWithDefaults)(S))},dbhhjaecch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.bulkCreateOrUpdateContacts=function(e){return u.Contact.bulkCreateOrMerge(e.map(function(e){return r({},e,{id:e.id.toString()})})).catch(function(e){i.default.errorVerbose(`handle:Contact bulk handle error: ${e}`)(),i.default.assert(!1,"handle:Contact bulk handle error")(e)})};var a,o=n("bdiiahhjbe"),i=(a=o)&&a.__esModule?a:{default:a},u=n("cefcddgdgg")},dbhidcdghb:function(e,t){e.exports={muted:"_2lcbE",title:"_3XHR-",text:"_1w7vp"}},dbhijaface:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("fffdgbfji")),i=d(n("eceadcicaf")),u=n("fagbfehid"),s=d(u),l=d(n("cehjcbedfe")),c=d(n("bjhfhjjdgd")),f=n("ejbdjaifi");function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){function t(e){p(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._handleRetryClick=function(){s.default.fetchAt(n.props.selectedStickerPackIndex,!0)},n._handleStickerPackPageFetchState=function(e,t){s.default.pageWithIndex(n.props.selectedStickerPackIndex)===e&&(t?n.forceUpdate():s.default.fetchAt(n.props.selectedStickerPackIndex))},n._setRefScrollGrid=function(e){n._refScrollGrid=e},n._renderError=function(e){return a.createElement("div",{className:c.default.container},a.createElement("div",null,o.default.t(642)),a.createElement("div",{"data-id":"retry",className:c.default.retryButton,onClick:e},o.default.t(910).toUpperCase()))},s.default.fetchAt(n.props.selectedStickerPackIndex),n}return m(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(s.default,"change:pageFetchStates",this._handleStickerPackPageFetchState)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.selectedStickerPackIndex;if(t!==this.props.selectedStickerPackIndex){var n=s.default.pageWithIndex(t);s.default.pageFetchStates[n]===u.PAGE_FETCH_STATE.ERROR&&s.default.fetchAt(t,!0)}}},{key:"focus",value:function(e){this._refScrollGrid&&this._refScrollGrid.focus(e)}},{key:"render",value:function(){var e=s.default.at(this.props.selectedStickerPackIndex);if(!e)return null;var t=s.default.pageWithIndex(this.props.selectedStickerPackIndex);return s.default.pageFetchStates[t]===u.PAGE_FETCH_STATE.ERROR?this._renderError(this._handleRetryClick):a.createElement(l.default,{ref:this._setRefScrollGrid,onFocusPrev:this.props.onFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onStickerClick,onStickerEnter:this.props.onStickerEnter,stickers:e.stickers,renderError:this._renderError})}}]),t}();b.displayName="StickerPackStickersScrollGrid";var g=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,(0,i.default)((0,f.hoc)(b))),r(t,[{key:"focus",value:function(e){this.getComponent().focus(e)}}]),t}();t.default=g},dbifaacaac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n("bgifaaggh")),a=d(n("fhfbcdaib")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("biheibdage"),u=d(n("ihfgagaij")),s=d(n("gbfffciea")),l=d(n("bcbahjefec")),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),f=d(n("bcjcbbafcj"));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onCancel=function(){e.props.onComplete&&e.props.onComplete(!1),e.clearComposeAttachMedia(),e.props.mediaCollection.mediaPickerStatsLogger.logCancel(),e.end()},e.sendMediaWithMentions=function(t,n){var r=e.props.chat;s.default.once("ui_idle",function(){t.forEach(function(e,t){var n=e.media,a={};0===t&&(a.quotedMsg=r.composeQuotedMsg,r.composeQuotedMsg=null),a.mentionedJidList=e.mentionedJidList,a.caption=n.caption,a.addEvenWhilePreparing=n.previewable&&n.state===i.ATTACH_MEDIA_STATE.PROCESSING,n.sendToChat(r,a)}),e.clearComposeAttachMedia()}),e.props.onComplete&&e.props.onComplete(!0,n),e.props.mediaCollection.mediaPickerStatsLogger.logSend(),e.end()},e.setText=function(t){s.default.once("ui_idle",function(){s.default.pasteChatTextInput(e.props.chat,t)}),e.end()},e.clearComposeAttachMedia=function(){e.props.chat&&e.props.chat.setComposeAttachMediaContents(null)},e.handleRequestDismiss=e.handleRequestDismiss.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),o(t,[{key:"UNSAFE_componentWillMount",value:function(){s.default.closeContextMenu(),s.default.closeTooltip(),this.push(c.createElement(u.default,{chat:this.props.chat,files:this.props.files,onBack:this.onCancel,initCaption:this.props.initCaption,onSendMedia:(0,a.default)(this.sendMediaWithMentions),onDropText:(0,a.default)(this.setText),mediaCollection:this.props.mediaCollection}))}},{key:"componentWillUnmount",value:function(){var e=this;f.default.isGecko?(0,r.default)(function(){return s.default.focusChatTextInput(e.props.chat)}):s.default.focusChatTextInput(this.props.chat)}},{key:"handleRequestDismiss",value:function(e){!1===e&&(this.clearComposeAttachMedia(),this.props.mediaCollection.mediaPickerStatsLogger.logCancel()),function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleRequestDismiss",this).call(this)}}]),t}();t.default=p},dbifijhjeg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=M(n("ceffhbhahb")),u=M(n("chjchbjied")),s=M(n("cadbaeefbb")),l=M(n("jhcabjcaf")),c=M(n("eadfaddcj")),f=M(n("fifhbjiec")),d=M(n("djegeegcbf")),p=M(n("dafiibaihc")),h=M(n("cejheebceh")),m=M(n("dbbbgjbbgf")),b=M(n("cieaeggjg")),g=M(n("bfiaijhcgh")),v=M(n("deibgadgic")),y=M(n("dgdadejebh")),_=M(n("dbabefhajh")),E=M(n("babhhabdgf")),j=n("jgficfddf"),O=n("gaifbabbj"),S=n("ciajafaaie"),w=n("bidfjbaebi"),P=n("cjbafegbjg");function M(e){return e&&e.__esModule?e:{default:e}}var C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.displayAuthor,a=e.trusted,M=e.displayType,C=void 0,T=void 0;if(a&&t.linkPreview)if(t.matchedText&&(0,S.isParsableOnlineVideoURL)(t.richPreviewType,t.matchedText))C=o.createElement("div",{className:u.default.linkPreview},o.createElement(E.default,{msg:t}));else{var A=(0,P.parseAPICmd)(t.matchedText);if(r(A,1)[0]===j.APICmd.GROUP_INVITE){if(C=o.createElement("div",{className:u.default.linkPreview},o.createElement(h.default,{msg:t,displayType:M,invite:!0})),M!==c.default.DISP_TYPE.GALLERY){var N=t.isSentByMe?l10n.t(504):l10n.t(487);T=o.createElement(s.default,{items:[{label:N,onClick:function(e){var n=t.matchedText;(0,w.openExternalLink)(n)}}]})}}else C=o.createElement("div",{className:u.default.linkPreview},o.createElement(h.default,{msg:t,displayType:M}))}var k=void 0,I=void 0,R=d.default.getMatchedEmojis(t.body);if(R){var L=1===R.length&&""===R[0];k=o.createElement(g.default,{animation:L,emojis:R}),I=!0}else{var D=a?O.Configuration.TrustedConversation:O.Configuration.UntrustedConversation;k=o.createElement(p.default,{text:t.body,textLimit:t.initialPageSize},function(e){var n=D({mentions:t.mentionMap(),links:t.getLinks(e.textLimit),selectable:!0});return o.createElement(f.default,{text:t.body,className:M===c.default.DISP_TYPE.GALLERY?"message-text-link":"",dirMismatch:t.rtl!==l10n.isRTL(),direction:t.dir,inferLinesDirection:!0,formatters:n,selectable:!0,textLimit:e.textLimit,noInvisibleSpace:t.hsmEnabled&&null!=t.footer&&t.rtl})})}var x=void 0,U=void 0;t.hsmEnabled&&(x=t.title?o.createElement("div",{className:u.default.title},o.createElement(f.default,{text:t.title,dirMismatch:t.rtl!==l10n.isRTL(),direction:t.dir})):null,U=o.createElement(v.default,{msg:t}));var G=M!==c.default.DISP_TYPE.GALLERY&&!t.isPSA&&!I,F=void 0;this.props.quotedMsg&&(F=o.createElement("div",{className:u.default.quote},this.props.quotedMsg));var B=this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg,$=t.showForwarded(),V=t.getSuspiciousLinks().length>0,H=!!T||!!t.hasTemplateButtons,W=void 0;return H&&(W=o.createElement("div",{className:u.default.meta},o.createElement(b.default,{msg:t}))),o.createElement(_.default,{msg:t,displayType:M,displayAuthor:n,hideMeta:H},o.createElement(l.default,{className:(0,i.default)({[u.default.hasAuthor]:B,[u.default.forwarded]:$,[u.default.hasSuspiciousLinks]:V}),contact:t.senderObj,msg:t},F,o.createElement(y.default,{msg:t,displayType:M}),C,o.createElement(m.default,{msg:t,spacer:t.hsmEnabled?G&&!t.footer:G,"data-id":t.id},x,k,U,W),T))}}]),t}();C.displayName="Text",t.default=C},dbjacfjdhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n("chihjdheic")),a=g(n("ddjgcdciii")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},u=n("biheibdage"),s=g(u),l=g(n("cgcgbfbffj")),c=g(n("eadfaddcj")),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),d=n("cgffhfegce"),p=g(n("bbcjhfahhb")),h=g(n("cieaaiahhf")),m=g(n("bfgbdiffgd")),b=g(n("dcaibchbg"));function g(e){return e&&e.__esModule?e:{default:e}}var v=d.FILETYPE.IMAGE,y=d.FILETYPE.VIDEO,_=d.FILETYPE.DOCUMENT,E=d.FILETYPE.AUDIO,j=u.ATTACH_MEDIA_STATE.READY,O=u.ATTACH_MEDIA_STATE.ERROR,S=u.ATTACH_MEDIA_STATE.PROCESSING,w=1,P=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.errorMsgs=null,e.ignored=0,e.mediaPickerStatsLogger=new p.default,e.selection=new b.default([],function(e){return e.id},"prev"),e.listenTo(e.selection,"all",e._handleSelectionEvents.bind(e)),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),o(t,[{key:"_handleSelectionEvents",value:function(e,t){"focus"!==t&&!1!==t||this.trigger("active-change")}},{key:"removeSingleton",value:function(e,t){e&&(t||this.mediaPickerStatsLogger.logDelete(e.id),e.url&&window.URL.revokeObjectURL(e.url),e.original&&e.original.url&&window.URL.revokeObjectURL(e.original.url))}},{key:"remove",value:function(e,n){var r=this,a=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this,e,n);return a.forEach(function(e){return r.removeSingleton(e,n)}),this.selection.init(this.getPreviewableMedias(),!0),a}},{key:"delete",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.forEach(function(t){return e.removeSingleton(t)}),this.selection.init(this.getPreviewableMedias(),!0)}},{key:"replace",value:function(e,t){var n=this.get(e);if(n){var r=this.indexOf(n),a=n.caption;this.remove(n,{silent:!0}),n.delete();var o=new s.default({id:e,caption:a,file:this._normalizeFile(t),chat:n.chat,uiProcessed:!1});return this.add(o,r?{at:r}:{}),o.processPromise}}},{key:"getValidMedias",value:function(){return this.filter(function(e){return e.state===j})}},{key:"getPreviewableMedias",value:function(){return this.filter(function(e){return e.previewable})}},{key:"getActive",value:function(){return this.selection.getVal()}},{key:"setActive",value:function(e){this.selection.setVal(e)}},{key:"unsetActive",value:function(){this.selection.unset()}},{key:"setNextAsActive",value:function(){var e=this.selection.list.length-1;return-1===this.selection.index||this.selection.index===e?this.selection.getVal():(this.selection.setNext(),this.selection.getVal())}},{key:"setPrevAsActive",value:function(){return-1===this.selection.index||0===this.selection.index?this.selection.getVal():(this.selection.setPrev(),this.selection.getVal())}},{key:"processFiles",value:function(e,t,n){var r=this,a=this.getPreviewableMedias().length,o=e.length+a>c.default.MAX_FILES?Math.max(c.default.MAX_FILES-a,0):e.length,i=e.length-o;0===o?i&&this.trigger("max_upload_limit",i):this.ignore(i);var u=e.slice(0,o).map(function(e){return new s.default({id:w++,file:r._normalizeFile(e),chat:t,uiProcessed:!1,fileOrigin:n})});this.add(u);var l=this.getActive();return this.unsetActive(),Promise.all(e).then(function(){return r._attemptToSetNextActiveFromAdded(u,l)}),Promise.map(u,function(e){return e.processPromise}).then(function(){return r._attemptToSetNextActiveFromAdded(u,l)})}},{key:"_attemptToSetNextActiveFromAdded",value:function(e,t){if(!this.getActive()&&!(0,a.default)(this.getModelsArray(),{state:S,previewable:!1})){var n=(0,r.default)(e,function(e){return e.previewable});n||(n=t),this.selection.init(this.getPreviewableMedias()),n&&this.setActive(n)}}},{key:"_logMediaAdd",value:function(e){null!=this.mediaPickerStatsLogger.chatRecipients&&0!==this.mediaPickerStatsLogger.chatRecipients||(this.mediaPickerStatsLogger.chatRecipients=e.chat.groupMetadata&&e.chat.groupMetadata.participants.length||1);var t=e.isGif?"gif":e.type;this.mediaPickerStatsLogger.logAdd(e.id,t,e.fileOrigin)}},{key:"_normalizeFile",value:function(e){return Promise.resolve(e).then(function(e){var t=void 0;return!(t=e instanceof File?{file:e,filename:e.name,mimetype:e.type,type:(0,d.typeFromMimetype)(e.type)}:e instanceof Blob?{file:e,mimetype:e.type,type:(0,d.typeFromMimetype)(e.type)}:e).type&&t.mimetype&&(t.type=(0,d.typeFromMimetype)(t.mimetype)),t})}},{key:"ignore",value:function(e){e>0&&(this.ignored+=e)}},{key:"uiProcessMsgs",value:function(){var e=this,t=[],n=void 0,r=0,a=0,o=0,i=0,u=0,s=0,l=0,d=0,p=0,b=!1,g=l10n.filesize(m.default.media),j=l10n.filesize(m.default.maxFileSize);if(this.forEach(function(t){if(!t.uiProcessed&&(!n&&t.previewable&&(n=t,e._logMediaAdd(t)),t.state!==S&&(t.uiProcessed=!0,t.state===O)))if(t.exception instanceof h.default)switch(t.getFileType()){case v:r+=1;break;case y:a+=1;break;case E:o+=1;break;case _:i+=1}else if(t.exception instanceof f.MediaFileEmpty)switch(t.getFileType()){case v:u+=1;break;case y:s+=1;break;case E:l+=1;break;case _:d+=1}else t.exception instanceof f.MediaFileFailedLoad?b=!0:p+=1}),r>0&&t.push(l10n.t(568,{number:r,_plural:r,maxSize:g})),a>0&&t.push(l10n.t(1075,{number:a,_plural:a,maxSize:g})),o>0&&t.push(l10n.t(192,{number:o,_plural:o,maxSize:g})),i>0&&t.push(l10n.t(386,{number:i,_plural:i,maxSize:j})),u>0&&t.push(l10n.t(560,{number:u,_plural:u})),s>0&&t.push(l10n.t(1073,{number:s,_plural:s})),l>0&&t.push(l10n.t(190,{number:l,_plural:l})),d>0&&t.push(l10n.t(385,{number:d,_plural:d})),p>0&&t.push(l10n.t(422,{number:p,_plural:p})),b&&(t=[]).push(l10n.t(648)),t.length>1){t=[];var w=r+a+o+i,P=u+s+l+d,M=w+P+p;0===p?(0!==w&&t.push(l10n.t(423,{number:w,_plural:w,maxSize:j})),0!==P&&t.push(l10n.t(419,{number:P,_plural:P}))):t.push(l10n.t(421,{number:M,_plural:M}))}this.errorMsgs=t.join(" "),this.ignore(this.getPreviewableMedias().length-c.default.MAX_FILES);var C=this.ignored;return this.ignored=0,C&&this.trigger("max_upload_limit",C),{errorMsgs:this.errorMsgs}}},{key:"canSend",value:function(){return!(0,a.default)(this.getModelsArray(),{state:S,previewable:!1})}}]),t}();P.model=s.default,t.default=P},dbjbhajgfd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n("gbfffciea")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=l(n("dcjdgceiej")),s=l(n("bfejacaeaj"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=r({},this.props.contextMenu,{uim:this.context.uim});o.default.openContextMenu(t,function(t){e.element=t})}},{key:"componentWillUnmount",value:function(){o.default.closeContextMenu(this.context.uim)}},{key:"getElement",value:function(){return this.element}},{key:"render",value:function(){return null}}]),t}();c.contextTypes={uim:s.default.instanceOf(u.default)},c.displayName="UIEMenu",t.default=c},dbjfahieed:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CACHE_POLICY_TYPE=void 0,t.createCachePolicy=function(e,t){switch(t.policy){case"LOAD":return new o.default(e,t);case"IMMEDIATE":return new a.default(e,t);case"NONE":return new i.default(e,t)}return new i.default(e,{id:"none",policy:"NONE"})};var r=n("bdfbccfifg"),a=u(n("ijiafihgg")),o=u(n("cgfdiahhcd")),i=u(n("cdbfiiicdg"));function u(e){return e&&e.__esModule?e:{default:e}}t.CACHE_POLICY_TYPE=r.CACHE_POLICY_TYPE},dbjfgbgci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("ejbdjaifi"),i=g(n("dhigahgdjb")),u=g(n("ihfccfgdf")),s=g(n("hhaafceic")),l=g(n("dhhfaeacef")),c=g(n("dbfiijcdie")),f=g(n("chbfbiahhb")),d=g(n("eceadcicaf")),p=g(n("bhheahajjg")),h=n("cgejjichfa"),m=g(n("bhgjacgcdd")),b=n("bgdcgdigif");function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isMouseOver:!1,isFullscreenMode:c.default.isFullscreenMode},r.toggleMute=function(){r.props.callUi.muted=!r.props.callUi.muted,m.default.mute(r.props.callUi.muted)},r.setRefContainer=function(e){r.refContainer=e},r.handleFullscreenToggleButtonClick=function(e){r.state.isFullscreenMode?r.handleExitFullscreen(e):r.handleEnterFullscreen(e)},r.handleEnterFullscreen=function(e){e.stopPropagation(),c.default.requestFullscreen(r.refContainer)},r.handleExitFullscreen=function(e){e.stopPropagation(),c.default.exitFullscreen()},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.props.listeners.add(c.default,"fullscreen_change",function(){c.default.isFullscreenMode&&c.default.fullscreenElement===e.refContainer?e.setState({isFullscreenMode:!0}):c.default.isFullscreenMode||e.setState({isFullscreenMode:!1})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.onCallAccept,r=t.onCallReject,o=t.onCallEnd,u=this.props.callUi,c=u.state,d=u.outgoing,m=u.from,g=u.to,v=u.type,y=d?g:m,_=i.default.get(y||""),E=_?a.createElement("div",{className:s.default.participantName},a.createElement(p.default,{contact:_,titlify:!0,ellipsify:!0,showBusinessCheckmark:!0})):null,j=_?a.createElement(l.default,{id:_.id,size:82,quality:l.default.Quality.HIGH}):null,O=a.createElement("div",{className:s.default.actionRow},a.createElement("div",{className:s.default.btnGroup},a.createElement("button",{className:s.default.btnReject,onClick:r}),a.createElement("button",{className:s.default.btnAccept,onClick:n}))),S=a.createElement("div",{className:s.default.actionRow},a.createElement("div",{className:s.default.btnGroup},a.createElement("button",{className:s.default.btnMute,onClick:this.toggleMute}),a.createElement("button",{className:s.default.btnEnd,onClick:o}))),w=a.createElement("div",{className:s.default.actionRow},a.createElement("div",{className:s.default.btnGroup},a.createElement("button",{className:s.default.btnEnd,onClick:o}))),P=void 0;switch(c){case h.CALL_STATES.INCOMING_RING:P=O;break;case h.CALL_STATES.ACTIVE:P=S;break;default:P=w}var M=a.createElement("div",{className:s.default.callTitle},l10n.t(1338)),C=a.createElement(f.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:this.handleFullscreenToggleButtonClick}),T=v===b.CALL_TYPES.VIDEO?a.createElement("div",{className:s.default.videoContainer},a.createElement("div",{className:s.default.outputVideoContainer},a.createElement("canvas",{id:"outputCanvas",width:"640",height:"400"})),a.createElement("div",{className:s.default.previewVideoContainer},a.createElement("canvas",{id:"previewCanvas",width:"180",height:"120"}))):null;return a.createElement("div",{className:s.default.body,ref:this.setRefContainer,onMouseEnter:function(t){e.setState({isMouseOver:!0})},onMouseLeave:function(t){e.setState({isMouseOver:!1})}},M,E,j,T,this.state.isMouseOver&&C,P)}}]),t}();y.CONCERNS={callUi:["state","muted","speaker","outgoing","from","to","type"]},y.displayName="VoipWindow",t.default=(0,d.default)((0,u.default)((0,o.hoc)(y),y.CONCERNS))},dbjhghahdd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t,n=new a.default;return t=e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}((0,i.default)([r.default,n,u.default])),e.EmojiSuggestions=(0,s.default)(o.default,{plugin:n}),t};var r=l(n("dfcggebdjj")),a=l(n("bfjfgcfade")),o=l(n("cdheafhdbh")),i=l(n("eccjbdjafd")),u=l(n("eaecbgafff")),s=l(n("ecidjifge"));function l(e){return e&&e.__esModule?e:{default:e}}},dcaffhdbgi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.LANGUAGES={ABAZA:"abq",ABKHAZIAN:"ab",ADAMAWA_FULFULDE:"fub",ADYGHE:"ady",AFRIKAANS:"af",AGWAGWUNE:"yay",AGHEM:"agq",AKOOSE:"bss",ALBANIAN:"sq",ANGOR:"agg",ARABIC:"ar",ASTURIAN:"ast",AVARIC:"av",AVOKAYA:"avu",AZERBAIJANI:"az",BAFIA:"ksf",BAFUT:"bfd",BAKA_CAMEROON:"bkc",BALANTA_GANJA:"bjt",BALI_NIGERIA:"bcn",BASA_CAMEROON:"bas",BASHKIR:"ba",BASSA:"bsq",BEKWARRA:"bkv",BELARUSIAN:"be",BENGALI:"bn",BEROM:"bom",BETE_BENDI:"btt",BINI:"bin",BOMU:"bmq",BORGU_FULFULDE:"fue",BOSNIAN:"bs",BRETON:"br",BULGARIAN:"bg",BURAK:"bys",BURA_PABIR:"bwr",BURIAT:"bua",CAKFEM_MUSHERE:"cky",CATALAN:"ca",CENTRAL_ATLAS_TAMAZIGHT:"tzm",CENTRAL_EASTERN_NIGER_FULFULDE:"fuq",CHECHEN:"ce",CHINESE:"zh",CHUKOT:"ckt",CHURCH_SLAVIC:"cu",CHUVASH:"cv",CIBAK:"ckl",CISHINGINI:"asg",CORSICAN:"co",CRIMEAN_TATAR:"crh",CROATIAN:"hr",CROSS_RIVER_MBEMBE:"mfn",CZECH:"cs",DABA:"dbq",DAN:"dnj",DANISH:"da",DARGWA:"dar",DAZAGA:"dzg",DENDI_BENIN:"ddn",DGHWEDE:"dgh",DOYAYO:"dow",DUALA:"dua",DUNGAN:"dng",DUTCH:"nl",EBIRA:"igb",EDOLO:"etr",ENGENNI:"enn",ENGLISH:"en",ERAVE:"kjy",ERZYA:"myv",ESTONIAN:"et",ETKYWAN:"ich",EVENKI:"evn",EWE:"ee",EWONDO:"ewo",FAROESE:"fo",FEFE:"fmp",FILIPINO:"fil",FINNISH:"fi",FRENCH:"fr",FRIULIAN:"fur",FULAH:"ff",GADSUP:"gaj",GAGAUZ:"gag",GALICIAN:"gl",GBARI:"gby",GBAYA_CENTRAL_AFRICAN_REPUBLIC:"gba",GBAYA_MBODOMO:"gmm",GERMAN:"de",GIZRRA:"tof",GODIE:"god",GOEMAI:"ank",GOKANA:"gkn",GOURMANCHEMA:"gux",GREEK:"el",GREENLANDIC:"kl",GUDE:"gde",GUINEA_KPELLE:"gkp",GUJARATI:"gu",GWAK:"jgk",HAUSA:"ha",HAWAIIAN:"haw",HEBREW_JAVA:"iw",HEBREW_ISO:"he",HINDI:"hi",HUBA:"hbb",HUNGARIAN:"hu",HUN_SAARE:"dud",HYAM:"jab",IBANI:"iby",ICELANDIC:"is",IDOMA:"idu",IGBO:"ig",IGEDE:"ige",IK:"ikx",IKA:"ikk",IKWERE:"ikw",INARI_SAMI:"smn",INDONESIAN_JAVA:"in",INDONESIAN_ISO:"id",INGUSH:"inh",IRISH:"ga",ITALIAN:"it",IVBIE_NORTH_OKPELA_ARHE:"atg",IZI_EZAA_IKWO_MGBO:"izi",JAPANESE:"ja",JOLA_FONYI:"dyo",JUKUN_TAKUM:"jbu",KABARDIAN:"kbd",KABUVERDIANU:"kea",KABYLE:"kab",KAKI_AE:"tbd",KAKO:"kkj",KALMYK:"xal",KAMWE:"hig",KANNADA:"kn",KARACHAY_BALKAR:"krc",KARA_KALPAK:"kaa",KARANG:"kzr",KAREKARE:"kai",KAZAKH:"kk",KHAKAS:"kjh",KHANTY:"kca",KHOEKHOE:"naq",KIRE:"geb",KIRGHIZ:"ky",KIRIKE:"okr",KOLSCH:"ksh",KOMI:"kv",KOMI_PERMYAK:"koi",KOYRABORO_SENNI:"ses",KOYRA_CHIINI:"khq",KOREAN:"ko",KORYAK:"kpy",KPELLE:"kpe",KUMYK:"kum",KUNAMA:"kun",KUNIMAIPA:"kup",KURDISH:"ku",KUTEP:"kub",KWASIO:"nmg",LAK:"lbe",LAKOTA:"lkt",LAMANG:"hia",LANGI:"lag",LAO:"lo",LATVIAN:"lv",LEZGHIAN:"lez",LIMBUM:"lmp",LINGALA:"ln",LITHUANIAN:"lt",LIVONIAN:"liv",LOKAA:"yaz",LOW_GERMAN:"nds",LOWER_SORBIAN:"dsb",LUBA_KATANGA:"lu",LUXEMBOURGISH:"lb",MAASINA_FULFULDE:"bin",MACEDONIAN:"mk",MADA_NIGERIA:"mda",MALAGASY:"mg",MALAY:"ms",MALAYALAM:"ml",MALTESE:"mt",MANSI:"mns",MAORI:"mi",MAPUCHE:"arn",MARATHI:"mr",MARI:"chm",MASAI:"mas",MBELIME:"mql",MBO_CAMEROON:"mbo",MBULA_BWAZZA:"mbu",MOFU_GUDUR:"mif",MOKSHA:"mdf",MONGOLIAN:"mn",MUMUYE:"mzm",MUNDANG:"mua",MUSLIM_TAT:"ttt",MWAGHAVUL:"sur",NANAI:"gld",NAVAJO:"nv",NENETS:"yrk",NGAS:"anc",NGIEMBOON:"nnh",NGOMBA:"jgo",NIGERIAN_FULFULDE:"fuv",NINZO:"nin",NOGAI:"nog",NORTHERN_DAGARA:"dgi",NORTHERN_SAMI:"se",NORTHERN_SOTHO:"nso",NORWEGIAN_BOKMAL:"nb",OBOLO:"ann",OCCITAN:"oc",OSSETIAN:"os",PARKWA:"pbi",PERO:"pip",PERSIAN:"fa",POLISH:"pl",PORTUGUESE:"pt",PRUSSIAN:"prg",PULAR:"fuf",PUNJABI:"pa",QUECHUA:"qu",ROMANIAN:"ro",RON:"cla",RUSSIAN:"ru",RUSYN:"rue",SAAFI_SAAFI:"sav",SANGO:"sg",SCOTTISH_GAELIC:"gd",SENA:"seh",SERBIAN:"sr",SERBO_CROATIAN:"sh",SERER:"srr",SHOR:"cjs",SICILIAN:"scn",SISSALA:"sld",SKOLT_SAMI:"sms",SLOVAK:"sk",SLOVENIAN:"sl",SOKORO:"sok",SOUTHERN_ALTAI:"alt",SPANISH:"es",SRANAN_TONGO:"srn",SWAHILI:"sw",SWEDISH:"sv",SWISS_GERMAN:"gsw",TABASSARAN:"tab",TACHELHIT:"shi",TAGALOG:"tl",TAI_DAM:"blt",TAJIK:"tg",TAL:"tal",TAMASHEK:"tmh",TAMASHEQ:"taq",TAMIL:"ta",TANGALE:"tan",TAROK:"yer",TASAWAQ:"twq",TATAR:"tt",TEDAGA:"tuq",TELUGU:"te",TERA:"ttr",THAI:"th",TIKAR:"tik",TONGAN:"to",TORO_SO_DOGON:"dts",TSAKHUR:"tkr",TSIKIMBA:"kdl",TSISHINGINI:"tsw",TURKISH:"tr",TURKMEN:"tk",TUVINIAN:"tyv",UDIHE:"ude",UDMURT:"udm",UKRAINIAN:"uk",UPPER_SORBIAN:"hsb",URDU:"ur",UZBEK:"uz",VAI:"vai",VIETNAMESE:"vi",VOLAPUK:"vo",VUTE:"vut",WAJA:"wja",WALLOON:"wa",WALSER:"wae",WARJI:"wji",WELSH:"cy",WESTERN_FRISIAN:"fy",WESTERN_MARI:"mrj",WESTERN_NIGER_FULFULDE:"fuh",YAKUT:"sah",YALA:"yba",YANGBEN:"yav",YELE:"yle",YIL:"yll",YORUBA:"yo",ZARMA:"dje",ZULGO_GEMZEK:"gnd"},a=t.REGIONS={AFGHANISTAN:"AF",ALBANIA:"AL",ALGERIA:"DZ",AMERICAN_SAMOA:"AS",ANDORRA:"AD",ANGOLA:"AO",ANGUILLA:"AI",ANTIGUA_AND_BARBUDA:"AG",ARGENTINA:"AR",ARMENIA:"AM",ARUBA:"AW",AUSTRALIA:"AU",AUSTRIA:"AT",AZERBAIJAN:"AZ",BAHAMAS:"BS",BAHRAIN:"BH",BANGLADESH:"BD",BARBADOS:"BB",BELARUS:"BY",BELGIUM:"BE",BELIZE:"BZ",BENIN:"BJ",BERMUDA:"BM",BOLIVIA:"BO",BOSNIA:"BA",BOTSWANA:"BW",BRAZIL:"BR",BRITISH_INDIAN_OCEAN_TERRITORY:"IO",BRITISH_VIRGIN_ISLANDS:"VG",BRUNEI:"BN",BULGARIA:"BG",BURKINA_FASO:"BF",BURUNDI:"BI",CAMBODIA:"KH",CAMEROON:"CM",CANADA:"CA",CANARY_ISLANDS:"IC",CAPE_VERDE:"CV",CAYMAN_ISLANDS:"KY",CENTRAL_AFRICAN_REPUBLIC:"CF",CEUTA_AND_MELILLA:"EA",CHAD:"TD",CHILE:"CL",CHINA:"CN",CHRISTMAS_ISLAND:"CX",COCOS_KEELING_ISLANDS:"CC",COLOMBIA:"CO",COMOROS:"KM",CONGO_BRAZZAVILLE:"CG",CONGO_KINSHASA:"CD",COOK_ISLANDS:"CK",COSTA_RICA:"CR",CROATIA:"HR",CUBA:"CU",CURACAO:"CW",CYPRUS:"CY",CZECHIA:"CZ",DENMARK:"DK",DIEGO_GARCIA:"DG",DJIBOUTI:"DJ",DOMINICA:"DM",DOMINICAN_REPUBLIC:"DO",ECUADOR:"EC",EGYPT:"EG",EL_SALVADOR:"SV",EQUITORIAL_GUINEA:"GQ",ERITREA:"ER",ESTONIA:"EE",ETHIOPIA:"ET",FALKLAND_ISLANDS:"FK",FAROE_ISLANDS:"FO",FIJI:"FJ",FINLAND:"FI",FRANCE:"FR",GABON:"GA",GAMBIA:"GM",GEORGIA:"GE",GERMANY:"DE",GHANA:"GH",GIBRALTAR:"GI",GREECE:"GR",GREENLAND:"GL",GRENADA:"GD",GUADELOUPE:"GP",GUAM:"GU",GUATEMALA:"GT",GUERNSEY:"GG",GUINEA:"GN",GUINEA_BISSAU:"GW",GUYANA:"GY",HAITI:"HT",HONDURAS:"HN",HONG_KONG:"HK",HUNGARY:"HU",ICELAND:"IS",INDIA:"IN",INDONESIA:"ID",IRAN:"IR",IRAQ:"IQ",IRELAND:"IE",ISLE_OF_MAN:"IM",ISRAEL:"IL",ITALY:"IT",IVORY_COAST:"CI",JAMAICA:"JM",JAPAN:"JP",JERSEY:"JE",JORDAN:"JO",KAZAKHSTAN:"KZ",KENYA:"KE",KIRIBATI:"KI",KOSOVO:"XK",KUWAIT:"KW",KYRGYZSTAN:"KG",LAOS:"LA",LATVIA:"LV",LEBANON:"LB",LESOTHO:"LS",LIBERIA:"LR",LIBYA:"LY",LIECHTENSTEIN:"LI",LITHUANIA:"LT",LUXEMBOURG:"LU",MACAU:"MO",MACEDONIA:"MK",MADAGASCAR:"MG",MALAWI:"MW",MALAYSIA:"MY",MALI:"ML",MALTA:"MT",MARSHALL_ISLANDS:"MH",MAURITANIA:"MR",MAURITIUS:"MU",MEXICO:"MX",MICRONESIA:"FM",MOLDOVA:"MD",MONACO:"MC",MONGOLIA:"MN",MONTENEGRO:"ME",MONTSERRAT:"MS",MOROCCO:"MA",MOZAMBIQUE:"MZ",NAMIBIA:"NA",NAURU:"NR",NETHERLANDS:"NL",NEW_ZEALAND:"NZ",NICARAGUA:"NI",NIGER:"NE",NIGERIA:"NG",NIUE:"NU",NORFOLK_ISLAND:"NF",NORTHERN_MARIANA_ISLANDS:"MP",NORWAY:"NO",OMAN:"OM",PAKISTAN:"PK",PALAU:"PW",PANAMA:"PA",PAPUA_NEW_GUINEA:"PG",PARAGUAY:"PY",PERU:"PE",PHILIPPINES:"PH",PITCAIRN:"PN",POLAND:"PL",PORTUGAL:"PT",PUERTO_RICO:"PR",QATAR:"QA",REUNION:"RE",ROMANIA:"RO",RUSSIA:"RU",RWANDA:"RW",SAINT_HELENA:"SH",SAINT_KITTS_AND_NEVIS:"KN",SAINT_LUCIA:"LC",SAINT_VINCENT_AND_GRENADINES:"VC",SAMOA:"WS",SAO_TOME_AND_PRINCIPE:"ST",SAUDI_ARABIA:"SA",SENEGAL:"SN",SERBIA:"RS",SEYCHELLES:"SC",SIERRA_LEONE:"SL",SINGAPORE:"SG",SINT_MAARTEN:"SX",SLOVAKIA:"SK",SLOVENIA:"SI",SOLOMON_ISLANDS:"SB",SOMALIA:"SO",SOUTH_AFRICA:"ZA",SOUTH_KOREA:"KR",SOUTH_SUDAN:"SS",SPAIN:"ES",SRI_LANKA:"LK",SUDAN:"SD",SURINAME:"SR",SWAZILAND:"SZ",SWEDEN:"SE",SWITZERLAND:"CH",SYRIA:"SY",TAIWAN:"TW",TAJIKISTAN:"TJ",TANZANIA:"TZ",THAILAND:"TH",TIMOR_LESTE:"TL",TOGO:"TG",TOKELAU:"TK",TONGA:"TO",TRINIDAD_AND_TOBAGO:"TT",TUNISIA:"TN",TURKEY:"TR",TURKMENISTAN:"TM",TURKS_AND_CAICOS_ISLANDS:"TC",TUVALU:"TV",UGANDA:"UG",UKRAINE:"UA",UNITED_ARAB_EMIRATES:"AE",UNITED_KINGDOM:"GB",UNITED_STATES:"US",UNITED_STATES_MINOR_OUTLYING_ISLANDS:"UM",UNITED_STATES_VIRGIN_ISLANDS:"VI",URUGUAY:"UY",UZBEKISTAN:"UZ",VANUATU:"VU",VENEZUELA:"VE",VIETNAM:"VN",ZAMBIA:"ZM",ZIMBABWE:"ZW"};t.LANGUAGE_TO_REGIONS=new Map([[r.ADAMAWA_FULFULDE,[a.CAMEROON,a.CHAD,a.NIGERIA]],[r.AFRIKAANS,[a.NAMIBIA,a.SOUTH_AFRICA]],[r.AGHEM,[a.CAMEROON]],[r.AGWAGWUNE,[a.NIGERIA]],[r.AKOOSE,[a.CAMEROON]],[r.ANGOR,[a.PAPUA_NEW_GUINEA]],[r.ASTURIAN,[a.SPAIN]],[r.AVOKAYA,[a.CONGO_KINSHASA,a.SOUTH_SUDAN]],[r.AZERBAIJANI,[a.AZERBAIJAN]],[r.BAKA_CAMEROON,[a.CAMEROON,a.GABON]],[r.BAFIA,[a.CAMEROON]],[r.BAFUT,[a.CAMEROON]],[r.BALANTA_GANJA,[a.SENEGAL]],[r.BALI_NIGERIA,[a.NIGERIA]],[r.BASA_CAMEROON,[a.CAMEROON]],[r.BASSA,[a.LIBERIA]],[r.BEKWARRA,[a.NIGERIA]],[r.BEROM,[a.NIGERIA]],[r.BETE_BENDI,[a.NIGERIA]],[r.BINI,[a.NIGERIA]],[r.BOMU,[a.BURKINA_FASO,a.MALI]],[r.BOSNIAN,[a.BOSNIA,a.CROATIA,a.KOSOVO,a.MONTENEGRO,a.SERBIA]],[r.BORGU_FULFULDE,[a.BENIN,a.TOGO]],[r.BRETON,[a.FRANCE]],[r.BURAK,[a.NIGERIA]],[r.BURA_PABIR,[a.NIGERIA]],[r.CAKFEM_MUSHERE,[a.NIGERIA]],[r.CATALAN,[a.ANDORRA,a.FRANCE,a.ITALY,a.SPAIN]],[r.CENTRAL_ATLAS_TAMAZIGHT,[a.MOROCCO]],[r.CENTRAL_EASTERN_NIGER_FULFULDE,[a.NIGERIA]],[r.CIBAK,[a.NIGERIA]],[r.CISHINGINI,[a.NIGERIA]],[r.CORSICAN,[a.FRANCE,a.ITALY]],[r.CRIMEAN_TATAR,[a.RUSSIA]],[r.CROATIAN,[a.BOSNIA,a.CROATIA,a.KOSOVO,a.MONTENEGRO,a.SERBIA]],[r.CROSS_RIVER_MBEMBE,[a.NIGERIA]],[r.CZECH,[a.CZECHIA,a.SLOVAKIA]],[r.DABA,[a.CAMEROON,a.NIGERIA]],[r.DAN,[a.IVORY_COAST,a.LIBERIA]],[r.DAZAGA,[a.CHAD,a.NIGER]],[r.DENDI_BENIN,[a.BENIN]],[r.DGHWEDE,[a.NIGERIA]],[r.DOYAYO,[a.CAMEROON]],[r.DUALA,[a.CAMEROON]],[r.DUTCH,[a.ARUBA,a.BELGIUM,a.CURACAO,a.NETHERLANDS,a.SINT_MAARTEN,a.SURINAME]],[r.EBIRA,[a.NIGERIA]],[r.EDOLO,[a.PAPUA_NEW_GUINEA]],[r.ENGENNI,[a.NIGERIA]],[r.ERAVE,[a.PAPUA_NEW_GUINEA]],[r.ESTONIAN,[a.ESTONIA]],[r.ETKYWAN,[a.NIGERIA]],[r.EWE,[a.BENIN,a.GHANA,a.TOGO]],[r.EWONDO,[a.CAMEROON]],[r.FAROESE,[a.FAROE_ISLANDS]],[r.FEFE,[a.CAMEROON]],[r.FINNISH,[a.FINLAND,a.SWEDEN]],[r.FRENCH,[a.BELGIUM,a.BENIN,a.BURKINA_FASO,a.BURUNDI,a.CAMEROON,a.CANADA,a.CENTRAL_AFRICAN_REPUBLIC,a.CONGO_BRAZZAVILLE,a.CONGO_KINSHASA,a.CHAD,a.COMOROS,a.DJIBOUTI,a.EQUITORIAL_GUINEA,a.FRANCE,a.GABON,a.HAITI,a.IVORY_COAST,a.LUXEMBOURG,a.MADAGASCAR,a.MALI,a.MONACO,a.NIGER,a.RWANDA,a.SENEGAL,a.SEYCHELLES,a.SWITZERLAND,a.TOGO,a.VANUATU]],[r.FRIULIAN,[a.ITALY]],[r.FULAH,[a.CAMEROON,a.GUINEA,a.MAURITANIA,a.SENEGAL]],[r.GADSUP,[a.PAPUA_NEW_GUINEA]],[r.GALICIAN,[a.SPAIN]],[r.GBARI,[a.NIGERIA]],[r.GBAYA_CENTRAL_AFRICAN_REPUBLIC,[a.CENTRAL_AFRICAN_REPUBLIC]],[r.GBAYA_MBODOMO,[a.CAMEROON]],[r.GERMAN,[a.AUSTRIA,a.BELGIUM,a.GERMANY,a.LIECHTENSTEIN,a.LUXEMBOURG,a.SWITZERLAND]],[r.GIZRRA,[a.PAPUA_NEW_GUINEA]],[r.GODIE,[a.IVORY_COAST]],[r.GOEMAI,[a.NIGERIA]],[r.GOKANA,[a.NIGERIA]],[r.GOURMANCHEMA,[a.BENIN,a.BURKINA_FASO,a.NIGER,a.TOGO]],[r.GUDE,[a.CAMEROON,a.NIGERIA]],[r.GUINEA_KPELLE,[a.GUINEA]],[r.GREENLANDIC,[a.GREENLAND]],[r.GWAK,[a.NIGERIA]],[r.HAUSA,[a.BENIN,a.CAMEROON,a.CHAD,a.GHANA,a.IVORY_COAST,a.NIGER,a.NIGERIA,a.SUDAN,a.TOGO]],[r.HAWAIIAN,[a.UNITED_STATES]],[r.HUBA,[a.NIGERIA]],[r.HUNGARIAN,[a.HUNGARY]],[r.HUN_SAARE,[a.NIGERIA]],[r.HYAM,[a.NIGERIA]],[r.IBANI,[a.NIGERIA]],[r.ICELANDIC,[a.ICELAND]],[r.IDOMA,[a.NIGERIA]],[r.IGBO,[a.EQUITORIAL_GUINEA]],[r.IGEDE,[a.NIGERIA]],[r.IK,[a.UGANDA]],[r.IKA,[a.NIGERIA]],[r.IKWERE,[a.NIGERIA]],[r.INARI_SAMI,[a.FINLAND]],[r.IRISH,[a.IRELAND,a.UNITED_KINGDOM]],[r.IVBIE_NORTH_OKPELA_ARHE,[a.NIGERIA]],[r.IZI_EZAA_IKWO_MGBO,[a.NIGERIA]],[r.JOLA_FONYI,[a.GAMBIA,a.SENEGAL]],[r.JUKUN_TAKUM,[a.CAMEROON,a.NIGERIA]],[r.KABYLE,[a.ALGERIA]],[r.KABUVERDIANU,[a.CAPE_VERDE]],[r.KAKI_AE,[a.PAPUA_NEW_GUINEA]],[r.KAMWE,[a.NIGERIA]],[r.KAREKARE,[a.NIGERIA]],[r.KAKO,[a.CAMEROON,a.CENTRAL_AFRICAN_REPUBLIC,a.CONGO_BRAZZAVILLE]],[r.KARANG,[a.CAMEROON,a.CHAD]],[r.KHOEKHOE,[a.NAMIBIA]],[r.KIRE,[a.PAPUA_NEW_GUINEA]],[r.KIRIKE,[a.NIGERIA]],[r.KOLSCH,[a.GERMANY]],[r.KOYRABORO_SENNI,[a.MALI]],[r.KOYRA_CHIINI,[a.MALI]],[r.KUNAMA,[a.ERITREA,a.ETHIOPIA]],[r.KUNIMAIPA,[a.PAPUA_NEW_GUINEA]],[r.KUTEP,[a.CAMEROON,a.NIGERIA]],[r.KPELLE,[a.GUINEA,a.LIBERIA]],[r.KWASIO,[a.CAMEROON,a.EQUITORIAL_GUINEA]],[r.KURDISH,[a.SYRIA,a.TURKEY]],[r.LAKOTA,[a.UNITED_STATES]],[r.LAMANG,[a.NIGERIA]],[r.LANGI,[a.TANZANIA]],[r.LATVIAN,[a.LATVIA]],[r.LIMBUM,[a.CAMEROON]],[r.LINGALA,[a.CONGO_BRAZZAVILLE,a.CONGO_KINSHASA]],[r.LIVONIAN,[]],[r.LITHUANIAN,[a.LITHUANIA]],[r.LOKAA,[a.NIGERIA]],[r.LOW_GERMAN,[a.BRAZIL,a.GERMANY,a.NETHERLANDS]],[r.LOWER_SORBIAN,[a.GERMANY]],[r.LUBA_KATANGA,[a.CONGO_KINSHASA]],[r.LUXEMBOURGISH,[a.BELGIUM,a.FRANCE,a.GERMANY,a.LUXEMBOURG]],[r.MADA_NIGERIA,[a.NIGERIA]],[r.MALAGASY,[a.MADAGASCAR]],[r.MALTESE,[a.MALTA]],[r.MAORI,[a.NEW_ZEALAND]],[r.MAPUCHE,[a.CHILE]],[r.MASAI,[a.KENYA,a.TANZANIA]],[r.MAASINA_FULFULDE,[a.MALI]],[r.MBELIME,[a.BENIN,a.TOGO]],[r.MBO_CAMEROON,[a.CAMEROON]],[r.MBULA_BWAZZA,[a.NIGERIA]],[r.MOFU_GUDUR,[a.CAMEROON]],[r.MUMUYE,[a.NIGERIA]],[r.MUNDANG,[a.CAMEROON,a.CHAD]],[r.MWAGHAVUL,[a.NIGERIA]],[r.NAVAJO,[a.UNITED_STATES]],[r.NGAS,[a.NIGERIA]],[r.NGIEMBOON,[a.CAMEROON]],[r.NGOMBA,[a.CAMEROON]],[r.NIGERIAN_FULFULDE,[a.CAMEROON,a.NIGERIA]],[r.NINZO,[a.NIGERIA]],[r.NORTHERN_DAGARA,[a.BURKINA_FASO]],[r.NORTHERN_SAMI,[a.FINLAND,a.SWEDEN,a.NORWAY]],[r.NORTHERN_SOTHO,[a.SOUTH_AFRICA]],[r.OBOLO,[a.NIGERIA]],[r.OCCITAN,[a.FRANCE,a.ITALY,a.MONACO,a.SPAIN]],[r.PARKWA,[a.CAMEROON]],[r.PERO,[a.NIGERIA]],[r.POLISH,[a.POLAND]],[r.PORTUGUESE,[a.ANGOLA,a.BRAZIL,a.CAPE_VERDE,a.EQUITORIAL_GUINEA,a.GUINEA_BISSAU,a.MACAU,a.MOZAMBIQUE,a.PORTUGAL,a.SAO_TOME_AND_PRINCIPE,a.TIMOR_LESTE]],[r.PRUSSIAN,[]],[r.PULAR,[a.GUINEA,a.MALI,a.SENEGAL,a.SIERRA_LEONE]],[r.QUECHUA,[a.ARGENTINA,a.BOLIVIA,a.COLOMBIA,a.ECUADOR,a.PERU]],[r.ROMANIAN,[a.MOLDOVA,a.ROMANIA]],[r.RON,[a.NIGERIA]],[r.SAAFI_SAAFI,[a.SENEGAL]],[r.SANGO,[a.CENTRAL_AFRICAN_REPUBLIC,a.CHAD,a.CONGO_KINSHASA]],[r.SCOTTISH_GAELIC,[a.UNITED_KINGDOM]],[r.SENA,[a.MOZAMBIQUE]],[r.SERBIAN,[a.BOSNIA,a.CROATIA,a.KOSOVO,a.MONTENEGRO,a.SERBIA]],[r.SERBO_CROATIAN,[a.BOSNIA,a.CROATIA,a.KOSOVO,a.MONTENEGRO,a.SERBIA]],[r.SERER,[a.GAMBIA,a.SENEGAL]],[r.SICILIAN,[a.ITALY]],[r.SISSALA,[a.BURKINA_FASO]],[r.SKOLT_SAMI,[a.FINLAND]],[r.SLOVAK,[a.CZECHIA,a.SLOVAKIA]],[r.SLOVENIAN,[a.SLOVENIA]],[r.SOKORO,[a.CHAD]],[r.SPANISH,[a.ARGENTINA,a.BELIZE,a.BOLIVIA,a.CANARY_ISLANDS,a.CEUTA_AND_MELILLA,a.CHILE,a.COLOMBIA,a.COSTA_RICA,a.CUBA,a.DOMINICAN_REPUBLIC,a.ECUADOR,a.EL_SALVADOR,a.EQUITORIAL_GUINEA,a.GUATEMALA,a.HONDURAS,a.MEXICO,a.NICARAGUA,a.PANAMA,a.PARAGUAY,a.PERU,a.PUERTO_RICO,a.SPAIN,a.UNITED_STATES,a.URUGUAY,a.VENEZUELA]],[r.SRANAN_TONGO,[a.SURINAME]],[r.SWISS_GERMAN,[a.AUSTRIA,a.FRANCE,a.GERMANY,a.LIECHTENSTEIN,a.SWITZERLAND]],[r.TACHELHIT,[a.MOROCCO]],[r.TAL,[a.NIGERIA]],[r.TAMASHEK,[a.MALI]],[r.TAMASHEQ,[a.BURKINA_FASO,a.MALI]],[r.TANGALE,[a.NIGERIA]],[r.TASAWAQ,[a.NIGER]],[r.TAI_DAM,[a.LAOS,a.VIETNAM]],[r.TAROK,[a.NIGERIA]],[r.TEDAGA,[a.CHAD,a.LIBYA,a.NIGER,a.NIGERIA]],[r.TERA,[a.NIGERIA]],[r.TIKAR,[a.CAMEROON]],[r.TONGAN,[a.TONGA]],[r.TORO_SO_DOGON,[a.MALI]],[r.TSIKIMBA,[a.NIGERIA]],[r.TSISHINGINI,[a.NIGERIA]],[r.TURKISH,[a.TURKEY]],[r.TURKMEN,[a.TURKMENISTAN]],[r.UPPER_SORBIAN,[a.GERMANY]],[r.VAI,[a.LIBERIA,a.SIERRA_LEONE]],[r.VIETNAMESE,[a.CAMBODIA,a.VIETNAM]],[r.VOLAPUK,[]],[r.VUTE,[a.CAMEROON,a.NIGERIA]],[r.WAJA,[a.NIGERIA]],[r.WALLOON,[a.BELGIUM]],[r.WALSER,[a.AUSTRIA,a.ITALY,a.LIECHTENSTEIN,a.SWITZERLAND]],[r.WARJI,[a.NIGERIA]],[r.WELSH,[a.UNITED_KINGDOM]],[r.WESTERN_FRISIAN,[a.NETHERLANDS]],[r.WESTERN_NIGER_FULFULDE,[a.BENIN,a.BURKINA_FASO,a.NIGER]],[r.YALA,[a.NIGERIA]],[r.YANGBEN,[a.CAMEROON]],[r.YELE,[a.PAPUA_NEW_GUINEA]],[r.YIL,[a.PAPUA_NEW_GUINEA]],[r.YORUBA,[a.BENIN,a.NIGERIA]],[r.ZARMA,[a.NIGER]],[r.ZULGO_GEMZEK,[a.CAMEROON]]])},dcaibchbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("bebajedcaf")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n("cccehdaiaf"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"next";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.list=e,a.index=-1,a.value=void 0,a.getter=n||function(e){return e},a.deleteDir=r,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=void 0,a=void 0;if(this.list=e,this.value)if((0,r.default)(e))this.unset();else{if((n=e.indexOf(this.value))>-1){if(n===this.index)return;a=!0,t=!1}else if(!t||this.index<0)n=-1;else{var o="prev"===this.deleteDir?-1:0;n=this.index+o,n=Math.max(n,0),a=(n=Math.min(n,e.length-1))>-1}this.set(n,t,a)}}},{key:"unset",value:function(){var e=this.value;this.value=void 0,this.index=-1,e&&this.trigger(this.getter(e),!1)}},{key:"reset",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.index<0||this.value&&this.trigger(this.getter(this.value),"focus",e)}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.list.length){var r=Math.min(Math.max(e,-1),this.list.length-1),a=this.value,o=r>-1?this.list[r]:void 0;o?(this.value=o,this.trigger(this.getter(o),t?"focus":"select")):n&&(this.value=void 0),n&&a&&a!==o&&this.trigger(this.getter(a),!1),this.index=r}}},{key:"getVal",value:function(){return this.value}},{key:"setVal",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.list.indexOf(e);n>-1?this.set(n,t):(this.unset(),this.value=e)}},{key:"setFirst",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,r.default)(this.list)||this.set(0,e,!0)}},{key:"setLast",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,r.default)(this.list)||this.set(this.list.length-1,e,!0)}},{key:"setPrev",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,r.default)(this.list)||this.set(this.prev(),e,!0)}},{key:"setNext",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,r.default)(this.list)||this.set(this.next(),e,!0)}},{key:"prev",value:function(){return(0,r.default)(this.list)?-1:-1===this.index?-1:this.index-1}},{key:"next",value:function(){return(0,r.default)(this.list)?-1:Math.min(this.index+1,this.list.length-1)}}]),t}();t.default=u},dcbafbaejf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendSpamReport=function(e){return g((0,h.unproxy)(e))},t.sendNotSpam=function(e,t){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,a.genId)();var s=t.promises,l=t.notSpam;if(l)return Promise.resolve();if(s.sendNotSpam)return s.sendNotSpam;var f=s.sendNotSpam=(0,p.sendNotSpam)(t);if(n){var d=new a.ActionType(l10n.t(94)),h=f.then(function(e){return new a.ActionType(l10n.t(96))}).catch(u.ServerStatusCodeError,function(e){return new a.ActionType(l10n.t(95))}).catch(function(r){return c.default.error("models:chat:sendNotSpam dropped")(r),new a.ActionType(l10n.t(95),l10n.t(152),function(){return e(t,n,o)})});i.default.openToast(r.createElement(a.ActionToast,{id:o,initialAction:d,pendingAction:h}))}return f.then(function(){t.set({notSpam:!0})}).finally(function(){t.isTrusted(),s.sendNotSpam=null})}((0,h.unproxy)(e),t)},t.sendSpamBlockClear=function(e){return function(e){var t=e.promises,n=e.isGroup,r=e.contact;if(t.reportSpamBlockClear)return t.reportSpamBlockClear;if(n)return Promise.reject(new s.ActionError);var a=g(e);return t.reportSpamBlockClear=a.then(function(){return(0,o.blockContact)(r)}).then(function(){return(0,d.sendClear)(e,!1)}).catch(function(){}).finally(function(){t.reportSpamBlockClear=null}),t.reportSpamBlockClear}((0,h.unproxy)(e))},t.sendSpamExitClear=function(e){return function(e){var t=e.promises,n=e.isGroup,r=e.isReadOnly,a=e.msgs;if(t.reportSpamExitClear)return t.reportSpamExitClear;if(!n)return Promise.reject(new s.ActionError);var o=void 0,i=g(e);if(r)o=i;else{var u=(0,l.sendExitGroup)(e),c=f.waitForBBEvent(a,"change:last",function(e){return e.isGroupLeave()});o=Promise.all([i,u,c])}return t.reportSpamExitClear=o.then(function(){return(0,d.sendClear)(e,!1)}).catch(function(){}).finally(function(){t.reportSpamExitClear=null}),t.reportSpamExitClear}((0,h.unproxy)(e))};var r=b(n("ddhijeejag")),a=n("ccihhdchab"),o=n("dfdebdgdei"),i=m(n("gbfffciea")),u=n("ddjgcfjicj"),s=b(n("cajijabhgb")),l=n("bafdehfigc"),c=m(n("bdiiahhjbe")),f=b(n("ebggjhghhi")),d=n("cjciachhej"),p=n("chjjhigbaj"),h=n("bheafeifce");function m(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,a.genId)(),n=e.promises;if(n.sendSpamReport)return n.sendSpamReport;var o=n.sendSpamReport=(0,p.sendSpamReport)(e),s=new a.ActionType(l10n.t(145)),l=o.then(function(e){return new a.ActionType(l10n.t(147))}).catch(u.ServerStatusCodeError,function(e){return new a.ActionType(l10n.t(146))}).catch(function(n){return c.default.error("models:chat:sendSpamReport dropped")(n),new a.ActionType(l10n.t(146),l10n.t(152),function(){return g(e,t)})});return i.default.openToast(r.createElement(a.ActionToast,{id:t,initialAction:s,pendingAction:l})),o.finally(function(){n.sendSpamReport=null})}},dcbafbbijj:function(e,t){e.exports={muted:"_39LRG",viewport:"_1H6CJ"}},dcbcadjgid:function(e,t){e.exports={muted:"_2Ezia",list:"_3zCpe",hint:"bHCVK",button:"_2TLLH"}},dcbcechchi:function(e,t){e.exports={muted:"_2l_LJ",wrapper:"_1_vLz",button:"_2sOZc",icon:"_1_rsn"}},dcbfjbeaad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=M(n("fhfbcdaib")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=M(n("effbcehec")),u=M(n("gbfffciea")),s=M(n("biddiiafgd")),l=M(n("hdccjfbbg")),c=M(n("dhigahgdjb")),f=M(n("ddbdcagdbi")),d=M(n("djcchigfih")),p=M(n("djbhiedbef")),h=n("dajffajabh"),m=M(h),b=M(n("cabhjigfgc")),g=n("cicgeajfge"),v=M(n("bbhhbdicgc")),y=M(n("cicjcfabii")),_=M(n("bggeiidigb")),E=M(n("eceadcicaf")),j=n("ejbdjaifi"),O=M(n("dcbcadjgid")),S=M(n("bfdcadbbif")),w=M(n("bgfcjjddjf")),P=n("dfdebdgdei");function M(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,d=Array(i),p=0;p<i;p++)d[p]=arguments[p];return n=a=C(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),a.flatListController=new _.default,a.onBlockConfirm=function(e){(0,P.blockContact)(e).catch(function(){}),u.default.closeModal()},a.onBlock=function(){u.default.openModal(o.createElement(f.default,{title:l10n.t(162),filter:function(e){return!!c.default.isFilteredContact(e)&&(!w.default.get(e.id)||l10n.t(839))},onCancel:function(){return u.default.closeModal()},onSelect:(0,r.default)(a.onBlockConfirm)}))},a.onUnblockConfirm=function(e){(0,P.unblockContact)(e).catch(function(){}),u.default.closeModal()},a.onUnblockCancel=function(){u.default.closeModal()},a.onUnblock=function(e,t){u.default.openModal(o.createElement(s.default,{okText:l10n.t(1026),onOK:a.onUnblockConfirm.bind(a,t),cancelText:l10n.t(1091),onCancel:a.onUnblockCancel},l10n.t(1027,{contact:t.formattedName})))},a.renderItem=function(e){var t=e.blocklist.contact();return o.createElement(l.default,{contact:t,key:t.id.toString(),onClick:a.onUnblock,onDelete:a.onUnblock,waitIdle:!0})},C(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.listeners.add(w.default,"add remove")}},{key:"getData",value:function(){return w.default.map(function(e){return{itemKey:e.id.toString(),blocklist:e}})}},{key:"render",value:function(){var e=void 0,t=void 0;return w.default.length>0?(e=o.createElement(y.default,{flatListControllers:[this.flatListController],className:O.default.list},o.createElement(v.default,{flatListController:this.flatListController,data:this.getData(),renderItem:this.renderItem})),t=o.createElement("div",{"data-a8n":i.default.key("blocked-description"),className:O.default.hint},l10n.t(159))):e=o.createElement(g.Blocked,null),o.createElement(d.default,null,o.createElement(m.default,{title:l10n.t(217),onBack:this.props.onClose,type:h.DRAWER_HEADER_TYPE.LARGE}),o.createElement("div",{className:O.default.button},o.createElement(b.default,{a8nText:"li-add-blocked",onClick:this.onBlock,icon:o.createElement(S.default,{name:"add-user",directional:!0})},l10n.t(162))),o.createElement(p.default,null,e,t))}}]),t}();T.displayName="BlockedDrawer",t.default=(0,E.default)((0,j.hoc)(T))},dccdiajhdf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SECTIONS=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=W(n("ddhijeejag")),o=H(n("effbcehec")),i=H(n("ebcagbhefg")),u=H(n("gbfffciea")),s=H(n("eadfaddcj")),l=H(n("djcchigfih")),c=H(n("djbhiedbef")),f=n("dajffajabh"),d=H(f),p=W(n("cajijabhgb")),h=n("bbhhbdicgc"),m=H(h),b=H(n("bggeiidigb")),g=n("bgddggdhc"),v=n("ejbdjaifi"),y=H(n("cbdagjiddg")),_=H(n("dhfbggbbbd")),E=H(n("eceadcicaf")),j=H(n("eigdejjai")),O=H(n("bibjgdifc")),S=H(n("cahfddcdga")),w=H(n("bjbedjfe")),P=H(n("bfejacaeaj")),M=H(n("bhifaggjcb")),C=H(n("becfabjeeg")),T=H(n("ihfccfgdf")),A=H(n("bdcjhdddde")),N=H(n("bfdcadbbif")),k=H(n("eedjbihej")),I=n("bfjajhbdf"),R=H(I),L=H(n("dcjdgceiej")),D=H(n("caceaafdic")),x=n("ddbddjjgia"),U=H(n("cigbgdjabj")),G=H(n("fijafegab")),F=H(n("ccaaiecfib")),B=H(n("eafabiffad")),$=H(n("biecbbiiee")),V=H(n("bfgbdiffgd"));function H(e){return e&&e.__esModule?e:{default:e}}function W(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function K(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var q=t.SECTIONS={PLAYED_HEADER:"PLAYED_HEADER",PLAYED_FOOTER:"PLAYED_FOOTER",READ_HEADER:"READ_HEADER",READ_FOOTER:"READ_FOOTER",DELIVERED_HEADER:"DELIVERED_HEADER",DELIVERED_FOOTER:"DELIVERED_FOOTER",FORWARD_COUNT:"FORWARD_COUNT"},z="MSG_INFO_ROW",Q=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=r=K(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.flatListController=new b.default,r.setRefScrollable=function(e){return r.refScrollable=e},r.state={msgInfo:void 0,unimplemented:!1},r.wrapper=null,r.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===r.props.msg.id&&(!!t||r.getMsgComponent())},r.onClose=function(){r.context.uim.uie.requestDismiss()},r.getHeaderAtSection=function(e){var t=void 0,n=void 0;switch(e){case q.PLAYED_HEADER:n=a.createElement(N.default,{name:"status-ptt-blue"}),t=l10n.t(681);break;case q.READ_HEADER:n=a.createElement(N.default,{name:"status-dblcheck-ack"}),t=l10n.t(683);break;case q.DELIVERED_HEADER:n=a.createElement(N.default,{name:"status-dblcheck"}),t=l10n.t(679)}return n=a.createElement("div",{className:A.default.titleIcon},n),a.createElement("div",{"data-a8n":o.default.key("msg-info-title"),className:A.default.title},a.createElement(M.default,{side:n,ellipsify:!0},a.createElement(k.default,{theme:"section-title"},t)))},r.getFooterAtSection=function(e){var t=(0,S.default)(r.state.msgInfo);return a.createElement(_.default,{key:e,section:e,msgInfo:t})},r.renderItem=function(e){return e.type===z?r.getInfoCell(e.participant):e.type===q.FORWARD_COUNT?r.getForwardCount():e.type===q.PLAYED_HEADER||e.type===q.READ_HEADER||e.type===q.DELIVERED_HEADER?r.getHeaderAtSection(e.type):r.getFooterAtSection(e.type)},K(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;j.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then(function(t){e.setState({msgInfo:t}),e.props.listeners.add(t.played,"add remove"),e.props.listeners.add(t.read,"add remove"),e.props.listeners.add(t.delivery,"add remove")}).catch(p.Unmount,function(){}).catch(function(){e.setState({unimplemented:!0}),u.default.openToast(a.createElement(R.default,{msg:l10n.t(710),id:(0,I.genId)("msg_info_failed")}))})}},{key:"componentDidMount",value:function(){var e=this,t=(0,g.forbiddenFindDOMNode)(this.refScrollable);this.props.msg.type===s.default.MSG_TYPE.IMAGE&&t&&(t.scrollTop=t.scrollHeight),this.props.listeners.add(this.props.msg,"remove",function(t,n){n===$.default&&e.context.uim.uie.requestDismiss()})}},{key:"getAnimateEnterClass",value:function(e){return`animate-enter${-1===e?"":e}`}},{key:"getMsgComponent",value:function(){var e=this.wrapper;if(e)return e.getMsgComponentRef()}},{key:"getInfoCell",value:function(e){return a.createElement(y.default,{msgInfoParticipant:e,contact:e.contact,key:e.id.toString()})}},{key:"getForwardCount",value:function(){return a.createElement("div",{className:A.default.forwardCount},a.createElement(B.default,{msg:this.props.msg}))}},{key:"getData",value:function(){var e=this.props.msg,t=this.state.msgInfo,n=[];return t&&t.isPTT&&(n.push({type:q.PLAYED_HEADER,itemKey:q.PLAYED_HEADER,height:50}),n.push.apply(n,Y(t.played.map(function(e){return{participant:e,type:z,itemKey:e.id.toString(),height:h.DEFAULT_ITEM_HEIGHT}}))),t.playedRemaining>0&&n.push({type:q.PLAYED_FOOTER,itemKey:q.PLAYED_FOOTER,height:50})),t&&(t.read.length>0||t.playedRemaining>0)&&(n.push({type:q.READ_HEADER,itemKey:q.READ_HEADER,height:50}),n.push.apply(n,Y(t.read.map(function(e){return{participant:e,type:z,itemKey:e.id.toString(),height:h.DEFAULT_ITEM_HEIGHT}}))),t.readRemaining>0&&n.push({type:q.READ_FOOTER,itemKey:q.READ_FOOTER,height:50})),t&&(t.delivery.length>0||t.deliveryRemaining>0)&&(n.push({type:q.DELIVERED_HEADER,itemKey:q.DELIVERED_HEADER,height:50}),n.push.apply(n,Y(t.delivery.map(function(e){return{participant:e,type:z,itemKey:e.id.toString(),height:h.DEFAULT_ITEM_HEIGHT}}))),t.deliveryRemaining>0&&n.push({type:q.DELIVERED_FOOTER,itemKey:q.DELIVERED_FOOTER,height:50})),V.default.frequentlyForwardedMessages&&e.numTimesForwarded>0&&!e.isFrequentlyForwarded&&n.push({type:q.FORWARD_COUNT,itemKey:q.FORWARD_COUNT,height:60}),n}},{key:"render",value:function(){var e=this.props.msg,t=this.state,n=t.msgInfo,r=t.unimplemented,o=void 0;n||r||(o=a.createElement("div",{className:A.default.spinner,key:"spinner"},a.createElement(C.default,{size:50,stroke:4})));var u=this.getData(),p=u.length?a.createElement(m.default,{flatListController:this.flatListController,forceConsistentRenderCount:!1,data:u,renderItem:this.renderItem}):null,h=null;return e.labels&&e.labels.length&&F.default.supportsFeature(F.default.F.LABELS_DISPLAY)&&(h=a.createElement(G.default,{theme:"padding"},a.createElement(U.default,{labels:e.labels}))),a.createElement(l.default,{key:"message-info-modal"},a.createElement(d.default,{title:l10n.t(677),type:f.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),a.createElement(O.default,{ref:this.setRefScrollable,chatPreference:i.default.assertGet("defaultPreference")},a.createElement(D.default,{msg:e,ref:(0,v.GetRef)("wrapper",this),displayType:s.default.DISP_TYPE.MSG_INFO,isMsgVisible:this.isMsgVisible,position:x.MsgPosition.END})),a.createElement(c.default,{flatListControllers:[this.flatListController]},h,o,a.createElement("div",{className:A.default.list},p)))}}]),t}();Q.CONCERNS={msg:["id","star","type","isGif","labels","numTimesForwarded","isFrequentlyForwarded"]},Q.contextTypes={uim:P.default.instanceOf(L.default)},Q.displayName="GroupMsgInfoDrawer",t.default=(0,w.default)((0,E.default)((0,T.default)((0,v.hoc)(Q),Q.CONCERNS)))},dcdbiiejfc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendDelete=function(e){return function e(t){if(t.promises.sendDelete)return t.promises.sendDelete;var n=t.getLastMsgKeyForAction();var l=n?t.msgs.get(n):void 0;var c=t.promises.sendDelete=(0,u.sendConversationDelete)(t.id,n,t.getLastMsgKeyForAction.bind(t));var f=t.kind;var d=void 0;switch(f){case o.KIND.GROUP:d=l10n.t(58);break;case o.KIND.BROADCAST:d=l10n.t(10);break;case o.KIND.CHAT:d=l10n.t(20)}d=new a.ActionType(d);var p=c.then(function(e){if(200===e.status)switch(f){case o.KIND.GROUP:return new a.ActionType(l10n.t(57));case o.KIND.BROADCAST:return new a.ActionType(l10n.t(9));case o.KIND.CHAT:return new a.ActionType(l10n.t(19))}else if(e.status>=400)switch(f){case o.KIND.GROUP:return new a.ActionType(l10n.t(56));case o.KIND.BROADCAST:return new a.ActionType(l10n.t(8));case o.KIND.CHAT:return new a.ActionType(l10n.t(18))}}).catch(function(n){s.default.error("models:chat:sendDelete dropped")(n);var r=void 0;switch(f){case o.KIND.GROUP:r=l10n.t(56);break;case o.KIND.BROADCAST:r=l10n.t(8);break;case o.KIND.CHAT:r=l10n.t(18)}return new a.ActionType(r,l10n.t(152),function(){return e(t)})});i.default.openToast(r.createElement(a.ActionToast,{id:(0,a.genId)(),initialAction:d,pendingAction:p}));return c.then(function(e){if(200===e.status&&!e._duplicate){var r=t.getLastMsgKeyForAction();n&&n.equals(r)||n===r?t.delete():t.deleteMsgsBeforeMsgInclusive(l)}}).finally(function(){t.promises.sendDelete=null})}((0,l.unproxy)(e))};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("ccihhdchab"),o=n("ebjaejiaba"),i=c(n("gbfffciea")),u=n("bjecicbiic"),s=c(n("bdiiahhjbe")),l=n("bheafeifce");function c(e){return e&&e.__esModule?e:{default:e}}},dcdifccjdh:function(e,t,n){"use strict";var r=l(n("ddfeabiaci")),a=l(n("bjigbaghc")),o=l(n("bdiiahhjbe")),i=l(n("ccgjijjbbj")),u=l(n("eadfaddcj")),s=l(n("jccfhaecf"));function l(e){return e&&e.__esModule?e:{default:e}}var c=n("dhacjhbgfj"),f={version:"12",M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29,QUERY_STATUS:30,QUERY_STATUS_UPDATE:31,PRIVACY_STATUS:32},statusQuery:function(){switch(arguments.length){case 2:case 3:case 4:return this.statusQueryUpdate.apply(this,arguments);case 0:default:return this.statusQueryAll()}},statusQueryAll:function(){var e=this;return new Promise(function(t,n){var r=e.queryNode({type:"status"},void 0);e.binSend("sendEphemeral",r,n,{onSend:e.binWrap(function(r){e.BinaryProtocol.read(r).then(function(n){var r={statuses:[]},a=e.N.children(n);if(o.default.logColor("green","bin-recv: response,statusv3",n)(),"response"===e.N.tag(n)&&"status"===e.N.attr("type",n)&&(r.checksum=e.N.attr("checksum",n),Array.isArray(a)))for(var i=a.length,u=0;u<i;u++){var s=a[u],l=e.N.attr("jid",s),c=e.N.attr("unread",s),f=e.N.attr("count",s),d=e.N.attr("t",s),p=e.N.attr("score",s);if("status"===e.N.tag(s)&&l&&f&&d){var h={id:l,unreadCount:parseInt(c,10)||0,totalCount:parseInt(f,10)||0,t:parseInt(d,10)||0,score:parseFloat(p)||0,_msgs:[]},m=e.N.children(s);if(Array.isArray(m))for(var b=m.length,g=0;g<b;g++)switch(e.N.tag(m[g])){default:case"message":var v=e.parseMsgMessage(m[g],"response");v&&h._msgs.push(v);break;case"picture":var y=e.N.children(m[g]);y instanceof ArrayBuffer&&(h.pic=y)}r.statuses.push(h)}}t(r)}).catch(n)},t),onDrop:e.wrap(n)},{debugString:"query,statusv3",metricName:"QUERY_STATUS",ackRequest:!1})})},statusQueryUpdate:function(e,t,n,r){var a=this;return new Promise(function(u,s){var l="before"===r?"before":"after",c={type:"status",kind:l,chat:e,count:t.toString(),jid:n?n.remote:void 0,index:n?n.id:void 0,owner:n?n.fromMe.toString():void 0,participant:n?n.participant:void 0},f=a.queryNode(c,void 0);a.binSend("sendEphemeral",f,s,{onSend:a.binWrap(function(e){a.BinaryProtocol.read(e).then(function(e){var t=[],n=a.N.children(e);if(o.default.logColor("green","bin-recv: response,statusv3",e)(),"response"===a.N.tag(e)&&"status"===a.N.attr("type",e)&&Array.isArray(n))for(var r=n.length,i=0;i<r;i++){var s=a.parseMsg(n[i],"response");s&&t.push(s)}u(t)}).catch(s)},u),onDrop:a.wrap(s)},{debugString:["query","statusv3",l,t,n instanceof i.default?n.toString():e].join(),metricName:"QUERY_STATUS_UPDATE",ackRequest:!1})})},sendConversationSeen:function(e,t,n,r,a){var o=this;return new Promise(function(i,u){var s=o.actionNode("set",[["read",{kind:r?"status":void 0,chat:r?a:void 0,jid:e,index:t?t.id:void 0,owner:t?t.fromMe.toString():void 0,participant:t?t.participant:void 0,count:n&&t?n.toString():void 0},void 0]]);o.binSend("send",s,u,{clientCacheable:!0,onSend:o.wrap(i),onDrop:o.wrap(u)},{debugString:"action,"+(r?"status":"chat")+",read,"+JSON.stringify(t)+","+n,metricName:"READ",ackRequest:!0})})},sendStatusSeen:function(e,t){return this.sendConversationSeen(e.remote,e,void 0,!0,t)},sendStatusMute:function(e,t){var n=this;return new Promise(function(r,a){var o=n.actionNode("set",[["status",{jid:e,mute:(!!t).toString()},void 0]]);n.binSend("send",o,a,{clientCacheable:!0,onSend:n.wrap(r),onDrop:n.wrap(a)},{debugString:"action,status,mute,"+[e,t].join(),metricName:"STATUS",ackRequest:!0})})},requestMediaReupload:function(e,t){var n=this;return new Promise(function(r,a){var i=e.id,u=Array.isArray(t)?t.map(function(e){return["user",{jid:e},void 0]}):void 0,s=i,l=n.queryNode({type:"media",index:s.id,jid:s.remote,owner:s.fromMe.toString(),participant:s.participant},u);n.binSend("sendEphemeral",l,a,{onSend:n.binWrap(function(e){n.BinaryProtocol.read(e).then(function(e){var t=void 0;if(o.default.logColor("green","bin-recv: response,media",e)(),"response"===n.N.tag(e)&&"media"===n.N.attr("type",e)){var a=parseInt(n.N.attr("code",e))||400,i=n.N.attr("url",e);a>=500&&502!==a?(o.default.error("wap:requestMediaReupload:error "+a)(),t={status:a}):200===a&&i?t={status:200,url:i,mediaKey:n.N.attr("media_key",e)}:200!==a||i?(o.default.error("wap:requestMediaReupload:error "+a)(),t={status:a}):t={status:400}}else o.default.error("wap:requestMediaReupload:malformed")(),t={status:400};r(t)}).catch(a)},r),onDrop:n.wrap(a)},{debugString:"query,media",metricName:"QUERY_MEDIA",ackRequest:!1})})},parseCmd:function(e){switch(this.N.tag(e)){case"read":var t=this.N.attr("jid",e),n="false"===this.N.attr("type",e),r="status"===this.N.attr("kind",e),a=this.N.attr("checksum",e),o=this.N.attr("index",e),u="true"===this.N.attr("owner",e),s=this.N.attr("participant",e),l=this.N.attr("chat",e),c=void 0;try{c=new i.default({id:o,fromMe:u,remote:t,participant:s})}catch(e){}var f={type:n?"unread":"read",jid:t,isStatus:r,checksum:a,chat:this.decodeJid(l),key:c},d=[!t,r&&!c];return this.dropIfConditionMet(d,f);case"identity":var p=this.parseIdentity(e);return p?(p.type="identity",p):void 0;default:return}},parseContact:function(e,t){if("user"===this.N.tag(e)){var n=this.N.attr("name",e),r="true"===this.N.attr("enterprise",e),a=this.N.attr("jid",e)||t,i=this.N.attr("short",e)||void 0,s=this.N.attr("type",e)||"in",l=this.N.attr("notify",e),c=this.N.attr("verify",e),f="true"===this.N.attr("status_mute",e),d=this.N.attr("index",e)||void 0,p=this.N.attr("vname",e),h=void 0,m=void 0;switch(c){case"true":case"0":case"1":case"2":h=!0,m=parseInt(c,10)||0;break;default:h=!1,r=!1}n||m!==u.default.VERIFIED_LEVEL.HIGH||(n=p);var b=this.N.children(e),g=[];if(Array.isArray(b))for(var v=0;v<b.length;v++){var y=b[v];if("label"===this.N.tag(y)){var _=this.N.attr("id",y);_&&g.push(_)}}var E={id:a,name:n,type:s,shortName:i,pushname:l,isBusiness:h,verifiedLevel:m,statusMute:f,sectionHeader:d,verifiedName:p,labels:g,isEnterprise:r},j=[!a,"in"!==s&&"out"!==s&&!!s];return this.dropIfConditionMet(j,E)}o.default.assert(!1,"wap-unexpected-tag",`expected tag: user, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseAck:function(e){if("received"===this.N.tag(e)){var t=this.N.attr("type",e),n=this.N.attr("index",e),r=this.N.attr("jid",e),i="true"===this.N.attr("owner",e),u=this.N.attr("participant",e),l=void 0;switch(t){case"message":l=2;break;case"read":l=3;break;case"played":l=4;break;case"error":l=-1;break;case"pending":default:l=0}var c={cmd:"ack",id:n,ack:l,from:i?a.default.me:r,to:i?r:a.default.me,participant:u,self:i?"out":"in"},f=[!n,!r,s.default.isStatusV3(r),"message"!==t&&"read"!==t&&"played"!==t&&"error"!==t&&"pending"!==t];return this.dropIfConditionMet(f,c)}o.default.assert(!1,"wap-unexpected-tag",`expected tag: received, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()}};e.exports=(0,r.default)(f,c)},dcebcbcdih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=k(n("ddhijeejag")),o=k(n("cajijabhgb")),i=N(n("dbdfbgehgj")),u=N(n("gbfffciea")),s=N(n("biddiiafgd")),l=N(n("bjigbaghc")),c=N(n("eadfaddcj")),f=N(n("dhigahgdjb")),d=N(n("dhhfaeacef")),p=N(n("fifhbjiec")),h=N(n("fcfchiagj")),m=N(n("dihehaccca")),b=N(n("dgdjiicfdg")),g=N(n("bjbedjfe")),v=N(n("ihfccfgdf")),y=N(n("ebacfjjdeb")),_=n("dcbdjheea"),E=N(n("bahgfcjcda")),j=n("bfjajhbdf"),O=N(j),S=N(n("bfdcadbbif")),w=N(n("bihdhbjih")),P=n("chcadgfgad"),M=n("ejbdjaifi"),C=n("cicgeajfge"),T=n("ddjgcfjicj"),A=N(n("djaadchjch"));function N(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var R={LOADING:0,SUCCESS:1,ERROR:2},L=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,f=Array(c),d=0;d<c;d++)f[d]=arguments[d];return n=r=I(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.state={state:R.LOADING,status:void 0,groupMetadata:void 0,subject:void 0},r.onViewGroup=function(e){var t=void 0;e?t=e:r.state.groupMetadata&&(t=r.state.groupMetadata.id),t&&u.default.openChatFromUnread(i.default.assertGet(t)),u.default.closeModal()},r.revokeGrpV4Invite=function(){var e=r.props.msg,t=r.props.msg.inviteGrp,n=i.default.assertGet((0,_.createWid)(t)).groupMetadata;u.default.openModal(a.createElement(s.default,{onOK:function(){u.default.closeModal(),n.revokeGroupV4AddInvite([e.to.toString()]).then(function(){u.default.openToast(a.createElement(O.default,{msg:l10n.t(1192),id:(0,j.genId)()}))})},okText:l10n.t(1274),onCancel:function(){return u.default.closeModal()},cancelText:l10n.t(1091)},a.createElement(p.default,{text:l10n.t(527,{participant:e.chat.contact.formattedName})})))},r.onJoinGroup=function(){var e=r.props.msg,t=e.inviteCode,n=e.inviteCodeExp,a=e.inviteGrp,s=e.from;w.default.acceptGroupV4Invite(a,s.toString(),t,`${n}`,l.default.me.toString()).then(function(e){return 200===e.status?i.default.find((0,_.createWid)(a)):Promise.reject(e.status)}).then(function(e){u.default.openChatFromUnread(e).then(function(t){t&&u.default.focusChatTextInput(e)}),u.default.closeModal()}).checkpoint(r.props.rejectOnUnmount()).catch(o.Unmount,function(){}).catch(function(e){r.setState({state:R.ERROR,status:e})})},r.onCancel=function(){u.default.closeModal()},I(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.msg,n=t.inviteCode,r=t.inviteCodeExp,a=t.inviteGrp;if(t.isSentByMe){var u=i.default.assertGet((0,_.createWid)(a));u.groupMetadata&&A.default.find(u.id).catch(T.WapDrop,o.ProtoVersionUndefined,function(){}).finally(function(){e.setState({status:200,groupMetadata:u.groupMetadata,subject:u.formattedTitle||u.name,state:R.SUCCESS})})}else w.default.groupV4InviteRequestMetadataFind(l.default.me.toString(),this.props.msg.from.toString(),n,`${r}`,a).then(function(t){if(null!=t.status&&t.status>=400)e.setState({status:t.status,state:R.ERROR});else if(t.id){var n=new h.default({id:t.id,owner:t.owner,creation:t.creation,desc:t.desc,descId:t.descId,descOwner:t.descOwner,descTime:t.descTime,restrict:t.restrict,announce:t.announce,participants:t.participants});e.setState({status:200,groupMetadata:n,subject:t.subject,state:R.SUCCESS})}else e.setState({status:t.status,state:R.ERROR})}).catch(o.Unmount,function(){})}},{key:"render",value:function(){var e=this.props.msg,t=e.inviteGrp,n=e.inviteCodeExp,r=e.inviteCode,o=e.from,u=e.isSentByMe,h=this.state,g=h.state,v=h.status,j=h.groupMetadata,O=h.subject,w={cancelText:l10n.t(480),onCancel:this.onCancel,onOK:void 0,okText:void 0},M=void 0,T=void 0;if(g===R.LOADING)M=a.createElement(C.Loading,null);else if(g===R.SUCCESS&&j){var A=j.participants,N=j.size||A.length,k=A.filter(function(e){return!!f.default.assertGet(e.id).name}),I=void 0,L=j.desc?a.createElement("div",{className:y.default.metadataDesc},a.createElement(p.default,{text:j.desc})):null;I=k.length?a.createElement("div",{className:y.default.participantList},a.createElement("div",{className:y.default.participantsTitle},l10n.t(492,{count:N,_plural:N})," ",""," ",l10n.t(482,{count:k.length,_plural:k.length})),a.createElement("div",{className:y.default.participantsContainer},k.map(function(e){return a.createElement("div",{key:e.id.toString(),className:y.default.participantWrapper},a.createElement(d.default,{id:e.id}),a.createElement(p.default,{className:y.default.participantText,text:e.contact.formattedName}))}))):a.createElement("div",{className:y.default.emptyContentContainer},a.createElement("span",{className:y.default.participantsText},l10n.t(492,{count:N,_plural:N})),a.createElement("span",{className:y.default.contactsText}," ",""," ",l10n.t(482,{count:k.length,_plural:k.length})));var x=`w=${encodeURIComponent(l.default.me.toString())}&g=${encodeURIComponent(t)}&c=${encodeURIComponent(r)}&e=${encodeURIComponent(n)}&a=${encodeURIComponent(o.toString())}`,U=`${c.default.GROUP_V4_INVITE_ICON_URL}?${x}`;M=a.createElement("div",null,a.createElement("div",{className:y.default.metadataContainer},u?a.createElement(E.default,{size:82,waid:(0,_.createWid)(t)}):a.createElement(m.default,{src:U,fallback:"default-group",size:82}),a.createElement("div",{className:y.default.metadataText},a.createElement(p.default,{className:y.default.metadataTitle,text:O}),L)),I);var G=i.default.get(j.id),F=!!G&&!G.isReadOnly;e.isSentByMe?(w.onOK=this.revokeGrpV4Invite,w.okText=l10n.t(926)):F?(w.onOK=this.onViewGroup,w.okText=l10n.t(504)):(w.onOK=this.onJoinGroup,w.okText=l10n.t(487)),T=P.FlexModalType}else{var B=void 0;switch(v){case 401:B=l10n.t(475);break;case 404:B=l10n.t(476);break;case 410:B=l10n.t(477);break;case 419:B=l10n.t(478);break;default:B=l10n.t(479)}w.cancelText=l10n.t(1225),M=a.createElement("div",null,B)}var $,V,H,W=g===R.SUCCESS?a.createElement("div",{className:y.default.inviteExpiration},a.createElement(S.default,{name:"panel-recent",display:"inline",className:y.default.inviteExpirationIcon}),a.createElement("span",null,($=parseInt(n,10),V=(0,b.default)(1e3*$).diff((0,b.default)()),H=Math.floor(V/D),V<=0?l10n.t(580):H<12?l10n.t(578,{time:(0,b.default)().local().format("LT")}):H<24?l10n.t(579,{number:1,_plural:1}):H<48?l10n.t(579,{number:2,_plural:2}):l10n.t(579,{number:3,_plural:3})))):null;return a.createElement(s.default,{cancelText:w.cancelText,onCancel:w.onCancel,onOK:w.onOK,okText:w.okText,type:T},M,W)}}]),t}();L.CONCERNS={msg:["id","to","inviteCode","inviteCodeExp","inviteGrp","from","chat","isSentByMe"]},L.displayName="GroupV4InviteModal";var D=36e5;t.default=(0,v.default)((0,g.default)((0,M.hoc)(L)),L.CONCERNS)},dcecgegjfc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.start=function(e,t){var n=!1,l=0;return Promise.resolve().then(function(){var c="camera"===e?{video:{width:i.default.imageMaxEdge,height:i.default.imageMaxEdge}}:{audio:!0},f=void 0;if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("MediaCapture:start no ability to capture media");return f=navigator.mediaDevices.getUserMedia(c),l=setTimeout(function(){t?t():(!function(e){"camera"===e?a.default.openModal(r.createElement(s.default,{messaging:u.Messaging.CAMERA,type:s.default.TYPE.GUIDE_ALLOW})):a.default.openModal(r.createElement(s.default,{messaging:u.Messaging.MIC,type:s.default.TYPE.GUIDE_ALLOW}))}(e),n=!0)},1e3),f.catch(function(e){var t=e&&e.name||e,n=o.GUM[t]||o.GUM.GUMError;return Promise.reject(new n)})}).finally(function(){n&&a.default.closeModal(),l&&clearTimeout(l)})},t.stop=function(e){if("function"==typeof e.stop)e.stop();else for(var t=e.getTracks(),n=0;n<t.length;n++)t[n].stop()},t.isSrcObjectInVideoElement=function(){void 0===c&&(c="srcObject"in document.createElement("video"));return c};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=l(n("gbfffciea")),o=n("cajijabhgb"),i=l(n("bfgbdiffgd")),u=n("ffchhcfdj"),s=l(u);function l(e){return e&&e.__esModule?e:{default:e}}var c=void 0},dcefbjcfha:function(e,t,n){e.exports=function(){return new Worker(n.p+"milan.d6d9451ebbb369db5413.js")}},dceicchccd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n("eicihhaba")),a=u(n("bebajedcaf")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n("cccehdaiaf"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.list=e,r.selected=e.reduce(function(e,t,n){return e[n]=!1,e},{}),r.getter=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),o(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,a.default)(this.selected)||((0,a.default)(t)?this.unsetAll():(this.selected=t.reduce(function(t,n,r){var a=e.list.indexOf(n);return t[r]=a>-1&&e.selected[a],t},{}),this.list=t))}},{key:"unsetAll",value:function(){var e=this;(0,r.default)(this.selected,function(t,n){t&&e.set(n,!1)})}},{key:"reset",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,r.default)(this.selected,function(n,r){n&&e.trigger(e.getter(e.list[r]),!0,!0,t)})}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.list.length){var r=Math.min(Math.max(e,-1),this.list.length-1),a=r>-1?this.list[r]:void 0;a&&(this.selected[r]&&!t||!this.selected[r]&&t)&&(this.selected[r]=t,this.trigger(this.getter(a),t,n))}}},{key:"setVal",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.list.indexOf(e);-1===r&&(r=this.list.length,this.list.push(e),this.selected[r]=!1),this.set(r,t,n)}},{key:"setFirst",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,a.default)(this.list)||this.set(0,!0,e)}},{key:"setLast",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,a.default)(this.list)||this.set(this.list.length-1,!0,e)}},{key:"getSelected",value:function(){var e=this;return this.list.reduce(function(t,n,r){return e.selected[r]&&t.push(n),t},[])}},{key:"isSelected",value:function(e){return!!this.selected[this.list.indexOf(e)]}}]),t}();t.default=s},dcfaachegb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaStage=t.WrappedMediaImage=t.ZOOM_IN_FACTOR=t.ANIMATION_DURATION=void 0;var r=G(n("hhegggegb")),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=U(n("ddhijeejag")),u=n("bgddggdhc"),s=G(n("djidacbicd")),l=G(n("gbfffciea")),c=G(n("ebcfjdcbhh")),f=G(n("biddiiafgd")),d=G(n("ceffhbhahb")),p=G(n("bhcegecbha")),h=G(n("fifhbjiec")),m=G(n("ghbbeafj")),b=G(n("cajbifjffe")),g=G(n("bffjfbgbg")),v=G(n("bdgdjfajce")),y=G(n("eafjfadchb")),_=U(n("ecibddhig")),E=G(n("dgfecega")),j=G(n("ihfccfgdf")),O=n("bheafeifce"),S=G(n("caffijjhc")),w=G(n("bcifhbgija")),P=G(n("ccfdaijebj")),M=n("cdbgdedbdh"),C=n("gaifbabbj"),T=n("ejbdjaifi"),A=G(n("bfdcadbbif")),N=G(n("daiibfchg")),k=G(n("bcfiaiddii")),I=n("cgecdbiihg"),R=n("dagibffcjf"),L=G(n("bbjadhadbg")),D=G(n("ccaaiecfib")),x=n("hjbbdjjdf");function U(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function G(e){return e&&e.__esModule?e:{default:e}}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var V=t.ANIMATION_DURATION=500,H=t.ZOOM_IN_FACTOR=2,W=function(e){function t(e){F(this,t);var n=B(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setMediaImage=function(e){return n.mediaImage=e},n.setMediaVideo=function(e){return n.mediaVideo=e},n.onImageLoad=function(e){if(n.props.onImageLoad&&n.props.onImageLoad(),!n.zoomed){n.zoomed=!0;var t=n.state.zoomElement;t&&e&&n.props.zoomIn&&e instanceof HTMLElement&&n.animateZoom(t,e)}},n.animateZoom=function(e,t){var r=t.getBoundingClientRect(),a=e.getBoundingClientRect(),o=a.top-r.top,i=a.left-r.left,s=e.clientWidth/t.clientWidth;o-=(t.clientHeight-e.clientHeight)/2,i-=(t.clientWidth-e.clientWidth)/2,(0,w.default)(t,{opacity:[1,0],translateX:[0,i],translateY:[0,o],scale:[1,s]},{duration:V,easing:[.1,.82,.25,1]});var l=(0,u.forbiddenFindDOMNode)(n.caption);l&&(0,w.default)(l,{opacity:[1,0]},{duration:V})},n.openForwardFlow=function(e){e.stopPropagation();var t=n.props.msg;t.isUnsentMedia?l.default.openModal(i.createElement(f.default,{title:l10n.t(417),onOK:function(){return l.default.closeModal()},okText:l10n.t(1225)},l10n.t(414))):l.default.openModal(i.createElement(m.default,{msgs:[(0,O.unproxy)(t)]}),{transition:"modal-flow"})},n.onScroll=function(e){Math.abs(e.deltaY)>7&&n.onClose()},n.onImgZoomIn=function(e){var t=n.mediaImage;e&&t&&(n.listenToMouseMove=t.heightOverflow>0||t.widthOverflow>0),n.setState({imgZoomed:e}),n.props.onImgZoomIn(e)},n.onZoomOut=function(e){var t=n.mediaImage;t&&n.state.imgZoomed&&t.onImageClick(e)},n.onMouseMove=function(e){n.handleMouseMove(e.pageX,e.pageY)},n._handleMouseMove=function(e,t){var r=n.mediaImage;if(r){var a=r.image;if(a){var o=(0,u.forbiddenAssertDOMNode)(a);if(o){var i=o.parentNode,s=i.parentNode,l=r.getTranslatePosition(s,e,t),c=l.translateX,f=l.translateY;(0,w.default)(i,"stop"),(0,w.default)(i,{translateX:c,translateY:f,scale:H},{duration:0})}}}},n.onDownloadClick=function(e){e.stopPropagation(),p.default.initDownload((0,O.unproxy)(n.props.msg))},n.onStarClick=function(e){e.stopPropagation();var t=n.props.msg;l.default.sendStarMsgs(t.chat,[(0,O.unproxy)(t)])},n.onUnstarClick=function(e){e.stopPropagation();var t=n.props.msg;l.default.sendUnstarMsgs(t.chat,[(0,O.unproxy)(t)])},n.onGoToMsgClick=function(e){e.stopPropagation(),n.onClose(),l.default.existsDrawerRight(function(e){e&&2===c.default.column&&l.default.closeDrawerRight()});var t=n.props.msg;l.default.openChatAt(t.chat,t.chat.getSearchContext((0,O.unproxy)(t)))},n.onClose=function(){if(!n.closing){n.closing=!0,(0,x.isFunction)(n.props.onExitAnimation)&&n.props.onExitAnimation();var e=n.props.getZoomNode&&n.props.getZoomNode(n.props.msg.id);if(!e)return n.props.onBack();var t=void 0;if(n.props.mediaData.type===g.default.TYPE.IMAGE&&n.mediaImage?t=n.mediaImage.image:n.props.mediaData.isGif&&n.mediaVideo&&(t=n.mediaVideo.player),!t)return n.props.onBack();var r=(t=(0,u.forbiddenAssertDOMNode)(t)).getBoundingClientRect(),a=e.getBoundingClientRect(),o=a.top-r.top,i=a.left-r.left,s=e.clientWidth/t.clientWidth;o-=(t.clientHeight-e.clientHeight)/2,i-=(t.clientWidth-e.clientWidth)/2,(0,w.default)(t,{translateX:[i,0],translateY:[o,0],scale:[s,1]},{duration:200,easing:[.1,.82,.25,1]}).then(function(){n.props.onBack()});var l=(0,u.forbiddenFindDOMNode)(n.caption);l&&(0,w.default)(l,{opacity:[0,1]},{duration:200,easing:[.1,.82,.25,1]})}},n.handleMouseMove=(0,r.default)(n._handleMouseMove,42),n.zoomed=!1,n.closing=!1,n.listenToMouseMove=!1,n.state={imgZoomed:!1,zoomElement:null},n}return $(t,i.PureComponent),o(t,[{key:"UNSAFE_componentWillMount",value:function(){if(this.props.mediaData.mediaStage===g.default.STAGE.RESOLVED&&this.props.zoomIn){if(this.props.getZoomNode){var e=this.props.getZoomNode(this.props.msg.id);this.setState({zoomElement:e})}this.transparentStyle={opacity:0}}}},{key:"componentDidMount",value:function(){this.transparentStyle={}}},{key:"componentWillUnmount",value:function(){this.handleMouseMove.cancel()}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.mediaData,r=void 0;switch(n.type){case g.default.TYPE.IMAGE:r=i.createElement(K,{msg:t,mediaData:n,key:t.id.toString(),style:this.transparentStyle,onLoad:this.onImageLoad,onImgZoomIn:this.onImgZoomIn,ref:this.setMediaImage});break;case g.default.TYPE.VIDEO:r=i.createElement(z,{msg:t,mediaData:n,key:t.id.toString(),onLoad:n.isGif?this.onImageLoad:null,startTime:this.props.startTime,onClose:this.onClose,ref:this.setMediaVideo});break;case g.default.TYPE.AUDIO:r=i.createElement(X,{mediaData:n,key:t.id.toString()})}var a=void 0;if(t.caption){var o=C.Configuration.TrustedConversation({mentions:t.mentionMap(),links:t.getLinks()}),u=this.props.zoomIn&&(n.isGif||n.type===g.default.TYPE.IMAGE),s=(0,d.default)(N.default.mediaCaption,{[N.default.captionHidden]:u});a=i.createElement(h.default,{className:s,formatters:o,ref:(0,T.GetRef)("caption",this),text:t.caption})}var l=(0,d.default)(N.default.media,{[N.default.mediaWithCaption]:!!a}),c=i.createElement(A.default,{name:"chevron-right",title:l10n.t(805)}),f=(0,d.default)(N.default.btn,N.default.btnMediaNext,{[N.default.disabledBtn]:!this.props.onNext}),p=i.createElement("div",{role:"button",className:f,onClick:this.props.onNext||function(e){return e.stopPropagation()}},c),m=i.createElement(A.default,{name:"chevron-left",title:l10n.t(851)}),b=(0,d.default)(N.default.btn,N.default.btnMediaPrev,{[N.default.disabledBtn]:!this.props.onPrev}),y=i.createElement("div",{role:"button",className:b,onClick:this.props.onPrev||function(e){return e.stopPropagation()}},m),_=(0,d.default)("overlay",N.default.mediaViewer,{[N.default.mediaViewerAnimate]:this.props.zoomIn,[N.default.cursorZoomOut]:this.state.imgZoomed}),E=this.state.imgZoomed?null:this.onScroll,j=this.state.imgZoomed?null:this.onClose,O=this.state.imgZoomed&&this.listenToMouseMove?this.onMouseMove:null,w=this.state.imgZoomed?this.onZoomOut:null;return i.createElement(S.default,{displayName:"MediaViewer",escapable:!0,requestDismiss:this.onClose},i.createElement("div",{className:_,"data-animate-media-viewer":!0,onClick:w,onMouseMove:O},i.createElement(v.default,{msg:t,mediaData:n,onGoToMsgClick:this.onGoToMsgClick,onUnstarClick:this.onUnstarClick,onStarClick:this.onStarClick,openForwardFlow:this.openForwardFlow,onDownloadClick:this.onDownloadClick,onClose:this.onClose}),i.createElement("div",{className:N.default.mediaContent,dir:"ltr",onWheel:E,onClick:j},y,i.createElement("div",{className:l},i.createElement(te,{msg:t,mediaData:n}),r,a),p)))}}]),t}();W.CONCERNS={msg:["id","star","isUnsentMedia","chat","caption"],mediaData:["mediaStage","type","isGif"]},W.displayName="MediaViewerModal",t.default=(0,j.default)((0,T.hoc)(W),W.CONCERNS);var Y=function(e){function t(){var e,n,r;F(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=B(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={zoomIn:null},r.onImageClick=function(e){if(e.stopPropagation(),r.state.zoomIn)r.cancelZoomIn();else{var t=(0,u.forbiddenAssertDOMNode)(r.image);if(t&&t.parentNode&&t.parentNode.parentNode){var n=t.parentNode,a=n.parentNode;r.heightOverflow=n.clientHeight*H-a.clientHeight,r.widthOverflow=n.clientWidth*H-a.clientWidth;var o=r.getTranslatePosition(a,e.pageX,e.pageY),i=o.translateX,s=o.translateY;r.props.onImgZoomIn(!0),r.setState({zoomIn:{factor:H,translateX:i,translateY:s}})}}},r.cancelZoomIn=function(){r.props.onImgZoomIn(!1),r.setState({zoomIn:null})},r.getTranslatePosition=function(e,t,n){var a=window.innerWidth/2-t,o=window.innerHeight/2-n;return{translateX:r.widthOverflow>0?Math.round(1.2*a*r.widthOverflow/e.clientWidth):0,translateY:r.heightOverflow>0?Math.round(1.2*o*r.heightOverflow/e.clientHeight):0}},r._renderBlurredImage=function(){return i.createElement(J,{mediaData:r.props.mediaData})},r._renderImage=function(e){var t=r.state.zoomIn,n=(0,d.default)(N.default.mediaViewerImg,{[N.default.cursorZoomIn]:!t});return i.createElement(b.default,{src:e,ref:(0,T.GetRef)("image",r),onClick:r.onImageClick,style:r.props.style,className:n})},B(r,n)}return $(t,i.PureComponent),o(t,[{key:"componentDidMount",value:function(){this.props.msg&&this.props.msg.forceDownloadMedia()}},{key:"render",value:function(){var e=this.props.mediaData;if(e.mediaStage!==g.default.STAGE.RESOLVED)return this._renderBlurredImage();var t={width:e.fullWidth,height:e.fullHeight},n=void 0;if(D.default.supportsFeature(D.default.F.REPLACE_MEDIABLOB)){var r=this.props.msg;if(r){n=i.createElement(L.default,{mediaData:e,placeholderRenderer:this._renderBlurredImage,downloadMedia:function(){return r.forceDownloadMedia()}},this._renderImage)}else n=this._renderImage(e.renderableUrl)}else n=this._renderImage(e.renderableUrl);return this.state.zoomIn&&(n=i.createElement(S.default,{displayName:"ZoomInImage",ref:(0,T.GetRef)("image",this),escapable:!0,requestDismiss:this.cancelZoomIn},n)),i.createElement(E.default,{type:"zoomIn",size:t,position:"relative",zoomIn:this.state.zoomIn,onObjectLoad:this.props.onLoad},n)}}]),t}();Y.CONCERNS={mediaData:["mediaStage","fullWidth","fullHeight","renderableUrl"]},Y.displayName="MediaImage";var K=t.WrappedMediaImage=function(e){function t(){return F(this,t),B(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return $(t,(0,j.default)((0,T.hoc)(Y),Y.CONCERNS)),o(t,[{key:"onImageClick",value:function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).onImageClick(e)}},{key:"getTranslatePosition",value:function(e,n,r){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).getTranslatePosition(e,n,r)}},{key:"heightOverflow",get:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).heightOverflow}},{key:"widthOverflow",get:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).widthOverflow}},{key:"image",get:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).image}}]),t}(),q=function(e){function t(){var e,n,r;F(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=B(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={played:!1,size:{width:0,height:0}},r.updateSize=function(){var e=r.props.mediaData;(e.mediaStage===g.default.STAGE.RESOLVED||e.streamable&&e.isStreamable())&&e.fullWidth&&e.fullHeight&&r.setState({size:r.getSize()})},r.stopPropagation=function(e){e.stopPropagation()},r.getSize=function(){var e=r.props.mediaData;if(e.isGif){return e.fullWidth>=330?{width:e.fullWidth,height:e.fullHeight}:{width:330,height:330*e.fullHeight/e.fullWidth}}return e.fullWidth>=R.MIN_WIDTH?{width:e.fullWidth,height:e.fullHeight}:{width:R.MIN_WIDTH,height:e.fullHeight}},B(r,n)}return $(t,i.PureComponent),o(t,[{key:"UNSAFE_componentWillMount",value:function(){this.updateSize()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this.updateSize()}},{key:"componentDidMount",value:function(){this.props.mediaData.isStreamable()||this.props.msg.forceDownloadMedia()}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.mediaData,r=n.isGif,a=n.mediaStage===g.default.STAGE.RESOLVED||n.streamable&&n.isStreamable();if(a=a||t.isForcingRMR()){var o=l10n.t(1074),u=void 0;return u=r?i.createElement("div",{className:N.default.mediaViewerImg},i.createElement(P.default,{ref:(0,T.GetRef)("player",this),src:n.renderableUrl,onClick:this.stopPropagation,autoPlay:!0,loop:!0},o)):i.createElement("div",{className:N.default.mediaViewerImg,onClick:this.stopPropagation},i.createElement(k.default,{ref:(0,T.GetRef)("player",this),msg:t,mediaData:n,startTime:this.props.startTime,onClose:this.props.onClose,onError:function(){},autoPlay:!0,type:I.PLAYER_TYPE.MEDIA_VIEWER})),i.createElement(E.default,{type:"scaleDown",position:"relative",objectPosition:"relative",size:this.state.size,onObjectLoad:this.props.onLoad},u)}return i.createElement(J,{mediaData:n})}}]),t}();q.CONCERNS={mediaData:["mediaStage","fullWidth","fullHeight","isGif","preview","renderableUrl","streamable"]},q.defaultProps={startTime:0},q.displayName="MediaVideo";var z=function(e){function t(){return F(this,t),B(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return $(t,(0,j.default)((0,T.hoc)(q),q.CONCERNS)),o(t,[{key:"player",get:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).player}}]),t}(),Q=function(e){function t(){var e,n,r;F(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=B(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.stopPropagation=function(e){e.stopPropagation()},B(r,n)}return $(t,i.PureComponent),o(t,[{key:"render",value:function(){var e=this.props.mediaData,t=e.preview&&e.preview.url(),n=(0,M.aspectRatioScaled)(e.aspectRatio,500);return i.createElement("div",{className:N.default.mediaViewerBlurCrop,style:n,onClick:this.stopPropagation},i.createElement("img",{className:N.default.mediaViewerBlurImg,src:t}))}}]),t}();Q.CONCERNS={mediaData:["preview","aspectRatio"]},Q.displayName="BlurredImageClass";var J=(0,j.default)((0,T.hoc)(Q),Q.CONCERNS),Z=function(e){function t(){var e,n,r;F(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=B(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.stopPropagation=function(e){e.stopPropagation()},B(r,n)}return $(t,i.PureComponent),o(t,[{key:"render",value:function(){var e=this.props.mediaData;return e.mediaStage===g.default.STAGE.RESOLVED?i.createElement(s.default,{url:e.renderableUrl,className:N.default.mediaViewerAudio,onClick:this.stopPropagation,autoPlay:!0,controls:!0},l10n.t(191)):i.createElement("div",{className:N.default.imageAudio,onClick:this.stopPropagation})}}]),t}();Z.CONCERNS={mediaData:["mediaStage","renderableUrl"]},Z.displayName="MediaAudioClass";var X=(0,j.default)((0,T.hoc)(Z),Z.CONCERNS),ee=function(e){function t(){var e,n,r;F(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=B(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onUnsupportedDownloadClick=function(e){e.stopPropagation(),l.default.openModal(i.createElement(y.default,{msg:(0,O.unproxy)(r.props.msg)}))},r.downloadMedia=function(e){e.stopPropagation(),r.props.msg.forceDownloadMedia()},r.stopPropagation=function(e){e.stopPropagation()},B(r,n)}return $(t,i.PureComponent),o(t,[{key:"render",value:function(){var e=this.props.mediaData,t=null;if(this.props.mediaData.streamable&&this.props.mediaData.isStreamable())return null;switch(e.mediaStage){case g.default.STAGE.RESOLVED:case g.default.STAGE.ERROR_MISSING:return null;case g.default.STAGE.ERROR_UNSUPPORTED:return t=this.onUnsupportedDownloadClick,i.createElement(_.Download,{filesize:e.size,onClick:t});case g.default.STAGE.NEED_POKE:return t=this.downloadMedia,i.createElement(_.Download,{filesize:e.size,onClick:t});default:return t=this.stopPropagation,i.createElement("div",{onClick:t},i.createElement(_.Pending,null))}}}]),t}();ee.CONCERNS={mediaData:["mediaStage","size","streamable"]},ee.displayName="MediaStageClass";var te=t.MediaStage=(0,j.default)((0,T.hoc)(ee),ee.CONCERNS)},dcfafchbae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=E(n("cfjdfebffb")),a=E(n("fiaeffdce")),o=E(n("dhgeffcgbg")),i=E(n("ggaecchcd")),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),l=n("biijfeijcb"),c=E(l),f=E(n("djegeegcbf")),d=E(n("dicggaeied")),p=E(n("bjfecgfdgj")),h=E(n("dhfbfehaef")),m=E(n("ecdffdifib")),b=E(n("djhfffbdac")),g=E(n("didfdhbecg")),v=E(n("bheebijggd")),y=E(n("bebecagjgj")),_=E(n("ceffhbhahb"));function E(e){return e&&e.__esModule?e:{default:e}}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=15,S=5,w=function(e){function t(){var e,n,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=Array(s),h=0;h<s;h++)c[h]=arguments[h];return n=u=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),u._fastScroll=!1,u._scrollFromAnimation=!1,u._scrollFromFocus=!1,u._lastScrollTop=u.props.displayCache.scrollTop,u._lastSectionId=u.props.displayCache.sectionId,u.state={scrolledToTop:0===u.props.displayCache.scrollTop,searchText:"",showSearchInput:u.props.displayCache.showSearchInput},u._handleEmojiFocus=function(e,t){u._scrollFromFocus=!0,u._scrollFromFocusHandlerTimeoutID&&clearTimeout(u._scrollFromFocusHandlerTimeoutID),u._scrollFromFocusHandlerTimeoutID=setTimeout(function(){u._scrollFromFocus=!1},200);var n=t.scrollTop,r=e.getBoundingClientRect().top-t.getBoundingClientRect().top+n,a=r-t.clientHeight+e.clientHeight+2,o=u.state.showSearchInput?r-l.TOTAL_SEARCH_HEIGHT:r-2;t.scrollTop=(0,i.default)(n,a,o)},u._handleListFocusAbove=function(){u._focusSearchAndScrollToTop()},u._handleListScroll=function(e){var t=e-u._lastScrollTop;if(u._lastScrollTop=e,!u._scrollFromFocus&&!u._scrollFromAnimation&&!u._checkScrollTop()){var n=Math.abs(t);u._fastScroll=n>O;var r=t>=0?1:-1,a=0===e;e<l.TOTAL_SEARCH_HEIGHT?u.setState({scrolledToTop:a,showSearchInput:!0}):n<S||(u.state.showSearchInput?1===r&&u.setState({scrolledToTop:a,showSearchInput:!1}):-1===r&&u.setState({scrolledToTop:a,showSearchInput:!0}))}},u._handleListSection=function(e){u._scrollFromAnimation||(u._lastSectionId=e,u.props.onSection(e))},u._handleSearchResultsFocusAbove=function(){u._focusSearchAndScrollToTop()},u._handleSearchChange=function(e,t){u.setState({searchText:e})},u._handleSearchDownKey=function(){if(u.state.searchText){if(!u._refSearchResults)return;u._refSearchResults.focusFirstVisibleEmoji()}else u._refScrollList&&u._refScrollList.focusFirstVisibleEmoji(l.TOTAL_SEARCH_HEIGHT)},u._handleSearchEnterKey=function(){u.state.searchText&&u._refSearchResults&&u._refSearchResults.selectFirstVisibleEmoji()},u._handleShiftTabKey=function(e){if(e.preventDefault(),e.stopPropagation(),u._refSearchInput)return u._refSearchInput.hasFocus()?void u.props.onFocusPrev():u.focusSearchInput()},u._handleTabKey=function(e){if(e.preventDefault(),e.stopPropagation(),u._refSearchInput)return u._refSearchInput.hasFocus()?void u.props.onFocusNext():u.focusSearchInput()},u._setRefSearchInput=function(e){u._refSearchInput=e},u._setRefScrollList=function(e){u._refScrollList=e},u._setRefSearchResults=function(e){u._refSearchResults=e},u._getSectionListDataMemoized=(0,m.default)(function(e){return e.sectionIds.map(function(e){return{sectionId:e,emojiIds:e===v.default.RECENT?(0,r.default)(p.default.map(function(e){var t=f.default.skinToneEmojis[e.id]||e.id;return f.default.getEmojiFromUnicode(t)}).filter(function(e){return e})):f.default.getEmojiListInCategory(e)}})},function(e,t){return e.sectionIds===t.sectionIds||(0,o.default)(e.sectionIds,t.sectionIds)}),u._getSearchResultsDataMemoized=(0,m.default)(function(e){var t=e.searchText;return[{sectionId:v.default.SEARCH_RESULT,emojiIds:(0,d.default)((0,a.default)(t))}]}),j(u,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.PureComponent),u(t,[{key:"componentWillUnmount",value:function(){this.props.onDisplayCache&&this.props.onDisplayCache({scrollTop:this._lastScrollTop,sectionId:this._lastSectionId,showSearchInput:this.state.showSearchInput})}},{key:"focusSearchInput",value:function(e){var t=this;if(!this._refSearchInput)return this._fastScroll=!0,void this.setState({showSearchInput:!0},function(){return t.focusSearchInput(!0)});this._refSearchInput.focus(e)}},{key:"scrollToSection",value:function(e){var t=this;return this._lastSectionId=e,new Promise(function(e){t._fastScroll=!0,t.setState({searchText:"",showSearchInput:!0},e)}).then(function(){t._scrollFromAnimation=!0;var n=t._refScrollList?t._refScrollList.scrollToSection(e,0-l.TOTAL_SEARCH_HEIGHT):Promise.resolve();return n.finally(function(){n===t._animationPromise&&(t._scrollFromAnimation=!1,t._checkScrollTop()||t.state.showSearchInput&&t.setState({scrolledToTop:0===t._lastScrollTop}))}),t._animationPromise=n,n})}},{key:"_checkScrollTop",value:function(){var e=0===this._lastScrollTop;return e&&this.setState({scrolledToTop:e,showSearchInput:!0}),e}},{key:"_focusSearchAndScrollToTop",value:function(){var e=this;this._scrollFromFocus=!0,this._scrollFromFocusHandlerTimeoutID&&clearTimeout(this._scrollFromFocusHandlerTimeoutID),this._scrollFromFocusHandlerTimeoutID=setTimeout(function(){e._scrollFromFocus=!1},200),this.focusSearchInput(),this._refScrollList&&this._refScrollList.scrollToTop()}},{key:"_stopEvent",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){return s.createElement(h.default,{handlers:{tab:this._handleTabKey,"shift+tab":this._handleShiftTabKey}},s.createElement("div",{className:y.default.bodyContainer},this._renderSearchInput(),this._renderSearchResults(),s.createElement("div",{className:(0,_.default)(y.default.list,{[y.default.hidden]:!!this.state.searchText})},s.createElement(c.default,{data:this._getSectionListData(),width:this.props.width,initialScrollTop:this.props.displayCache.scrollTop,searchInputVisible:this.state.showSearchInput,focusAbove:this._handleListFocusAbove,onEmoji:this.props.onEmoji,onEmojiFocus:this._handleEmojiFocus,onScroll:this._handleListScroll,onSection:this._handleListSection,ref:this._setRefScrollList,showTitles:!0}))))}},{key:"_renderSearchInput",value:function(){var e=null;this.state.showSearchInput&&(e=s.createElement(b.default,{label:l10n.t(935),onChange:this._handleSearchChange,onDownKey:this._handleSearchDownKey,onEnterKey:this._handleSearchEnterKey,ref:this._setRefSearchInput,shadow:!this.state.scrolledToTop,value:this.state.searchText||""}));var t=this._fastScroll?"emoji-search-slide-away-fast":"emoji-search-slide-away";return s.createElement(g.default,{transitionName:t,className:y.default.search},e)}},{key:"_renderSearchResults",value:function(){return this.state.searchText?s.createElement("div",{className:y.default.list},s.createElement(c.default,{data:this._getSearchResultsData(),width:this.props.width,initialScrollTop:0,searchInputVisible:!0,focusAbove:this._handleSearchResultsFocusAbove,onEmoji:this.props.onEmoji,onEmojiFocus:this._handleEmojiFocus,ref:this._setRefSearchResults,showTitles:!1})):null}},{key:"_getSectionListData",value:function(){return this._getSectionListDataMemoized({sectionIds:this.props.sectionIds})}},{key:"_getSearchResultsData",value:function(){return this._getSearchResultsDataMemoized({searchText:this.state.searchText})}}]),t}();w.displayName="EmojiPanelContent",t.default=w},dcfghhhajg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("fffdgbfji")),o=i(n("bcdjifadgi"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.count,n=a.default.t(1031,{count:a.default.n(t),_plural:t});return r.createElement("div",{className:o.default.msgUnread},r.createElement("span",{className:o.default.msgUnreadBody},n))}},dcfijghjic:function(e,t){e.exports={muted:"_1n0Pe",thumbsContainer:"_2AP3i",scrollContainer:"_26oAS",viewerThumbs:"VIAHn",mediaThumb:"_3l9d7",thumbPadding:"V5PdJ"}},dcggjjdeaj:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=d(n("gbfffciea")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=n("bgddggdhc"),s=d(n("bcifhbgija")),l=d(n("bebjeaagc")),c=d(n("bcddhhfhda")),f=d(n("bfifafibjc"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h={duration:300,easing:[.1,.82,.25,1]};var m=function(e,t){return e.map(function(e,n){return[t[n]===e,n]}).filter(function(e){return!a(e,1)[0]}).map(function(e){return a(e,2)[1]})},b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.containerHeight=0,r.childAnimations=[],r.didCancel=!1,r.unmounting=!1,r.state={children:r.props.children||[]},r.pendingRemoval=[],r.refChildren=new Map,r.setRefChild=function(e,t){t?r.refChildren.set(e,t):r.refChildren.delete(e)},r.setChildRefCache=new c.default(r.setRefChild),r._heightCallbackCache=new Map,p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillUnmount",value:function(){this.unmounting=!0}},{key:"getHeightChange",value:function(e,t){var n=this;return e.reduce(function(e,r){if(r<t)return e;var a=n.refChildren.get(`${r}`);return a?e+(0,u.forbiddenAssertDOMNode)(a).clientHeight:e},0)}},{key:"animateElement",value:function(e,t,n,r){var a=this;this.childAnimations[e]&&(this.didCancel=!0,this.childAnimations[e].cancel());var i=n>0?[0,n]:[-n,0];return this.childAnimations[e]=(this.childAnimations[e]||Promise.resolve()).then(function(){return(0,s.default)(t,{translateY:i},h)}).delay(100).cancellable().then(function(){return n<0&&(r.includes(e)?t.style.opacity="0":t.style.transform=""),e}).catch(Promise.CancellationError,function(){return(0,s.default)(t,"stop",!0),t.style.transform="",!1}).finally(function(t){if(!a.didCancel)return delete a.childAnimations[e],o.default.setUiBusy(!1,"animation_group"),t;a.didCancel=!1}),this.childAnimations[e]}},{key:"transitionAffected",value:function(e,t){if(!e)return Promise.resolve();for(var n=[],r=e.slice(-1),o=a(r,1)[0],i=0;i<=o;++i){var s=this.refChildren.get(`${i}`);s&&n.push(this.animateElement(i,(0,u.forbiddenAssertDOMNode)(s),(t?1:-1)*this.getHeightChange(e,i),e))}return Promise.all(n).then(function(e){return e.filter(function(e){return!1!==e})})}},{key:"notifyHeightChange",value:function(e,t){e.length&&this.props.onHeightChange&&this.props.onHeightChange((t?1:-1)*this.getHeightChange(e,0))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t,n,r,a=this,i=e.children,u=void 0===i?[]:i,s=(n=this.state.children,m(n,r=u).filter(function(e){return n[e]&&!r[e]}));this.added=function(e,t,n){var r=m(e,t).filter(function(n){return!e[n]&&t[n]}),a=n.filter(function(e){return!!t[e]});return a.length?function(e,t,n){for(var r=[],a=0,o=0;a<e.length||o<t.length;)n(e[a],t[o])?r.push(e[a++]):r.push(t[o++]);return a<e.length?r.concat(e.slice(a)):o<t.length?r.concat(t.slice(o)):r}(r,a,function(e,t){return e<t}):r}(this.state.children,u,this.pendingRemoval);for(var c=0;c<this.added.length;++c)this.busyId=l.default.setBusy(this.busyId),o.default.setUiBusy(!0,"animation_group");if(!s.length)return this.setState({children:u});var f=s.filter(function(e){return!a.pendingRemoval.includes(e)});if(f.length){for(var d=0;d<f.length;++d)this.busyId=l.default.setBusy(this.busyId),o.default.setUiBusy(!0,"animation_group");(t=this.pendingRemoval).push.apply(t,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(f)),this.notifyHeightChange(f,!1),this.transitionAffected(f,!1).then(function(e){a.unmounting||(a.pendingRemoval=a.pendingRemoval.filter(function(e){return!f.includes(e)}),e.length>0&&a.setState({children:u},function(){l.default.decBusy(a.busyId)}))})}}},{key:"componentDidUpdate",value:function(e,t){var n=this;t.children;this.added.length&&(this.notifyHeightChange(this.added,!0),this.transitionAffected(this.added,!0).then(function(){l.default.decBusy(n.busyId)}))}},{key:"componentDidMount",value:function(){var e=this,t=this.state.children.reduce(function(t,n,r){var a=e.refChildren.get(`${r}`);if(!a)return t;var o=(0,u.forbiddenAssertDOMNode)(a);return o.style.transform="translateY(0)",t+o.clientHeight},0);this.props.onHeightChange(t,!0)}},{key:"childHeightCallback",value:function(e){var t=this,n=this._heightCallbackCache.get(e);if(n)return n;var r=this.refChildren.get(`${e}`),a=r?(0,u.forbiddenAssertDOMNode)(r).clientHeight:0,o=function(e){var n=e.height;a&&n?(t.props.onHeightChange(n-a),a=n):a=n};return this._heightCallbackCache.set(e,o),o}},{key:"cloneChild",value:function(e,t){var n=this;if(!e)return e;var r=e.ref?function(r){n.setChildRefCache.getRefSetter(`${t}`)(r),e&&e.ref&&e.ref(r)}:this.setChildRefCache.getRefSetter(`${t}`);return i.cloneElement(e,{ref:r})}},{key:"render",value:function(){var e=this;return this.state.children.map(function(t,n){return i.createElement(f.default,{key:`.${n}`,onResize:e.childHeightCallback(n)},e.cloneChild(t,n))})}}]),t}();b.displayName="AnimationGroup",e.exports=b},dcgheafecg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=0,r=e.next();for(;!r.done;)t(r.value,n,e),r=e.next(),n++}},dcicgjefd:function(e,t){e.exports={muted:"_3CBgP",container:"_1c8mz"}},dcifjbigdg:function(e,t){e.exports={muted:"_3wdw2",spacer:"bypk9",spacerStar:"_1-w8s",spacerBroadcast:"_2PHuc",spacerLabels:"_16lJc"}},dcihijcig:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetricMediaType=function(e){switch(e){case"audio":return r.MEDIA_TYPE.AUDIO;case"document":return r.MEDIA_TYPE.DOCUMENT;case"gif":return r.MEDIA_TYPE.GIF;case"image":return r.MEDIA_TYPE.PHOTO;case"ppic":return r.MEDIA_TYPE.PROFILE_PIC;case"product":return r.MEDIA_TYPE.PRODUCT_IMAGE;case"ptt":return r.MEDIA_TYPE.PTT;case"sticker":return r.MEDIA_TYPE.STICKER;case"video":return r.MEDIA_TYPE.VIDEO;case"template":return r.MEDIA_TYPE.TEMPLATE;default:throw new Error(`webMediaType is invalid: ${e}`)}},t.getMetricUploadErrorResultType=function(e){if(e instanceof a.MMSUnauthorizedError)return r.MEDIA_UPLOAD_RESULT_TYPE.ERROR_NO_PERMISSIONS;if(e instanceof a.MediaTooLargeError)return r.MEDIA_UPLOAD_RESULT_TYPE.ERROR_BAD_MEDIA;if(e instanceof a.MMSThrottleError)return r.MEDIA_UPLOAD_RESULT_TYPE.ERROR_THROTTLE;if(e instanceof a.HttpStatusCodeError&&e.status>=500)return r.MEDIA_UPLOAD_RESULT_TYPE.ERROR_SERVER;return r.MEDIA_UPLOAD_RESULT_TYPE.ERROR_UNKNOWN};var r=n("bfbggcdbfb"),a=n("fgeddfbg")},dciidighgh:function(e,t){e.exports={muted:"Zy9M0",container:"_32fST",control:"saez2",label:"_3_4Uv",buttons:"_2KA93",button:"_3v4Q3"}},dcjaajabae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("gbfffciea")),i=f(n("biddiiafgd")),u=f(n("fffdgbfji")),s=f(n("ihfccfgdf")),l=n("ejbdjaifi"),c=f(n("eadfaddcj"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=void 0;switch(this.props.msg.type){case c.default.MSG_TYPE.VIDEO:this.props.msg.isGif||(e=u.default.t(801))}return a.createElement(i.default,{onOK:function(){o.default.closeModal()},okText:u.default.t(1225)},e)}}]),t}();d.CONCERNS={msg:["type","isGif"]},d.displayName="MediaNeedPokeModal",t.default=(0,s.default)((0,l.hoc)(d),d.CONCERNS)},dcjaicbbhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("ebjaejiaba"),i=l(n("bhhdeihhhf")),u=l(n("ihfccfgdf")),s=n("ejbdjaifi");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=void 0;switch(this.props.chat.kind){case o.CHAT_KIND.GROUP:e=this.props.chat.isReadOnly?l10n.t(1125):l10n.t(1132);break;case o.CHAT_KIND.BROADCAST:e=l10n.t(1127);break;case o.CHAT_KIND.CHAT:e=l10n.t(359)}return a.createElement(i.default,{a8n:"mi-delete",action:this.props.onDeleteOrExit,disabled:this.props.disabled},e)}}]),t}();c.CONCERNS={chat:["isReadOnly","kind"]},c.displayName="DeleteMenuItem",t.default=(0,u.default)((0,s.hoc)(c),c.CONCERNS)},dcjbdhhjge:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateLocal=function(e,t){if(a.default.supportsFeature(a.default.F.MODEL_STORAGE))return r.default.merge(e.toString(),t);return Promise.resolve()};var r=o(n("chdahjcdf")),a=o(n("ccaaiecfib"));function o(e){return e&&e.__esModule?e:{default:e}}},dcjcghaij:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("debediheaf")),i=c(n("fffdgbfji")),u=n("cjijggjfed"),s=c(u),l=c(n("igbbahaj"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleClick=function(e){r.props.onClick(r.props.sectionId,e)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e={[l.default.FAVORITES]:i.default.t(451),[l.default.TRENDING]:i.default.t(457),[l.default.HAHA]:i.default.t(452),[l.default.SAD]:i.default.t(455),[l.default.LOVE]:i.default.t(453),[l.default.REACTIONS]:i.default.t(454),[l.default.SPORTS]:i.default.t(456),[l.default.TV]:i.default.t(458)},t=this.props.sectionId,n=e[t];return a.createElement(s.default,{onClick:this.props.onClick,sectionId:this.props.sectionId,selected:this.props.selected,title:n,theme:u.THEMES.MENU},a.createElement(o.default,{sectionId:t,sectionTitle:n}))}}]),t}();d.displayName="GifSectionTab",t.default=d},dcjhajfghf:function(e,t,n){"use strict";var r,a=n("chihjdheic"),o=(r=a)&&r.__esModule?r:{default:r},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var u=/\r\n/g,s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hasText=function(){return n.hasType("text/plain")},this.hasType=function(e){return n.types.includes(e)},this.data=t,this.types=t.types?Array.prototype.slice.call(t.types):[]}return i(e,[{key:"getItems",value:function(){var e=this;if(this.data.items)return Array.prototype.slice.call(this.data.items);var t=this._getFileTypes();return this.types.map(function(n){return{type:n,data:e.data.getData(n),kind:t.includes(n)?"string":"file"}})}},{key:"_getFileTypes",value:function(){return Array.prototype.slice.call(this.data.files).map(function(e){return e.type})}},{key:"getText",value:function(e){return this._getText(e).then(function(e){return e?e.replace(u,"\n"):null})}},{key:"_getText",value:function(e){var t=e||[];0===t.length&&t.push("text/plain");var n=this.data;if(n.getData){var r=void 0;return t.some(function(e){if(n.getData(e))return r=n.getData(e),!0}),Promise.resolve(r)}var a,i=(a=this.data.items,t.reduce(function(e,t){var n=(0,o.default)(a,function(e){return e.type===t});return n&&e.push(n),e},[]));return i.length?Promise.all(i.map(function(e){return new Promise(function(t){return e.getAsString(t)})})).then(function(e){return e.find(function(e){return e.length})}):Promise.resolve()}},{key:"getFiles",value:function(){return this.data.items?Array.prototype.slice.call(this.data.items).filter(function(e){return"file"===e.kind}).map(function(e){return e.getAsFile()}).filter(function(e){return!!e}):Array.prototype.slice.call(this.data.files||[])}},{key:"getData",value:function(e){return this.data.getData(e)}},{key:"hasFiles",value:function(){return this.data.items?Array.prototype.slice.call(this.data.items).some(function(e){return"file"===e.kind}):!!Array.prototype.slice.call(this.data.files||[]).length}}]),e}();e.exports=s},ddadaeidcc:function(e,t){e.exports={muted:"_2RNXR",icon:"_13zxx"}},ddafjfecha:function(e,t){e.exports={muted:"_1BTvE",recording:"_1pmIt",btnBorder:"_15EcM",isHover:"_4kcXP",btnStateDefault:"_1V2op",btnStateHover:"Qvj1g",pttCounter:"_2NdXo","ptt-indicator":"_20RFk",pttIndicator:"_20RFk",btnBorderIcon:"_3IFEL",btnPtt:"hjJpn",container:"cEdds",active:"dgjLl"}},ddbdaadcgc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("fgeddfbg");Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return r.AbortError}}),Object.defineProperty(t,"HttpNetworkError",{enumerable:!0,get:function(){return r.HttpNetworkError}}),Object.defineProperty(t,"HttpStatusCodeError",{enumerable:!0,get:function(){return r.HttpStatusCodeError}}),Object.defineProperty(t,"MediaNotFoundError",{enumerable:!0,get:function(){return r.MediaNotFoundError}}),Object.defineProperty(t,"MediaTooLargeError",{enumerable:!0,get:function(){return r.MediaTooLargeError}}),Object.defineProperty(t,"MediaInvalidError",{enumerable:!0,get:function(){return r.MediaInvalidError}}),Object.defineProperty(t,"MMSUnauthorizedError",{enumerable:!0,get:function(){return r.MMSUnauthorizedError}});var a=n("cajijabhgb");Object.defineProperty(t,"MediaEncryptionError",{enumerable:!0,get:function(){return a.MediaEncryptionError}});var o=n("beifdajhid");Object.defineProperty(t,"NoMediaHostsError",{enumerable:!0,get:function(){return o.NoMediaHostsError}})},ddbdcagdbi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=v(n("hdccjfbbg")),u=v(n("dhigahgdjb")),s=n("cicgeajfge"),l=v(n("dgjddffcfg")),c=v(n("eceadcicaf")),f=n("ejbdjaifi"),d=v(n("dfjibhjhde")),p=v(n("cbgeijgefb")),h=v(n("dcaibchbg")),m=n("bbhhbdicgc"),b=v(n("fbjjefaic")),g=n("hjbbdjjdf");function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _={HEADER:"HEADER",ROW:"ROW"},E=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=a=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.selection=new h.default([],function(e){return e.id}),a.state={searchFilter:void 0},a.onSelect=function(e,t){if(t.type===_.ROW){var n=t.contact;!0===a.props.filter(n)&&a.props.onSelect&&a.props.onSelect(n)}},a.onSearch=a.props.debounce(function(e){a.setState({searchFilter:e})},100),a.renderItem=function(e){var t=a.props,n=t.filter,u=t.onSelect,s=t.onContext,l=t.contextEnabled,c=t.contextMenu,f=t.openContextOnClick,d=t.showNotifyName,h=t.participantCollection,b=t.listenForAdminChange;switch(e.type){case _.HEADER:return o.createElement(p.default,{header:e.header});case _.ROW:var v=(0,g.isString)(n(e.contact)),y=v?"group-modal":null,E=v?n(e.contact):null,j=s&&c?{contextEnabled:l,contextMenu:c(e.contact.id),onContext:s}:{};return o.createElement(i.default,r({contact:e.contact,active:a.selection,theme:y,secondary:E,onClick:f&&s?s:v?void 0:u?function(){u(e.contact)}:function(){},waitIdle:!0,showNotifyName:d,listenForAdminChange:b,participantCollection:h},j));default:throw new m.UnknownDataError(e)}},y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.contacts||this.props.listeners.add(u.default,"add remove change:name")}},{key:"getData",value:function(){var e=this.props.filter,t=l10n.accentFold(this.state.searchFilter),n=l.default.numberSearch(t),r=(this.props.contacts||u.default).filter(function(r){return e(r)&&(!t||t&&r.searchMatch(t,n))});this.selection.init(r.filter(function(t){return!0===e(t)}));var a=[];if(!r.length)return a;for(var o=void 0,i=void 0,s=r.length>10,c=0;c<r.length;c++)o=r[c],s&&o.header!==i&&a.push({type:_.HEADER,header:o.header,itemKey:`${o.header||""}_${c}`}),a.push({type:_.ROW,contact:o,itemKey:`${o.id.toString()}_${c}`}),i=o.header;return a}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.onCancel;return o.createElement(d.default,{title:t,data:this.getData(),renderItem:this.renderItem,emptyState:o.createElement(s.SearchContacts,null),selection:this.selection,onSearch:this.onSearch,searchPlaceholder:l10n.t(934),onSelect:this.onSelect,onCancel:n})}}]),t}();E.defaultProps={filter:function(e){return u.default.isFilteredContact(e)}},E.displayName="ContactsModal",t.default=(0,c.default)((0,b.default)((0,f.hocWithDefaults)(E)))},ddbddjjgia:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MsgPosition={FRONT:"FRONT",MID:"MID",END:"END",SINGLE:"SINGLE"}},ddcbeeeahg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("bggjbiacd")),o=n("dbhhbejbcb"),i=u(o);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.emoji,n=e.selectable,u=e.size;return"xlarge"===u?r.createElement(i.default,{emoji:t,size:o.SIZE.XLARGE,element:"span",selectable:n}):r.createElement(a.default,{emoji:t,selectable:n,size:u})}},ddcbhjdfdg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=T(n("ddhijeejag")),o=C(n("effbcehec")),i=C(n("bdiiahhjbe")),u=C(n("gbfffciea")),s=T(n("cajijabhgb")),l=n("ffchhcfdj"),c=C(l),f=T(n("dcecgegjfc")),d=C(n("bhbihjaicd")),p=C(n("dgdjiicfdg")),h=T(n("ebggjhghhi")),m=C(n("beeieigghj")),b=C(n("ceffhbhahb")),g=C(n("fbjjefaic")),v=n("ejbdjaifi"),y=C(n("eceadcicaf")),_=C(n("bjbedjfe")),E=C(n("bfdcadbbif")),j=C(n("ddafjfecha")),O=n("ddgbhifaji"),S=C(n("caffijjhc")),w=C(n("didfdhbecg")),P=n("icbibjcg"),M=n("ddjgcfjicj");function C(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var A=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cancelRecording=function(){"ready"!==n.state.state&&(n.recorder&&n.recorder.stop(),n.clearInterval(),(0,P.markPaused)(n.props.chat),n.setState({state:"ready",active:void 0,elapsed:0}),n.props.onRecState(!1))},n._incElapsed=function(){n.setState({elapsed:n.state.elapsed+1})},n.onPTTReady=function(){n.cancelPTTTimer(),"delay"===n.state.state&&n.setState({state:"recording"})},n.onMouseOverSend=function(){n.setState({active:"send"})},n.onMouseOutSend=function(){n.setState({active:void 0})},n.onMouseOverCancel=function(){n.setState({active:"cancel"})},n.onMouseOutCancel=function(){n.setState({active:void 0})},n.onMouseUpCancel=function(){n.state.elapsed<1||(n.cancelPTTTimer(),n.cancelRecording())},n.onMouseUpSend=function(){if(!(n.state.elapsed<1))if(n.cancelPTTTimer(),"recording"===n.state.state){var e=n.props.chat;n.setState({state:"processing"}),n.props.onRecState(!1);var t=e.regCancellablePromise(h.waitForEvent(n.recorder,"dataAvailable").then(function(e){return m.default.createFromData(e.detail,e.detail.type)}));(0,O.prepRawMedia)(t,{isPtt:!0,precomputedFields:{duration:~~n.recorder.duration}}).sendToChat(e,{quotedMsg:e.composeQuotedMsg||void 0,addEvenWhilePreparing:!0}),e.composeQuotedMsg=null,t.catch(Promise.CancellationError,function(){}).finally(function(){n.cancelRecording()}),n.recorder.stop()}else n.cancelRecording()},n.onMouseDown=function(){if("ready"===n.state.state){var e=f.start("microphone");Promise.race([e,n.props.rejectOnUnmount()]).checkpoint(n.props.rejectOnUnmount()).then(function(e){u.default.pttRecording(),n.recorder=new d.default({bitRate:16e3,encoderSampleRate:16e3,encoderApplication:2048}),n.recorder.initStream(e),n.recorder.start(),n.props.chat.presence.update().catch(M.WapDrop,function(){}),(0,P.markRecording)(n.props.chat),n.setState({state:"delay"}),n.props.onRecState(!0),n.pttTimer=n.props.setTimeout(n.onPTTReady,1500),n.startInterval()}).catch(s.Unmount,function(){e.then(function(e){return f.stop(e)}).catch(function(){})}).catch(s.GUM.NotAllowedError,function(){u.default.openModal(a.createElement(c.default,{messaging:l.Messaging.MIC_FAIL,type:c.default.TYPE.GUIDE_UNBLOCK}))}).catch(s.GUM.GUMError,function(){u.default.openModal(a.createElement(c.default,{messaging:l.Messaging.MIC_MISSING,type:c.default.TYPE.GUIDE_NONE}))}).catch(function(e){n.recorder&&n.recorder.stop(),i.default.error("PTT Recording Error")(e)})}},n.state={state:"ready",active:null,elapsed:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(window,"blur",this.cancelRecording)}},{key:"componentWillUnmount",value:function(){}},{key:"startInterval",value:function(){this.clearInterval(),this.elapsedInterval=this.props.setInterval(this._incElapsed,1e3)}},{key:"clearInterval",value:function(){null!=this.elapsedInterval&&(this.props.clearInterval(this.elapsedInterval),this.elapsedInterval=null),this.setState({elapsed:0})}},{key:"cancelPTTTimer",value:function(){null!=this.pttTimer&&(this.props.clearTimeout(this.pttTimer),this.pttTimer=null)}},{key:"render",value:function(){var e=this.state.state,t=(0,b.default)(j.default.btnBorder,{[j.default.isHover]:"cancel"===this.state.active}),n=(0,b.default)(j.default.btnBorder,{[j.default.isHover]:"send"===this.state.active}),r="delay"===e||"recording"===e?a.createElement(S.default,{displayName:"PTT",popable:!0,escapable:!0,requestDismiss:this.cancelRecording},a.createElement("div",{className:j.default.recording,key:"recording"},a.createElement("button",{"data-a8n":o.default.key("ptt-cancel-btn"),className:t,onMouseOver:this.onMouseOverCancel,onMouseOut:this.onMouseOutCancel,onMouseUp:this.onMouseUpCancel,"data-animate-btn-border":!0},a.createElement("div",{className:(0,b.default)(j.default.btnBorderIcon,j.default.btnStateDefault)},a.createElement(E.default,{name:"round-x"})),a.createElement("div",{className:(0,b.default)(j.default.btnBorderIcon,j.default.btnStateHover)},a.createElement(E.default,{name:"round-x-inv"}))),a.createElement("div",{className:j.default.pttCounter,"data-animate-ptt-counter":!0},p.default.unix(this.state.elapsed).format("m:ss")),a.createElement("button",{"data-a8n":o.default.key("ptt-send-btn"),className:n,onMouseOver:this.onMouseOverSend,onMouseOut:this.onMouseOutSend,onMouseUp:this.onMouseUpSend,"data-animate-btn-border":!0},a.createElement("div",{className:(0,b.default)(j.default.btnBorderIcon,j.default.btnStateDefault)},a.createElement(E.default,{name:"round-send"})),a.createElement("div",{className:(0,b.default)(j.default.btnBorderIcon,j.default.btnStateHover)},a.createElement(E.default,{name:"round-send-inv"}))))):null,i="ready"===e||"processing"===e?a.createElement("button",{"data-a8n":o.default.key("ptt-ready-btn"),className:j.default.btnPtt,onMouseDown:this.onMouseDown,disabled:"processing"===e,key:"button"},a.createElement(E.default,{name:"ptt"})):null,u=(0,b.default)(j.default.container,{[j.default.active]:!!r});return a.createElement("div",{className:u},a.createElement(w.default,{transitionName:"ptt"},r||i))}}]),t}();A.displayName="PTT",t.default=(0,_.default)((0,g.default)((0,y.default)((0,v.hoc)(A))))},ddcchcchag:function(e,t,n){"use strict";var r=u(n("ecjehifjdd")),a=n("dhgjbgdbhg"),o=u(n("cahfddcdga")),i=n("ddjgcfjicj");function u(e){return e&&e.__esModule?e:{default:e}}var s=n("dcbbccfgab"),l={encrypt:function(e){if(!e)throw new Error("Missing ArrayBuffer in cryptoAsync:encrypt");var t=s.get(),n=(0,a.encryptAndMac)((0,o.default)(t.encKey),(0,o.default)(t.macKey),e);return this._encryptQueue.enqueue(n)},decrypt:function(e){if(!e)throw new Error("Missing ArrayBuffer in cryptoAsync:decrypt");var t=s.get(),n=(0,a.macAndDecrypt)((0,o.default)(t.encKey),(0,o.default)(t.macKey),e);return this._decryptQueue.enqueue(n)},dropAllBecauseLogout:function(){var e=new i.LogoutDrop("cancelled binary protocol call");this._encryptQueue.cancelAll(e),this._decryptQueue.cancelAll(e)},_encryptQueue:new r.default,_decryptQueue:new r.default};e.exports=l},ddcfhecgai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n("cgcgbfbffj")),a=o(n("eaejieeafc"));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();i.model=a.default,t.default=i},ddchcbhaia:function(e,t,n){"use strict";var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=s(n("gbfffciea")),o=s(n("bhhdeihhhf")),i=s(n("dhhcghbjeb")),u=s(n("dcjaicbbhg"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={group:function(e,t){var n=[];return n.push(r.createElement(o.default,{key:"info",a8n:"mi-group-info",action:function(){return a.default.chatInfoDrawer(e)}},l10n.t(1155))),n.push(r.createElement(o.default,{a8n:"mi-select-messages",key:"select",action:t},l10n.t(1279))),e.mute.canMute()&&n.push(r.createElement(i.default,{key:"mute",onMute:function(t){return a.default.muteChat(e,t)},mute:e.mute})),n.push(r.createElement(o.default,{key:"clear",a8n:"mi-clear",action:function(){return a.default.clearChatMsgs(e)}},l10n.t(298))),n.push(r.createElement(u.default,{key:"delete",onDeleteOrExit:function(){return a.default.deleteOrExitChat(e)},chat:e})),n},broadcast:function(e,t){var n=[];return n.push(r.createElement(o.default,{key:"info",a8n:"mi-broadcast-info",action:function(){return a.default.chatInfoDrawer(e)}},l10n.t(1197))),n.push(r.createElement(o.default,{a8n:"mi-select-messages",key:"select",action:t},l10n.t(1279))),n.push(r.createElement(o.default,{key:"clear",a8n:"mi-clear",action:function(){return a.default.clearChatMsgs(e)}},l10n.t(298))),n.push(r.createElement(u.default,{key:"delete",onDeleteOrExit:function(){return a.default.deleteOrExitChat(e)},chat:e})),n}}},ddchejfidi:function(e,t){e.exports={muted:"_3p3lc",item:"_3cfBY",text:"_3BqnP",hover:"_3VXiW",action:"Sl-9e",compact:"_3_4Kp",icon:"_3mQ-P",emoji:"_1sHYl",ellipsify:"_3zy-4",disabled:"_3rvh2",shortcut:"_2yhpw"}},dddjddjahc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THUMB_RADIUS_FULLSCREEN=t.THUMB_RADIUS_WINDOW=void 0;var r=f(n("bbebbadde")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=f(n("bcjcbbafcj")),u=f(n("bjebjijbfc")),s=f(n("ceffhbhahb")),l=f(n("bfdcadbbif")),c=f(n("cdhichafeb"));function f(e){return e&&e.__esModule?e:{default:e}}var d=t.THUMB_RADIUS_WINDOW=parseFloat(c.default["-thumb-radius-window"].replace(/px$/,"")),p=t.THUMB_RADIUS_FULLSCREEN=parseFloat(c.default["-thumb-radius-fullscreen"].replace(/px$/,"")),h=.25,m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlePause=function(){n.props.onPause()},n.handlePlay=function(){n.props.onPlay()},n.isVideoPlayingBeforeDrag=null,n.isDraggingProgress=!1,n.handleProgressChange=function(e){var t=parseFloat(e.target.value);n.props.onProgressChange(t);var r=Math.abs(n.state.bufferedTime-n.props.duration)<.1?n.state.bufferedTime:0;n.setState({progress:t,bufferedTime:r})},n.handleProgressMouseUp=function(e){n.isDraggingProgress=!1,null!=n.isVideoPlayingBeforeDrag&&(n.isVideoPlayingBeforeDrag&&n.handlePlay(),n.isVideoPlayingBeforeDrag=null)},n.handleProgressMouseDown=function(e){n.isDraggingProgress=!0,n.isVideoPlayingBeforeDrag=n.props.isVideoPlaying,n.isVideoPlayingBeforeDrag&&n.handlePause()},n.handleVolumeValueChange=function(e){var t=parseFloat(e.target.value);n.props.onVolumeValueChange(t),n.setState({volume:t})},n.handleMute=function(){n.props.onMutedValueChange(!0),n.setState({muted:!0})},n.handleUnmute=function(){n.props.onMutedValueChange(!1),n.setState({muted:!1})},n.stopEventPropagation=function(e){e.stopPropagation()},n.renderTooltip=function(){var e=n.state.mouseOverProgressRatio;if(void 0===e)return o.createElement("div",{className:c.default.tooltipWrapper});var t=u.default.durationStr(e*n.props.duration),r=100*e+"%";return o.createElement("div",{className:c.default.tooltipWrapper,style:{left:r}},o.createElement("div",{className:(0,s.default)(c.default.tooltipTextBoxGeneral,c.default.tooltipTextBoxPosAndSize)},t),o.createElement("div",{className:(0,s.default)(c.default.tooltipTailGeneral,c.default.tooltipTailPosAndSize)}))},n.renderVolume=function(){var e=void 0;e=n.state.muted||0===n.state.volume?o.createElement(l.default,{name:"video-volume-muted",display:"inline",onClick:function(e){n.handleUnmute(),0===n.props.volume&&n.props.onVolumeValueChange(h)}}):n.state.volume<.5?o.createElement(l.default,{name:"video-volume-1",display:"inline",onClick:n.handleMute}):n.state.volume>=.5&&n.state.volume<1?o.createElement(l.default,{name:"video-volume-2",display:"inline",onClick:n.handleMute}):o.createElement(l.default,{name:"video-volume",display:"inline",onClick:n.handleMute});var t={width:100*n.state.volume+"%"},r=n.state.isMouseOverVolumeControl&&!n.state.muted,a=r?o.createElement("div",{className:c.default.volumeBarContainer},o.createElement("div",{className:(0,s.default)(c.default.volumeLowerTrack,{[c.default.lowerTrackLongest]:1===n.state.volume,[c.default.firefoxFix]:i.default.isGecko}),style:t}),o.createElement("input",{className:c.default.volumeBar,dir:"ltr",onChange:n.handleVolumeValueChange,type:"range",min:"0",max:1,step:"any",value:n.state.volume})):o.createElement("div",{className:c.default.volumeBarContainer});return o.createElement("div",{className:(0,s.default)(c.default.volumeContainer,{[c.default.volumePadding]:r}),onClick:n.stopEventPropagation,onMouseEnter:function(e){n.setState({isMouseOverVolumeControl:!0})},onMouseLeave:function(e){n.setState({isMouseOverVolumeControl:!1}),0!==n.props.volume||n.state.muted||n.handleMute()},onMouseDown:n.stopEventPropagation},e,a)},n.renderProgress=function(){var e=n.state.progress/n.props.duration;e>1&&(e=1);var t=100*e+"%",a={width:t},i=n.state.bufferedTime/n.props.duration;i>1&&(i=1);var u={width:100*i+"%"},l={left:t};return o.createElement("div",{className:(0,s.default)(c.default.progressBarContainer),onClick:n.stopEventPropagation,onMouseDown:n.stopEventPropagation,onMouseEnter:function(e){n.setState({isMouseOverProgressBar:!0})},onMouseLeave:function(e){n.setState({isMouseOverProgressBar:!1,mouseOverProgressRatio:void 0})},onMouseMove:function(e){var t=n.props.isFullscreenMode?p:d,r=e.currentTarget.getBoundingClientRect().left,a=e.pageX,o=a-r-t,i=e.currentTarget.offsetWidth-2*t,u=(a-r-t)/i,s=i*(n.state.progress/n.props.duration),l=Math.abs(o-s)<=t;u<0?u=l?0:void 0:u>1&&(u=l?1:void 0),n.setState({mouseOverProgressRatio:u})}},o.createElement("input",{className:c.default.hiddenProgressBar,dir:"ltr",onChange:n.handleProgressChange,onMouseDown:n.handleProgressMouseDown,onMouseUp:n.handleProgressMouseUp,type:"range",min:"0",max:(0,r.default)(n.props.duration,2),step:"any",value:n.state.progress}),o.createElement("div",{className:c.default.displayedProgressBar},o.createElement("div",{className:c.default.displayedTrack}),o.createElement("div",{className:(0,s.default)(c.default.displayedBuffer,{[c.default.lowerTrackLongest]:1===i}),style:u}),o.createElement("div",{className:(0,s.default)(c.default.displayedProgress,{[c.default.lowerTrackLongest]:1===e}),style:a}),o.createElement("div",{className:(0,s.default)(c.default.thumb,{[c.default.hideThumb]:!n.state.isMouseOverProgressBar}),style:l}),n.renderTooltip()))},n.state={progress:n.props.progress,volume:n.props.volume,muted:n.props.muted,bufferedTime:n.props.bufferedTime,isMouseOverVolumeControl:!1,isMouseOverProgressBar:!1,mouseOverProgressRatio:void 0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.progress===this.state.progress||this.isDraggingProgress||this.setState({progress:e.progress}),e.volume!==this.state.volume&&this.setState({volume:e.volume}),e.muted!==this.state.muted&&this.setState({muted:e.muted}),e.bufferedTime!==this.state.bufferedTime&&this.setState({bufferedTime:e.bufferedTime})}},{key:"componentDidMount",value:function(){0!==this.props.volume||this.props.muted||this.handleMute()}},{key:"UNSAFE_componentWillMount",value:function(){this.setState({progress:this.props.progress,volume:this.props.volume,muted:this.props.muted})}},{key:"render",value:function(){var e=this.props.isFullscreenMode,t=e?o.createElement("div",{className:(0,s.default)(c.default.timeText,c.default.currentTime),onClick:this.stopEventPropagation},u.default.durationStr(this.state.progress)):null,n=e?o.createElement("div",{className:(0,s.default)(c.default.timeText,c.default.duration),onClick:this.stopEventPropagation},u.default.durationStr(this.props.duration)):null,r=this.props.className?this.props.className:c.default.controls;return o.createElement("div",{className:(0,s.default)(r,{[c.default.fullscreen]:e})},o.createElement("div",{className:c.default.playpauseBtnContainer,onClick:this.stopEventPropagation,onMouseDown:this.stopEventPropagation,onMouseUp:this.stopEventPropagation},o.createElement(l.default,{name:this.props.isVideoPlaying?"video-pause":"video-play",display:"inline",onClick:this.props.isVideoPlaying?this.handlePause:this.handlePlay})),this.renderProgress(),this.renderVolume(),t,n)}}]),t}();m.displayName="VideoControls",t.default=m},dddjjdbfga:function(e,t,n){"use strict";var r={labelsDisplay:n("bjhbahjgdi"),groupsV3:n("bjjegiiahd"),groupsV3Create:n("cdhdchfidf"),changeNumberV2:n("cjaiehadfe"),queryStatusV3Thumbnail:n("djhbejhbda"),queryVname:n("dgfcjhijbf"),voipIndividualIncoming:n("jijhjeei"),quickRepliesQuery:n("cdjfcjheca"),payments:n("cjijcbcfhd"),stickerPackQuery:n("ecidgeifdi"),labelsEdit:n("cgbbacefei"),mediaUpload:n("bcbeebghff"),videoPlaybackUrl:n("dhjaadicdd"),statusRanking:n("jciegiifi"),recentStickers:n("cdffadcgjg"),starredStickers:n("bafbadjdec"),groupsV4JoinPermission:n("bbgehjjjbb")};e.exports=r},ddeghajfaj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("dcaifjegcg"),i=(r=o)&&r.__esModule?r:{default:r};function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,o.prop)(),r.shortcut=(0,o.prop)(),r.message=(0,o.prop)(),r.count=(0,o.prop)(),r.keywords=(0,o.prop)(),r.pendingCount=(0,o.session)(0),r.totalCount=(0,o.derived)(r._totalCount,["count","pendingCount"]),u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"_totalCount",value:function(){return this.count+this.pendingCount}},{key:"useOnce",value:function(){this.pendingCount+=1,this.getCollection().periodicFlush()}}]),t}();s.Collection="QuickReply",s.Proxy="quickReply",t.default=(0,o.defineModel)(s)},ddeihcgfbg:function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function a(e,t){return e.msMatchesSelector?e.msMatchesSelector(t):e.webkitMatchesSelector?e.webkitMatchesSelector(t):e.matches(t)}function o(e,t){for(var n=0;n<t.length;++n){var o=t[n].serializers;if(o)for(var i=0;i<o.length;++i){var u=r(o[i],2),s=u[0],l=u[1];if(a(e,s))return l}}return null}e.exports=function(e,t){for(var n=[],r=e.cloneNode(!0).firstChild;r;){switch(r.nodeType){case 1:var a=o(r,t);if(a){n.push(a(r));break}switch(r.tagName){case"P":case"BR":case"PRE":n.push("\n");break;case"DIV":r.firstChild&&3!==r.firstChild.nodeType||n.push("\n")}break;case 3:n.push(r.nodeValue)}if(r.hasChildNodes())r=r.firstChild;else{for(;r&&!r.nextSibling;)if((r=r.parentNode)===e){r=null;break}r&&(r=r.nextSibling)}}return n.join("")}},ddfbaajaeh:function(e,t){e.exports={muted:"_1kJ6B",checkboxChatWrapper:"_3WtUH",checkboxChatControl:"p9kzm",labelSelection:"_1Ao9U"}},ddffjbhaib:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=w(n("cahfddcdga")),i=w(n("dbjacfjdhg")),u=w(n("dbifaacaac")),s=w(n("ffebdchi")),l=w(n("gbfffciea")),c=w(n("cebdifcdab")),f=w(n("ccaaiecfib")),d=w(n("dccdiajhdf")),p=w(n("dfjgdebjfa")),h=n("ebacbhahej"),m=w(n("eceadcicaf")),b=w(n("eiiicijcj")),g=w(n("ebibecaibi")),v=w(n("biecbbiiee")),y=w(n("ebbfdafeec")),_=w(n("bfejacaeaj")),E=w(n("jjgaeci")),j=w(n("dcjdgceiej")),O=n("ebjaejiaba"),S=n("ejbdjaifi");function w(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var M=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var m=arguments.length,_=Array(m),j=0;j<m;j++)_[j]=arguments[j];return n=r=P(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(_))),r.onAttachProduct=function(e){var t=e.chat,n=e.file,u=e.fileOrigin,s=e.product,c=e.catalogWid;if(f.default.supportsFeature(f.default.F.CATALOG)){var d=(0,o.default)(new i.default);n&&d.processFiles([n],t,u),l.default.openModal(a.createElement(E.default,{mediaCollection:d,product:s,catalogWid:c,chat:t,fileOrigin:u}),{transition:"modal-flow",uim:r.context.uim})}},r.onProductImageViewer=function(e,t){f.default.supportsFeature(f.default.F.CATALOG)&&l.default.openModalMedia(a.createElement(y.default,{activeProductImage:e.activeProductImage,productImageCollection:e.productImageCollection,getZoomNode:e.getZoomNode,product:e.product,sessionId:t}),{transition:"media-viewer",uim:r.context.uim})},r.onChatInfoDrawer=function(e,t){l.default.openDrawerRight(a.createElement(p.default,{chat:e,key:`info-${e.id.toString()}`,showFullGroupDescription:t}),"slide-left",r.context.uim)},r.onLiveLocationDrawer=function(e,t){e.liveLocation&&e.liveLocation.active||l.default.openDrawerRight(a.createElement(h.LiveLocationDrawerLoadable,{chat:e,openFrom:t,isFirstLevel:!0}),"slide-left",r.context.uim)},r.onExpiredLocationDrawer=function(e){l.default.openDrawerRight(a.createElement(h.ExpiredLocationDrawerLoadable,{msg:e}),"slide-left",r.context.uim)},r.onMsgInfoDrawer=function(e){e.chat.kind===O.CHAT_KIND.CHAT?l.default.openDrawerRight(a.createElement(c.default,{msg:e}),"slide-left",r.context.uim):l.default.openDrawerRight(a.createElement(d.default,{msg:e}),"slide-left",r.context.uim)},r.onAttachMediaDrawer=function(e){var t=e.chat,n=e.files,s=e.animationName,c=e.initCaption,f=e.onComplete,d=e.fileOrigin;l.default.existsDrawerMid(function(e){if(!e){t.composeAttachMediaContents||t.setComposeAttachMediaContents(new i.default);var p=(0,o.default)(t.composeAttachMediaContents),h={noFocus:!0,onEnterAnimationComplete:function(){n&&p.processFiles(n,t,d)}};l.default.openDrawerMid(a.createElement(u.default,{chat:t,files:n,onComplete:f,initCaption:c,mediaCollection:p}),s||"slide-up",r.context.uim,h)}})},r.onChatSearch=function(e){l.default.openDrawerRight(a.createElement(s.default,{chat:e}),"slide-left",r.context.uim)},r.onMediaViewer=function(e,t,n,o){v.default.get(e.id)?l.default.openModalMedia(a.createElement(g.default,{msg:e,startTime:n,getZoomNode:t,highlightedMsgs:o}),{transition:"media-viewer",uim:r.context.uim}):l.default.openModal(a.createElement(b.default,{msg:e}))},P(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.listeners;e.add(l.default,"chat_info_drawer",this.onChatInfoDrawer),e.add(l.default,"msg_info_drawer",this.onMsgInfoDrawer),e.add(l.default,"chat_search",this.onChatSearch),e.add(l.default,"attach_media_drawer",this.onAttachMediaDrawer),e.add(l.default,"live_location_drawer",this.onLiveLocationDrawer),e.add(l.default,"media_viewer_modal",this.onMediaViewer),e.add(l.default,"expired_location_drawer",this.onExpiredLocationDrawer),e.add(l.default,"product_image_viewer_modal",this.onProductImageViewer),e.add(l.default,"attach_product",this.onAttachProduct)}},{key:"render",value:function(){return null}}]),t}();M.contextTypes={uim:_.default.instanceOf(j.default)},M.displayName="ChatActionListener",t.default=(0,m.default)((0,S.hoc)(M))},ddfgdjiacb:function(e,t,n){"use strict";e.exports={singleByte:["vname","old_jid","new_jid","announcement","locked","prop","label","color","call","offer","call-id"]}},ddfihebbjf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("bffjfbgbg")),i=l(n("cjieghfgda")),u=l(n("ihfccfgdf")),s=n("ejbdjaifi");function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(e){c(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.refreshBlob=function(){var e=n.blob;if(!e)throw new Error("Cannot call refreshBlob when the blob does not exist.");var t=new Blob([e],{type:e.type}),r=window.URL.createObjectURL(t);n.state.url&&window.URL.revokeObjectURL(n.state.url),n.setState({url:r})};var r=e.mediaData.filehash,a=i.default.has(r);!a&&e.mediaData.mediaStage===o.default.STAGE.RESOLVED&&e.downloadMedia&&e.downloadMedia();var u=a?n.createURL(r):null;return n.state={url:u},n}return d(t,a.Component),r(t,[{key:"componentDidUpdate",value:function(){var e=this.props.mediaData.filehash;i.default.has(e)&&!this.state.url&&this.setState({url:this.createURL(e)})}},{key:"componentWillUnmount",value:function(){this.state.url&&this.revokeURL(this.state.url)}},{key:"createURL",value:function(e){var t=i.default.get(e);if(!t)throw new Error("Cannot call createURL when the blob does not exist.");this.blob=t;var n=new Blob([t],{type:t.type});return window.URL.createObjectURL(n)}},{key:"revokeURL",value:function(e){window.URL.revokeObjectURL(e)}},{key:"render",value:function(){return this.state.url?this.props.children(this.state.url):this.props.placeholderRenderer()}}]),t}();p.CONCERNS={mediaData:["filehash","mediaStage"]},p.displayName="AnimatedStickerUrlProvider";var h=(0,u.default)((0,s.hoc)(p),p.CONCERNS),m=function(e){function t(){var e,n,r;c(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.refreshBlob=function(){r.getComponent().refreshBlob()},f(r,n)}return d(t,h),t}();t.default=m},ddgbhifaji:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaPrep=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.canSendType=I,t.downloadMsg=function(e,t){if(e._mediaObject){var n=e._mediaObject.getPendingProcess("fromDisk");return n.then(function(){return g.downloadMedia(e.mimetype,e._mediaObject,t,(0,E.msgToMediaType)({type:e.type,isGif:e.isGif,subtype:e.subtype}))})}return c.default.assert(!1,"media-fault",`msg.download ${e.id.toString()} (${e.type}) has no _mediaObject`)(e),Promise.resolve()},t.cancelDownloadMsg=function(e){e._mediaObject?g.cancelDownloadMedia(e._mediaObject):c.default.assert(e._mediaObject,"media-fault",`msg.cancel ${e.id.toString()} (${e.type}) has no _mediaObject`)(e)},t.prepRawMedia=function(e,t){c.default.info("Prepping raw media")(e,t);var n=void 0;n=t.isPtt?_.OUTWARD_TYPES.PTT:t.asDocument?_.OUTWARD_TYPES.DOCUMENT:t.asGif?_.OUTWARD_TYPES.VIDEO:t.isAudio?_.OUTWARD_TYPES.AUDIO:_.OUTWARD_TYPES.UNKNOWN;var r=Promise.resolve(e).then(function(e){return e.autoreleaseWhenPromiseCompletes(r),b.processRawMedia(e,t)});return new k(n,r)},t.forwardMediaMsg=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];c.default.info("Prepping media msg")(e);var r=e._mediaObject;if(!r)return c.default.assert(!1,"media-fault","fwding media msg without mediaObject")(),Promise.reject("non initialized media");var a=e.mediaData.toJSON();a.preview&&(a.preview=r.contentInfo._preview);a.mediaBlob&&a.mediaBlob.retain();var o=a.isGif?{isGif:!0}:{};a.type===_.OUTWARD_TYPES.PTT&&(a.type=_.OUTWARD_TYPES.AUDIO);var i={businessOwnerJid:e.businessOwnerJid,productId:e.productId,currencyCode:e.currencyCode,priceAmount1000:e.priceAmount1000,retailerId:e.retailerId,url:e.url,productImageCount:e.productImageCount,title:e.title,description:e.description};return new k(a.type,Promise.resolve(a)).sendToChat(t,{caption:a.type===_.OUTWARD_TYPES.DOCUMENT?e.caption:void 0,addEvenWhilePreparing:!0,placeholderProps:o,isForwarded:e.isForwarded||!e.isSentByMe,forwardingScore:e.getForwardingScoreWhenForwarded(),multicast:n,productMsgOptions:i})},t.cancelUploadMsg=function(e){e._mediaObject?b.cancelUploadMedia(e._mediaObject):c.default.assert(!1,"media-fault",`msg.cancelUpload ${e.id.toString()} (${e.type}) has no _mediaObject`)(e)},t.resumeUploadMsg=function(e){var t=e._mediaObject;if(!t)return void c.default.assert(!1,"media-fault","msg.resumeUpload with no _mediaObject")(e);t.userAttemptCount++;var n=b.uploadMedia(e.mimetype,t,(0,E.msgToMediaType)({type:e.type,isGif:e.isGif})).then(function(n){if(!n)throw new Error("upload failed: media entry was not created");t.userAttemptCount=0;var r={clientUrl:n.mmsUrl,directPath:n.directPath,mediaKey:n.mediaKey,filehash:t.filehash,uploadhash:n.uploadHash,size:t.size,streamingSidecar:n.sidecar};return U(e,r).then(function(){return e})});(0,w.sendMsgToChat)(e.chat,n).catch(function(){e.ack=-1})},t.mediaMetadata=function(e){var t=e._mediaObject;if(!t)throw c.default.assert(!1,"media-fault","msg.mediaMetadata with no _mediaObject")(e),new Error("msg.mediaMetadata with no _mediaObject");var n=t.entries.getEntryFromUrl(e.clientUrl);if(!n)throw c.default.assert(!1,"media-fault","msg.mediaMetadata with entry mismatch")(e),new Error("msg.mediaMetadata with entry mismatch");var r=e.mediaData;return{url:n.mmsUrl,directPath:n.directPath,encFilehash:n.uploadHash,mediaKey:n.mediaKey,filehash:e.filehash,type:r.type,mimetype:r.mimetype,filename:r.filename,duration:r.duration,width:r.fullWidth,height:r.fullHeight}},t.videoStreamingInfo=function(e){var t=e._mediaObject;return t?t.videoStreamingInfo(e.id.toString()):null},t.manuallySetMedia=function(e,t){var n=e._mediaObject;if(!n)return;p.default.createFromData(t,e.mimetype).then(function(t){g.manuallySetMedia(e.mimetype,n,t,(0,E.msgToMediaType)({type:e.type,isGif:e.isGif}))})},t.clearMediaForChat=function(e){m.clearMediaForChat(e)},t.prepareMsg=function(e){var t=e._mediaObject;if(t)return t.resolveWhenConsolidated();var n=e.mediaData,r=n.preview;return!r||void 0!==n.aspectRatio||void 0!==n.fullWidth&&void 0!==n.fullHeight?Promise.resolve():(0,f.getImageWidthHeight)(r).then(function(t){var n=t.width,r=t.height;e._mediaObject||e.mediaData.set({aspectRatio:n/r})})},t.registerMsgEarly=function(e,t){c.default.assert(!e.isUnsentPhoneMsg(),"media-fault","unsent registerMsgEarly call")();for(var n={},r=0;r<_.MEDIA_MSG_PROPS.length;r++){var a=_.MEDIA_MSG_PROPS[r],o=t[a];n[a]=void 0!==o?o:e[a]}n.mimetype||n.type!==_.OUTWARD_TYPES.IMAGE||(t.mimetype=n.mimetype="image/jpeg");e.on(N,R),L(e,n);for(var i={},u=0;u<_.MSG_SPECIFIC_FIELDS.length;u++){var s=_.MSG_SPECIFIC_FIELDS[u];i[s]=n[_.MEDIA_TO_MSG[s]]}e.mediaData.set(i)},t.registerMsg=function(e){e.mimetype||e.type!==_.OUTWARD_TYPES.IMAGE||(e.mimetype="image/jpeg");e.mimetype||e.type!==_.OUTWARD_TYPES.STICKER||(e.mimetype="image/webp");e.on(N,R),R(e)},t.deregisterMsg=function(e){e.off(null,R);var t=e._mediaObject;t&&m.disassociateMediaFromMsg(t,e);e.mediaData&&e.mediaData.filehash&&(0,f.shouldUseLruMediaStore)((0,E.msgToMediaType)({type:e.type,isGif:e.isGif||!1,subtype:e.subtype}))&&M.default.del(e.mediaData.filehash)},t.registerSticker=function(e){G(e,e._mediaObject||function(e){if(!e.filehash)return void c.default.assert(!1,"sticker-filehash-error","Unexpected sticker with no filehash")(e);var t=m.getOrCreateMediaObject(e.filehash);return m.associateMediaWithSticker(t,e),t}(e),j.default.STICKER)},t.registerStickerPackIcon=function(e){G(e,e._mediaObject||function(e){if(!e.filehash)return void c.default.assert(!1,"sticker-pack-filehash-error","Unexpected sticker pack with no filehash")(e);var t=m.getOrCreateMediaObject(e.filehash);return m.associateMediaWithStickerPack(t,e),t}(e),j.default.IMAGE)},t.downloadStickerOrStickerPackIcon=function(e){if(e.isPlaceholder)return e.mediaData.mediaStage=O.default.STAGE.PREPARING,Promise.resolve();var t=e._mediaObject;if(t){if(t.downloadStage===_.DOWNLOAD_STAGE.RESOLVED)return Promise.resolve();var n=t.getPendingProcess("fromDisk");return e.clientUrl&&e.filehash&&e.mediaKey&&e.uploadhash?n.then(function(){return g.downloadMedia(e.mimetype,e._mediaObject,!0,(0,E.msgToMediaType)({type:e.type,isGif:!1}))}):n.then(function(){return g.rmr(t)}).then(function(){return g.downloadMedia(e.mimetype,e._mediaObject,!0,(0,E.msgToMediaType)({type:e.type,isGif:!1}))})}var r=e&&e.id||"unknown";return c.default.assert(!1,"media-fault",`${e.constructor.name} ${r} has no _mediaObject`)(e),Promise.resolve()},t.prepSticker=function(e){c.default.info("Prepping sticker")(e);var t=e._mediaObject,n=e.mediaData.toJSON();if(n.fullWidth=125,n.fullHeight=125,!t)return c.default.assert(!1,"media-fault","sending sticker without mediaObject")(),new k(n.type,Promise.reject("non initialized media"));return new k(n.type,Promise.resolve(n))};var o=A(n("bjebjijbfc")),i=A(n("gbfffciea")),u=A(n("bjigbaghc")),s=T(n("cajijabhgb")),l=A(n("ccaaiecfib")),c=A(n("bdiiahhjbe")),f=n("fabajdgab"),d=A(n("ccgjijjbbj")),p=A(n("beeieigghj")),h=n("dgeebjciej"),m=T(n("cgidhbdcgc")),b=T(n("dhjfgehgcf")),g=T(n("dahcghhcfg")),v=A(n("chfghiiefb")),y=A(n("cgeeeeddea")),_=n("daichdjff"),E=n("gbjefdbgb"),j=A(E),O=A(n("bffjfbgbg")),S=A(n("cfejjfjhca")),w=n("cgddafdgie"),P=n("dffjhcaahi"),M=A(n("dejcgejdhb")),C=A(n("cjieghfgda"));function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}var N=`change:phoneUploading change:ack ${_.MEDIA_MSG_PROPS.map(function(e){return`change:${e}`}).join(" ")}`,k=t.MediaPrep=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseType=t,this._mediaData=new O.default({mediaStage:_.STAGE.PREPARING}),this._prepwork=n.then(function(e){if(r._mediaData.set(e),!e.filehash)return c.default.assert(e.mediaBlob,"media-fault","no hash or blob")(),(0,h.getHash)(e.mediaBlob).then(function(e){r._mediaData.filehash=e})},function(e){return r._mediaData.mediaStage=_.STAGE.ERROR_UNSUPPORTED,Promise.reject(e)})}return a(e,[{key:"sendToChat",value:function(e,t){Promise.callSynchronously(x,null,this,e,t)}},{key:"waitForPrep",value:function(){var e=this;return this._prepwork.then(function(){var t=e._mediaData;return I(t.type)?t:Promise.reject(new s.CapabilityUnsupported)})}}]),e}();function I(e){switch(e){case _.OUTWARD_TYPES.IMAGE:return l.default.supportsFeature(l.default.F.ENC_IMAGE);case _.OUTWARD_TYPES.VIDEO:return l.default.supportsFeature(l.default.F.ENC_VIDEO);case _.OUTWARD_TYPES.PTT:case _.OUTWARD_TYPES.AUDIO:return l.default.supportsFeature(l.default.F.ENC_AUDIO);case _.OUTWARD_TYPES.DOCUMENT:return l.default.supportsFeature(l.default.F.ENC_DOC);default:return!0}}function R(e){if(e.isUnsentPhoneMsg()){c.default.assert(!e._mediaObject,"media-fault","Managing unsent message")();var t=D(e);if(t.mediaStage=e.phoneUploading?_.STAGE.REMOTE_UPLOADING:_.STAGE.REMOTE_NEED_UPLOAD,t.hasOwnProperty("preview")){var n=t.preview;delete t.preview,n&&p.default.createFromBase64Jpeg(n).then(function(t){e&&e.mediaData&&e.isUnsentPhoneMsg()&&(e.mediaData.preview=t)})}e.mediaData.set(t)}else L(e,e)}function L(e,t){var n=D(t),r=e._mediaObject,a=t.filehash;if(r)a&&a!==r.filehash&&(c.default.log(`media:msg ${e.id.toString()} ${r.filehash?"changed":"added"} filehash`)(),m.disassociateMediaFromMsg(r,e),r=m.getOrCreateMediaObject(a),e._mediaObject=r,m.associateMediaWithMsg(r,e));else{r=a?m.getOrCreateMediaObject(a):new v.default;var o=e.mediaData;void 0!==o.aspectRatio&&(n.aspectRatio=o.aspectRatio),e._mediaObject=r,m.associateMediaWithMsg(r,e)}var i=!1,u=t.clientUrl,s=t.mediaKey,l=t.uploadhash,f=t.type,d=t.streamingSidecar,p=t.directPath;if(u){var h=~E.MEDIA_TYPE_VALUES.indexOf(f)?f:null,b=void 0;(i=!r.entries.knowsUrl(u))?s&&l&&h?b=r.entries.addEntry(u,s,l,h,d,p):i=!1:s&&(b=r.entries.updateEntry(u,s,l,h,d,p)),b||(i=!1),i&&r.downloadStage===_.DOWNLOAD_STAGE.ERROR_MISSING&&(n.downloadStage=_.DOWNLOAD_STAGE.INIT)}r.consolidate(n)||r.notifyMsgsAsync(),i&&r.downloadStage===_.DOWNLOAD_STAGE.NEED_POKE&&g.downloadMedia(t.mimetype,r,!1,(0,E.msgToMediaType)({type:e.type,isGif:e.isGif}))}function D(e){var t={};return _.MAPPED_MSG_PROPS.forEach(function(n){var r=e[n],a=_.MSG_TO_MEDIA[n];t[a]=r}),t}function x(e,t,n){c.default.log(`Media:sendToChat chat ${t.id.toString()}`)();var a=n.caption,i=n.quotedMsg?n.quotedMsg.msgContextInfo(t.id):{},s=u.default.me,l=n.productMsgOptions,h=void 0===l?{}:l,v=r({t:o.default.globalUnixTime(),from:s,isNewMsg:!0,to:t.id,self:"out",type:e._baseType,ack:0,local:!0,id:new d.default({from:s,to:t.id,id:(0,S.default)(),participant:void 0,selfDir:"out"}),caption:a,quotedMsg:i.quotedMsg,quotedParticipant:i.quotedParticipant,quotedStanzaID:i.quotedStanzaID,quotedRemoteJid:i.quotedRemoteJid,mentionedJidList:n.mentionedJidList,isForwarded:n.isForwarded,forwardingScore:n.forwardingScore,multicast:n.multicast},h),j=e.waitForPrep().then(function(e){var t=e.mediaBlob;return!t||t instanceof p.default?Promise.resolve(e):p.default.createFromData(t,t.type).then(function(t){return e.mediaBlob=t,e})}).then(function(e){var t=e.filehash;c.default.assert(t,"media-fault","filehash undefined for send")();var n=m.getOrCreateMediaObject(t),r=n.mediaBlob;if(r&&(r.retain(),e.mediaBlob&&e.mediaBlob.autorelease(),e.mediaBlob=r),e.mediaBlob&&(e.renderableUrl=e.mediaBlob.url()),n.consolidate(e.toJSON()),e.mediaBlob&&e.mediaBlob.autorelease(),(0,f.shouldUseMediaCache)((0,E.castToV4)(n.type))&&e.mediaBlob){var o=e.mediaBlob.formData();C.default.put(t,o)}g.downloadMedia(e.mimetype,n,!0,(0,E.msgToMediaType)({type:e.type,isGif:e.isGif}));var i=n.msgProps(e);return i.caption=a,a||e.type!==_.OUTWARD_TYPES.DOCUMENT||(i.caption=e.filename),i}),O=void 0;function P(e){O=e;var t=e._mediaObject;return c.default.assert(t,"media-fault","incorrect media object for created msg")(),(0,y.default)(t,"msg is missing _mediaObject"),b.uploadMedia(e.mimetype,t,(0,E.msgToMediaType)({type:e.type,isGif:e.isGif})).then(function(e){if(!e)throw new Error("upload failed: media entry was not created");return U(O,{clientUrl:e.mmsUrl,directPath:e.directPath,mediaKey:e.mediaKey,filehash:t.filehash,uploadhash:e.uploadHash,size:t.size,streamingSidecar:e.sidecar})})}var M=void 0;if(n.addEvenWhilePreparing){var T=n.placeholderProps||{};M=(0,w.addAndSendMsgToChat)(t,r({},T,v),function(e){return O=e,j.then(function(e){return U(O,e)}).then(function(){return P(O)})})[1]}else{var A=j.then(function(e){var t=n.useBasePropsType?v.type:e.type;return r({},v,e,{type:t})});M=(0,w.addAndSendMsgToChat)(t,A,P)[1]}M.catch(function(e){c.default.error(`Media:sendToChat error ${String(e)}`)(e),O&&(O.ack=-1)})}function U(e,t){return(0,P.updateLocal)(e.id,t).then(function(){e.set(t)})}function G(e,t,n){var r,a,o=(r=e,a={},_.MAPPED_STICKER_PROPS.forEach(function(e){var t=r[e],n=_.MSG_TO_MEDIA[e];a[n]=t}),a);if(e.mediaData.set(o),t){if(e._mediaObject=t,!t.entries.knowsUrl(e.clientUrl))t.entries.addEntry(e.clientUrl,e.mediaKey,e.uploadhash,n,null,e.directPath)&&t.downloadStage===_.DOWNLOAD_STAGE.ERROR_MISSING&&(o.downloadStage=_.DOWNLOAD_STAGE.INIT);t.consolidate(o)}}i.default.on("logout",function(){m.delistAndDeleteAllMedia()})},ddhbfebjfb:function(e,t){e.exports={muted:"_1wfSc",wallpaperColorGrid:"_3ErqO",wallpaperColorCanvas:"_2l-YP",wallpaperDefaultTitle:"_23AyA",wallpaperColorEmpty:"mz3NP",canvasActive:"_3u8cf",canvasHover:"_3DZa-"}},ddibegacej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=_(n("hhegggegb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=_(n("ceffhbhahb")),u=_(n("ebgjhfacdb")),s=_(n("ccajjgdjf")),l=_(n("bbhhbdicgc")),c=_(n("bggeiidigb")),f=_(n("cicjcfabii")),d=_(n("eceadcicaf")),p=_(n("bechejbabh")),h=_(n("gegihfgbf")),m=_(n("ddifcjhjde")),b=_(n("caffijjhc")),g=_(n("didfdhbecg")),v=n("ejbdjaifi"),y=n("bifgjibich");function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var j={query:"",results:[],active:!1,offset:0},O=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=a=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state=j,a.flatListController=new c.default,a.setRefList=function(e){return a.list=e},a.onUpdate=S(function(){return a.onFilter(a.state.query)},a),a.onFilter=function(e){p.default.synced()||a.syncIfNeeded();var t=p.default.filterShortcuts(e);t.length&&(0,y.logFilterEvent)(t.length),a.setState({query:e,results:t,active:!0,offset:0})},a.onInactive=S(function(){a.setState(j)},a),a.onSelect=S(function(){return a.handleSelect(a.state.offset)},a),a.onUp=S(function(){var e=Math.max(a.state.offset-1,0);a.setOffset(e)},a),a.onDown=S(function(){var e=a.state.results.length-1,t=Math.min(a.state.offset+1,e);a.setOffset(t)},a),a.onBackspace=function(){var e=window.getSelection().toString();a.lastInsertedText&&e===a.lastInsertedText&&(0,y.logCancelEvent)()},a.onEscape=function(){a.setState(j)},a.syncIfNeeded=(0,r.default)(function(){p.default.synced()||p.default.sync()},1e3),a.renderItem=function(e){var t=e.index,n=e.quickReply;return o.createElement(h.default,{key:n.id,quickReply:n,query:a.state.query,selected:t===a.state.offset,onMouseDown:function(e){return e.preventDefault()},onMouseUp:function(){return a.handleSelect(t)},onMouseEnter:function(){return a.setOffset(t,!0)}})},E(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.plugin;e.registerHandler(this,u.default.ENTER,this.onSelect),e.registerHandler(this,u.default.TAB,this.onSelect),e.registerHandler(this,u.default.FILTER,this.onFilter),e.registerHandler(this,u.default.INACTIVE,this.onInactive),e.registerHandler(this,u.default.UP,this.onUp),e.registerHandler(this,u.default.DOWN,this.onDown),e.registerHandler(this,u.default.BACKSPACE,this.onBackspace)}},{key:"componentWillUnmount",value:function(){var e=this.props.plugin;e.unregisterHandler(this,u.default.ENTER),e.unregisterHandler(this,u.default.TAB),e.unregisterHandler(this,u.default.FILTER),e.unregisterHandler(this,u.default.INACTIVE),e.unregisterHandler(this,u.default.UP),e.unregisterHandler(this,u.default.DOWN),e.unregisterHandler(this,u.default.BACKSPACE),this.syncIfNeeded.cancel()}},{key:"componentDidMount",value:function(){this.props.listeners.add(p.default,"add remove change:shortcut",this.onUpdate)}},{key:"setOffset",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e!==this.state.offset&&this.setState({offset:e},function(){!n&&t.list&&t.list.scrollIntoViewIfNeeded(e)})}},{key:"handleSelect",value:function(e){var t=this.state.results[e];t&&t.id&&(this.lastInsertedText=t.message,(0,y.logSelectEvent)(),this.props.plugin.handleSelect(t))}},{key:"renderList",value:function(){var e=this.state,t=e.results,n=e.query,r=e.offset,a=t.map(function(e,t){return{height:52,itemKey:e.id,contentKey:`${n}${t===r?"-selected":""}`,index:t,quickReply:e}});return t.length?o.createElement(b.default,{displayName:"QuickReplySuggestions",escapable:!0,requestDismiss:this.onEscape},o.createElement("div",{className:(0,i.default)(m.default.overlayContainer)},o.createElement(f.default,{className:m.default.resultsContainer,flatListControllers:[this.flatListController]},o.createElement(l.default,{ref:this.setRefList,data:a,flatListController:this.flatListController,renderItem:this.renderItem})))):null}},{key:"render",value:function(){return o.createElement(g.default,{component:"div",className:m.default.positioningContainer,transitionName:"slide-up"},this.renderList())}}]),t}();function S(e,t){return function(n,r){return!(!t.state.active||!t.state.results.length)&&((!n||!(0,s.default)(n))&&(e.call(t,n,r),!0))}}O.displayName="Suggestions",t.default=(0,d.default)((0,v.hoc)(O))},ddidadfgch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("ceffhbhahb")),i=f(n("bcidefefj")),u=f(n("dbfaahhhec")),s=f(n("becfabjeeg")),l=f(n("bcifhbgija")),c=n("daichdjff");function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.setRefElement=function(e){return n.refElement=e},n.setRefSpinner=function(e){return n.refSpinner=e},n.spinningAnimation=null,n.incrementResolvedCount=function(){n.setState({resolved:n.state.resolved+1})};for(var r=0,a=0;a<e.imageModels.length;a++)e.imageModels[a].mediaData.mediaStage===c.STAGE.RESOLVED&&(r+=1);return n.state={resolved:r,fadeInImages:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.isAllImagesLoaded()||this.props.deletedProduct||this.animateSpinnerAppearance()}},{key:"componentWillUnmount",value:function(){this.spinningAnimation&&this.spinningAnimation.cancel()}},{key:"animateSpinnerAppearance",value:function(){var e=this,t=this.refSpinner;t&&(this.spinningAnimation&&this.spinningAnimation.cancel(),this.spinningAnimation=(this.spinningAnimation||Promise.resolve()).then(function(){return(0,l.default)(t,{opacity:[1,0]},{delay:75,duration:50})}).cancellable().then(function(){e.setState({fadeInImages:!0})}).catch(Promise.CancellationError,function(){(0,l.default)(t,"stop",!0)}).finally(function(){e.spinningAnimation=null}))}},{key:"getRowKey",value:function(e){return`ImageGrid-row-${e}`}},{key:"getColumnKey",value:function(e){return`ImageGrid-col-${e}`}},{key:"isAllImagesLoaded",value:function(){var e=this.props.imageModels;return this.state.resolved>=Math.min(3,e.length)}},{key:"renderLastItem",value:function(e){var t=this.props,n=t.imageModels,r=t.numberTextClassName,o=t.deletedProduct,i=t.fetching,s=n.length-1-e,l=n[e];return a.createElement(u.default,{key:this.getRowKey(e),onClick:this.props.onClick,imageModel:l,mediaData:l.mediaData,renderOverlay:s>0,numImagesNotRendered:s,numberTextClassName:r,incrementResolvedCount:this.incrementResolvedCount,renderImage:!!o||this.isAllImagesLoaded()&&!i,deletedProduct:o})}},{key:"renderItem",value:function(e,t,n){var r=this.props,o=r.deletedProduct,i=r.fetching;return a.createElement(u.default,{key:e,className:n,onClick:this.props.onClick,imageModel:t,mediaData:t.mediaData,incrementResolvedCount:this.incrementResolvedCount,renderImage:!!o||this.isAllImagesLoaded()&&!i,deletedProduct:o})}},{key:"renderLastColumnImages",value:function(e,t){for(var n=this.props.imageModels,r=[],a=e;a<t-1;a++)r.push(this.renderItem(this.getRowKey(a),n[a]));return r.push(this.renderLastItem(t-1)),r}},{key:"renderLastColumn",value:function(e,t,n){var r=this.props.lastColumnClassName;return a.createElement("div",{key:e,className:(0,o.default)(i.default.column,i.default.lastColumn,r,{[i.default.lastColumnWidth]:!r})},this.renderLastColumnImages(t,n))}},{key:"renderImagesInColumns",value:function(e,t){var n=this.props.imageModels;if(!n.length)return null;var r=Math.min(n.length,e-1+t);if(1===r)return this.renderItem(this.getColumnKey(0),n[0],i.default.column);if(2===r)return[this.renderItem(this.getColumnKey(0),n[0],i.default.column),this.renderItem(this.getColumnKey(1),n[1],i.default.column)];for(var a=[],o=0;o<e-1;o++){var u=n[o];a.push(this.renderItem(this.getColumnKey(o),u,i.default.column))}return e-1<r-1&&a.push(this.renderLastColumn(this.getColumnKey(e-1),e-1,r)),a}},{key:"render",value:function(){var e=this.props,t=e.columns,n=e.lastColumnNumRows,r=e.deletedProduct,u=e.fetching,l=this.state.fadeInImages;null!=t&&0!==t||(t=2),null!=n&&0!==n||(n=2);var c=this.isAllImagesLoaded();return a.createElement("div",{className:i.default.headContainer},a.createElement("div",{className:i.default.loadingBlock},!r&&a.createElement("div",{className:i.default.spinner,ref:this.setRefSpinner},a.createElement(s.default,{color:"default",size:50,stroke:4}))),a.createElement("div",{className:(0,o.default)(i.default.container,{[i.default.containerBg]:!u&&c&&!r,[i.default.fadeIn]:l}),ref:this.setRefElement},this.renderImagesInColumns(t,n)))}}]),t}();d.displayName="ImageGrid",t.default=d},ddifaecacd:function(e,t){e.exports={muted:"_3wnN6",more:"_2TQyO",hotKeyWraper:"BfrqJ"}},ddifcjhjde:function(e,t){e.exports={muted:"lADbn",positioningContainer:"Ya_1h",resultsContainer:"_2sVI6",overlayContainer:"SFlCH"}},ddihbaicfd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=h(n("gbfffciea")),o=n("chcadgfgad"),i=h(o),u=h(n("djcchigfih")),s=n("dajffajabh"),l=h(s),c=h(n("djbhiedbef")),f=h(n("dhfbfehaef")),d=h(n("dggeggcjcd")),p=h(n("cgfjebhhej"));function h(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.vcard,n=p.default.parse(t);return n?r.createElement(i.default,{type:o.BoxModalType},r.createElement(u.default,{key:"vcard-modal"},r.createElement(l.default,{title:l10n.t(345),type:s.DRAWER_HEADER_TYPE.POPUP,onCancel:function(){return a.default.closeModal()}}),r.createElement(c.default,null,r.createElement(f.default,null,r.createElement(d.default,{parsedVCard:n,thumbnail:p.default.thumbnail(t)}))))):null}},ddihieeaee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.sendQueryMediaConn=function(e){return(0,o.default)({retries:1/0,factor:1e3,maxTimeout:9e5,jitter:.25,signal:e},function(t){return i.default.supportsFeature(i.default.F.MD_BACKEND)?Promise.reject(new Error("sendQueryMediaConn: not supported when not build with MD_BACKEND")):u.default.queryMediaConnections(e).then(function(e){var t=e.ttl,n=e.authTTL;return null==n?(n=1e3*t,t=3e5):(n*=1e3,t*=1e3),r({},e,{authTTL:n,ttl:t})}).catch(a.ServerStatusCodeError,function(e){if(e.status>=500)return t(e);throw e})})};var a=n("ddjgcfjicj"),o=s(n("bdiihbaeaj")),i=s(n("ccaaiecfib")),u=s(n("bihdhbjih"));function s(e){return e&&e.__esModule?e:{default:e}}},ddjbidjfjh:function(e,t){e.exports={muted:"JvwJU",icon:"_2fF63",body:"_3P-1q",spinner:"_3kjgZ"}},ddjcbfehh:function(e,t){e.exports={muted:"-qhtt",container:"_1wA0y",body:"_2rGVQ"}},ddjfcdfihc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONFIG=void 0;var r=o(n("dbegcaehed"));t.getAction=function(e){var t=e.key,n=e.ctrlKey,r=e.metaKey,a=e.altKey,o=e.shiftKey;if("Control"===t||"Meta"===t||"Alt"===t||"Shift"===t)return;var i=n&&a;return n&&r||i?s[function(e,t){return!t||"Tab"!==e&&"Enter"!==e&&"Backspace"!==e&&" "!==e?e:`Shift+${e}`}(t,o)]:void 0},t.getKey=function(e){var t=u[e];if(!t.length)return;var n=t[0],r=n.key,a=n.nativeKey,o=n.nativeModifier,i=a||r;return i?l(i,o):void 0},t.getWebKey=function(e){var t=u[e];if(!t.length)return;var n=t[0],r=n.key,a=n.webKey||r;return a||void 0},t.getAdditionalShortcuts=function(){var e={};return Object.keys(u).forEach(function(t){var n=u[t];n.length<=1||n.slice(1).forEach(function(n){var r=n.key,a=n.nativeKey,o=n.nativeModifier,i=a||r;i&&(e[l(i,o)]=t)})}),e};var a=o(n("dieejegcge"));function o(e){return e&&e.__esModule?e:{default:e}}var i,u=t.CONFIG={[a.default.CONTACT_US]:[{key:"H"}],[a.default.DELETE_OR_EXIT_CHAT]:[{key:"Backspace"}],[a.default.GO_TO_NEXT_CHAT]:[{key:"Tab",nativeModifier:"Ctrl"},{key:"}"}],[a.default.GO_TO_PREV_CHAT]:[{key:"Shift+Tab",nativeModifier:"Ctrl"},{key:"{"}],[a.default.LOGOUT]:[],[a.default.OPEN_NEW_CHAT]:[{key:"n"}],[a.default.OPEN_NEW_GROUP]:[{key:"N"}],[a.default.OPEN_PROFILE]:[{key:"p"}],[a.default.OPEN_SETTINGS]:[{key:","}],[a.default.SEARCH]:[{webKey:"/",nativeKey:"f"}],[a.default.SEARCH_IN_CHAT]:[{key:"F"}],[a.default.TOGGLE_ARCHIVE]:[{key:"e"}],[a.default.TOGGLE_MUTE]:[{key:"M"}],[a.default.TOGGLE_UNREAD]:[{key:"U"}],[a.default.ZOOM_IN]:[{key:"+"}],[a.default.ZOOM_OUT]:[{key:"-"}],[a.default.ZOOM_RESET]:[{key:"0"}]},s=(i={},Object.keys(u).forEach(function(e){u[e].forEach(function(t){var n=t.key,r=t.webKey||n;r&&(i[r]=e)})}),i);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CmdOrCtrl",n="+"!==e?e:"Plus";return 1===n.length&&n.match(/[a-z]/i)?n.match(/[a-z]/)?`${t}+${(0,r.default)(n)}`:`Shift+${t}+${n}`:`${t}+${(0,r.default)(n)}`}},deabffecii:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initSessionId()}return r(e,[{key:"initSessionId",value:function(){this.sessionId=this.newSessionId()}},{key:"newSessionId",value:function(){return this.sessionId=Math.floor(2147483648*Math.random()),this.sessionId}},{key:"toString",value:function(){return`${this.sessionId}`}}]),e}();t.default=a},deabjbejhf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("eceadcicaf")),i=h(n("ihfccfgdf")),u=n("ejbdjaifi"),s=h(n("hdccjfbbg")),l=h(n("fffdgbfji")),c=h(n("dbjbhajgfd")),f=h(n("caffijjhc")),d=h(n("bhhdeihhhf")),p=n("dfdebdgdei");function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={contextMenu:null},r.unblockContactTrigger=function(e){var t=r.props.contact,n=[a.createElement(d.default,{a8n:"unblock-contact-in-multi-select",key:"unblock",action:r.unblockContact},l.default.t(334,{contact:t.shortName||t.name}))];e.event&&e.event.persist(),r.setState({contextMenu:{contactId:t.id.toString(),menu:n,anchor:e.anchor,event:e.event}})},r.contextClose=function(){r.setState({contextMenu:null})},r.unblockContact=function(){var e=r.props.contact;r.contextClose(),e.addPendingAction((0,p.unblockContact)(e)).then(function(){return r.props.onSelect()}).catch(function(){})},r.onSelect=function(e){if(!r.props.disabled)if(r.props.allowBlockedContacts)r.props.onSelect();else{var t=r.props.contact;r.state.contextMenu?r.contextClose():t.isContactBlocked?r.unblockContactTrigger({event:e}):r.props.onSelect()}},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.customSecondaryText,r=e.contact,o=e.active,i=e.allowBlockedContacts,u=void 0;return this.state.contextMenu&&(u=a.createElement(f.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0},a.createElement(c.default,{contextMenu:this.state.contextMenu}))),a.createElement(a.Fragment,null,a.createElement(s.default,{theme:t||r.isContactBlocked&&!i?"chat-checkbox-no-delete":"chat-checkbox",active:o,contact:r,onClick:t?null:this.onSelect,secondary:r.isContactBlocked&&!i?l.default.t(333):n||null,waitIdle:!0}),u)}}]),t}();b.CONCERNS={contact:["id","isGroup","isContactBlocked","pendingAction","shortName","name"]},b.displayName="UnblockableContactWrapper",t.default=(0,o.default)((0,i.default)((0,u.hoc)(b),b.CONCERNS))},deahbiefdi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=g(n("daedihffb")),i=g(n("dhbceejbjg")),u=g(n("bjgiedaj")),s=g(n("eadfaddcj")),l=g(n("fifhbjiec")),c=g(n("bbhhbdicgc")),f=g(n("cicjcfabii")),d=g(n("cgbfcjgjcf")),p=g(n("ihfccfgdf")),h=n("ejbdjaifi"),m=n("bgjddhffji"),b=n("bheafeifce");function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=Array(s),f=0;f<s;f++)c[f]=arguments[f];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.onProductDetail=function(e){var t=r.props,n=t.onProductDetail,a=t.sessionId;return(0,m.logCatalogListDetailClick)((0,b.unproxy)(e),a),n(e,a)},r.renderItem=function(e){var t=e.product,n=t.imageCdnUrl.productImageModel.mediaData,s=a.createElement(d.default,{theme:"list",onClick:function(){return r.onProductDetail(t)},mediaData:n}),c=a.createElement(l.default,{text:t.name,ellipsify:!0,titlify:!0}),f=[a.createElement("div",{className:o.default.description,key:"desc"},a.createElement(l.default,{text:t.description,ellipsify:!0})),t.currency&&null!=t.priceAmount1000&&0!==t.priceAmount1000?a.createElement("div",{className:o.default.price,key:"price"},a.createElement(l.default,{text:u.default.format(t.currency,t.priceAmount1000),ellipsify:!0})):null];return a.createElement(i.default,{key:t.id.toString(),customImage:!0,image:s,primary:c,onClick:function(){return r.onProductDetail(t)},secondary:f,theme:"product"})},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"getData",value:function(){return this.props.catalog.productCollection.getProductModels().map(function(e){return{itemKey:e.id.toString(),product:e}})}},{key:"render",value:function(){var e=this.props.catalog;return e.productCollection&&e.productCollection.getProductModels().length?a.createElement(f.default,{flatListControllers:[this.props.flatListController]},a.createElement(c.default,{flatListController:this.props.flatListController,forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem,defaultItemHeight:s.default.PRODUCT_LIST_ITEM_HEIGHT})):null}}]),t}();y.CONCERNS={catalog:["productCollection","afterCursor","id","index"]},y.displayName="ProductCatalogList",t.default=(0,p.default)((0,h.hoc)(y),y.CONCERNS)},debediheaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("igbbahaj")),o=u(n("bfdcadbbif")),i=u(n("dhagjfdjei"));function u(e){return e&&e.__esModule?e:{default:e}}var s="panel-starred";function l(e){return e.sectionId&&e.sectionId===a.default.FAVORITES?r.createElement(o.default,{name:s}):r.createElement("span",{className:i.default.text},e.sectionTitle)}l.displayName="EmojiSectionIcon"},debfbiicee:function(e,t,n){"use strict";var r,a=n("chgaccicf"),o=(r=a)&&r.__esModule?r:{default:r};e.exports=(0,o.default)({CHANGE:void 0,MOUNT:void 0,INPUT:void 0})},debjjaigad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PREFERENCE=void 0;var r=n("dcaifjegcg"),a=i(r),o=i(n("jccfhaecf"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=a=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.id=(0,r.prop)(),a.wallpaperColor=(0,r.prop)(),a.saveToCameraRoll=(0,r.prop)(),u(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();s.Collection="ChatPreference",s.Proxy="chatPreference",s.idClass=o.default,s.idWhitelist=["defaultPreference"],t.DEFAULT_PREFERENCE="defaultPreference",t.default=(0,r.defineModel)(s)},decdhbjfjc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t;for(;n>0;)e.modify("extend","backward","character"),n--}},decebhabae:function(e,t){e.exports={muted:"yuE68",attachMenuContainer:"KSY4t",iconsItem:"Ijb1Q"}},decfffijad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("ejbdjaifi"),i=f(n("eceadcicaf")),u=f(n("fagbfehid")),s=f(n("bfidigcji")),l=f(n("dabcbibhcf")),c=f(n("hfcihgigj"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._handleStickerPackPageFetchState=function(e,t){if(!n._unmounted){var r=n.props.index;u.default.pageWithIndex(r)===e&&(t||u.default.fetchAt(r),n.setState({stickerPack:u.default.at(r)}))}},u.default.fetchAt(e.index),n.state={stickerPack:u.default.at(e.index)},n._unmounted=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(u.default,"change:pageFetchStates",this._handleStickerPackPageFetchState)}},{key:"componentWillUnmount",value:function(){this._unmounted=!0}},{key:"render",value:function(){var e=this.state.stickerPack;return e?e.isPlaceholder?a.createElement(l.default,null):e.isFirstParty?a.createElement(s.default,{stickerPack:e}):a.createElement(c.default,{stickerPack:e,mediaData:e.mediaData}):null}}]),t}();d.displayName="StickerPackIconAtIndex",t.default=(0,i.default)((0,o.hoc)(d))},decfjabfdj:function(e,t){e.exports={"-side-margin":"12px",sideMargin:"12px","-emoji-width":"44px",emojiWidth:"44px","-emoji-height":"44px",emojiHeight:"44px",muted:"_3agIN",panel:"_3hIRi",section:"_2ecE7"}},dedgadfgjf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pushname=t.me=t.waNoiseInfo=t.deviceInfo=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("egjjcjcg"),i=(r=o)&&r.__esModule?r:{default:r},u=n("cachbhfie"),s=n("dcbdjheea");function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(){l(this,e)}return a(e,[{key:"get",value:function(){return{osVersion:"0.1",osBuild:"0.1",hardware:"desktop",manufacturer:"",device:"Desktop",lg:"en",lc:"en",mcc:"000",mnc:"000",sim_mnc:"000",sim_mcc:"000"}}}]),e}(),f=(t.deviceInfo=new c,function(){function e(){l(this,e)}return a(e,[{key:"get",value:function(){return(0,u.getNoiseInfo)()}},{key:"set",value:function(e){return(0,u.setNoiseInfo)(e)}}]),e}()),d=(t.waNoiseInfo=new f,function(){function e(){l(this,e)}return a(e,[{key:"get",value:function(){var e=i.default.getMe();if(!e)throw new Error("Invalid me");return e}},{key:"getUser",value:function(){return(0,s.toUserWid)(this.get())}},{key:"set",value:function(e){return i.default.setMe(e)}}]),e}()),p=(t.me=new d,function(){function e(){l(this,e)}return a(e,[{key:"get",value:function(){return"Cordless Web"}}]),e}());t.pushname=new p},dedicfgaca:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("bgddggdhc"),i=l(n("bcifhbgija")),u=l(n("bhaaifddjf")),s=l(n("bdiiahhjbe"));function l(e){return e&&e.__esModule?e:{default:e}}var c=n("ceffhbhahb"),f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.setRefBar=function(t){e.refBar=t},e.onClick=function(t){e.props.onClick&&e.props.onClick(t)},e.onStart=function(t,n){var r=e.refBar&&(0,o.forbiddenAssertDOMNode)(e.refBar);if(r){var a=`-${t/n*100}%`;(0,i.default)(r,"stop"),e.barAnimation=(0,i.default)(r,{translateX:["0%",a]},{duration:t,easing:"linear"})}},e.onPause=function(){var t=e.refBar&&(0,o.forbiddenAssertDOMNode)(e.refBar);(0,i.default)(t,"stop")},e.onEnded=function(){return e.barAnimation?e.barAnimation:Promise.resolve()},s.default.info(`Current index: ${e.props.current}, total count: ${e.props.total}`)(),s.default.assert(e.props.current>=0&&e.props.current<e.props.total,"bad current status v3 index")(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){for(var e=this,t=[],n=`${100/this.props.total}%`,r=function(r){var o=c(u.default.foreground,{[u.default.filled]:r<e.props.current,[u.default.empty]:r>e.props.current,[u.default.active]:r===e.props.current}),i={width:n},s=a.createElement("div",{className:u.default.wrapper,style:i,key:r,onClick:function(){return e.onClick(r)}},a.createElement("div",{className:u.default.bg}),a.createElement("div",{className:u.default.mask},a.createElement("div",{className:o,ref:r===e.props.current?e.setRefBar:function(){}})));t.push(s)},o=0;o<this.props.total;++o)r(o);return a.createElement("div",{className:u.default.container},t)}}]),t}();f.displayName="StatusV3ProgressBar",e.exports=f},dedjffeefj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=p(n("eadfaddcj")),i=p(n("eceadcicaf")),u=p(n("bdiiahhjbe")),s=p(n("bfbggcdbfb")),l=p(n("deagfdiahe")),c=p(n("djgjhgjdcd")),f=p(n("cbjcfbbhja")),d=n("ejbdjaifi");function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=-5,b=[{source:window,name:"focus"},{source:document,name:"wheel"},{source:document,name:"keydown"},{source:document,name:"mouseover"},{source:document,name:"mousemove"},{source:document,name:"click"},{source:document,name:"scroll"}],g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.lastInform=Date.now(),r.lastPageX=-1,r.lastPageY=-1,r.bitArray=null,r.endSession=function(){r.bitArray&&r.bitArray.shipAndEndSession()},r.handleRestore=function(){var e=r.bitArray;e?(r.lastInform=Date.now(),e.update(r.lastInform)):u.default.error("Time Spent Logger not started")()},r.handleEvent=function(e){var t=r.bitArray;if(t){if(e instanceof MouseEvent){if(e.pageX===r.lastPageX&&e.pageY===r.lastPageY&&"click"!==e.type)return;r.lastPageX=e.pageX,r.lastPageY=e.pageY}var n=Date.now(),a=n-r.lastInform;a>0?(r.lastInform=n,t.update(r.lastInform)):a<m&&(r.lastInform=n)}},r.handleUnload=function(){r.bitArray&&(r.bitArray.ship(r.stashLogs),r.bitArray=null)},r.shipLogs=function(e){var t=new s.default.UserActivity({userActivitySessionId:e.sessionId,userActivityStartTime:e.startTime,userActivityBitmapLen:e.bitmapLen,userActivityBitmapLow:e.bitmap[0],userActivitySessionSeq:e.sessionSeq,userActivitySessionCum:e.sessionCum});e.bitmapLen>32&&(t.userActivityBitmapHigh=e.bitmap[1]),t.commit()},r.stashLogs=function(e){for(var t=`${e.bitmap[0]}`,n=1;n<e.bitmap.length;++n)t+=`:${e.bitmap[n]}`;var r=`${e.sessionId}:${e.sessionSeq}:${e.sessionCum}`+`:${e.startTime}:${e.bitmapLen}$${t}`;f.default.permanentStorage.setItem(o.default.KEY_TIME_SPENT_EVENT,r)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=f.default.permanentStorage.getItem(o.default.KEY_TIME_SPENT_EVENT);e&&(this.parseAndShipStashed(e),f.default.permanentStorage.removeItem(o.default.KEY_TIME_SPENT_EVENT));var t=this.props.listeners;this.bitArray=new c.default(this.shipLogs);var n=!l.default||{passive:!0,capture:!0};t.add(window,"beforeunload",this.handleUnload);for(var r=0;r<b.length;++r){var a=b[r],i=a.source,u=a.name;t.add(i,u,this.handleEvent,n)}}},{key:"componentWillUnmount",value:function(){this.bitArray&&(this.bitArray.ship(),this.bitArray=null)}},{key:"parseAndShipStashed",value:function(e){var t,n=e.split("$"),r=(t=n,Array.isArray(t)?t:Array.from(t)),a=r[0],o=r[1];if(!r.slice(2).length&&o)if(5===(a=a.split(":")).length){o=new Int32Array(o.split(":").map(function(e){return Number(e)}));var i={sessionId:a[0],sessionSeq:Number(a[1]),sessionCum:Number(a[2]),startTime:Number(a[3]),bitmapLen:Number(a[4]),bitmap:o};this.shipLogs(i)}else u.default.error("Invalid stashed time spent event")(e);else u.default.error("Invalid stashed time spent event")(e)}},{key:"render",value:function(){return null}}]),t}();g.displayName="TimeSpentLogger",t.default=(0,i.default)((0,d.hoc)(g))},deecfijhbf:function(e,t){e.exports={muted:"_2JcCi",bubble:"CqLtL",isPreview:"_1C-RS",isGallery:"z9Uq5",quote:"_2LeWN",hasAuthor:"dnNr8",vcard:"_3j7-G",author:"_2ohYw",hasQuote:"ahnAe",body:"_1XWux",avatar:"_1t5VN",meta:"_2CQ-C",name:"_3ZVco",image:"_1C4N3"}},defecifdhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULTS=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=u(a),i=u(n("jccfhaecf"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,a.prop)(),r.tag=(0,a.prop)(),r.address=(0,a.prop)(),r.description=(0,a.prop)(),r.vertical=(0,a.prop)(),r.email=(0,a.prop)(),r.website=(0,a.prop)(),r.latitude=(0,a.prop)(),r.longitude=(0,a.prop)(),r.businessHours=(0,a.prop)(),r.catalogStatus=(0,a.prop)(),r.stale=(0,a.session)(!0),s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"markStale",value:function(){this.stale=!0,this.hasObservers()&&this.find()}}]),t}();l.Collection="BusinessProfile",l.Proxy="businessProfile",l.idClass=i.default,t.default=(0,a.defineModel)(l);t.DEFAULTS={address:null,description:null,vertical:null,email:null,website:null}},defeghgfc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("bheebijggd")),i=c(n("bfajhabbdf")),u=c(n("fffdgbfji")),s=n("cjijggjfed"),l=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleClick=function(e){r.props.onClick(r.props.sectionId,e)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e={[o.default.RECENT]:u.default.t(408),[o.default.SMILEYS_PEOPLE]:u.default.t(409),[o.default.ANIMALS_NATURE]:u.default.t(403),[o.default.FOOD_DRINK]:u.default.t(405),[o.default.ACTIVITY]:u.default.t(402),[o.default.TRAVEL_PLACES]:u.default.t(411),[o.default.OBJECTS]:u.default.t(407),[o.default.SYMBOLS]:u.default.t(410),[o.default.FLAGS]:u.default.t(404)},t=this.props.sectionId,n=e[t];return a.createElement(l.default,{onClick:this.props.onClick,sectionId:this.props.sectionId,selected:this.props.selected,theme:s.THEMES.MENU,title:n},a.createElement(i.default,{sectionId:t}))}}]),t}();d.displayName="EmojiSectionTab",t.default=d},degbdgggga:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("bdiiahhjbe")),i=l(n("dbhbjaeieh")),u=l(n("hcfegac")),s=l(n("bcjcbbafcj"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.refVideo=null,r.autoPlayErrorCount=0,r.setRefVideo=function(e){if(e!==r.refVideo&&(r.refVideo&&r.refVideo.removeEventListener("playing",r.onPlaying),r.refVideo=e,e&&("srcObject"in e&&r.props.srcObject?e.srcObject=r.props.srcObject:e.src||o.default.warn("srcObject is not supported in video tag while src is not set.")(),e&&e.addEventListener("playing",r.onPlaying),r.props.autoPlay))){if(e.addEventListener("playing",r.onceAutoplay),e.srcObject)return void r.play();(s.default.isGecko||s.default.isSafari)&&r.props.autoPlay&&e.paused&&r.play()}},r.onceAutoplay=function(e){var t=r.refVideo;if(t&&(t.removeEventListener("playing",r.onceAutoplay),!t.videoHeight||!t.videoWidth)){r.pause(),r.play();r.autoPlayErrorCount<6&&r.autoPlayErrorCount++;var n=void 0;r.autoPlayErrorCount>1&&r.autoPlayErrorCount<6&&(n=`the height and width of the video is not zero, count (larger than 1): ${r.autoPlayErrorCount}`),r.autoPlayErrorCount>=6&&(n=`the height and width of the video is not zero, count larger than ${r.autoPlayErrorCount}`),n&&o.default.assert(!1,"non-zero height and width",n)()}},r.onPlaying=function(e){var t=r.refVideo;t&&(t.paused||null!=t.videoHeight&&t.videoHeight>0&&null!=t.videoWidth&&t.videoWidth>0&&r.props.onPlaying&&r.props.onPlaying())},r.getVolume=function(){return r.refVideo?r.refVideo.volume:0},r.setVolume=function(e){r.refVideo&&(r.refVideo.volume=e)},r.getMuted=function(){return!!r.refVideo&&r.refVideo.muted},r.setMuted=function(e){r.refVideo&&(r.refVideo.muted=e)},r.getPaused=function(){return!r.refVideo||r.refVideo.paused},r.getCurrentTime=function(){return r.refVideo?r.refVideo.currentTime:0},r.setCurrentTime=function(e){r.refVideo&&(r.refVideo.currentTime=e)},r.getDuration=function(){return r.refVideo?r.refVideo.duration:0},r.setDuration=function(e){r.refVideo&&(r.refVideo.duration=e)},r.getBuffered=function(){return r.refVideo?r.refVideo.buffered:null},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"underlyingVideo",value:function(){return this.refVideo}},{key:"play",value:function(){this._play()}},{key:"_play",value:function(){var e=this,t=this.refVideo;return t?t.paused?(t.removeEventListener("playing",this.onPlaying),(0,u.default)(t).then(function(){t&&t.addEventListener("playing",e.onPlaying),e.onPlaying()}).catch(function(n){if(t&&t.addEventListener("playing",e.onPlaying),"AbortError"!==n.name){var r=e.refVideo&&e.refVideo.error&&e.refVideo.error.message?e.refVideo.error.message:"",a=e.refVideo&&e.refVideo.error?e.refVideo.error.code:"";o.default.error(`video.play() promise rejected: ${r} The error code is ${a}.`)(),e.props.onError&&e.props.onError(n)}else o.default.error(`video.play() promise rejected w/ AbortError: ${n.message}, error code: ${n.code}`)()})):Promise.resolve():Promise.reject(new Error("cannot play unmounted video"))}},{key:"pause",value:function(){var e=this.refVideo;e&&(e.paused||e.pause())}},{key:"pauseAndReset",value:function(){var e=this.refVideo;e&&(e.currentTime=0,this.pause())}},{key:"render",value:function(){return a.createElement("video",{ref:this.setRefVideo,autoPlay:this.props.src?this.props.autoPlay:void 0,className:this.props.className?this.props.className:i.default.video,controls:this.props.controls,height:this.props.height,loop:this.props.loop,muted:this.props.muted,poster:this.props.poster,src:this.props.src?this.props.src:void 0,width:this.props.width,onClick:this.props.onClick,onAbort:this.props.onAbort,onCanPlay:this.props.onCanPlay,onCanPlayThrough:this.props.onCanPlayThrough,onDurationChange:this.props.onDurationChange,onEmptied:this.props.onEmptied,onEncrypted:this.props.onEncrypted,onEnded:this.props.onEnded,onError:this.props.onError,onLoadedData:this.props.onLoadedData,onLoadedMetadata:this.props.onLoadedMetadata,onLoadStart:this.props.onLoadStart,onPause:this.props.onPause,onPlay:this.props.onPlay,onProgress:this.props.onProgress,onRateChange:this.props.onRateChange,onSeeked:this.props.onSeeked,onSeeking:this.props.onSeeking,onStalled:this.props.onStalled,onSuspend:this.props.onSuspend,onTimeUpdate:this.props.onTimeUpdate,onVolumeChange:this.props.onVolumeChange,onWaiting:this.props.onWaiting},this.props.children)}}]),t}();f.displayName="BaseVideo",t.default=f},dehacgjjde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PANELS=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("bjbggbjed"),i=d(o),u=d(n("dahicgggee")),s=d(n("bfgbdiffgd")),l=d(n("caffijjhc")),c=d(n("ccaaiecfib")),f=d(n("biahchiahj"));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.PANELS={EMOJI:"EMOJI",GIF:"GIF",STICKER:"STICKER"},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.restoreFocus=function(e){switch(n.props.selectedPanelId){case p.STICKER:n._refStickerPanel&&n._refStickerPanel.restoreFocus();break;case p.GIF:n._refGifPanel&&n._refGifPanel.restoreFocus(e);break;case p.EMOJI:default:n._refEmojiPanel&&n._refEmojiPanel.restoreFocus(e)}},n._setRefEmojiPanel=function(e){n._refEmojiPanel=e},n._setRefGifPanel=function(e){n._refGifPanel=e},n._setRefStickerPanel=function(e){n._refStickerPanel=e},n._handleEmojiPanelDisplayCache=function(e){n._emojiPanelDisplayCache=e,n._triggerDisplayCache()},n._handleEmojiPanelFocusNext=function(){n.props.onPanelChange(p.GIF)},n._handleEmojiPanelFocusPrev=function(){n.props.onFocusRelease()},n._handleGifPanelDisplayCache=function(e){n._gifPanelDisplayCache=e,n._triggerDisplayCache()},n._handleGifPanelFocusNext=function(){s.default.stickers&&c.default.supportsFeature(c.default.F.STICKER_PACK_QUERY)?n.props.onPanelChange(p.STICKER):n.props.onFocusRelease()},n._handleGifPanelFocusPrev=function(){n.props.onPanelChange(p.EMOJI)},n._handleRequestFocus=function(){n.restoreFocus(!1)},n._handleStickerPanelDisplayCache=function(e){n._stickerPanelDisplayCache=e,n._triggerDisplayCache()},n._handleStickerPanelFocusNext=function(){n.props.onFocusRelease()},n._handleStickerPanelFocusPrev=function(){n.props.onPanelChange(p.GIF)},e.displayCache&&(n._emojiPanelDisplayCache=e.displayCache.emojiPanel,n._gifPanelDisplayCache=e.displayCache.gifPanel),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"_triggerDisplayCache",value:function(){this.props.onDisplayCache&&this.props.onDisplayCache({emojiPanel:this._emojiPanelDisplayCache,gifPanel:this._gifPanelDisplayCache,stickerPanel:this._stickerPanelDisplayCache})}},{key:"render",value:function(){var e=null;switch(this.props.selectedPanelId){case p.STICKER:e=a.createElement(f.default,{ref:this._setRefStickerPanel,displayCache:this._stickerPanelDisplayCache,onDisplayCache:this._handleStickerPanelDisplayCache,onFocusPrev:this._handleStickerPanelFocusPrev,onFocusNext:this._handleStickerPanelFocusNext,onSticker:this.props.onSticker});break;case p.EMOJI:default:e=a.createElement(i.default,{ref:this._setRefEmojiPanel,displayCache:this._emojiPanelDisplayCache,width:this.props.width,displayLocation:o.DISP_LOCATION.COMPOSE_BOX,onDisplayCache:this._handleEmojiPanelDisplayCache,onEmoji:this.props.onEmoji,onFocusPrev:this._handleEmojiPanelFocusPrev,onFocusNext:this._handleEmojiPanelFocusNext});break;case p.GIF:e=a.createElement(u.default,{ref:this._setRefGifPanel,displayCache:this._gifPanelDisplayCache,onDisplayCache:this._handleGifPanelDisplayCache,onFocusRelease:this.props.onFocusRelease,onFocusNext:this._handleGifPanelFocusNext,onFocusPrev:this._handleGifPanelFocusPrev,onGif:this.props.onGif})}return a.createElement(l.default,{displayName:"ComposeBoxPanels",escapable:!0,requestDismiss:this.props.requestDismiss,requestFocus:this._handleRequestFocus},e)}}]),t}();h.displayName="ComposeBoxPanels",t.default=h},dehfhdefdi:function(e,t){e.exports={muted:"z589f",body:"_3UbnA",vcardWrapper:"WOXAS",btnContainer:"_21bWq",btnPosition:"_1ecLP"}},deibcghej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AlbumPosition={TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT",BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM_RIGHT:"BOTTOM_RIGHT"}},deibgadgic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n("ddhijeejag")),o=s(n("dbbbgjbbgf")),i=s(n("fifhbjiec")),u=s(n("cefjbaedhh"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.msg;return e.hsmEnabled&&e.footer?a.default.createElement(o.default,{className:u.default.footer,spacer:!0,msg:e},a.default.createElement(i.default,{text:e.footer,dirMismatch:e.rtl!==l10n.isRTL(),direction:e.dir,selectable:!0})):null}}]),t}();l.displayName="TemplateMessageFooter",t.default=l},deifjeacc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("ceffhbhahb")),i=h(n("effbcehec")),u=h(n("ihfccfgdf")),s=n("ejbdjaifi"),l=h(n("bfdcadbbif")),c=h(n("cdaddeffii")),f=h(n("eadfaddcj")),d=n("ciajafaaie"),p=h(n("ebcagbhefg"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b="FRONT",g="SINGLE",v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.setRefContext=function(e){return r.refContext=e},r.handleMouseDown=function(e){e.stopPropagation(),e.preventDefault(),r.props.onToggle(e.target)},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"handleClick",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.position,r=e.isGroupedSticker,u=t.isSentByMe,s=t.isGroupMsg,h=t.type,m=t.subtype,v=!!t.quotedMsg,y=!t.quotedMsg&&t.quotedRemoteJid,_=t.showForwarded(),E=y?null:u?c.default.contextOut:c.default.contextIn,j=(h===f.default.MSG_TYPE.DOCUMENT||h===f.default.MSG_TYPE.TEMPLATE&&m===f.default.TEMPLATE_SUBTYPE.DOCUMENT)&&!t.body,O=(h===f.default.MSG_TYPE.DOCUMENT||h===f.default.MSG_TYPE.TEMPLATE&&m===f.default.TEMPLATE_SUBTYPE.DOCUMENT)&&t.body,S=h===f.default.MSG_TYPE.LOCATION||h===f.default.MSG_TYPE.TEMPLATE&&m===f.default.TEMPLATE_SUBTYPE.LOCATION,w=t.linkPreview&&(0,d.isParsableOnlineVideoURL)(t.richPreviewType,t.matchedText),P=t.isMedia&&h!==f.default.MSG_TYPE.AUDIO||O||S||v||h===f.default.MSG_TYPE.PAYMENT||w||h===f.default.MSG_TYPE.PRODUCT,M=!1;s&&(M=!u&&(n===b||n===g||v||P));var C=t.getSuspiciousLinks().length>0;P=P&&!M&&!C&&!_;var T=h===f.default.MSG_TYPE.CHAT&&t.linkPreview&&!w&&!M&&!_&&!C&&t.isTrusted(),A=(0,o.default)(P?c.default.contextIconMedia:c.default.contextIcon),N=h===f.default.MSG_TYPE.PTT||h===f.default.MSG_TYPE.AUDIO,k=t.type===f.default.MSG_TYPE.MULTI_VCARD&&!v&&!M&&!_,I=h===f.default.MSG_TYPE.GROUPS_V4_INVITE,R=(T||j||I)&&!M&&!_&&!v,L=h===f.default.MSG_TYPE.STICKER&&!v&&(r||!t.isGroupMsg||t.isGroupMsg&&t.isSentByMe),D=void 0,x=void 0;if(L){var U=p.default.get("defaultPreference"),G=U?U.wallpaperColor:f.default.WALLPAPER_COLOR[0],F={backgroundColor:G,opacity:.9};x=a.createElement("div",{className:c.default.badge,style:F}),D=f.default.INVERT_TRANSPARENT_CONTEXT[G]}var B=!(h!==f.default.MSG_TYPE.CHAT||v||M||_||w||!t.dir||t.rtl===l10n.isRTL()),$=(h===f.default.MSG_TYPE.PTT||h===f.default.MSG_TYPE.AUDIO)&&l10n.isRTL()&&t.isSentByMe,V=(0,o.default)(E,P?l10n.isRTL()?c.default.contextMediaRtl:c.default.contextMediaLtr:null,{[c.default.context]:!(P||T)||R,[c.default.contextMedia]:P,[c.default.contextPtt]:N&&!v&&!M,[c.default.contextPttFix]:N&&M,[c.default.contextSpecial]:R,[c.default.contextDoc]:j&&!M&&!_&&!v,[c.default.contextMediaDocument]:O,[c.default.contextMultiVcard]:k,[c.default.contextInverse]:B||$,[c.default.contextStickerAuthor]:h===f.default.MSG_TYPE.STICKER&&!L,[c.default.contextStickerTransparent]:L,[c.default.contextStickerInverse]:L&&D});return a.createElement("div",{className:V},a.createElement("div",{"data-a8n":i.default.key("icon-down-context"),"data-js-context-icon":!0,className:A,ref:this.setRefContext,onMouseDown:this.handleMouseDown,onClick:this.handleClick},a.createElement(l.default,{name:"down-context",color:P?"white":null})),x)}}]),t}();v.CONCERNS={msg:["linkPreview","matchedText","dir","rtl","isMedia","isSentByMe","isGroupMsg","type","quotedMsg","body","quotedRemoteJid","richPreviewType","subtype"]},v.displayName="Menu",t.default=(0,u.default)((0,s.hoc)(v),v.CONCERNS)},deijdcaadj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addListeners=function(e,n,r){t._onStart=e,t._onPause=n,t._onEnded=r},this.setVideo=function(e,n){t._video=e,t._video.addEventListener("playing",t._onPlayingHandler),t._video.addEventListener("pause",t._onPauseHandler),t._video.addEventListener("ended",t._onEndedHandler)},this.play=function(){t._video&&t._video.play()},this.pause=function(){t._video&&!t._video.paused&&t._video.pause()},this.resume=function(){t._video&&t._video.play()},this.stop=function(){t._video&&!t._video.paused&&t._video.pause()},this._onPlayingHandler=function(){var e=t._onStart;e&&e(1e3*(t._video.duration-t._video.currentTime),1e3*t._video.duration)},this._onPauseHandler=function(){var e=t._onPause;e&&e()},this._onEndedHandler=function(){var e=t._onEnded;e&&e()},this.removeListeners=function(){t._onStart=void 0,t._onPause=void 0,t._onEnded=void 0}}return r(e,[{key:"duration",get:function(){return 1e3*this._video.duration}}]),e}();t.default=a},dejbbcaghh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canBeGroupedAsAlbum=function(e,t){return(e.isGroupMsg?a.default.equals(e.author,t.author):a.default.equals(e.from,t.from))&&t.t-e.t<=r.default.ALBUM_DIFF_INTERVAL},t.canBeGroupedWithNext=function(e,t){return!e.isNotification&&!t.isNotification&&(e.isGroupMsg?a.default.equals(e.author,t.author):a.default.equals(e.from,t.from))};var r=o(n("eadfaddcj")),a=o(n("jccfhaecf"));function o(e){return e&&e.__esModule?e:{default:e}}},dejcdgeeje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=M(n("ecahagbbfh")),i=M(n("ejeidfcga")),u=M(n("eihefeaje")),s=M(n("hehdicceb")),l=M(n("cjcaccbiih")),c=M(n("dhhfaeacef")),f=M(n("dfjgdebjfa")),d=M(n("ffebdchi")),p=M(n("gbfffciea")),h=M(n("bhheahajjg")),m=M(n("bfejacaeaj")),b=M(n("dcjdgceiej")),g=n("bhfdfhefca"),v=M(n("fbjjefaic")),y=M(n("eceadcicaf")),_=M(n("bjbedjfe")),E=M(n("ihfccfgdf")),j=n("ejbdjaifi"),O=n("bheafeifce"),S=M(n("bfdjgcjbeh")),w=M(n("bfdcadbbif")),P=M(n("djiejaiah"));function M(e){return e&&e.__esModule?e:{default:e}}var C=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.isListeningForMove=!1,e.didDrag=!1,e.setRef=function(t){e.ref=t,e.props.onRef(t)},e.onWindowFocus=function(){},e.onMouseDown=function(e){},e.onDrag=function(t){e.didDrag=!0},e.onClickCapture=function(e){},e.onInfoPanel=function(){var t=e.props.chat;!t.isPSA&&(t.isUser||t.isBroadcast||t.isGroup)&&p.default.openDrawerRight(a.createElement(f.default,{chat:(0,O.unproxy)(t),key:`info-${t.id.toString()}`}),"slide-left",e.context.uim)},e.checkForDrawerMid=function(e){p.default.existsDrawerMid(function(t){t&&e.preventDefault()})},e.onChatSearch=function(t){t.preventDefault();var n=e.props.chat;p.default.openDrawerRight(a.createElement(d.default,{chat:(0,O.unproxy)(n),key:`chat-search-${n.id.toString()}`}),"slide-left",e.context.uim)},e.state={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.props.chat,t=void 0,r=void 0;if(e.isUser)t=a.createElement(S.default,{chat:e,contact:e.contact,onSelectMessages:this.props.onSelectMessages}),r=a.createElement(l.default,{contact:e.contact,presence:e.presence,chatstate:e.presence.chatstate,placeholder:l10n.t(305),location:"title"});else if(e.isBroadcast)t=a.createElement(i.default,{chat:(0,O.unproxy)(e),onSelectMessages:this.props.onSelectMessages}),r=null;else if(e.isGroup){t=a.createElement(s.default,{chat:(0,O.unproxy)(e),onSelectMessages:this.props.onSelectMessages});var f=e.groupMetadata&&e.groupMetadata.participants&&e.groupMetadata.participants.iAmAdmin()&&e.groupMetadata.announce?l10n.t(176):l10n.t(304);r=a.createElement(u.default,{chatstate:e.presence.chatstate,groupMetadata:e.groupMetadata,presence:e.presence,placeholder:f,location:"title"})}var d=n("ccaaiecfib"),p=d.supportsFeature(d.F.FTS_IN_CONV)?a.createElement(g.MenuBarItem,{a8nText:"search-button",icon:a.createElement(w.default,{name:"search-alt"}),title:l10n.t(932),onClick:this.onChatSearch}):null,m=this.props.canAttach?a.createElement(o.default,{chat:(0,O.unproxy)(e),getComposeContents:this.props.getComposeContents,onMenuComplete:this.props.onMenuComplete}):null;return e.isPSA&&(r=null),a.createElement("header",{ref:this.setRef,className:P.default.chatHeader,onClickCapture:this.onClickCapture,onMouseDown:this.onMouseDown},a.createElement("div",{className:P.default.chatAvatar,onClick:this.onInfoPanel,role:e.isPSA?null:"button"},a.createElement(c.default,{id:e.id,size:40})),a.createElement("div",{className:P.default.chatBody,onClick:this.onInfoPanel,role:e.isPSA?null:"button"},a.createElement("div",{className:P.default.chatMain},a.createElement("div",{className:P.default.chatTitle},a.createElement(h.default,{chat:e,titlify:!0,ellipsify:!0,showBusinessCheckmark:!0}))),r),a.createElement("div",{className:P.default.chatControls},a.createElement(g.MenuBar,{key:"conversation-header"},p,m,a.createElement(g.MenuBarItem,{a8nText:"conversation-menu",icon:a.createElement(w.default,{name:"menu"}),title:l10n.t(669),onClick:this.checkForDrawerMid},t))))}}]),t}();C.contextTypes={uim:m.default.instanceOf(b.default)},C.CONCERNS={chat:["id","formattedTitle","presence","isUser","isGroup","isBroadcast","groupMetadata","isPSA","contact"]},C.displayName="ConversationHeader",t.default=(0,v.default)((0,y.default)((0,_.default)((0,E.default)((0,j.hoc)(C),C.CONCERNS))))},dejeiggfhi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={encFilehash:e.encFilehash,type:e.type};return r.default.log("mmsCheckIfUploadExists: start",t)(),(0,a.default)(e).then(function(e){if("complete"!==e.resume)throw new o.MediaNotFoundError("mmsCheckIfUploadExists");if(!e.directPath)throw new o.HttpInvalidResponseError("mmsCheckIfUploadExists: missing directPath");if(!e.url)throw new o.HttpInvalidResponseError("mmsCheckIfUploadExists: missing url");return{directPath:e.directPath,url:e.url}}).then(function(e){return r.default.log("mmsCheckIfUploadExists: success",t)(),e}).catch(function(e){throw e instanceof o.MediaNotFoundError?r.default.log("mmsCheckIfUploadExists: expected error",t,e)():r.default.error("mmsCheckIfUploadExists: error",t,e)(),e})};var r=i(n("bdiiahhjbe")),a=i(n("bgfebdjaae")),o=n("fgeddfbg");function i(e){return e&&e.__esModule?e:{default:e}}},dejgiicjih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("chdbdhafaj");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},dfabffebdg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=b(n("ceffhbhahb")),i=n("deibcghej"),u=n("eadfaddcj"),s=n("ejbdjaifi"),l=n("dhccihecch"),c=b(l),f=b(n("dbgefjefac")),d=b(n("bfhcddbbhg")),p=b(n("eedjbihej")),h=b(n("gbfffciea")),m=b(n("eceadcicaf"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(){var e,n,r;g(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.addRevokeListener=function(){r.props.listeners.add(r.props.msg,"change:isRevoked",r.handleRevoke)},r.handleRevoke=function(){h.default.refreshMessages()},v(r,n)}return y(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.addRevokeListener()}},{key:"componentDidUpdate",value:function(e){this.props.msg.id.equals(e.msg.id)||(this.props.listeners.remove(e.msg,"change:isRevoked",this.handleRevoke),this.addRevokeListener())}},{key:"getRef",value:function(){return this.ref}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.albumMsgs,r=e.albumPosition,h=e.isMsgVisible,m=e.zoomMsg,b=e.numAdditionalMedia,g=(0,o.default)({[d.default.albumTopLeft]:r===i.AlbumPosition.TOP_LEFT,[d.default.albumTopRight]:r===i.AlbumPosition.TOP_RIGHT,[d.default.albumBottomLeft]:r===i.AlbumPosition.BOTTOM_LEFT,[d.default.albumBottomRight]:r===i.AlbumPosition.BOTTOM_RIGHT}),v=void 0;null!=b&&0!==b&&(v=a.createElement(p.default,{theme:"large",className:(0,o.default)(d.default.numberText)},l10n.t(820,{number:b})));var y=void 0;if(t.type===u.MSG_TYPE.IMAGE)y=a.createElement(c.default,{theme:l.THEMES.ALBUM,albumMsgs:n,msg:t,mediaData:t.mediaData,ref:(0,s.GetRef)("ref",this),isMsgVisible:h,zoomMsg:m,overlayContent:v});else{if(t.type!==u.MSG_TYPE.VIDEO)throw new Error("Unexpected Album Type: "+t.type);y=a.createElement(f.default,{theme:l.THEMES.ALBUM,albumMsgs:n,msg:t,mediaData:t.mediaData,ref:(0,s.GetRef)("ref",this),zoomMsg:m,overlayContent:v})}return a.createElement("div",{className:d.default.albumGridClass},a.createElement("div",{className:g},y))}}]),t}();_.displayName="AlbumGrid";var E=(0,m.default)((0,s.hoc)(_)),j=function(e){function t(){var e,n,r;g(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.getRef=function(){return r.getComponent().getRef()},v(r,n)}return y(t,E),t}();t.default=j},dfaebdhdda:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("geiiceahh")),i=s(n("bhhdiiaihb")),u=s(n("ceggedffg"));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,i.default)("_"),c=(0,u.default)(/(?:^|[\s\W_])~(\S|\S[^\n]*?\S)~(?=$|[[\s\W_])/g,1,l),f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),r(t,null,[{key:"jsx",value:function(e,t,n){var r=n.selectable;return a.createElement(o.default,{selectable:r},e)}}]),t}();t.default=f},dfafdjbjfd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=l(n("cjhcbjdgc")),u=l(n("baaaeiafec")),s=l(n("cdbddjfbcd"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=i.default.prefix("transform"),d=i.default.prefix("transition"),p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={shouldAnimate:!0,prevItemKey:null,prevRowOffset:null},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.animate!==e.animate||this.props.zIndex!=this.props.zIndex||this.props.renderItem!==e.renderItem||this.state.shouldAnimate!==t.shouldAnimate||!(0,s.default)(this.props.data,e.data)}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.zIndex,r=t.height,a=t.offset,i=this.state.shouldAnimate,s={zIndex:n,height:r,[f]:`translateY(${a}px)`,[d]:i?`${f} 200ms ease-in-out`:"none"},l=this.props.renderItem(t);return o.createElement("div",{className:u.default.item,style:s},l)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return r({},t,{prevItemKey:e.data.itemKey,prevRowOffset:e.data.offset,shouldAnimate:h(e,t)})}}]),t}();function h(e,t){if(!e.animate)return!1;var n=t.prevItemKey;return e.data.itemKey===n&&e.data.offset!==t.prevRowOffset}p.displayName="ListItem",t.default=p},dfbbbjdejj:function(e,t){e.exports={muted:"_1lzL5",avatar:"_2Z5XD",avatarDefault:"_3Vh6k",avatarImage:"o7roc",isLoaded:"_1Ve1Q"}},dfbbghiidh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onIsBusinessChange=function(e){var t=(0,a.unproxy)(e),n=t.isBusiness,r=t.businessProfile,o=t.id;n&&!r?t.addChild("businessProfile",i.default.BusinessProfile.gadd(o)):!n&&r&&(t.stopListening(r),t.businessProfile=void 0,r.delete())};var r,a=n("bheafeifce"),o=n("bhggeigghg"),i=(r=o)&&r.__esModule?r:{default:r}},dfbcaibdjh:function(e,t){e.exports={muted:"R1PVR",empty:"_13U-5",emptyTop:"_2dEsb",compact:"_1EZrc",icon:"_1i7uJ",title:"_1qGyP",text:"_3dwyT",spinner:"_334hl",action:"_32ACA"}},dfbccdiiii:function(e,t){e.exports={muted:"hdqm0",button:"_1f9br",fullscreen:"_3ffkZ"}},dfbhcehadj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("cgcgbfbffj"),o=s(a),i=s(n("djegeegcbf")),u=s(n("eaejdgfgif"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"setVariant",value:function(e,t){var n=i.default.skinToneEmojis[e];if(!n)throw new Error("attempt to store variantless emoji");this.gadd({id:n,variant:t})}},{key:"getVariant",value:function(e){if(i.default.skinToneEmojis[e]){var t=this.get(e);return t?t.variant:null}throw new Error("attempt to get variantless emoji")}},{key:"getVariantIfExists",value:function(e){if(i.default.skinToneEmojis[e]){var t=this.get(e);return t?t.variant:null}return null}}]),t}();l.model=u.default,l.cachePolicy={id:"emoji_variant_collection",policy:a.CACHE_POLICY.LOAD,delay:1e3},t.default=new l},dfcdejcheh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("dbdfbgehgj")),i=n("bgddggdhc"),u=m(n("gbfffciea")),s=m(n("ebcfjdcbhh")),l=m(n("bbhhbdicgc")),c=m(n("dhfbfehaef")),f=m(n("dcjdgceiej")),d=m(n("bfejacaeaj")),p=m(n("bifahbdaeg")),h=m(n("ecgfaicjah"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,c=Array(l),f=0;f<l;f++)c[f]=arguments[f];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r._listPointerEvents=!0,r.onListPointerEventsOff=function(){r._listPointerEvents=!1},r.onListPointerEventsOn=function(){r._listPointerEvents=!0},r.onClick=function(e,t,n){e.preventDefault(),e.stopPropagation(),o.default.find(t.id).then(function(e){2===s.default.column&&r.context.uim.uie.requestDismiss(),u.default.focusChatTextInput(e),u.default.openChatAt(e,n)})},r.getSelection=function(){return r.props.ftsResult||[]},r.renderItem=function(e){var t=e.msg;return t.sender&&t.isGroupMsg&&!t.isNotification&&!t.isSentByMe?a.createElement(h.default,{contact:t.senderObj,msg:t,chat:t.chat,searchText:r.props.searchText,onClick:r.onClick,active:r.props.selection,key:t.id.toString()}):a.createElement(p.default,{msg:t,chat:t.chat,searchText:r.props.searchText,onClick:r.onClick,active:r.props.selection,key:t.id.toString()})},r.restoreFocus=function(){r.props.selection.reset(!0)},r.onFocusGain=function(e){e.target===(0,i.forbiddenAssertDOMNode)(r)&&r._listPointerEvents&&(r.props.selection.index<0?r.focusFirst():r.props.selection.reset(!0))},r.focusFirst=function(){r.props.selection.setFirst(!0)},r.onNextChat=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=r.props.selection.next();r.props.selection.index!==t&&r.props.selection.setNext(!0)},r.onPrevChat=function(e){e&&(e.stopPropagation(),e.preventDefault()),r.props.selection.prev()>-1?r.props.selection.setPrev(!0):r.props.onFocusSearch()},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.selection.init(this.getSelection())}},{key:"getData",value:function(){return this.props.ftsResult.map(function(e){return{itemKey:e.id.toString(),msg:e}})}},{key:"render",value:function(){var e=this,t={down:function(t){return e.onNextChat(t)},up:function(t){return e.onPrevChat(t)}};return a.createElement(c.default,{handlers:t,onFocus:this.onFocusGain,"data-tab":3},a.createElement(l.default,{flatListController:this.props.flatListController,data:this.getData(),renderItem:this.renderItem,forceConsistentRenderCount:!1}))}}]),t}();g.contextTypes={uim:d.default.instanceOf(f.default)},g.displayName="MsgList",t.default=g},dfcggebdjj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmojiEl=function(e){return!!e&&e instanceof HTMLElement&&!!e.dataset[p]};var r=u(n("ceffhbhahb")),a=u(n("gbfffciea")),o=u(n("djegeegcbf")),i=n("eagfdbhhhh");function u(e){return e&&e.__esModule?e:{default:e}}var s=o.default.emojiRegex,l=o.default.getEmojiFromUnicode,c=n("eadfaddcj").ONE_BY_ONE_TRANS_GIF,f=n("debfbiicee"),d=s(),p="isEmoji",h=!1;var m={serializers:[["img.emoji",function(e){return e.getAttribute("alt")||""}]],parsers:[function(e){return e.replace("","")},function(e){return e.replace(d,function(e,t){var n=function(e){var t=l(e);if(!t)return null;var n=(0,i.createSelectableElement)("img",e);return n.setAttribute("alt",e),n.setAttribute("draggable","false"),n.setAttribute("class",(0,r.default)(n.getAttribute("class"),o.default.getClasses(t))),Object.assign(n.style,o.default.getStyle(t)),n.setAttribute("src",c),n.dataset[p]="true",n}(t);return n?n.outerHTML:""})}],hooks:{[f.MOUNT](){h||(h=!0,new Promise(function(e){0===a.default.uiBusy&&e(),a.default.once("ui_idle",function(){e()})}).delay(0).then(function(){document.execCommand("enableObjectResizing",!1,!1)}).catch(function(){}))}},handlers:{onBeforeInput(e,t){var n=e.data,r=d.exec(n);return!!r&&(t.replaceSelection(r[0]),!0)},onClick(e){if(!e.target)return!1;var t=e.target.getAttribute("class");if(!t||!~t.indexOf("emoji"))return!1;var n=window.getSelection(),r=new Range;return e.pageX<e.target.x+e.target.width/2?(r.setStartBefore(e.target),r.setEndBefore(e.target)):(r.setStartAfter(e.target),r.setEndAfter(e.target)),n.removeAllRanges(),n.addRange(r),!0}}};t.default=m},dfcihdhibf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("dhfbfehaef")),i=s(n("bdjihaecid")),u=s(n("faeabghda"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._stickerItems=new Map,r._setRefContainer=function(e){r._refContainer=e},r._handleStickerArrowDown=function(e){e.stopPropagation(),e.preventDefault();var t=r._getActiveStickerItemIndex(),n=r._getNumCols(),a=Math.min(t+n,r._stickerItems.size-1);Math.floor(t/n)!==Math.floor(a/n)&&r._incActiveIndex(n)},r._handleStickerArrowLeft=function(e){e.stopPropagation(),e.preventDefault(),r._decActiveIndex(1)},r._handleStickerArrowRight=function(e){e.stopPropagation(),e.preventDefault(),r._incActiveIndex(1)},r._handleStickerArrowUp=function(e){e.stopPropagation(),e.preventDefault(),r._decActiveIndex(r._getNumCols())},r._handleScroll=function(e){r.props.onScroll&&r._refContainer&&r.props.onScroll(r._refContainer.scrollTop)},r._setRefContainer=function(e){r._refContainer=e},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"focus",value:function(e){var t=e||0;t=Math.min(t,this._stickerItems.size),t=Math.max(t,0);var n=this._stickerItems.get(t);n&&n.focus()}},{key:"scrollToTop",value:function(){this._refContainer&&(this._refContainer.scrollTop=0)}},{key:"_decActiveIndex",value:function(e){this._incActiveIndex(0-e)}},{key:"_getActiveStickerItemIndex",value:function(){for(var e=this._stickerItems.size,t=0;t<e;t++){var n=this._stickerItems.get(t);if(n&&n.hasFocus())return t}return-1}},{key:"_getNumCols",value:function(){var e=this._stickerItems.get(0);if(!e)return 0;for(var t=e.getOffsetTop(),n=this._stickerItems.size,r=0;r<n;r++){var a=this._stickerItems.get(r);if(a&&a.getOffsetTop()!==t)return r}return this._stickerItems.size}},{key:"_incActiveIndex",value:function(e){if(0!==e){var t=this._getActiveStickerItemIndex();if(-1!==t){var n=t+e;if(n<0){if(!this.props.onFocusPrev)return;this.props.onFocusPrev()}else{n=Math.min(n,this._stickerItems.size-1);var r=this._stickerItems.get(n);r&&r.focus()}}}}},{key:"_renderStickers",value:function(){var e=this;return this.props.stickers.map(function(t,n){return a.createElement(i.default,{key:t.id,onClick:e.props.onStickerClick,onEnter:e.props.onStickerEnter,ref:function(t){t?e._stickerItems.set(n,t):e._stickerItems.delete(n)},sticker:t})})}},{key:"render",value:function(){return a.createElement(o.default,{onRef:this._setRefContainer,className:u.default.container,handlers:{up:this._handleStickerArrowUp,down:this._handleStickerArrowDown,left:this._handleStickerArrowLeft,right:this._handleStickerArrowRight},onScroll:this._handleScroll},this._renderStickers())}}]),t}();c.displayName="StickersScrollGridPresentational",t.default=c},dfdebdgdei:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blockContact=function(e){return d((0,c.unproxy)(e),!0)},t.unblockContact=function(e){return d((0,c.unproxy)(e),!1)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("ccihhdchab"),o=n("eafejccch"),i=f(n("bgfcjjddjf")),u=f(n("gbfffciea")),s=n("ddjgcfjicj"),l=f(n("bdiiahhjbe")),c=n("bheafeifce");function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){var c=e.id,f=e.isBlocked();if(t&&f||!t&&!f)return Promise.resolve();var p=(0,o.sendSetBlock)(t,c).then(function(e){e&&(t?i.default.add({id:c}):i.default.remove(c))});return function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,a.genId)(),i={participant:e.formattedName},c=n?new a.ActionType(l10n.t(7,i)):new a.ActionType(l10n.t(155,i)),f=t.then(function(){var t=n?l10n.t(6,i):l10n.t(154,i);return new a.ActionType(t,l10n.t(156),function(){return d(e,!n,o)})}).catch(function(t){if(!(t instanceof s.ServerStatusCodeError)){l.default.error("action:setBlock dropped")(t);var r=n?l10n.t(5,i):l10n.t(153,i),u=new a.ActionType(r,l10n.t(152),function(){return d(e,n,o)});return Promise.reject(u)}if(t.statusCode>=400){var c=n?new a.ActionType(l10n.t(5,i)):new a.ActionType(l10n.t(153,i));return Promise.reject(c)}});u.default.openToast(r.createElement(a.ActionToast,{id:o,initialAction:c,pendingAction:f}))}(e,p,t,n),p}},dfdhiegfdi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLiveLocation=function(e,t){var n=(0,r.unproxy)(e);n.liveLocations||(n.liveLocations=[]);n.liveLocations.push(t)},t.removeLiveLocation=function(e,t){var n=(0,r.unproxy)(e),a=n.liveLocations;if(!a)return;for(var o=a.length-1;o>=0;o--)if(a[o]===t){a.splice(o,1);break}0===a.length&&(n.liveLocations=null)};var r=n("bheafeifce")},dfdjejggdf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PROFILE_PIC_COMMAND=Object.freeze({REMOVE:"remove",SET:"set"})},dfeecdfijg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("ceffhbhahb")),i=n("ejbdjaifi"),u=f(n("bfgbdiffgd")),s=f(n("ihfccfgdf")),l=f(n("dhbejdh")),c=f(n("bfdcadbbif"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.className;if(!t.showForwarded())return null;var r=u.default.frequentlyForwardedMessages&&t.isFrequentlyForwarded?"highly-forwarded":"forwarded";return a.createElement("div",{className:(0,o.default)(l.default.container,n)},a.createElement(c.default,{name:r,display:"inline"}),a.createElement("span",{className:l.default.text},l10n.t(434)))}}]),t}();d.CONCERNS={msg:["isForwarded","forwardingScore","numTimesForwarded","isFrequentlyForwarded"]},d.displayName="ForwardedIndicator",t.default=(0,s.default)((0,i.hoc)(d),d.CONCERNS)},dfehedcfdb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("bhhdiiaihb")),i=s(n("ceggedffg")),u=s(n("hadecdfeb"));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,o.default)("_"),c=(0,i.default)(/(?:^|\s|_|[^\w\\])_(\S|\S[^\n]*?\S)_(?=$|[[\s\W_])/g,1,l),f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),r(t,null,[{key:"jsx",value:function(e,t,n){var r=n.selectable,o=void 0!==r&&r;return a.createElement(u.default,{selectable:o},e)}}]),t}();t.default=f},dfeigdcjhi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=_[e];if(!t)return;try{t()}catch(t){l.default.error(`keyboard:error occurred running action ${e}.`,t)()}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=y(n("dieejegcge")),o=y(n("dbdfbgehgj")),i=y(n("gbfffciea")),u=y(n("biddiiafgd")),s=y(n("bjigbaghc")),l=y(n("bdiiahhjbe")),c=y(n("biecbbiiee")),f=y(n("icadbbfej")),d=y(n("daijadgha")),p=y(n("bajidgjehj")),h=y(n("dhefcajhhb")),m=y(n("bfebbjhgbh")),b=y(n("icaahcghc")),g=y(n("eaaehfdjdg")),v=y(n("gbbacfeci"));function y(e){return e&&e.__esModule?e:{default:e}}var _={[a.default.CONTACT_US]:function(){i.default.openModal(r.createElement(m.default,null))},[a.default.DELETE_OR_EXIT_CHAT]:function(){var e=E();e&&i.default.deleteOrExitChat(e)},[a.default.GO_TO_NEXT_CHAT]:function(){i.default.focusNextChat(!0)},[a.default.GO_TO_PREV_CHAT]:function(){i.default.focusPrevChat(!0)},[a.default.LOGOUT]:function(){if(!c.default.some(function(e){return 0===e.ack&&e.local&&e.isSentByMe}))return g.default.logout();i.default.openModal(r.createElement(u.default,{title:l10n.t(324),onOK:function(){return g.default.logout()},okText:l10n.t(658),onCancel:function(){return i.default.closeModal()},cancelText:l10n.t(1091)},l10n.t(985)))},[a.default.OPEN_NEW_CHAT]:function(){i.default.existsDrawerLeft(function(e){e&&i.default.closeDrawerLeft(),i.default.openDrawerLeft(r.createElement(f.default,null))})},[a.default.OPEN_NEW_GROUP]:function(){i.default.existsDrawerLeft(function(e){e&&i.default.closeDrawerLeft(),i.default.openDrawerLeft(r.createElement(d.default,null))})},[a.default.OPEN_PROFILE]:function(){i.default.existsDrawerLeft(function(e){e&&i.default.closeDrawerLeft();var t=v.default.assertGet(s.default.me),n=h.default.assertGet(s.default.me);i.default.openDrawerLeft(r.createElement(p.default,{status:t,profilePicThumb:n,conn:s.default}))})},[a.default.OPEN_SETTINGS]:function(){i.default.existsDrawerLeft(function(e){e&&i.default.closeDrawerLeft(),i.default.openDrawerLeft(r.createElement(b.default,null))})},[a.default.SEARCH]:function(){i.default.focusChatSearch()},[a.default.SEARCH_IN_CHAT]:function(){var e=E();e&&i.default.chatSearch(e)},[a.default.TOGGLE_ARCHIVE]:function(){var e=E();if(e&&e.canArchive()){var t=e.archive;i.default.archiveChat(e,!t)}},[a.default.TOGGLE_MUTE]:function(){var e=E();if(e&&e.mute.canMute()){var t=e.mute.isMuted;i.default.muteChat(e,!t)}},[a.default.TOGGLE_UNREAD]:function(){var e=E();if(e){var t=e.markedUnread;i.default.markChatUnread(e,!t)}},[a.default.ZOOM_IN]:function(){},[a.default.ZOOM_OUT]:function(){},[a.default.ZOOM_RESET]:function(){}};function E(){var e=o.default.filter(function(e){return e.active});return e.length?e[0]:void 0}},dffedeegcb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createGroup=function(e,t,n,r){return function e(t,n,r,s){var f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,o.genId)();var b=s.map(function(e){return e.id});var g=void 0;var y=(0,l.sendCreateGroup)(t,b,g,(0,m.default)(),!1,!1);var _=new o.ActionType(l10n.t(55));var E=y.then(function(e){return v(e,t,g),new o.ActionType(l10n.t(54))}).catch(c.ServerStatusCodeError,function(e){return 406===e.status?new o.ActionType(l10n.t(50)+" "+l10n.t(51)):429===e.status?new o.ActionType(l10n.t(50)+" "+l10n.t(52)):void 0}).catch(function(a){return d.default.error("models:chatCollection:createGroup dropped")(a),new o.ActionType(l10n.t(50),l10n.t(152),function(){return e(t,n,r,s,f)})});u.default.openToast(a.createElement(o.ActionToast,{id:f,initialAction:_,pendingAction:E}));return y.then(function(e){if(e.gid&&i.default.find(e.gid).then(function(e){u.default.openChatBottom(e).then(function(t){t&&u.default.focusChatTextInput(e)})}),!e._duplicate&&n&&r){var t=h.default.gadd(e.gid);return(0,p.setProfilePic)(t,n,r)}e._duplicate&&d.default.error("createGroup failed to set picture.")()}).catch(c.ServerStatusCodeError,function(e){})}(e,t,n,r)},t.sendForNeededAddRequest=v;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("ccihhdchab"),i=g(n("dbdfbgehgj")),u=g(n("gbfffciea")),s=g(n("dhigahgdjb")),l=n("eihchghee"),c=n("ddjgcfjicj"),f=g(n("ccaaiecfib")),d=g(n("bdiiahhjbe")),p=n("bbbdgehigj"),h=g(n("dhefcajhhb")),m=g(n("cfejjfjhca")),b=n("dcbdjheea");function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){if(f.default.supportsFeature(f.default.F.GROUPS_V_4_JOIN_PERMISSION)&&e.participants){var o=a||e.gid;d.default.assert(!!o,"Group add request was provided with undefined gid")();var i=e.participants.reduce(function(e,t){var n=Object.keys(t)[0];if("403"!==t[n].code)return e;var a=(0,b.createWid)(n),o=s.default.gadd(a,{silent:!0});return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[r({},t[n],{contact:o})])},[]);i.length>0&&o&&u.default.openGroupV4InviteRequestFlow(i,o,t,n)}}},dffedieagi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=l(n("ceffhbhahb")),o=l(n("dfeecdfijg")),i=l(n("cieaeggjg")),u=l(n("eadfaddcj")),s=l(n("ffhghhcgf"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.msg,n=(0,a.default)(s.default.bubble,{[s.default.bubbleIn]:!t.isSentByMe,[s.default.bubbleOut]:t.isSentByMe,[s.default.hasAuthor]:e.author,[s.default.hasQuote]:e.quotedMsg,[s.default.isGallery]:e.displayType===u.default.DISP_TYPE.STARRED_MSGS||e.displayType===u.default.DISP_TYPE.GALLERY,[s.default.isForwarded]:t.showForwarded()}),l=e.status?r.createElement("div",{className:s.default.status},e.status):null,c=e.author?r.createElement("div",{className:s.default.author},e.author):null,f=t.showForwarded()?r.createElement(o.default,{msg:t,className:s.default.forwardedIndicator}):null,d=e.quotedMsg?r.createElement("div",{className:s.default.quote},e.quotedMsg):null;return r.createElement("div",{className:n},c,f,d,r.createElement("div",{className:s.default.body},r.createElement("div",{className:s.default.player},e.player),r.createElement("div",{className:s.default.avatar},l,e.avatar)),r.createElement("div",{className:s.default.meta},r.createElement(i.default,{msg:t})))};c.displayName="AudioBubble",t.default=c},dffjhcaahi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateLocal=function(e,t){if(r.default.supportsFeature(r.default.F.MODEL_STORAGE))return a.default.merge(e.toString(),t);return Promise.resolve()};var r=o(n("ccaaiecfib")),a=o(n("bjdejebbgc"));function o(e){return e&&e.__esModule?e:{default:e}}},dfgcaedggj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return l(e,(0,a.default)(t),n)},t._parse=l;var r=s(n("beifejbdga")),a=s(n("ceijcbgdah")),o=s(n("bgiegbhhbf")),i=s(n("ebiheagbje")),u=n("chhhffajfi");function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,a=(0,o.default)(e,t,n),s=a.length?(0,i.default)(e,(0,r.default)(a,t),t):{children:[{type:"text",value:e}]};return n<(0,u.numCodepoints)(e)&&function e(t,n){if(n.limit<=0)return;if(t.type&&"text"===t.type){if(t.value.length>=n.limit){var r=(0,u.toArray)(t.value);r.length>=n.limit&&(r=r.slice(0,n.limit)),t.value=r.join(""),n.limit=n.limit-r.length}else n.limit=n.limit-t.value.length;return}if(t.type&&"delimiter"===t.type)return;var a=0;for(;a<t.children.length&&(e(t.children[a],n),!(n.limit<=0));)a++;t.children=t.children.slice(0,a+1)}(s,{limit:n}),s}},dfgeejdaib:function(e,t,n){"use strict";var r=m(n("dejffaagc")),a=m(n("beajagdaig")),o=m(n("iidhbgeed")),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},s=m(n("cgcgbfbffj")),l=m(n("ccaaiecfib")),c=m(n("bdiiahhjbe")),f=m(n("cbcbdjdah")),d=m(n("biecbbiiee")),p=n("eaaehfdjdg"),h=m(p);function m(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.syncPromise=null,e.isSynced=!1,e.listenTo(h.default,"change:stream",function(){h.default.stream===p.STREAM.DISCONNECTED&&(e.isSynced=!1)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),i(t,[{key:"onResume",value:function(){this.isSynced=!1,this.sync()}},{key:"maySync",value:function(){return l.default.supportsFeature(l.default.F.STARRED_GIFS)}},{key:"sync",value:function(){var e=this;return this.isSynced?Promise.resolve():this.syncPromise?this.syncPromise:this.maySync()?(this.syncPromise=d.default.getStarred(void 0,void 0,void 0,!0).then(function(t){var n=[];t&&t.length&&(n=(0,o.default)(t,function(e){return e&&e.isGif&&!e.isUnsentMedia})),e.set(n)}).catch(function(e){499!==e&&c.default.error("starred gif msgs sync error: ",e)()}).finally(function(){e.syncPromise=null,e.isSynced=!0}),this.syncPromise):Promise.resolve()}},{key:"add",value:function(e,n){if(!e||!this.maySync()||!this.isSynced)return[];var r=this.isModel(e)?[e]:e;return r=(0,a.default)((0,o.default)(r,function(e){return e.isGif}),this.toArray(),function(e,t){return e.body===t.body}),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,r,n)}},{key:"remove",value:function(e,n){if(!e||!this.maySync()||!this.isSynced)return[];var a=this.isModel(e)?[e]:e;return a=(0,r.default)((0,o.default)(a,function(e){return e.isGif}),this.toArray(),function(e,t){return e.body===t.body}),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this,a,n)}}]),t}();b.model=f.default,b.comparator=function(e,t){return t.t-e.t},e.exports=new b},dfhbgghjei:function(e,t){e.exports={muted:"_2bpdE",bubble:"_3SaET",nonAlbumBubble:"_1Rlp7",isPreview:"_269ND",author:"_1UWph",forwarded:"X41CX",forwardedIndicator:"Lmjye",hasAuthor:"_2blB5",meta:"iVt71",hasCaption:"_1Jk6Y",caption:"_3AT9Y",isPSA:"XR5vd",isPsa:"XR5vd",quote:"_1-viB",thumb:"_3mdDl",inAlbum:"_389Ju",thumbBody:"_18vxA",thumbBodyLores:"_1RZLX",isGallery:"_11lI2",footer:"_3BuXD",overlay:"_1cdQD",overlayAlbumText:"_3Ms7M"}},dfhebgbhja:function(e,t){e.exports={muted:"_356HW",container:"RxbUw",contentContainer:"_2r0i1",emptyContainer:"U9fHd",emptySticker:"_3WpZ3",emptyText:"_2Hze1"}},dfhgeaeig:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryIdentity=function(e){var t=(0,a.unproxy)(e),n=t.verificationBinary,i=t.verificationString,s=t.id;if(n&&i)return Promise.resolve();if(t.promises.queryIdentity)return t.promises.queryIdentity;t.promises.queryIdentity=o.default.queryIdentity(s).then(function(t){u(e,t)}).catch(function(e){r.default.error("models:contact:queryIdentity error: "+String(e))()}).finally(function(){t.promises.queryIdentity=null})},t.updateIdentity=u;var r=i(n("bdiiahhjbe")),a=n("bheafeifce"),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=(0,a.unproxy)(e);t.status&&t.status>=400?(n.unset("verificationBinary"),n.unset("verificationString")):(n.verificationBinary=t.binary,n.verificationString=t.string)}},dfhgffbdig:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=h(n("dbdfbgehgj")),i=h(n("gbfffciea")),u=h(n("fcedgihic")),s=h(n("bjigbaghc")),l=n("dffedeegcb"),c=h(n("ccaaiecfib")),f=h(n("iajeehcac")),d=h(n("beahjdfigf")),p=h(n("bfgbdiffgd"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.sendForNeededAddRequest=function(e){var t=r.parent.id,n=o.default.assertGet(t),a=n.groupMetadata.desc;(0,l.sendForNeededAddRequest)(e,n.formattedTitle||n.name,a,r.parent.id)},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"initialize",value:function(){this.listenTo(this,"change:contact.name",this.sort),this.listenTo(i.default,"locale_change",this.sort)}},{key:"delete",value:function(){this.forEach(function(e){e.delete()}),this.stopListening(),this.reset()}},{key:"set",value:function(e,n){var r=n||{};return r.isParticipantCollectionAdd||(r.remove=!0),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"set",this).call(this,e,r)}},{key:"add",value:function(e,n){var r=n||{};return r.isParticipantCollectionAdd=!0,a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,r)}},{key:"canAdd",value:function(){return!!this.iAmAdmin()}},{key:"canPromote",value:function(e){return!!e&&(!s.default.me.equals(e.id)&&(!!this.iAmAdmin()&&!e.isAdmin))}},{key:"canDemote",value:function(e){return!!e&&(!!this.iAmAdmin()&&(!s.default.me.equals(e.id)&&(!(c.default.supportsFeature(c.default.F.GROUPS_V_3)&&p.default.groupsV3&&e.isSuperAdmin)&&!!e.isAdmin)))}},{key:"canRemove",value:function(e){return!!e&&(!s.default.me.equals(e.id)&&!!this.iAmAdmin())}},{key:"canVerifyIdentity",value:function(e){return!!c.default.supportsFeature(c.default.F.QUERY_IDENTITY)&&(!!e&&!s.default.me.equals(e.id))}},{key:"iAmMember",value:function(){return 1===this.filter(function(e){return e.id.equals(s.default.me)}).length}},{key:"iAmRestrictedMember",value:function(){var e=this.parent.id;return o.default.assertGet(e).groupMetadata.restrict&&!this.iAmAdmin()}},{key:"iAmAdmin",value:function(){return 1===this.filter(function(e){return e.id.equals(s.default.me)&&e.isAdmin}).length}},{key:"iAmSuperAdmin",value:function(){return 1===this.filter(function(e){return e.id.equals(s.default.me)&&e.isSuperAdmin}).length}},{key:"getAdmins",value:function(){return this.where({isAdmin:!0})}}]),t}();b.model=f.default,b.comparator=d.default,t.default=b},dfigcajgai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n("dbafiicfja")),a=d(n("chihjdheic")),o=d(n("diifagijfe")),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),s=n("hdccjfbbg"),l=d(s),c=d(n("dhfbfehaef")),f=d(n("dcaibchbg"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.focusLast=function(){(0,o.default)(r.props.contacts)&&r.selection.setLast(!0)},r.focusPrev=function(e){e.preventDefault(),e.stopPropagation(),r.selection.prev()>-1&&r.selection.setPrev(!0)},r.focusNext=function(e){e.preventDefault(),e.stopPropagation();var t=r.props.onFocusSearch,n=r.selection.next();r.selection.index===n?(r.selection.unset(),t&&t(e)):r.selection.setNext(!0)},r.deleteContact=function(e){e.preventDefault(),e.stopPropagation();var t=r.props.onDelete,n=r.selection.getVal();if(n){var o=(0,a.default)(r.props.contacts,n);o&&t&&t(e,o)}},r.onParticipantClick=function(e,t){r.selection.setVal(t)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.PureComponent),i(t,[{key:"UNSAFE_componentWillMount",value:function(){this.selection=new f.default(this.props.contacts,function(e){return e.id})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.selection.init(e.contacts,!0)}},{key:"render",value:function(){var e=this,t=this.props.contacts;if(!t)return null;var n=(0,o.default)(t)?(0,r.default)(t,function(t){return u.createElement(l.default,{contact:t,active:e.selection,onDelete:e.props.onDelete,onClick:e.onParticipantClick,type:s.Type.SMALL,key:t.id.toString(),theme:e.props.theme,waitIdle:!0})}):null,a={up:this.focusPrev,down:this.focusNext};this.props.onDelete&&(a[l10n.LR("left","right")]=this.focusPrev,a[l10n.LR("right","left")]=this.focusNext,a.backspace=this.deleteContact);var i=u.createElement("ul",null,n);return u.createElement(c.default,{handlers:a},i)}}]),t}();h.displayName="ParticipantList",t.default=h},dfihaffaee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMOJI_WIDTH=t.EMOJI_HEIGHT=t.SIDE_MARGIN=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=O(n("djegeegcbf")),i=O(n("fifhbjiec")),u=O(n("dadidajbgf")),s=O(n("bhhdeihhhf")),l=n("dbgdaechch"),c=O(n("bfejacaeaj")),f=n("gaifbabbj"),d=O(n("gbfffciea")),p=O(n("bggjbiacd")),h=O(n("dcjdgceiej")),m=O(n("dhfbfehaef")),b=O(n("caffijjhc")),g=n("eecehffbj"),v=O(n("dfbhcehadj")),y=O(n("eceadcicaf")),_=n("ddajbaceej"),E=n("ejbdjaifi"),j=O(n("decfjabfdj"));function O(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.SIDE_MARGIN=parseInt(j.default["-side-margin"],10),t.EMOJI_HEIGHT=parseInt(j.default["-emoji-height"],10),t.EMOJI_WIDTH=parseInt(j.default["-emoji-width"],10);var M=function(e){function t(){var e,n,r;S(this,t);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return n=r=w(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={skinTonePicker:null},r._lastFocusedElement=null,r._closeSkinTonePicker=function(){var e=r.state.skinTonePicker&&r.state.skinTonePicker.anchor;e&&e instanceof HTMLElement&&r._focusElement(e),r.setState({skinTonePicker:null})},r._setEmojiVariant=function(e,t,n){T(e),v.default.setVariant(t,n),r._handleEmoji(t)},r._clearPickerTimer=function(){r._pickerTimer&&clearTimeout(r._pickerTimer)},r._showContextMenu=function(e,t,n){var u=o.default.skinToneEmojis[e];if(u){var c=g.SKIN_TONE_VARIATIONS.map(function(t){var n=o.default.variantToUnicode(u,t);return a.createElement(s.default,{type:"emoji",key:n,a8n:"mi-emoji-variant",action:function(t){return r._setEmojiVariant(t,e,n)}},a.createElement(i.default,{text:n,formatters:f.Configuration.LargeEmojiOnly(),tabIndex:"-1"}))});r.setState({skinTonePicker:{menu:c,anchor:t,type:"picker",dirX:l.DirX.RIGHT,dirY:l.DirY.TOP,horizontal:!0,autoFocus:n}})}},r._handleEmoji=function(e){var t=e;if(o.default.skinToneEmojis[t]){var n=v.default.getVariantIfExists(t);if(null!=n)t=n;else if(r.props.allowVariantPrompt)return!0}r.props.onEmoji(t)},r._handleEmojiArrowDown=function(e){T(e);var t=A(e);null!=t&&r.props.focusBelow&&r.props.focusBelow(t)},r._handleEmojiArrowLeft=function(e){T(e);var t=A(e);if(null!=t){var n=t-1;n<0?r.props.focusAbove(r.props.numColumns-1):r.focusEmojiAt(n)}},r._handleEmojiArrowRight=function(e){T(e);var t=A(e);if(null!=t){var n=t+1;n>=r.props.emojiIds.length?r.props.focusBelow&&r.props.focusBelow(0):r.focusEmojiAt(n)}},r._handleEmojiArrowUp=function(e){T(e);var t=A(e);null!=t&&r.props.focusAbove(t)},r._handleEmojiEnter=function(e){T(e);var t=A(e);r._selectEmojiAt(t)},r._handleClick=function(e){T(e);var t=A(e);r._selectEmojiAt(t)},r._handleContextMenu=function(e){T(e);var t=r._getEmojiUnicode(e);t&&e.target instanceof HTMLElement&&r._showContextMenu(t,e.target)},r._handleMouseDown=function(e){T(e);var t=e.target;if(t instanceof HTMLElement){var n=r._getEmojiUnicode(e);n&&r._startPickerTimer(n,t)}},r._setRefEmojis=function(e){r.refEmojis=e},w(r,n)}return P(t,a.Component),r(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.emojiIds!==e.emojiIds||this.state.skinTonePicker!==t.skinTonePicker}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.skinTonePicker&&this._closeSkinTonePicker()}},{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(v.default,"add remove change:variant",function(){return e.forceUpdate()})}},{key:"focusEmojiAt",value:function(e){var t=this._getRefEmojiAt(e);t&&this._focusElement(t)}},{key:"selectFirstEmoji",value:function(){this._selectEmojiAt(0)}},{key:"restoreFocus",value:function(){this._lastFocusedElement&&this._focusElement(this._lastFocusedElement)}},{key:"_focusElement",value:function(e){var t=parseInt(e.dataset.emojiIndex,10);isNaN(t)||((0,_.focus)(e,{preventScroll:!0}),this.props.onEmojiFocus(e),this._lastFocusedElement=e)}},{key:"_selectEmojiAt",value:function(e){if(null!=e){var t=this.props.emojiIds[e],n=o.default.getUnicodeFromEmoji(t);if(n){var r=this._getRefEmojiAt(e);if(r)this._clearPickerTimer(),this._handleEmoji(n)&&this._showContextMenu(n,r,!0)}}}},{key:"_getEmojiUnicode",value:function(e){var t=A(e);if(null!=t){var n=this.props.emojiIds[t],r=o.default.getUnicodeFromEmoji(n);return r||null}}},{key:"_getRefEmojiAt",value:function(e){var t=this.props.emojiIds.length-1,n=Math.max(Math.min(e,t),0);if(this.refEmojis)return this.refEmojis.children[n]}},{key:"_startPickerTimer",value:function(e,t){var n=this;this._clearPickerTimer(),this._pickerTimer=setTimeout(function(){delete n._pickerTimer,n.props.listeners.addOnce(d.default,"window_click",T),n._showContextMenu(e,t)},250),this.props.listeners.addOnce(window,"mouseup",this._clearPickerTimer,!0)}},{key:"render",value:function(){var e=void 0;this.state.skinTonePicker&&(e=a.createElement(b.default,{displayName:"SkinTonePicker",popable:!0,escapable:!0,requestDismiss:this._closeSkinTonePicker,requestRecentFocusOnUnmount:!1},a.createElement(u.default,{tooltip:this.state.skinTonePicker})));var t=this.props.emojiIds;return t.length?a.createElement("div",{className:j.default.panel},a.createElement(m.default,{onMouseDown:this._handleMouseDown,onClick:this._handleClick,onContextMenu:this._handleContextMenu,handlers:{up:this._handleEmojiArrowUp,down:this._handleEmojiArrowDown,left:this._handleEmojiArrowLeft,right:this._handleEmojiArrowRight,enter:this._handleEmojiEnter}},a.createElement("div",{ref:this._setRefEmojis,className:j.default.section},t.map(function(e,t){var n=o.default.getUnicodeFromEmoji(e),r=v.default.getVariantIfExists(n);return a.createElement(p.default,{element:"span",emoji:r||n,size:"large",key:e,tabIndex:"-1","data-emoji-index":t})}))),e):null}}]),t}();M.contextTypes={uim:c.default.instanceOf(h.default)},M.displayName="EmojiRow";var C=function(e){function t(){return S(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return P(t,(0,y.default)((0,E.hoc)(M))),r(t,[{key:"focusEmojiAt",value:function(e){this.getComponent().focusEmojiAt(e)}},{key:"selectFirstEmoji",value:function(){this.getComponent().selectFirstEmoji()}},{key:"restoreFocus",value:function(){this.getComponent().restoreFocus()}}]),t}();function T(e){e.preventDefault(),e.stopPropagation()}function A(e){if(!(e.target instanceof HTMLElement))return null;var t=parseInt(e.target.dataset.emojiIndex,10);return isNaN(t)?null:t}t.default=C},dfijbgdefb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n("bcdffbhbhg")),a=l(n("hfgheijj")),o=l(n("dgdjiicfdg")),i=l(n("behbjhhbg")),u=l(n("bjebjijbfc")),s=l(n("eadfaddcj"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=e,r=t.type===s.default.MSG_TYPE.VCARD?"text/vcard":t.mimetype,o=i.default.getExtension(r);return(0,a.default)(n,o)||(n+=o),n}function f(e){var t=o.default.unix(e.t).locale("en"),n=`${t.format("YYYY-MM-DD")} at ${t.format(u.default.getIs24Hour()?"HH.mm.ss":"h.mm.ss A")}`;return`WhatsApp ${(0,r.default)(e.type)} ${n}`}t.default={getDefaultName(e){var t=void 0;switch(e.type){case s.default.MSG_TYPE.DOCUMENT:var n=(e.filename||"").trim();t=n||(e.caption||"").trim()||l10n.t(1043),n&&function(e){return/[\.].{1,4}$/.test(e)}(n)||(t=c(t,e));break;case s.default.MSG_TYPE.VCARD:t=c(t=(e.subtype||"").trim()||f(e),e);break;case s.default.MSG_TYPE.IMAGE:case s.default.MSG_TYPE.VIDEO:case s.default.MSG_TYPE.AUDIO:default:t=c(t=f(e),e)}return t}}},dfjadefi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e,t){return new u(e,t)};var a,o=n("cbgabiccd"),i=(a=o)&&a.__esModule?a:{default:a};var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r._iterator=e,r._mapper=n,r._n=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"_next",value:function(){var e=this._iterator.next();if(e.done)return this.return();var t=this._mapper(e.value,this._n,this._iterator);return this._n++,{done:!1,value:t}}}]),t}()},dfjfejdjjh:function(e,t,n){"use strict";var r=l(n("bhehgiigij")),a=n("eaaehfdjdg"),o=l(a),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ebggjhghhi")),u=l(n("bjieiiccce")),s=l(n("bgabgddgch"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return Promise.loop(function(t,n,u){var l=Promise.delay(s.default.expBackoff(u,6e4,void 0,.1));return(o.default.state===a.STATE.CONNECTED?Promise.resolve():i.waitForBBEvent(o.default,"change:state",(0,r.default)({state:a.STATE.CONNECTED}))).then(function(){return e()}).then(function(e){if(e.status>=500&&e.status<600)return l;t(e)}).catch(function(){return l})})}e.exports={headRetry:function(e){return c(function(){return u.default.head(e)})},getRetry:function(e,t){return c(function(){return u.default.get(e,t)})},postRetry:function(e,t){return c(function(){return u.default.post(e,t)})}}},dfjfgdhbjj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.pin||0,r=t.pin||0;if(n||r)return n!==r?n>r?-1:1:e.id.toString()<t.id.toString()?-1:1;var a=e.t||0,o=t.t||0;return a!==o?a>o?-1:1:e.id.toString()<t.id.toString()?-1:1}},dfjgaaeeeb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=p(n("eadfaddcj")),i=p(n("ebijaadcje")),u=p(n("ccaaiecfib")),s=p(n("bdiiahhjbe")),l=p(n("bffjfbgbg")),c=p(n("caeigdhgia")),f=p(n("ihfccfgdf")),d=n("ejbdjaifi");function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.displayType,n=e.mediaData,r=e.msg,s=t===o.default.DISP_TYPE.CONVERSATION,f=n.mediaStage;if(f===l.default.STAGE.ERROR_TOO_LARGE)return a.createElement(c.default,{displayType:this.props.displayType,mediaType:n.type});if(r.isUnsentMedia&&(f===l.default.STAGE.ERROR_MISSING||f===l.default.STAGE.ERROR_UNSUPPORTED))return a.createElement(i.default,{displayType:this.props.displayType,tooltip:l10n.t(954)});if(r.isFailed){if(f===l.default.STAGE.ERROR_MISSING)return a.createElement(i.default,{displayType:this.props.displayType,tooltip:l10n.t(1033)});if(r.type===o.default.MSG_TYPE.PTT&&f===l.default.STAGE.PREPARING)return a.createElement(i.default,{displayType:this.props.displayType,tooltip:l10n.t(873)});if(u.default.supportsFeature(u.default.F.RESEND_ICON)&&s&&f!==l.default.STAGE.REMOTE_UPLOADING)return a.createElement(i.default,{displayType:this.props.displayType,onClick:m.bind(null,r),tooltip:l10n.t(908)})}return null}}]),t}();function m(e){e.resend().catch(function(e){s.default.log("msg_media_fail_icon:resend failure: "+e)()})}h.CONCERNS={msg:["isFailed","isMMS","type","isUnsentMedia"],mediaData:["mediaStage","type"]},h.displayName="MsgMediaFailIcon",t.default=(0,f.default)((0,d.hoc)(h),h.CONCERNS)},dfjgdebjfa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.requireBundle=g;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("bfejacaeaj")),i=m(n("cjedbjfabb")),u=m(n("dcjdgceiej")),s=m(n("djcchigfih")),l=m(n("djbhiedbef")),c=n("dajffajabh"),f=m(c),d=m(n("cbhegcchgg")),p=n("cicgeajfge"),h=m(n("bdiiahhjbe"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(){return n.e(132).then(n.bind(null,"bifbiahgch")).then(function(e){return e.default})}var v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onCancel=function(){r.context.uim.uie.requestDismiss()},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement(s.default,null,a.createElement(f.default,{type:c.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onCancel}),a.createElement(l.default,null,this.props.error?a.createElement(p.LazyLoadRetry,{onClick:this.props.retry}):a.createElement(p.Loading,null)))}}]),t}();v.contextTypes={uim:o.default.instanceOf(u.default)},v.displayName="LoadingDrawer";var y=(0,d.default)({loader:function(){return g().catch(function(e){throw h.default.assert(!1,"loadable:InfoFlow loading error")(e),e})},loading:e=>a.createElement(v,{error:Boolean(e.error),retry:e.retry}),delay:i.default.LOADABLE_DELAY});t.default=y},dfjhghbebf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cbgabiccd"),i=(r=o)&&r.__esModule?r:{default:r};var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._array=e.slice(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"_next",value:function(){return 0===this._array.length?this.return():{done:!1,value:this._array.shift()}}}]),t}();t.default=u},dfjhjafaab:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTosUrl=function(){return`${r}?lg=${l10n.getLocale()}`};var r="https://www.whatsapp.com/legal/"},dfjibhjhde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=g(n("djcchigfih")),i=g(n("djbhiedbef")),u=n("dajffajabh"),s=g(u),l=g(n("ddajbaceej")),c=n("dhfbfehaef"),f=g(c),d=g(n("bbhhbdicgc")),p=g(n("bggeiidigb")),h=g(n("dbciicjiad")),m=n("chcadgfgad"),b=g(m);function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.flatListController=new p.default,r.listRef=a.createRef(),r.searchRef=a.createRef(),r.onNext=function(e){e.preventDefault(),e.stopPropagation();var t=r.props.selection;t&&t.setNext(!0)},r.onPrev=function(e){var t=r.props.selection;t&&(e.preventDefault(),e.stopPropagation(),t.prev()>-1?t.setPrev(!0):(t.unset(),(0,c.shouldIndicateFocus)(),l.default.focus(r.searchRef.current)))},r.onFocusList=function(e){r.listRef.current&&(e.preventDefault(),e.stopPropagation(),(0,c.shouldIndicateFocus)(),r.props.selection.setFirst(!0))},r.onSelectFirst=function(e){e.preventDefault(),e.stopPropagation();var t=r.props.data[0];t&&r.props.onSelect(e,t)},r.onSearch=function(e){r.props.onSearch(e)},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.onCancel,r=e.onSearch,l=e.searchPlaceholder,c=e.renderItem,p=e.data,g=e.emptyState,v={down:this.onFocusList,enter:this.onSelectFirst},y={down:this.onNext,up:this.onPrev},_=void 0;r&&(_=a.createElement(f.default,{handlers:v},a.createElement(h.default,{ref:this.searchRef,onSearch:this.onSearch,placeholder:l||l10n.t(932)})));var E=p.length?a.createElement(f.default,{handlers:y},a.createElement(d.default,{data:p,ref:this.listRef,flatListController:this.flatListController,renderItem:c})):g;return a.createElement(b.default,{type:m.TowerModalType},a.createElement(o.default,{key:"contact-modal"},a.createElement(s.default,{title:t,type:u.DRAWER_HEADER_TYPE.POPUP,onCancel:n}),_,a.createElement(i.default,{flatListControllers:[this.flatListController]},E)))}}]),t}();y.displayName="ListModal",t.default=y},dfjijdgbhd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n("chihjdheic")),a=v(n("bcdejiigcg"));t._processMultipleMessages=function(e,t,n,g){var v=[],_=[],E=[];return t.forEach(function(t,r){t.id instanceof f.default||(l.default.error("Store.Msg:_processMultipleMessages: el.id is not a MsgKey"+(new Error).stack)(),o.upload("forgot-to-create-msgkey"),t.id=new f.default({from:t.from,to:t.to,id:t.id,participant:t.participant,selfDir:t.self})),(0,h.isString)(e)&&b.default.isBroadcast(e)&&delete t.broadcast,"ptt"===t.type&&!t.id.fromMe&&t.ack<0&&(t.ack=0);var u=p.default.Msg.get(t.id);if(t.type===i.default.MSG_TYPE.PROTOCOL)switch(t.subtype){case"revoke":if(u=p.default.Msg.get(t.protocolMessageKey)){var c=new p.default.Msg.constructor.model(t);b.default.equals(u.sender,c.sender)?(b.default.isStatusV3(e)&&u.msgChunk.remove(u),u.revoke(c.id),b.default.isStatusV3(e)&&p.default.StatusV3.find(u.sender).then(function(e){s.default.supportsFeature(s.default.F.QUERY_STATUS_V_3_THUMBNAIL)&&u&&u.msgChunk.length!==e.totalCount&&m.default.statusQueryThumbnail(e.id)})):l.default.warn(`model:Msg:processMM revoke sender mismatch ${c.id.toString()}, ${u.id.toString()}`)()}break;default:l.default.info(`unknown protocolMessage ${t.id.toString()}`)(t)}else if(u&&!u.isRevoked){for(var j in t.ack<u.ack&&delete t.ack,t)t.hasOwnProperty(j)&&void 0===t[j]&&delete t[j];t.id.fromMe&&!u.clientUrl&&t.clientUrl&&(t.phoneUploading=!1),n.isHistory&&(t.isNewMsg=!1);var O=u.t?(0,a.default)(t,["t","id","from","to"]):t,S=u.applyUpdate(O).then(function(){return u});if(E.push(S),b.default.isBroadcast(u.id.remote)){var w=d.getBroadcastFanoutKeys(u);w&&w.forEach(function(e){var t=p.default.Msg.get(e);t&&E.push(t.applyUpdate(O).then(function(){return u}))})}n.isHistory&&(u.recvFresh||g)&&!u.search?(l.default.warn("model:Msg:handle:processMM:"+(u.recvFresh?"dup:":"overlap:")+String(u.id))(),_.push(u)):n.isHistory&&u.search?(u.search=!1,l.default.warn(`model:Msg:handle:processMM load search as history ${String(u.id)}`)(),v.push({id:u.id})):"search"===n.add&&v.push({id:u.id}),y(u)}else d.typeIsMMS(t.type)&&!t.clientUrl&&(t.phoneUploading=t.id.fromMe&&0===t.ack),"search"===n.add&&(t.search=!0),n.update||v.push(t)}),(E.length?Promise.all(E):Promise.resolve()).then(function(){if(0===v.length&&0===_.length){if(e&&n.pendingMsgsDone){var a=p.default.Chat.get(e);a&&(a.pendingMsgs=!1)}return t.map(function(e){return p.default.Msg.get(e.id)}).filter(function(e){return e})}var o=p.default.Msg.add(v,{merge:!0}),f=Promise.map(o,function(e){return y(e),e.waitForPrep().catch(function(e){l.default.assert(!1,"bad-msg-prep",`${String(e)}`)(e)})});if(e){var h=void 0;if(b.default.isStatusV3(e)){var m=t[0],E=m.id.fromMe?u.default.me:m.author;h=p.default.StatusV3.find(E)}else h=p.default.Chat.find(e);return f.then(function(){return h}).then(function(a){var u=void 0,f=void 0,h="after"===n.add||"last"===n.add,m=!n.isHistory,v=!1;if("unread"===n.add?(u=g,a.msgChunks.push(u),f=n.firstUnreadKey):"last"===n.add&&n.resume?(u=g,v=!0):u="function"==typeof g?g():g,function(e,t,n,a,o,i,u,s){var c=function(e,t,n,a,o){var i={},u={},s=void 0,c=void 0,f=void 0,d=n.length,p=o;if(0===d)return{msgs:t,collection:p};for(s=0;s<d;s++)c=n[s],u[c.id]=c;for(d=t.length,s=0;s<d;s++)(c=t[s])&&(i[c.id]=c);var h=[];for(d=e.length,s=0;s<d;s++)if((c=e[s])&&((f=i[c.id])&&h.push(f),f=u[c.id]))if(f.recvFresh)h.push(f),a.removeMsg(f),f.unset("recvFresh");else{var m=a.getAllCMCs(),b=(0,r.default)(m,function(e){return e.get(f.id)});if(o&&b===o);else if(b)if(b.forEach(function(e){h.push(e),delete u[e.id.toString()]}),b===a.msgs){if(o.msgLoadState.noEarlierMsgs){var g=[`chatMsgsCollection ${a.id.toString()} replaced by a collection with noEarlierMsgs true`,(new Error).stack];l.default.logVerbose(g.join("\n"))()}a.replaceMsgsCollection(o),p=a.msgs}else a.notifyMsgCollectionMerge(o,b,o),a.removeMsgsCollection(b);else l.default.error("models:Msg:reorder trying to merge CMC of orphaned message "+c.id,c)(),h.push(u[c.id])}return{msgs:h,collection:p}}(e,t,n,a,i);d.addRecordsToChat(c.msgs,a,o,c.collection,u,s)}(t,o,_,a,h,u||a.msgs,f,v),n.pendingMsgsDone&&(a.pendingMsgs=!1),m&&b.default.isBroadcast(e)&&!b.default.isStatusV3(e)&&o.forEach(function(e){e&&e.recvFresh&&!e.isNotification&&d.broadcastFanout(e)}),s.default.supportsFeature(s.default.F.RECENT_EMOJI_SYNC))for(var y=0;y<o.length;y++){var E=o[y];if(E&&E.isNewMsg&&E.isSentByMe&&E.containsEmoji){p.default.RecentEmoji.throttledSync();break}}if(s.default.isRecentStickersEnabled()){var j=o.map(function(e){if(e&&e.isNewMsg&&e.isSentByMe&&e.type===i.default.MSG_TYPE.STICKER){var t=e.mediaData;return{id:t.filehash,clientUrl:t.mmsUrl,directPath:t.directPath,filehash:t.filehash,uploadhash:t.uploadHash,mediaKey:t.mediaKey,width:t.fullWidth,height:t.fullHeight,size:t.size,mimetype:t.mimetype,type:c.OUTWARD_TYPES.STICKER,index:0}}}).filter(Boolean);p.default.RecentSticker.enqueue(j)}return t.map(function(e){return p.default.Msg.get(e.id)}).filter(function(e){return e})})}return f.then(function(){return t.map(function(e){return p.default.Msg.get(e.id)}).filter(function(e){return e&&!!e.chat})})})};var o=g(n("dfhjacfbjg")),i=v(n("eadfaddcj")),u=v(n("bjigbaghc")),s=v(n("ccaaiecfib")),l=v(n("bdiiahhjbe")),c=n("daichdjff"),f=v(n("ccgjijjbbj")),d=g(n("ccbagdhfbb")),p=v(n("bhggeigghg")),h=n("hjbbdjjdf"),m=v(n("bihdhbjih")),b=v(n("jccfhaecf"));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if(!s.default.supportsFeature(s.default.F.CONTACT_HAS_PUSHNAME)&&e.notifyName){var t=p.default.Contact.get(e.sender);t&&!t.isMe&&(!t._notifyName||t._notifyName.t<e.t)&&(t._notifyName={name:e.notifyName,t:e.t},t.trigger("change:_notifyName",e.notifyName))}}},dgacffdjd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resyncContacts=function(e){var t=s.default.Contact;void 0!==t.checksum&&void 0!==e&&(t.checksum!==e?t.findQuery({retry:!0}).then(function(e){if(Array.isArray(e)){(0,l.mungePSAContact)(e),o.default.log("Store:Contact:resync success")();var t=(0,u.getContactsToRemove)(e),n=Promise.resolve();if(a.default.supportsFeature(a.default.F.MODEL_STORAGE)&&t.length){var r=t.map(function(e){return e.id.toString()});n=i.Contact.bulkRemove(r)}n.then(function(){t.forEach(function(e){e.unset("name"),e.unset("shortName")})})}else o.default.error("Store:Contact.resync error "+JSON.stringify(e),e)()}).catch(r.WapDrop,function(){}):o.default.log("Store:Contact:resync checksum match")())};var r=n("ddjgcfjicj"),a=c(n("ccaaiecfib")),o=c(n("bdiiahhjbe")),i=n("cefcddgdgg"),u=n("dbefabiacb"),s=c(n("bhggeigghg")),l=n("dafafigeih");function c(e){return e&&e.__esModule?e:{default:e}}},dgacgafafa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=s(n("ceffhbhahb")),o=s(n("cegfacfjjj")),i=s(n("dabcbibhcf")),u=s(n("cajbifjffe"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.id,n=e.name,s=e.url;return r.createElement("div",{className:o.default.container},s?r.createElement("div",{className:(0,a.default)(o.default.centerChild,o.default.show),"data-id":t},r.createElement(u.default,{alt:n,className:o.default.image,draggable:!1,renderError:i.default,renderLoading:i.default,src:s})):r.createElement(i.default,null))}l.displayName="StickerPackIcon",t.default=l},dgafbfebjc:function(e,t){e.exports={muted:"_1qcHB",drawerHeader:"_3jHKU",drawerTitle:"kyJvR",drawerTitleBody:"_1pYs5",side:"_2aXcZ",drawerTitleAction:"_2DP8_",multiMediaGallery:"_1lH_n",drawerHeaderSmall:"kiodY",drawerHeaderOffset:"_1WD8C",drawerHeaderPopup:"_3D31H",btnCloseDrawer:"qfKkX",paneListControls:"_278GW",labels:"_1B-sv"}},dgbdeadddb:function(e,t){e.exports={muted:"gH-j6",wrapper:"_3X58t"}},dgbjhghjfc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n("hddfjdhii"));function a(e){return e&&e.__esModule?e:{default:e}}var o=(0,a(n("chgaccicf")).default)(r.default);t.default=o},dgcbhjfhad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("begdabbfeh")),i=u(n("bfdcadbbif"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement("div",{className:o.default.panel},a.createElement("div",{className:o.default.body},this.props.children),a.createElement("div",{className:o.default.cancelButton},a.createElement("div",{role:"button",onClick:this.props.onOmit},a.createElement(i.default,{name:"x"}))))}}]),t}();s.displayName="PopupPanel",t.default=s},dgdadejebh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=s(n("eadfaddcj")),o=s(n("ceffhbhahb")),i=s(n("djggfadejg")),u=s(n("bfdcadbbif"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.msg,n=e.link,s=e.displayType;if(!t&&!n)return null;var l=void 0;if(n)n.suspiciousCharacters&&n.suspiciousCharacters.size&&(l=l10n.t(1013));else if(t){var c=t.getSuspiciousLinks().length;if(c)l=1===t.getLinks().length||s===a.default.DISP_TYPE.GALLERY?l10n.t(1013):l10n.t(1014,{count:c,_plural:c})}return l?r.createElement("div",{className:(0,o.default)(i.default.container,{[i.default.isLinkMsg]:Boolean(n)})},r.createElement(u.default,{name:"alert",display:"inline"}),r.createElement("span",{className:i.default.text},l)):null}l.displayName="SuspiciousLabel"},dgdahfddff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n("bdiiahhjbe")),o=i(n("ceddibdhdb"));function i(e){return e&&e.__esModule?e:{default:e}}var u=[],s=new o.default(function(){var e=u;u=[];for(var t=0;t<e.length;t++){var n=e[t];n._inAutoreleasePool=!1,0!==n._retainCount||n.released||(n.released=!0,n._releaseImpl())}}),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._retainCount=1,this._inAutoreleasePool=!1,this.released=!1}return r(e,[{key:"retain",value:function(){if(this.released){var e="OpaqueData:retain called on released OpaqueData";throw a.default.error(e)(e),new Error(e)}this._retainCount++}},{key:"autorelease",value:function(){this.released?a.default.error("OpaqueData:autorelease called on released object")():0===this._retainCount?a.default.error("OpaqueData:autorelease too many release calls")():1===this._retainCount?(this._retainCount=0,this._inAutoreleasePool||(this._inAutoreleasePool=!0,u.push(this),s.onOrBefore(1e3))):this._retainCount--}},{key:"autoreleaseWhenPromiseCompletes",value:function(e){var t=this,n=function(){t.autorelease()};e.then(n,n)}},{key:"throwIfReleased",value:function(e){if(this.released){var t=`${e} called on released OpaqueData`;throw a.default.error(t)(),new Error(t)}if(0===this._retainCount){var n=`${e} called on unretained OpaqueData`;a.default.error(n)()}}},{key:"_releaseImpl",value:function(){throw new Error("OpaqueData:_releaseImpl unimplemented")}}]),e}();t.default=l},dgdeceggdh:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function e(t){a(this,e),this.promise=t,this.lastUsedTime=this.createdTime=+Date.now()},i=function(){function e(t,n){var r=n.maxCached,o=void 0===r?10:r,i=n.maxAge,u=void 0===i?1/0:i,s=n.shouldCache;a(this,e),this._cache={},this._maxCached=o,this._maxAge=u,this._createPromiseFunc=t,this._shouldCacheFunc=s}return r(e,[{key:"getOrRun",value:function(e){var t=this,n=this._cache;if(this._maxAge!==1/0)for(var r=Date.now()-this._maxAge,a=Object.keys(n),i=0;i<a.length;i++){var u=a[i];n[u].createdTime<r&&delete n[u]}var s=n[e];if(s)return s.lastUsedTime=+Date.now(),s.promise;var l=Object.keys(n);if(l.length>=this._maxCached){for(var c=void 0,f=void 0,d=0;d<l.length;d++){var p=l[d],h=n[p];(null==f||h.lastUsedTime<f)&&(f=h.lastUsedTime,c=p)}c&&delete n[c]}for(var m=arguments.length,b=Array(m>1?m-1:0),g=1;g<m;g++)b[g-1]=arguments[g];var v=this._createPromiseFunc.apply(void 0,[e].concat(b));return n[e]=new o(v),v.then(function(n){var r=t._shouldCacheFunc;r&&t._cache[e]===v&&!r(n)&&delete t._cache[e]}).catch(function(){t._cache[e]===v&&delete t._cache[e]}),v}}]),e}();e.exports=i},dgdegachj:function(e,t){e.exports={muted:"_3GyxT",secondaryDetailContainer:"_1z1e6"}},dgdhcdgffe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.markUnread=function(e,t){return function e(t,n){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,a.genId)();n?t.active&&(t.markedUnread=!0):t.markedUnread=!1;var c=t.promises;if(c.markUnread)return c.markUnread;var f=c.markUnread=n?function(e){var t=e.getLastMsgKeyForAction();return(0,l.sendConversationUnseen)(e.id,t).then(function(){b(e)}).catch(i.ServerStatusCodeError,function(t){return e.markedUnread=!1,Promise.reject(t)})}(t):g(t);var d=n?new a.ActionType(l10n.t(29)):new a.ActionType(l10n.t(28));var p=f.then(function(r){var o=n?l10n.t(27):l10n.t(26);return new a.ActionType(o,l10n.t(156),function(){return e(t,!n,u)})}).catch(i.ServerStatusCodeError,function(e){if(e.status>=400)return n?new a.ActionType(l10n.t(25)):new a.ActionType(l10n.t(24));throw new Error("invalid response status")}).catch(function(r){var o=n?l10n.t(25):l10n.t(24);return new a.ActionType(o,l10n.t(152),function(){return e(t,n,u)})});o.default.openToast(r.createElement(a.ActionToast,{id:u,initialAction:d,pendingAction:p}));return f.then(function(){}).catch(i.ServerStatusCodeError,function(e){s.default.error(`markUnread: got status ${e.status}`)()}).finally(function(){c.markUnread=null})}((0,c.unproxy)(e),t)},t.sendSeen=h,t.markSeen=m,t.markUnseen=b;var r=p(n("ddhijeejag")),a=n("ccihhdchab"),o=d(n("gbfffciea")),i=n("ddjgcfjicj"),u=p(n("cajijabhgb")),s=d(n("bdiiahhjbe")),l=n("gigfajjic"),c=n("bheafeifce"),f=d(n("dcdiaahjj"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return g((0,c.unproxy)(e),t).catch(i.ServerStatusCodeError,function(e){s.default.error(`sendSeen: got status ${e.status}`)()})}function m(e,t){!function(e,t){String(t);var n=null;null!=t?t>0&&t<=e.unreadCount?(n=e.unreadCount-t,String(n)):-1===t&&e.unreadCount<=0&&(n=0,String(n)):(n=0,String(n));(null==n?Promise.resolve():(0,l.markConversationSeen)(e.id,n)).then(function(){null!=n&&(e.unreadCount=n),e.unreadMsgAnchor=void 0,e.markedUnread=!1})}((0,c.unproxy)(e),t)}function b(e){!function(e){e.active&&(e.markedUnread=!0);(0,l.markConversationUnseen)(e.id).then(function(){e.unreadCount=-1})}((0,c.unproxy)(e))}function g(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.markedUnread||0===e.unreadCount)return String(e.markedUnread),e.unreadCount,Promise.resolve();if(!f.default.available&&t)return e.listenToOnce(f.default,"change:available",function(){return h(e)}),Promise.resolve();e.unreadCount,e.pendingSeenCount;var n=e.unreadCount-e.pendingSeenCount,r=-1===e.unreadCount&&-1===n;if(n<=0&&!r)return Promise.resolve();e.disableUnreadAnchor=!0,e.pendingSeenCount=e.unreadCount,e.pendingSeenCount;var a=function(){e.pendingSeenCount=e.pendingSeenCount-n,e.pendingSeenCount,e.pendingSeenCount<0&&(s.default.error("models:chat:sendSeen unread "+e.unreadCount+" pending: "+e.pendingSeenCount+" delta: "+n)(),e.pendingSeenCount=0)},o=e.getLastMsgKeyForAction();return(0,l.sendConversationSeen)(e,o,n).then(function(t){a(),t._duplicate||m(e,n)}).catch(i.ServerStatusCodeError,function(e){return a(),Promise.reject(e)}).catch(i.WapDrop,u.ProtoVersionUndefined,function(e){a(),s.default.error("models:chat:sendConversationSeen dropped")()})}},dgeebjciej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHash=function(e){return(e instanceof u.default?(0,i.opaqueDataToArrayBuffer)(e):(0,c.blobToArrayBuffer)(e)).then(function(e){return(0,d.default)(e)})},t.decrypt=y,t.decryptE2EMedia=function(e,t,n,r,i){var u=void 0,c=Promise.resolve().then(function(){if(!e)throw new a.MediaEncryptionError('decrypt async, missing "type"');if(!(t instanceof ArrayBuffer))throw new a.MediaEncryptionError('decrypt async, missing "payload"');if(!n)throw new a.MediaEncryptionError('decrypt async, missing "mediaKey"');if(u=new s.default.WebcCryptoMedia({webcCryptoType:s.default.WEBC_CRYPTO_TYPE_CODE.DECRYPT,webcCryptoLibrary:s.default.WEBC_CRYPTO_LIBRARY_CODE.WEBCRYPTO,webcCryptoFileSize:t.byteLength}),t.byteLength<10)throw new a.MediaEncryptionError(`ciphertext too short: ${t.byteLength}`);return(0,o.default)(e,n).then(function(n){var a=n.iv,o=n.encKey,i=n.macKey,u=r||function(t){return l.default.getMediaMimeType(e,t)},s=t.byteLength-10,c=new Uint8Array(t,s),f=new Uint8Array(t,0,s);return y(new Uint8Array(o),new Uint8Array(a),f,new Uint8Array(i),c,u)})}).tap(function(e){e.autoreleaseWhenPromiseCompletes(c),u.markWebcCryptoElapsedT(),u.commit()}).catch(function(e){return!(e instanceof a.MediaEncryptionError)},function(e){var t=e instanceof Error?`encryption error: ${String(e)}; stack: ${e.stack}`:`encryption error: ${String(e)};`;throw new a.MediaEncryptionError(t)});return c},t.encryptE2EMedia=function(e,t,n){var r=void 0,l=(0,i.opaqueDataToArrayBuffer)(t).then(function(t){if(!e)throw new a.MediaEncryptionError('encrypt async, missing "type"');if(!n)throw new a.MediaEncryptionError('encrypt async, missing "mediaKey"');return r=new s.default.WebcCryptoMedia({webcCryptoType:s.default.WEBC_CRYPTO_TYPE_CODE.ENCRYPT,webcCryptoLibrary:s.default.WEBC_CRYPTO_LIBRARY_CODE.WEBCRYPTO}),(0,o.default)(e,n).then(function(n){var a=n.iv,o=n.encKey,i=n.macKey;return(0,f.aesCbcEncrypt)(o,new Uint8Array(t),new Uint8Array(a)).then(function(t){var n=t.slice(a.byteLength),o=new p.default(i);return o.sign(t,v).then(function(a){var o=Promise.resolve();if(e===b.default.VIDEO||e===b.default.AUDIO){var s=(0,h.default)(t,a);o=(0,m.default)(s,i)}var c=(0,h.default)(n,a),f=(0,d.default)(c),p=u.default.createFromData(c,"application/octet-stream").tap(function(e){e.autoreleaseWhenPromiseCompletes(l),r.webcCryptoFileSize=e.size(),r.markWebcCryptoElapsedT(),r.commit()});return Promise.props({ciphertext:p,hash:f,sidecar:o})})})})}).catch(function(e){return!(e instanceof a.MediaEncryptionError)},function(e){var t=e instanceof Error?`encryption error: ${String(e)}; stack: ${e.stack}`:`encryption error: ${String(e)};`;throw new a.MediaEncryptionError(t)});return l};var r=g(n("dbajccegac")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),o=g(n("feacbgeaf")),i=n("fabajdgab"),u=g(n("beeieigghj")),s=g(n("bfbggcdbfb")),l=g(n("behbjhhbg")),c=n("cgffhfegce"),f=n("eaiigfgagg"),d=g(n("jjijgifac")),p=g(n("bbejegbieb")),h=g(n("cdfccifhg")),m=g(n("bdfbijjhda")),b=g(n("gbjefdbgb"));function g(e){return e&&e.__esModule?e:{default:e}}var v=10;function y(e,t,n,o,i,s){return Promise.resolve().then(function(){if(!(10<=i.length&&i.length<=32))throw new a.MediaEncryptionError("Given bad expected hmac");var u=r.default.build(t,n).readByteArray();return new p.default(o).sign(u).then(function(t){for(var n=new Uint8Array(t,0,i.length),r=!1,o=0;o<n.length;o++)n[o]!==i[o]&&(r=!0);if(r)throw new a.MediaEncryptionError("hmac check failure");return(0,f.aesCbcDecrypt)(e,u)})}).then(function(e){var t="string"==typeof s?s:s(new Uint8Array(e));return u.default.createFromData(e,t)})}},dgefajbgai:function(e,t){e.exports={muted:"_1lp_L",item:"_22OEK",itemBody:"_317xe",row:"_22FXD",main:"_2s00i",side:"_3BAin",primary:"_1VI-m",secondary:"fwByR"}},dgfcjhijbf:function(e,t,n){"use strict";var r,a=n("bdiiahhjbe"),o=(r=a)&&r.__esModule?r:{default:r};var i={queryVname:function(e){var t=this;return new Promise(function(n,r){var a=t.queryNode({type:"vname",jid:e},void 0);t.binSend("sendEphemeral",a,r,{onSend:t.binWrap(function(a){t.BinaryProtocol.read(a).then(function(r){var a=void 0;o.default.logColor("green","bin-recv: response,vname",r)(),"response"===t.N.tag(r)&&"vname"===t.N.attr("type",r)&&(a=t.parseContact(t.N.child("user",r),e)),n(a)}).catch(r)},n),onDrop:t.wrap(r)},{debugString:`query,vname,${e}`,metricName:"QUERY_VNAME"})})}};e.exports=i},dgfecega:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FIT_TYPE=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("bgddggdhc"),u=d(n("ceffhbhahb")),s=d(n("eceadcicaf")),l=n("ejbdjaifi"),c=d(n("bdiiahhjbe")),f=d(n("bfihjhiege"));function d(e){return e&&e.__esModule?e:{default:e}}t.FIT_TYPE={CONTAIN:"contain",COVER:"cover",SCALE_DOWN:"scaleDown",ZOOM_IN:"zoomIn"};var p="transform 300ms cubic-bezier(.1,.82,.25,1)",h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setRefObject=function(e){return n.refObject=e},n.onObjectLoad=function(){var e=n.props.onObjectLoad;e&&n.refObject&&n.refObject.firstChild&&e(n.refObject.firstChild)},n.state={style:{visibility:"hidden"},className:(0,u.default)(f.default.fit)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this;this.shouldUseNativeObjectFit()||(this.initialize(this.props),this.props.listeners.add(window,"resize",function(){e.initialize(e.props)}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.shouldUseNativeObjectFit()||this.initialize(e)}},{key:"initialize",value:function(e){var t=e.size,n=e.type;if(t){var r=(0,i.forbiddenAssertDOMNode)(this),a=void 0;switch(n){case"contain":a=function(e,t,n){var r=e.clientWidth,a=e.clientHeight,o=t,i=n,s=0,l=0;o/r>i/a?(i*=r/o,o=r,i<a&&(s=a/2-i/2)):(o*=a/i,i=a,o<r&&(l=r/2-o/2));return{style:{width:o,height:i,top:s,left:l,position:"absolute"},className:(0,u.default)(f.default.fit)}}(r,t.width,t.height);break;case"cover":a=function(e,t,n){var r=e.clientWidth,a=e.clientHeight,o=t,i=n,s=0,l=0;o!==r&&(i*=r/o,o=r,i>a&&(s=a/2-i/2));i<a&&(o*=a/i,i=a,o>r&&(l=r/2-o/2));return{style:{width:o,height:i,top:s,left:l,position:"absolute"},className:(0,u.default)(f.default.fit)}}(r,t.width,t.height);break;case"scaleDown":a=m(r,t.width,t.height);break;case"zoomIn":a=function(e,t,n,r){var a=m(e,t,n).style,o=void 0;o=r?{width:a.width,height:a.height,transition:p,transform:`translateX(${r.translateX}px) translateY(${r.translateY}px) scale(${r.factor})`}:{width:a.width,height:a.height,transition:p};return{style:o,className:(0,u.default)(f.default.fit,f.default.fitScaledown,f.default.fitZoomin)}}(r,t.width,t.height,e.zoomIn);break;default:return void c.default.assert(!1,"object-fit",`unrecognized type ${n}`)()}this.setState(a,this.onObjectLoad)}}},{key:"shouldUseNativeObjectFit",value:function(){return!1}},{key:"render",value:function(){if(this.shouldUseNativeObjectFit())return o.createElement("div",{className:f.default.nativeScaleDown},this.props.children);var e=this.props,t=this.state,n=(0,u.default)(t.className,{[f.default.fitRelative]:"relative"===e.position}),a=this.props.objectPosition?r({},t.style,{position:this.props.objectPosition}):t.style;return o.createElement("div",{className:n},o.createElement("div",{style:a,ref:this.setRefObject},e.children))}}]),t}();function m(e,t,n){var r=e.clientWidth,a=e.clientHeight,o=n,i=t;return o>a&&(o=a,i=t*(a/n)),i>r&&(i=r,o=n*(r/t)),{style:{width:i,height:o},className:(0,u.default)(f.default.fit,f.default.fitScaledown)}}h.displayName="ObjectFit",t.default=(0,s.default)((0,l.hoc)(h))},dgfhiaehb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("echehdcaii")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("cjijggjfed"),u=s(i);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._setRef=function(e){r._ref=e},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"render",value:function(){var e=this.props,t=e.column,n=e.carouselNumColumns,a=e.index,s=e.menuWidth,l=void 0;l=null!=s&&0!==s?`${(0,r.default)(s/n)}px`:`${100/n}%`;var c=0!==a&&(t<=0||t>=n),f=l10n.isRTL()?-1:1;return o.createElement(u.default,{onRef:this._setRef,onClick:this.props.onClick,sectionId:a,selected:this.props.selected,theme:c?i.THEMES.CAROUSEL_END:i.THEMES.CAROUSEL,transform:`translateX(${100*t*f}%)`,width:l},this.props.children)}}]),t}();c.displayName="CarouselMenuItem",t.default=c},dggbjaijga:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("ihfccfgdf")),i=n("ejbdjaifi"),u=h(n("fffdgbfji")),s=h(n("cdegfghcid")),l=h(n("bfdcadbbif")),c=h(n("fabjefgai")),f=h(n("ceffhbhahb")),d=h(n("jccfhaecf")),p=h(n("didfdhbecg"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.shouldAnimate=!1,m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"UNSAFE_componentWillUpdate",value:function(e){this.shouldAnimate=d.default.equals(this.props.chat.id,e.chat.id)}},{key:"render",value:function(){var e=this.props,t=e.chat,n=e.mute.isMuted?a.createElement("div",{className:c.default.icon,key:"icon-muted"},a.createElement(l.default,{name:"muted"})):null,r=null!=t.pin&&t.pin>0?a.createElement("div",{className:c.default.icon,key:"icon-pinned"},a.createElement(l.default,{name:"pinned"})):null,o=0!==t.unreadCount?a.createElement("div",{className:c.default.icon,key:"icon-unread"},a.createElement(s.default,{count:t.unreadCount})):null,i=t.archive?a.createElement("span",{className:(0,f.default)(c.default.icon,c.default.archived),key:"icon-archived"},u.default.t(288)):null;return a.createElement(p.default,{transitionName:"pop",transitionEnter:this.shouldAnimate,transitionLeave:this.shouldAnimate},n,i,r,o)}}]),t}();b.CONCERNS={chat:["id","unreadCount","archive","pin"],mute:["isMuted"]},b.displayName="Icons",t.default=(0,o.default)((0,i.hoc)(b),b.CONCERNS)},dggccgeid:function(e,t){e.exports={muted:"_1E-HR",content:"_1VwzF"}},dggeggcjcd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=O(n("bcdjgfbfa")),a=O(n("iidhbgeed")),o=O(n("dbafiicfja")),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),s=O(n("dhbceejbjg")),l=O(n("dbdfbgehgj")),c=O(n("gbfffciea")),f=O(n("cdbcigcahd")),d=O(n("fffdgbfji")),p=O(n("fifhbjiec")),h=O(n("dhhfaeacef")),m=n("bidfjbaebi"),b=O(n("bahgfcjcda")),g=n("eagfdbhhhh"),v=O(n("cgfjebhhej")),y=n("dcbdjheea"),_=O(n("djbfhebjhe")),E=O(n("bfdcadbbif")),j=O(n("dggccgeid"));function O(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),i(t,[{key:"openChat",value:function(e){c.default.closeModal(),l.default.find((0,y.numberToWid)(e)).then(function(e){c.default.openChatFromUnread(e).then(function(t){t&&c.default.focusChatTextInput(e)})})}},{key:"sendEmail",value:function(e){var t=`mailto:${e}`;(0,m.openExternalLink)(t)}},{key:"openLocation",value:function(e){var t=`https://maps.google.com/maps/search/${(0,o.default)((0,a.default)(e),encodeURIComponent).join(", ")}?hl=${d.default.getLocale()}`;(0,m.openExternalLink)(t)}},{key:"getHeader",value:function(){var e=this.props.parsedVCard,t=v.default.vcardWAids(e),n=u.createElement(p.default,{text:v.default.getNameFromParsedVCard(e),direction:"auto",titlify:!0,ellipsify:!0,selectable:!0}),r=v.default.getOrganizationString(e),a=u.createElement(b.default,{thumb:this.props.thumbnail,size:h.default.Size.SMALL,waid:v.default.thumbnailWAid(t)});return u.createElement(s.default,{image:a,theme:"plain",primary:n,secondary:r})}},{key:"render",value:function(){var e=this,t=this.props.parsedVCard,n=(0,a.default)(t.TEL,function(e){return e.properties.waid}),i=(0,a.default)(t.TEL,function(e){return!e.properties.waid}),s=(0,o.default)(n,function(t){var n=(0,r.default)(t.properties.waid),a=u.createElement(E.default,{name:"chat",onClick:function(){return e.openChat(n)}}),o=u.createElement(g.SelectableSpan,{selectable:!0},(0,_.default)(n));return u.createElement(f.default,{title:o,icon:a,key:`vCard-${String(t.index)}`},v.default.getType(t))}),l=(0,o.default)(t.EMAIL,function(t){return u.createElement(f.default,{title:d.default.forceLTR(t.value),onClick:function(){return e.sendEmail(t.value)},key:`vCard-${String(t.index)}`},v.default.getType(t))}),c=(0,o.default)(t.ADR,function(t){var n=t.value.join(" ");return u.createElement(f.default,{title:n,onClick:function(){return e.openLocation(t.value)},key:`vCard-${String(t.index)}`},v.default.getType(t))}),p=(0,o.default)(i,function(e){return u.createElement(f.default,{title:d.default.forceLTR(e.value),key:`vCard-${String(e.index)}`},v.default.getType(e))}),h=(0,o.default)(t.SERVICE,function(e){return u.createElement(f.default,{title:e.value,key:`vCard-${String(e.index)}`},v.default.getType(e))}),m=(0,o.default)(t.BDAY,function(e){return u.createElement(f.default,{title:v.default.getDate(e.value),key:`vCard-${String(e.index)}`},d.default.t(1056))}),b=(0,o.default)(t.NICKNAME,function(e){return u.createElement(f.default,{title:e.value,key:`vCard-${String(e.index)}`},d.default.t(1066))}),y=this.getHeader();return u.createElement("div",null,y,u.createElement("div",{className:j.default.content},s,l,c,p,m,b,h))}}]),t}();S.displayName="VCardModalDetails",t.default=S},dggfjficbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=w(n("djcchigfih")),i=n("dajffajabh"),u=w(i),s=w(n("djbhiedbef")),l=w(n("begicajfb")),c=w(n("icghcjegh")),f=w(n("bfdcadbbif")),d=w(n("bijffg")),p=w(n("dceicchccd")),h=w(n("baiheeddah")),m=n("ejbdjaifi"),b=w(n("eceadcicaf")),g=n("bhfdfhefca"),v=w(n("bhhdeihhhf")),y=w(n("dbgdaechch")),_=w(n("cbcbdjdah")),E=w(n("gbfffciea")),j=w(n("biddiiafgd")),O=n("bddhdheedf"),S=w(n("bfbggcdbfb"));function w(e){return e&&e.__esModule?e:{default:e}}var P=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.openColorPicker=function(){var t=e.props.labelId,n=d.default.assertGet(t);e.props.openLabelColorDrawer(e.props.labelId,n.color)},e.openEditLabel=function(){e.props.onEditLabel&&e.props.onEditLabel(e.props.labelId)},e.onCancelLabelSelection=function(){e.multiSelection.unsetAll()},e.renderMenu=function(){return a.createElement(g.MenuBarItem,{a8nText:"starred-menu",icon:a.createElement(f.default,{name:"menu-white"}),title:l10n.t(669)},a.createElement(y.default,{type:"dropdown_menu",flipOnRTL:!0,key:"labelChooseColor",dirX:"LEFT"},a.createElement(v.default,{a8n:"menu-item",action:e.openColorPicker},l10n.t(583)),a.createElement(v.default,{a8n:"menu-item",action:e.openEditLabel},l10n.t(399))))},e.onRemoveLabel=function(){var t=e.multiSelection.getSelected(),n=e.props,r=n.onRemoveLabel,o=n.labelId;if(r){var i=d.default.assertGet(o);(0,O.logLabelOperationEvent)(S.default.LABEL_OPERATIONS.VIEW,t.length,S.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG),E.default.openModal(a.createElement(j.default,{title:l10n.t(883,{count:t.length,labelName:i.name,_plural:t.length}),okText:l10n.t(1225),cancelText:l10n.t(1091),onCancel:e._closeModal,onOK:e.onRemoveLabelConfirmed.bind(null,o,t)}))}},e._closeModal=function(){var t=e.multiSelection.getSelected();(0,O.logLabelOperationEvent)(S.default.LABEL_OPERATIONS.CLICK_NEGATIVE,t.length,S.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG),E.default.closeModal()},e.onRemoveLabelConfirmed=function(t,n){E.default.closeModal(),e.onCancelLabelSelection(),e.props.onRemoveLabel(t,n),(0,O.logLabelOperationEvent)(S.default.LABEL_OPERATIONS.CLICK_POSITIVE,n.length,S.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG)},e.multiSelection=new p.default([],function(e){return e.id.toString()}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.props.listeners.add(this.multiSelection,"all",function(){return e.forceUpdate()}),(0,O.logLabelOperationEvent)(S.default.LABEL_OPERATIONS.VIEW,void 0,S.default.LABEL_TARGETS.LABEL_DETAILS_SCREEN)}},{key:"hasMixedSelection",value:function(e){for(var t=void 0,n=void 0,r=0;r<e.length;r++){if(e[r]instanceof _.default?n=!0:t=!0,t&&n)return!0}return!1}},{key:"render",value:function(){var e=this.props.labelId,t=this.multiSelection.getSelected(),n=this.hasMixedSelection(t),r=parseInt(d.default.assertGet(e).count,10),f=this.multiSelection.getSelected().length>0?a.createElement(h.default,{labelEditEnabled:!n,onRemoveLabel:this.onRemoveLabel,selectedModels:this.multiSelection,onCancel:this.onCancelLabelSelection,theme:"drawer-header"}):a.createElement(u.default,{onBack:this.props.onClose,menu:r>0?this.renderMenu():void 0,type:i.DRAWER_HEADER_TYPE.LABELS},a.createElement(c.default,{labels:[this.props.labelId],renderAsCircle:!0,showName:!0,theme:"drawer-title"}));return a.createElement(o.default,{theme:"settings"},f,a.createElement(s.default,null,a.createElement(l.default,{hideMultiSelectBar:!0,multiSelection:this.multiSelection,labelFilter:this.props.labelId,selectable:!0})))}}]),t}();P.displayName="LabelItemDrawer",t.default=(0,b.default)((0,m.hoc)(P))},dggicghjch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=P(n("effbcehec")),i=P(n("bjigbaghc")),u=P(n("dhigahgdjb")),s=P(n("bggeiidigb")),l=P(n("cicjcfabii")),c=n("bbhhbdicgc"),f=P(c),d=P(n("bgcdajbhif")),p=P(n("cgebaggcga")),h=P(n("eceadcicaf")),m=n("ejbdjaifi"),b=n("cicgeajfge"),g=P(n("gdhdegbhg")),v=P(n("dhhfaeacef")),y=P(n("ccaaiecfib")),_=P(n("fffdgbfji")),E=P(n("bjebjijbfc")),j=P(n("bfdcadbbif")),O=P(n("cajjfeahjc")),S=P(n("cahfddcdga")),w=P(n("bfgbdiffgd"));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N="SEC_UNREAD",k="SEC_READ",I="SEC_MUTED",R="ROW_STATUS",L=function(e){function t(){C(this,t);var e=T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));D.call(e);var n=e.getUnreadStatusList(),r=e.getReadStatusList(),a=[].concat(M(n),M(r)).filter(function(e){return e.contact.statusMute});return e.state={unreadStatusList:n.filter(function(e){return!e.contact.statusMute}),readStatusList:r.filter(function(e){return!e.contact.statusMute}),mutedStatusList:a,myStatus:d.default.getMyStatus(),isMutedExpanded:!e.collapsedMutedStatusEnabled},e}return A(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.listeners.add(d.default,"add remove bulk_add sort change:msgsChanged change:hasUnread",this.onStatusChange),this.props.listeners.add(u.default,"change:statusMute",this.onContactMuteChange),this.props.listeners.add(d.default,"sync")}},{key:"getUnreadStatusList",value:function(){return d.default.getUnexpired(!0)}},{key:"getReadStatusList",value:function(){return d.default.getUnexpired(!1)}},{key:"getData",value:function(){var e=this.state,t=e.unreadStatusList,n=e.readStatusList,r=e.mutedStatusList,a=[];return t.length>0&&(a.push({type:N,itemKey:"section-unread",height:48}),a.push.apply(a,M(t.map(function(e,t){return{type:R,itemKey:e.id.toString(),height:64,status:e,index:t}})))),n.length>0&&(a.push({type:k,itemKey:"section-read",height:48}),a.push.apply(a,M(n.map(function(e,t){return{type:R,itemKey:e.id.toString(),height:64,status:e,index:t}})))),r.length>0&&(a.push({type:I,itemKey:"section-muted",height:48,expanded:this.state.isMutedExpanded}),this.state.isMutedExpanded&&a.push.apply(a,M(r.map(function(e,t){return{type:R,itemKey:e.id.toString(),height:64,status:e,index:t}})))),a}},{key:"render",value:function(){var e=this.getData(),t=void 0;return t=d.default.hasSynced()&&e.length>0?a.createElement(f.default,{className:"statusList",itemEnterAnimationsEnabled:this.collapsedMutedStatusEnabled,flatListController:this.flatListController,data:e,renderItem:this.renderItem}):a.createElement(b.ListStatus,null),a.createElement("div",{className:O.default.listPanel},a.createElement(x,{statusV3:this.state.myStatus,onOpenStatus:this.props.onOpenStatus}),a.createElement(l.default,{className:O.default.listBody,flatListControllers:[this.flatListController]},t))}}]),t}(),D=function(){var e=this;this.collapsedMutedStatusEnabled=y.default.supportsFeature(y.default.F.COLLAPSED_MUTED_STATUS),this.flatListController=new s.default,this.onStatusChange=function(){var t=e.getUnreadStatusList(),n=e.getReadStatusList(),r=[].concat(M(t),M(n)).filter(function(e){return e.contact.statusMute});e.setState({unreadStatusList:t.filter(function(e){return!e.contact.statusMute}),readStatusList:n.filter(function(e){return!e.contact.statusMute}),mutedStatusList:r,myStatus:d.default.getMyStatus()})},this.onContactMuteChange=function(){var t=e.getUnreadStatusList(),n=e.getReadStatusList(),r=[].concat(M(t),M(n)).filter(function(e){return e.contact.statusMute});e.setState({unreadStatusList:t.filter(function(e){return!e.contact.statusMute}),readStatusList:n.filter(function(e){return!e.contact.statusMute}),mutedStatusList:r,myStatus:d.default.getMyStatus()})},this.toggleMuted=function(){e.setState(function(e){return{isMutedExpanded:!e.isMutedExpanded}})},this.renderItem=function(t){switch(t.type){case N:return a.createElement("div",{className:O.default.listSectionSep},a.createElement("hr",null),a.createElement("div",{className:O.default.listSectionText},a.createElement("span",null,_.default.t(1003))));case k:return a.createElement("div",{className:O.default.listSectionSep},a.createElement("hr",null),a.createElement("div",{className:O.default.listSectionText},a.createElement("span",null,_.default.t(1009))));case I:return a.createElement("div",{className:O.default.listSectionSep},a.createElement("hr",null),a.createElement("div",{className:O.default.listSectionText},a.createElement("span",null,_.default.t(997)),e.collapsedMutedStatusEnabled&&a.createElement("button",{className:O.default.listSectionAction,onClick:e.toggleMuted},t.expanded?_.default.t(994):_.default.t(995))));case R:return a.createElement(p.default,{statusV3:t.status,onClick:function(){return e.props.onOpenStatus(t.status,void 0,t.index)},contact:t.status.contact});default:throw new c.UnknownDataError(t)}}};L.displayName="StatusV3ListPanel";var x=function(e){function t(){return C(this,t),T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,a.Component),r(t,[{key:"render",value:function(){var e=this,t=void 0,n=this.props.statusV3,r=void 0,u=void 0;n&&(u=n.msgs);var s=function(){var t=n&&n.msgs;n&&t&&t.length&&e.props.onOpenStatus(n,t.head(),0)},l=void 0,c=void 0;if(n&&u&&u.length){t=a.createElement(g.default,{statusV3:n,contact:n.contact,onClick:s});var f=(0,S.default)(u.last()).t;r=a.createElement("span",{className:O.default.secondaryHeaderText},w.default.statusRanking&&y.default.supportsFeature(y.default.F.STATUS_RANKING)?_.default.t(1e3,{count:u.length,_plural:u.length}):E.default.relativeDateAndTimeStr(f)),c={cursor:"pointer"},l=s}else t=a.createElement(v.default,{id:i.default.me,theme:"status_v3",size:40}),r=a.createElement("span",{"data-a8n":o.default.key("status-no-updates"),className:O.default.secondaryHeaderText},_.default.t(999));var d=void 0,p=void 0;y.default.supportsFeature(y.default.F.STATUS_V3_UI_SENDING)&&(d=a.createElement(j.default,{name:"menu-white"}),p=a.createElement(j.default,{name:"status-v3-create"}));var h=a.createElement("span",{"data-a8n":o.default.key("my-status"),className:O.default.primaryHeaderText},_.default.t(998));return a.createElement("div",{className:O.default.panelHeader,style:c,onClick:l},a.createElement("div",{className:O.default.headerButtonsPrimary},t),a.createElement("div",{className:O.default.headerText},h,r),a.createElement("div",{className:O.default.headerButtonsSecondary},p,d))}}]),t}();x.displayName="StatusV3ListHeader",t.default=(0,h.default)((0,m.hoc)(L))},dghbeeheia:function(e,t){e.exports={muted:"_2AUIc",note:"lfgvk",icon:"OYyjt",noteBody:"_2QOAV"}},dghebhejhb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("ceffhbhahb")),i=m(n("cehjjfagii")),u=m(n("ihfccfgdf")),s=n("ejbdjaifi"),l=m(n("cieaeggjg")),c=m(n("bjddgjgae")),f=m(n("bgghfidcfh")),d=m(n("bcbhcfbjff")),p=n("ddbddjjgia"),h=m(n("ccaaiecfib"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._stopPropagation=function(e){e.stopPropagation()},r._handleDownloadMedia=function(){return r.props.msg.downloadMedia()},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.msg.downloadMedia()}},{key:"render",value:function(){var e=this.props.msg,t=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg,n=t?a.createElement("div",{className:d.default.author},a.createElement(i.default,{msg:e,contact:e.senderObj})):null,r=this.props.quotedMsg?a.createElement("div",{className:d.default.quote},this.props.quotedMsg):null,u=(0,o.default)(d.default.bubble,{[d.default.hasAuthor]:t,[d.default.isFirst]:this.props.position===p.MsgPosition.FRONT||this.props.position===p.MsgPosition.SINGLE,[d.default.isTransparent]:!e.quotedMsg});return a.createElement("div",{className:u,onClick:this._stopPropagation},n,r,a.createElement("div",{className:d.default.body},a.createElement(c.default,{mediaData:this.props.mediaData,msg:e},a.createElement(f.default,{mediaData:this.props.mediaData,theme:"conversation",isNewMsg:e.isNewMsg,downloadMedia:h.default.supportsFeature(h.default.F.REPLACE_MEDIABLOB)?this._handleDownloadMedia:null})),a.createElement("div",{className:d.default.meta},a.createElement(l.default,{msg:e}))))}}]),t}();g.CONCERNS={msg:["isNewMsg","isSentByMe","isGroupMsg","senderObj","quotedMsg"]},g.displayName="StickerBubble",t.default=(0,u.default)((0,s.hoc)(g),g.CONCERNS)},dghggcieid:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("dcaifjegcg"),o=(r=a)&&r.__esModule?r:{default:r};function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.id=(0,a.prop)(),r.weight=(0,a.prop)(),i(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();u.Proxy="recentEmoji",t.default=(0,a.defineModel)(u)},dghjhchjic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("dffgeedefc")),a=i(n("cgcgbfbffj")),o=i(n("ccdbdjihjh"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();u.model=o.default,u.comparator=function(e,t){return e.id===t.id?0:(0,r.default)(e.id,t.id)?-1:1},t.default=u},dgibicjjj:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=h(n("effbcehec")),u=h(n("fifhbjiec")),s=h(n("didfdhbecg")),l=h(n("becfabjeeg")),c=h(n("bfdcadbbif")),f=n("gaifbabbj"),d=h(n("dhbceejbjg")),p=h(n("bcibfcjcbf"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={hover:!1,contextMenu:!1},r.setRefContext=function(e){return r.refContext=e},r.handleMenuMouseDown=function(e){var t=r.props,n=t.contextEnabled,a=t.onContext;n()&&(e.stopPropagation(),e.preventDefault(),a&&a({anchor:e.target}))},r.handleMenuClick=function(e){e.stopPropagation()},r.onContextMenu=function(e){var t=r.props,n=t.contextEnabled,a=t.onContext;n()&&(e.stopPropagation(),e.preventDefault(),a&&a({event:e}))},r.openContextMenu=function(){r.props.contextEnabled()&&r.setState({contextMenu:!0},function(){if(!r.refContext)throw new Error("Context ref not set");r.refContext.click()})},r.mouseOver=function(){r.state.hover||r.props.contextMenu||!r.props.contextEnabled()||r.setState({hover:!0})},r.mouseEnter=function(){r.state.hover||r.props.contextMenu||!r.props.contextEnabled()||r.setState({hover:!0})},r.mouseLeave=function(){r.state.hover&&r.setState({hover:!1})},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"UNSAFE_componentWillUpdate",value:function(e){this.props.contextMenu&&this.state.contextMenu&&!e.contextMenu&&this.setState({contextMenu:!1})}},{key:"render",value:function(){var e=this.props.contextMenu||this.state.contextMenu||this.state.hover,t=(0,a.default)(this.props.className,{hover:e}),n="string"==typeof this.props.primary?o.createElement(u.default,{text:this.props.primary,direction:"auto",formatters:f.Configuration.Search({terms:this.props.searchText?[this.props.searchText]:[]}),titlify:!0,ellipsify:!0}):this.props.primary,r=null,h=null;null!=this.props.pendingAction&&this.props.pendingAction>0?h=o.createElement("div",{className:p.default.btnContext},o.createElement(l.default,{size:18,stroke:6,color:"highlight"})):e&&(r=o.createElement("div",{"data-a8n":i.default.key("context-btn"),className:p.default.btnContext,key:"icon-context",ref:this.setRefContext,onMouseDown:this.handleMenuMouseDown,onClick:this.handleMenuClick},o.createElement(c.default,{name:"down"})));var m=o.createElement(s.default,{transitionName:"fade"},h),b=o.createElement(s.default,{transitionName:"pop-fast-chat"},e?r:null),g=void 0,v=void 0;return this.props.secondary?(g=this.props.primaryDetail,v=[o.createElement(o.Fragment,{key:"prop"},this.props.secondaryDetail),o.createElement(o.Fragment,{key:"spinner"},m),o.createElement(o.Fragment,{key:"button"},b)]):g=[o.createElement(o.Fragment,{key:"prop"},this.props.primaryDetail),o.createElement(o.Fragment,{key:"spinner"},m),o.createElement(o.Fragment,{key:"button"},b)],o.createElement(d.default,{image:this.props.image,customImage:this.props.customImage,className:t,unread:this.props.unread,active:this.props.active,dragging:this.props.dragging,theme:this.props.theme,primary:n,primaryDetail:g,secondary:this.props.secondary,secondaryDetail:v,detail:this.props.detail,onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onContextMenu:this.props.contextEnabled()?this.onContextMenu:null,onMouseEnter:this.state.hover?null:this.mouseEnter,onMouseOver:this.state.hover?null:this.mouseOver,onMouseLeave:this.state.hover?this.mouseLeave:null})}}]),t}();b.displayName="Cell",e.exports=b},dgicehhija:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n("hajciceai")),a=v(n("dbafiicfja")),o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){var t=o(e,1)[0],n=void 0,v=void 0,_=void 0;function E(e,n){var r=void 0;r=b.default.isStatusV3(t.broadcast)?new p.default({from:t.from,to:t.broadcast,id:n,selfDir:t.self||"out"}):new p.default({from:t.from,to:e,id:n,participant:t.participant,selfDir:t.self||"out"});var a=m.default.Msg.get(r);a?(0,f.updateMsgAck)(a,t.broadcast,{from:t.from,to:e,ack:t.ack,t:t.t}):(d.default.log("Msg:out of order ack",t)(),m.default.Msg.preAck[r]=t)}if("ack"===t.cmd){var j=[t.to];if(b.default.isBroadcast(t.to)&&1===t.ack){var O=m.default.GroupMetadata.get(t.to);O&&Array.prototype.push.apply(j,(0,a.default)(O.participants.toArray(),"id"))}j.forEach(function(e){E(e,t.id)})}else if("acks"===t.cmd)t.id.forEach(function(e){E(t.to,e)});else if(t.msg){if(!(t.chat instanceof b.default))return;y(t.chat,t.msg,t.meta)}else if(t.msgs){var S=t.msgs.length;if(!S)return;if(!(t.chat instanceof b.default))return;(n=t.meta).isHistory=!0,"unread"===n.add&&(n.firstUnreadKey=new p.default({fromMe:n.unreadFromMe,remote:t.chat,id:n.unreadId,participant:n.unreadParticipant}),v=new i.default);for(var w=0;w<S;w++)t.msgs[w].invis=!0;l.default.platform===s.PLATFORMS.IPHONE&&m.default.Msg.trigger(u.default.COLLECTION_HAS_SYNCED),m.default.Msg.trigger("handle:msg_history",{count:t.msgs.length,binarySize:t.binarySize}),(0,h.storeMessages)(t.msgs).then(function(){return(0,h.addMessagesToHistory)(t.chat,t.msgs,n)}).then(function(){return m.default.Msg.processMultipleMessages(t.chat,t.msgs,n,v)}).catch(c.LogoutDrop,function(){}).catch(function(e){d.default.assert(!1,"msg_handler: error storing/processing multiple messages",`Msgs count: ${S} Chat: ${String(t.chat)} Error: ${e.name}, message: ${e.message}, stack: ${e.stack}`)(e)})}else if(t.recent){n=t.meta,_=t.binarySize,delete t.recent,delete t.meta,delete t.binarySize,m.default.Msg.trigger(u.default.COLLECTION_HAS_SYNCED,{count:(0,r.default)(t).length,binarySize:_}),n.isHistory=!0;var P=function(e){var r=void 0;try{r=(0,g.createWid)(e)}catch(e){return"continue"}"last"===n.add&&n.resume&&(v=new i.default);var a=t[e];a.invis=!0,(0,h.storeMessages)([a]).then(function(){return(0,h.addMessagesToHistory)(r,[a],n)}).then(function(){return m.default.Msg.processMultipleMessages(r,[a],n,v)}).catch(c.LogoutDrop,function(){}).catch(function(e){d.default.assert(!1,"msg_handler: error storing recent messages")(e)})};for(var M in t)P(M)}else d.default.log("************** Msg else clause. something strange is going on")()},t.handleSingleMsg=y;var i=v(n("dbfjecijha")),u=v(n("eadfaddcj")),s=n("bjigbaghc"),l=v(s),c=n("ddjgcfjicj"),f=n("bcgdigeigb"),d=v(n("bdiiahhjbe")),p=v(n("ccgjijjbbj")),h=n("cceagdehdf"),m=v(n("bhggeigghg")),b=v(n("jccfhaecf")),g=n("dcbdjheea");function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){var r="update"===n.add;if(b.default.isStatusV3(e)&&!m.default.StatusV3.handleUpdate(t,n.checksum,r))return Promise.resolve();t.recvFresh=!0,t.isNewMsg=!0;var a=[t],o={add:"after",update:r,isHistory:!1},i=m.default.Chat.get(e);return(0,h.storeMessages)(a).then(function(){return(0,h.addMessagesToHistory)(e,a,o,i&&i.msgs&&i.msgs.last())}).then(function(){return m.default.Msg.processMultipleMessages(e,a,o)}).catch(c.LogoutDrop,function(){}).catch(function(n){d.default.assert(!1,"msg_handler: error storing/processing single message",`Msg: ${String(t.id)} chat: ${String(e)} Error: ${n.name}, message: ${n.message}, stack: ${n.stack}`)(n)})}},dgiechcbec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=_(n("bbjdcggice")),i=_(n("fffdgbfji")),u=_(n("eighdgacb")),s=_(n("dgjddffcfg")),l=_(n("cjbgdeaacg")),c=_(n("cibcaiabfd")),f=_(n("fifhbjiec")),d=_(n("bhcdbgbbad")),p=_(n("iabebjcej")),h=_(n("ccaaiecfib")),m=n("gaifbabbj"),b=_(n("ihfccfgdf")),g=_(n("eceadcicaf")),v=n("ejbdjaifi"),y=n("bheafeifce");function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var j=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.updateAfterFeatureFlagChange=function(){r.props.listeners._unmounted||r.forceUpdate()},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(h.default,h.default.FEATURE_CHANGE_EVENT,this.updateAfterFeatureFlagChange)}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.searchQuery,r=void 0===n?[]:n,h=e.msgType,b=e.author,g=[];t.isSentByMe&&!t.isRevoked&&g.push(a.createElement(l.default,{msg:t,key:"symbol"})),"Search"===h||t.isSentByMe||!t.isGroupMsg||t.isNotification||g.push(a.createElement(o.default,{contact:t.senderObj,key:"author"})),b&&"Search"===h&&(g.push(a.createElement(f.default,{text:b,direction:"auto",key:"author"})),g.push(a.createElement("span",{key:"divider"},":",""))),t.hasSymbol()&&g.push(a.createElement(c.default,{msg:t,key:"msg-symbol"})),t.isGroupNotification?g.push(a.createElement(d.default,{msg:t,clickable:!1,key:"status"})):t.isBroadcastNotification?g.push(a.createElement(p.default,{msg:t,clickable:!1,key:"broadcast_notification"})):g.push(a.createElement(f.default,{className:t.isRevoked?u.default.revoked:null,direction:t.dir,text:s.default.msgText((0,y.unproxy)(t),!1,!0),dirMismatch:t.rtl!==i.default.isRTL(),formatters:m.Configuration[h]({mentions:t.mentionMap(),terms:r}),ellipsify:!0,inlineblock:!0,key:"status"}));var v=i.default.embedDir(s.default.msgText((0,y.unproxy)(t)),t.rtl);return a.createElement("span",{className:u.default.last,title:v},g)}}]),t}();j.CONCERNS={msg:["dir","isGroupMsg","isGroupNotification","isBroadcastNotification","isNotification","isRevoked","isSentByMe","rtl","senderObj","type"]},j.displayName="LastMsg",t.default=(0,g.default)((0,b.default)((0,v.hoc)(j),j.CONCERNS))},dgijhbdidg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=D(n("cfjeggiiia")),a=D(n("eaaagccfda")),o=D(n("hhegggegb")),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=L(n("ddhijeejag")),s=D(n("gbfffciea")),l=D(n("eadfaddcj")),c=D(n("djcchigfih")),f=D(n("djbhiedbef")),d=n("dajffajabh"),p=D(d),h=L(n("cajijabhgb")),m=n("cicgeajfge"),b=D(n("bggeiidigb")),g=D(n("ddajbaceej")),v=D(n("dacfecidja")),y=n("dhfbfehaef"),_=D(y),E=D(n("eceadcicaf")),j=D(n("dbciicjiad")),O=D(n("dfcdejcheh")),S=D(n("bjbedjfe")),w=D(n("ceddibdhdb")),P=D(n("dcaibchbg")),M=D(n("becfabjeeg")),C=n("ejbdjaifi"),T=n("chhhffajfi"),A=D(n("dcjdgceiej")),N=D(n("bfejacaeaj")),k=D(n("ggfcffeaf")),I=n("ddjgcfjicj"),R=n("bbhhbdicgc");function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function D(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var U=k.default["-color-bg-light"],G=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,f=Array(c),d=0;d<c;d++)f[d]=arguments[d];return n=i=x(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),i.flatListController=new b.default,i.state={searchText:"",searching:!1,resultsUnavailable:!1},i.setSearch=function(e){return i.search=e},i.ftsMsgs=new v.default,i.selection=new P.default([],function(e){return e.id.toString()}),i.pending=!1,i._batchRenderState={},i._handleScroll=function(e){i.shouldFTSSearch(e)&&(i.fts(),i.pending=!0)},i.handleScroll=(0,o.default)(i._handleScroll,100),i._debounceSetState=new w.default(function(){i.setState(i._batchRenderState),i._batchRenderState={}}),i.batchSetState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:75;Object.assign(i._batchRenderState,e),i._debounceSetState.debounce(t)},i.fts=(0,a.default)(function(){i.pending=!1;var e=(0,r.default)(i.state.searchText||"");(0,T.numCodepoints)(e)<l.default.FTS_MIN_CHARS||(i._ftsPromise&&i._ftsPromise.cancel(),i._ftsPromise=Promise.resolve().then(function(){i.isFTSSearching()||i.batchSetState({searching:!0})}).then(function(){return i.ftsMsgs.search({chat:i.props.chat,count:i.getSearchCount(),searchTerm:e})}).checkpoint(i.props.rejectOnUnmount()).then(function(t){e===(0,r.default)(i.state.searchText)&&i.batchSetState({searching:!1,resultsUnavailable:!1})}).catch(h.Unmount,function(){}).catch(function(e){i.pending||i.batchSetState({searching:!1,resultsUnavailable:e instanceof I.E404})}))},l.default.FTS_TYPING_DELAY),i.fullTextSearch=function(e){var t=(0,r.default)(e);(0,T.numCodepoints)(t)>=l.default.FTS_MIN_CHARS?(i.fts(),i.pending=!0,i.state.searching||i.batchSetState({searching:!0})):(i.fts.cancel(),i.ftsMsgs.resetSearch(),i.ftsMsgs.delete(),i._ftsPromise&&i._ftsPromise.cancel(),i.pending=!1,i.state.searching&&i.batchSetState({searching:!1,resultsUnavailable:!1}))},i.shouldFTSSearch=function(e){return!(!i.ftsMsgs.hasMoreMsgs||i.pending||i.state.searching||i.ftsMsgs.searchPromise||(0,T.numCodepoints)(i.state.searchText||"")<l.default.FTS_MIN_CHARS)&&e.scrollTop+l.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight},i.isFTSSearching=function(){var e=i._batchRenderState;return"searching"in e?e.searching:i.state.searching},i.onSearch=function(e){if(e){if(e!==i.state.searchText){var t={searchText:e,resultsUnavailable:!1};i.fullTextSearch(e),i.setState({searchText:e}),i.batchSetState(t)}}else i.onStopSearch()},i.onStopSearch=function(){i.fts.cancel(),i.ftsMsgs.resetSearch(),i.ftsMsgs.delete(),i._ftsPromise&&i._ftsPromise.cancel(),i.pending=!1,i.setState({searchText:"",searching:!1})},i.onFocusList=function(e){e.repeat||i.refMsglist&&(i.search&&!i.search.isAtEnd()||(e.preventDefault(),e.stopPropagation(),(0,y.shouldIndicateFocus)(),i.refMsglist&&i.refMsglist.focusFirst()))},i.onOpenFirst=function(e){e.preventDefault();var t=i.ftsMsgs.head();if(t){var n=t.chat,r=n.getSearchContext(t);s.default.focusChatTextInput(n),s.default.openChatAt(n,r)}},i.onFocusSearch=function(){(0,y.shouldIndicateFocus)(),g.default.focus(i.search)},i.onClose=function(){i.context.uim.uie.requestDismiss()},i.indicateFocus=function(e){(0,y.indicateFocus)(i.refInputHotkey,[U,"#D9F3FF"])},i.onScroll=function(e){i.handleScroll(e.currentTarget)},i.getEmptyChatlistState=function(e){if(e.length)return null;var t=(0,r.default)(i.state.searchText||"");return(0,T.numCodepoints)(t)>=l.default.FTS_MIN_CHARS?i.state.searching?u.createElement(m.SearchingMessages,null):i.state.resultsUnavailable?u.createElement(m.SearchMessagesUnavailable,null):u.createElement(m.SearchMessages,null):(0,m.BeforeSearchMessages)(i.props.chat.title(),i.props.chat.isGroup)},i.setRefMsglist=function(e){i.refMsglist=e},i.setInputHotkey=function(e){i.refInputHotkey=e},x(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),i(t,[{key:"componentDidMount",value:function(){this.onFocusSearch(),this.props.listeners.add(this.ftsMsgs,"bulk_remove")}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel(),this.fts.cancel(),this.ftsMsgs.delete(!0),this._ftsPromise&&this._ftsPromise.cancel(),this._debounceSetState.cancel()}},{key:"getSearchCount",value:function(){return Math.round(window.innerHeight/R.DEFAULT_ITEM_HEIGHT)+1}},{key:"render",value:function(){var e=this.ftsMsgs.toArray(),t=this.getEmptyChatlistState(e);if(!t){var n=this.state.searchText?(0,r.default)(this.state.searchText):null;t=u.createElement(O.default,{ref:this.setRefMsglist,flatListController:this.flatListController,isSearching:!!this.state.searchText,searchText:n,ftsResult:e,selection:this.selection,onFocusSearch:this.onFocusSearch})}var a={down:this.onFocusList,enter:this.onOpenFirst},o=this.state.searching&&e.length?u.createElement("div",{className:k.default.searchSpinner},u.createElement(M.default,{stroke:6,size:24})):null;return u.createElement(c.default,{key:"search-modal"},u.createElement(p.default,{title:l10n.t(938),type:d.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),u.createElement(_.default,{handlers:a,onFocus:this.indicateFocus,ref:this.setInputHotkey,className:k.default.panelSearch},u.createElement(j.default,{ref:this.setSearch,type:"chat-msg-search",onSearch:this.onSearch,placeholder:l10n.t(932),loading:this.state.searching})),u.createElement(f.default,{flatListControllers:[this.flatListController],className:k.default.panelBody,onScroll:this.onScroll,id:"pane-side"},t,o))}}]),t}();G.contextTypes={uim:N.default.instanceOf(A.default)},G.displayName="ChatSearch",t.default=(0,E.default)((0,S.default)((0,C.hoc)(G)))},dgjacfgggf:function(e,t,n){"use strict";var r=n("cgffhfegce"),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),o=f(n("bdiiahhjbe")),i=n("cdbgdedbdh"),u=n("cdebehabcj"),s=f(n("bcjcbbafcj")),l=f(n("gaffaajde")),c=f(n("cgeedcdffb"));function f(e){return e&&e.__esModule?e:{default:e}}var d=n("bjacajbace"),p=n("baffhfhhda");function h(e,t){var n=t.x||0,r=t.y||0;t.degrees&&(t.radians=t.degrees*(Math.PI/180)),e.translate(n,r),e.rotate(t.radians),e.translate(-n,-r)}function m(e){var t=e.getContext("2d");t.fillStyle="rgb(247,247,247)",t.fillRect(0,0,e.width,e.height)}var b={DATA_URL:1,BLOB:2,CANVAS:4},g={DATA_URL:b.DATA_URL,BLOB:b.BLOB,CANVAS:b.CANVAS,generateVideoThumbAndDuration:function(e,t){if(s.default.isBuggyVideoLoadChrome){return p.video(e,!0).then(function(e){var n=e.video,r=e.fullWidth,a=e.fullHeight;return(0,l.default)({minTimeout:50,maxTimeout:50,retries:100,signal:(new c.default).signal,factor:1},function(e,o){var u=document.createElement("canvas"),s=(0,i.boundHeightWidth)(a,r,t);u.width=s.width,u.height=s.height;var l=u.getContext("2d");l.drawImage(n,0,0,s.width,s.height);var c=l.getImageData(0,0,s.width,s.height);if(o<100&&function(e){for(var t=e.width*e.height/4,n=0;n<=1;n+=.25){var r=4*Math.round(t*n);if(0!==e.data[r])return!1;if(0!==e.data[r+1])return!1;if(0!==e.data[r+2])return!1;if(255!==e.data[r+3])return!1}return!0}(c))return e(new Error("retry"));var f={duration:~~n.seekable.end(0),thumb:{url:u.toDataURL("image/jpeg"),width:s.width,height:s.height,fullWidth:r,fullHeight:a}};return p.disposeVideo(n),Promise.resolve(f)})})}return p.video(e,!0).then(function(e){var n=e.video,r=e.fullWidth,a=e.fullHeight;try{var o=document.createElement("canvas"),u=(0,i.boundHeightWidth)(a,r,t);return o.width=u.width,o.height=u.height,o.getContext("2d").drawImage(n,0,0,u.width,u.height),{duration:~~n.seekable.end(0),thumb:{url:o.toDataURL("image/jpeg"),width:u.width,height:u.height,fullWidth:r,fullHeight:a}}}finally{p.disposeVideo(n)}})},crop:function(e,t,n,r,a,o,i){var u=this,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:g.DATA_URL;return(e instanceof HTMLCanvasElement?Promise.resolve(e):p.loadImage(e)).then(function(e){var l=document.createElement("canvas"),c=l.getContext("2d");null==o||null==i?(l.height=a,l.width=r,c.drawImage(e,t,n,r,a)):(l.height=i,l.width=o,c.drawImage(e,t,n,r,a,0,0,o,i));var f={};return u.getImagePromises(f,l,s),Promise.props(f).then(function(e){return{images:e,width:r,height:a}})})},generateLinkPreview:function(e){return p.loadImage(e).then(function(e){if(e.width<100||e.height<100)return o.default.log("Image size too small for link preview")(),null;var t=document.createElement("canvas"),n=t.getContext("2d");t.height=140,t.width=140;var r=Math.min(e.width,e.height),a=(e.width-r)/2,i=(e.height-r)/2;return n.drawImage(e,a,i,r,r,0,0,140,140),t.toDataURL("image/jpeg").replace(/^data:image\/jpeg;base64,/,"")}).catch(function(e){return o.default.log("link preview image generation failed: ",e)(),null})},toDataUrl:function(e){return p.loadImage(e).then(function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.height=e.height,t.width=e.width,n.drawImage(e,0,0),t.toDataURL("image/jpeg").replace(/^data:image\/jpeg;base64,/,"")}).catch(function(e){return o.default.log("data URL conversion failed: ",e)(),null})},getImagePromises:function(e,t,n){!e.blob&&n&this.BLOB&&(e.blob=this.canvasToBlob(t)),!e.dataUrl&&n&this.DATA_URL&&(e.dataUrl=Promise.resolve(t.toDataURL("image/jpeg"))),!e.canvas&&n&this.CANVAS&&(e.canvas=Promise.resolve(t))},rotateAndResize:function(e,t,n){var a=this,s=void 0,l=void 0,c=void 0;return e instanceof HTMLCanvasElement?(l=Promise.resolve(e),c=Promise.resolve(null)):(s=window.URL.createObjectURL(e),l=p.loadImage(s),c=(0,r.blobToArrayBuffer)(e)),Promise.props({buffer:c,image:l}).then(function(e){var r=e.buffer,s=e.image,l={};try{l=d(r)}catch(e){}var c=0;switch(l.orientation||"UNKNOWN"){case"right-top":c=1;break;case"left-bottom":c=-1;break;case"bottom-right":c=2}var f=document.createElement("canvas"),p=s.naturalWidth||s.width,b=s.naturalHeight||s.height,v=f.getContext("2d"),y={};if(!c){var _=(0,i.boundHeightWidth)(b,p,t),E=void 0,j=void 0,O=n&g.BLOB;if(r&&O&&p===_.width&&b===_.height)try{var S=(0,u.cleanJPEG)(r);y.blob=S,O=!1,E=p,j=b}catch(e){o.default.log(`Could not parse JPEG: ${e.message}`)()}return(O||n&~g.BLOB)&&(f.width=_.width,f.height=_.height,E=f.width,j=f.height,m(f),v.drawImage(s,0,0,E,j),a.getImagePromises(y,f,n)),Promise.props(y).then(function(e){return{width:E,height:j,images:e}})}switch(c){case 1:case-1:var w=Math.max(p,b),P=w/2;f.width=f.height=w,m(f),h(v,{x:P,y:P,degrees:90*c}),1===c?v.drawImage(s,0,w-b):v.drawImage(s,w-p,0),h(v,{x:P,y:P,degrees:-90*c}),function(e,t,n){var r=e.getContext("2d"),a=r.getImageData(0,0,t,n);e.width=t,e.height=n,r.putImageData(a,0,0)}(f,b,p);var M=function(e,t){var n=(0,i.boundHeightWidth)(e.height,e.width,t),r=n.width,a=n.height;if(r>e.width&&a>e.height)return e;var o=document.createElement("canvas"),u=o.getContext("2d");return o.width=r,o.height=a,u.drawImage(e,0,0,r,a),o}(f,t);return a.getImagePromises(y,M,n),Promise.props(y).then(function(e){return{width:M.width,height:M.height,images:e}});case 2:var C=(0,i.boundHeightWidth)(b,p,t),T=f.width=C.width,A=f.height=C.height;return m(f),h(v,{x:T/2,y:A/2,degrees:90*c}),v.drawImage(s,0,0,T,A),h(v,{x:T/2,y:A/2,degrees:-90*c}),a.getImagePromises(y,f,n),Promise.props(y).then(function(e){return{width:f.width,height:f.height,images:e}})}}).finally(function(){s&&window.URL.revokeObjectURL(s)})},canvasToBlob:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.toBlob?new Promise(function(t){e.toBlob(t,"image/jpeg")}):Promise.resolve(window.dataURLtoBlob(e.toDataURL("image/jpeg")))},urlToFile:function(e){var t=this;return p.loadImage(e).then(function(e){var n=document.createElement("canvas");n.width=e.naturalWidth,n.height=e.naturalHeight;var r=n.getContext("2d");return m(n),r.drawImage(e,0,0),t.canvasToBlob(n)}).catch(function(){return Promise.reject(new a.MediaDragDropError("unable to render image",e))})},isCached(e){if(!e)return!1;var t=new Image;return t.src=e,!!t.complete},loadImage:p.loadImage};e.exports=g},dgjddffcfg:function(e,t,n){"use strict";var r=M(n("jcfacighg")),a=M(n("djfhiaaehb")),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=M(n("daffbcegjj")),u=M(n("eadfaddcj")),s=M(n("bjebjijbfc")),l=M(n("bjigbaghc")),c=M(n("bjgiedaj")),f=M(n("ccaaiecfib")),d=M(n("bdiiahhjbe")),p=M(n("dhigahgdjb")),h=M(n("dagdiahdfi")),m=M(n("bcjcbbafcj")),b=M(n("jccfhaecf")),g=n("dbcfhhdejc"),v=n("cdaacjiegb"),y=M(n("fffdgbfji")),_=n("bjhjaiccai"),E=M(n("djbfhebjhe")),j=M(n("daabecicc")),O=n("gaifbabbj"),S=n("cdejbeiiha"),w=n("jegbhjbde"),P=n("facgccaif");function M(e){return e&&e.__esModule?e:{default:e}}var C=O.Configuration.ComposeBox(),T=O.Configuration.Format({mentions:{}}),A=u.default.MSG_TYPE,N=u.default.TEMPLATE_SUBTYPE;function k(e){return e.verifiedLevel===u.default.VERIFIED_LEVEL.HIGH?e.verifiedName:e.formattedName}function I(e){var t=void 0,n=void 0,r="";switch(e.subtype){case"identity":n=(t=p.default.get(e.body))?t.formattedName:(0,E.default)(e.body),r=y.default.t(1276,{name:n});break;case"encrypt":var a=e.id.remote;if(b.default.isGroup(a))r=y.default.t(1156);else if(b.default.isBroadcast(a))r=y.default.t(1084);else if(b.default.isOfficialBizAccount(a))r=y.default.t(1224);else if((t=p.default.get(a))&&t.isEnterprise){var o=k(t);r=y.default.t(1099,{businessName:o})}else r=y.default.t(1098)}return r}function R(e,t){var n="";switch(e.subtype){case"miss":n=t?y.default.t(1214,{time:s.default.timestampStr(e.t),_plural:s.default.timestampHour(e.t)}):y.default.t(1213);break;case"miss_video":n=t?y.default.t(1212,{time:s.default.timestampStr(e.t),_plural:s.default.timestampHour(e.t)}):y.default.t(1211);break;case"miss_group":n=t?y.default.t(1210,{time:s.default.timestampStr(e.t),_plural:s.default.timestampHour(e.t)}):y.default.t(1209);break;case"miss_group_video":n=t?y.default.t(1208,{time:s.default.timestampStr(e.t),_plural:s.default.timestampHour(e.t)}):y.default.t(1207)}return n}function L(e){var t=e.subtype,n=e.body,r=e.recipients;if("create"===t){var a=parseInt(n,10);return y.default.t(1343,{_plural:a,count:a})}if("add"===t){var o=r.length;return y.default.t(1198,{_plural:o,name:(0,w.getFormattedNames)(r,!0)})}if("remove"===t){var i=r.length;return y.default.t(1199,{_plural:i,name:(0,w.getFormattedNames)(r,!0)})}return""}function D(e,t){var n="",r=e.get("type"),o=e.get("subtype"),i=e.displayName(),u=e.get("author"),s=e.get("body"),c=void 0,f=void 0;if("group_notification"===r)switch(o){case"add":n=b.default.equals(u,l.default.me)?y.default.t(1165):y.default.t(1164,{name:i});break;case"remove":n=b.default.equals(u,l.default.me)?y.default.t(1177):y.default.t(1176,{name:i});break;case"leave":n=b.default.equals(u,l.default.me)?y.default.t(1173):y.default.t(1172,{name:i});break;case"picture":n="remove"===s?b.default.equals(u,l.default.me)?y.default.t(1269):y.default.t(1268,{name:i}):b.default.equals(u,l.default.me)?y.default.t(1267):y.default.t(1266,{name:i});break;case"subject":n=b.default.equals(u,l.default.me)?y.default.t(1189,{subject:s}):y.default.t(1188,{name:i,subject:s});break;case"modify":c=(0,E.default)(e.get("author")),f=(0,E.default)(s),n=c===i?y.default.t(1167,{name:i,new_number:f}):y.default.t(1166,{name:i});break;default:d.default.log("wa:formatGroupNotification:unknown message subtype: "+o)()}else if("gp2"===r){var h=e.recipients,m=h?(0,w.getFormattedNames)(h,!0):"",g=h?(0,a.default)(h):void 0,v=g?p.default.get(g):void 0,_=v?v.get("formattedName"):g?(0,E.default)(g):"",j=void 0;switch(o){case"add":n=u?b.default.equals(u,l.default.me)?y.default.t(1182,{participants:m}):b.default.equals(g,l.default.me)?y.default.t(1179,{name:i}):y.default.t(1178,{name:i,participants:m}):b.default.equals(g,l.default.me)?y.default.t(1165):y.default.t(1164,{name:_});break;case"remove":n=!b.default.equals(g,l.default.me)||!b.default.equals(u,l.default.me)&&u?b.default.equals(g,l.default.me)&&u?y.default.t(1181,{name:i}):b.default.equals(u,l.default.me)?y.default.t(1183,{participants:m}):u?y.default.t(1180,{name:i,participants:m}):y.default.t(1176,{name:_}):y.default.t(1177);break;case"leave":n=b.default.equals(g,l.default.me)?y.default.t(1173):y.default.t(1172,{name:m});break;case"picture":n="remove"===s?b.default.equals(u,l.default.me)?y.default.t(1269):y.default.t(1268,{name:i}):b.default.equals(u,l.default.me)?y.default.t(1267):y.default.t(1266,{name:i});break;case"subject":n=b.default.equals(u,l.default.me)?y.default.t(1189,{subject:s}):y.default.t(1188,{name:i,subject:s});break;case"modify":c=(0,E.default)(u),f=(0,E.default)(g),n=c===i?y.default.t(1167,{name:i,new_number:f}):y.default.t(1166,{name:i});break;case"create":n=b.default.equals(u,l.default.me)?s?y.default.t(1144,{subject:s}):y.default.t(1145):s?y.default.t(1142,{name:i,subject:s}):y.default.t(1143,{name:i});break;case"delete":n=b.default.equals(u,l.default.me)?y.default.t(1154):y.default.t(1153,{name:i});break;case"promote":n=1===(j=h.length)&&b.default.equals(g,l.default.me)?y.default.t(1175):y.default.t(1174,{participants:m,_plural:j});break;case"demote":n=1===(j=h.length)&&b.default.equals(g,l.default.me)?y.default.t(1169):y.default.t(1168,{participants:m,_plural:j});break;case"invite":n=b.default.equals(g,l.default.me)?y.default.t(1171):y.default.t(1170,{name:_});break;case"revoke_invite":n=b.default.equals(u,l.default.me)?y.default.t(1159):y.default.t(1158,{name:i});break;case"description":var O=t?y.default.t(1148,{name:i}):y.default.t(1147,{name:i});n=b.default.equals(u,l.default.me)?y.default.t(1149):O;break;case"announce":n="on"===s?b.default.equals(u,l.default.me)?y.default.t(1141):y.default.t(1140,{name:i}):b.default.equals(u,l.default.me)?y.default.t(1139):y.default.t(1138,{name:i});break;case"restrict":n="on"===s?b.default.equals(u,l.default.me)?y.default.t(1187):y.default.t(1186,{name:i}):b.default.equals(u,l.default.me)?y.default.t(1185):y.default.t(1184,{name:i});break;case"no_frequently_forwarded":n="on"===s?b.default.equals(u,l.default.me)?y.default.t(1163):y.default.t(1162,{name:i}):b.default.equals(u,l.default.me)?y.default.t(1161):y.default.t(1160,{name:i});break;case"announce_msg_bounce":n=y.default.t(1137);break;case"v4_add_invite_sent":n=y.default.t(1054,{participants:m,_plural:h.length});break;case"v4_add_invite_join":n=y.default.t(1053,{participants:m,_plural:h.length});break;default:d.default.log("wa:formatGroupNotification:unknown message subtype: "+o)()}}return y.default.isRTL()&&(n=y.default.forceRTL(n)),n}function x(e){var t=e.subtype,n=e.templateParams;switch(t){case"non_verified_transition":return y.default.t(1222);case"unverified_transition":return y.default.t(1317);case"verified_transition":return y.default.t(1323);case"verified_low_unknown":return y.default.t(1321);case"verified_high":return y.default.t(1319);case"verified_initial_unknown":return y.default.t(1290);case"verified_initial_low":return y.default.t(1288,{businessName:n[0]});case"verified_initial_high":return y.default.t(1286,{businessName:n[0]});case"verified_transition_any_to_none":return y.default.t(1294);case"verified_transition_any_to_high":return y.default.t(1292,{businessName:n[0]});case"verified_transition_high_to_low":return y.default.t(1296,{businessName:n[0]});case"verified_transition_high_to_unknown":return y.default.t(1298,{businessName:n[0]});case"verified_transition_unknown_to_low":return y.default.t(1306,{businessName:n[0]});case"verified_transition_low_to_unknown":return y.default.t(1300,{businessName:n[0]});case"verified_transition_none_to_low":return y.default.t(1302);case"verified_transition_none_to_unknown":return y.default.t(1304);case"change_number":var r=n[0],a=p.default.get(r),o=a&&a.isMyContact?a.formattedName:(0,E.default)(r);return b.default.equals(e.chat.id,r)?y.default.t(272,{name:o}):y.default.t(271,{name:o});case"payment_transaction_status_update_failed":return y.default.t(1254,{receiverName:F(n[0]),relativeTime:s.default.paymentTimestampStr(e.t)});case"payment_transaction_request_cancelled":var i=F(n[0]),u=c.default.format(n[1],parseInt(n[2],10));return e.id.fromMe?y.default.t(1230,{contactName:i,currencyAndAmount:u}):y.default.t(1229,{contactName:i,currencyAndAmount:u});case"payment_transaction_status_update_refunded":return y.default.t(1256,{receiverName:F(n[0]),relativeTime:s.default.paymentTimestampStr(e.t)});case"payment_transaction_status_update_refund_failed":return y.default.t(1255,{receiverName:F(n[0]),relativeTime:s.default.paymentTimestampStr(e.t)});case"payment_transaction_status_receiver_pending_setup":return y.default.t(1248,{senderName:F(n[0]),currencyAndAmount:c.default.format(n[1],parseInt(n[2],10))});case"payment_transaction_status_receiver_success_after_hiccup":return y.default.t(1249,{senderName:F(n[0]),relativeTime:s.default.paymentTimestampStr(e.t)});case"payment_action_account_setup_reminder":return y.default.t(1228,{senderName:F(n[0])});case"payment_action_send_payment_reminder":return y.default.t(1236,{receiverName:F(n[0])});case"payment_action_send_payment_invitation":return y.default.t(1235,{receiverName:F(n[0])});case"payment_action_request_declined":var f=F(n[0]),d=c.default.format(n[1],parseInt(n[2],10));return e.id.fromMe?y.default.t(1232,{contactName:f,currencyAndAmount:d}):y.default.t(1231,{contactName:f,currencyAndAmount:d});case"payment_action_request_expired":var h=n[0],g=n[1],v=c.default.format(n[2],parseInt(n[3],10));return b.default.equals(h,l.default.me)?y.default.t(1234,{receiverName:F(g),currencyAndAmount:v}):y.default.t(1233,{senderName:F(h),currencyAndAmount:v});case"biz_verified_transition_top_to_bottom":return y.default.t(209,{businessName:n[0]});case"biz_verified_transition_bottom_to_top":return y.default.t(207,{businessName:n[0]});case"biz_intro_top":var _=e.id.remote;return b.default.isOfficialBizAccount(_)?y.default.t(821):y.default.t(195,{businessName:n[0]});case"biz_intro_bottom":return y.default.t(193);case"biz_name_change":return y.default.t(200,{businessName:n[0]});case"biz_move_to_consumer_app":return y.default.t(198);case"biz_two_tier_migration_top":return y.default.t(204,{businessName:n[0]});case"biz_two_tier_migration_bottom":return y.default.t(202);default:return m.default.isElectron?y.default.t(1038):y.default.t(1041)}}function U(e,t){var n=t||"",r=e.mentionMap();if(!r)return function(e){return f.default.supportsFeature(f.default.F.RICH_TEXT)?(0,j.default)(e,T,S.UnformatSerializer):e}(n);var a=f.default.supportsFeature(f.default.F.RICH_TEXT)?O.Configuration.FormattedNotification({mentions:r}):O.Configuration.RawNotification({mentions:r});return(0,j.default)(n,a,S.UnformatSerializer)}var G=/^[0-9+()\- ]+$/;function F(e){var t=p.default.get(e);return t?t.formattedName:(0,E.default)(e)}e.exports={formatBroadcastNotification:L,formatGroupNotification:D,formatEnterpriseE2EName:k,formatE2ENotification:I,formatCallLog:R,formatForwardError:function(e){var t=e.chat,n=e.undelivered,r=e.canForward,a=e.cannotForward,i=r.length-n.length,u=a.length+n.length,s=t.isUser?{contact:t.formattedTitle}:{};return i>0?n.length?a.length?y.default.t(258,o({count:u,_plural:u},s)):y.default.t(257,{count:u,_plural:u}):y.default.t(253,{count:u,_plural:u,contact:t.formattedTitle}):n.length?a.length?y.default.t(259,s):y.default.t(262):y.default.t(254,s)},formatNotificationTemplateText:x,formatNotificationTemplateOnClickText:function(e){var t=e.id,n=e.subtype,r=e.templateParams,a=e.displayName();switch(n){case"non_verified_transition":return y.default.t(1221,{businessName:r[0]});case"unverified_transition":return y.default.t(1316,{businessName:r[0]});case"verified_transition":return y.default.t(1322,{businessName:r[0]});case"verified_low_unknown":return y.default.t(1320,{businessName:r[0]});case"verified_high":return y.default.t(1318,{businessName:r[0]});case"verified_initial_unknown":return y.default.t(1291,{businessName:a});case"verified_initial_low":return y.default.t(1289);case"verified_initial_high":return y.default.t(1287);case"verified_transition_any_to_none":return y.default.t(1295);case"verified_transition_any_to_high":return y.default.t(1293);case"verified_transition_high_to_low":return y.default.t(1297,{businessName:r[0]});case"verified_transition_high_to_unknown":return y.default.t(1299,{businessName:r[0]});case"verified_transition_unknown_to_low":return y.default.t(1307);case"verified_transition_low_to_unknown":return y.default.t(1301,{businessName:r[0]});case"verified_transition_none_to_low":return y.default.t(1303,{businessName:r[0]});case"verified_transition_none_to_unknown":return y.default.t(1305,{businessName:a});case"biz_verified_transition_top_to_bottom":return y.default.t(210,{businessName:r[0]});case"biz_verified_transition_bottom_to_top":return y.default.t(208,{businessName:r[0]});case"biz_intro_top":var o=t.remote,i=p.default.get(o),u=r[0],s=i&&i.name||u,l=b.default.isOfficialBizAccount(o);return s===u?l?y.default.t(822):y.default.t(196,{businessName:u}):l?y.default.t(823):y.default.t(197,{businessName:u});case"biz_intro_bottom":return y.default.t(194,{businessName:F(t.remote)});case"biz_name_change":return y.default.t(201,{businessName:r[0]});case"biz_move_to_consumer_app":return y.default.t(199);case"biz_two_tier_migration_top":var c=t.remote,f=p.default.get(c),d=r[0];return(f&&f.name||d)===d?y.default.t(205,{businessName:d}):y.default.t(206,{businessName:d});case"biz_two_tier_migration_bottom":return y.default.t(203,{businessName:F(t.remote)});default:return""}},notificationTemplateFAQ:function(e){switch(e){case"non_verified_transition":return(0,P.getNonVerifiedTransitionFaqUrl)();case"unverified_transition":return(0,P.getUnverifiedTransitionFaqUrl)();case"verified_transition":return(0,P.getVerifiedTransitionFaqUrl)();case"verified_low_unknown":return(0,P.getVerifiedLowUnknownFaqUrl)();case"verified_high":return(0,P.getVerifiedHighFaqUrl)();case"biz_intro_top":case"verified_initial_unknown":case"verified_initial_low":case"verified_initial_high":case"verified_transition_any_to_none":case"verified_transition_any_to_high":case"verified_transition_high_to_low":case"verified_transition_high_to_unknown":case"verified_transition_unknown_to_low":case"verified_transition_low_to_unknown":case"verified_transition_none_to_low":case"verified_transition_none_to_unknown":return(0,P.getBusinessFaqUrl)();default:return(0,P.getFaqUrl)()}},asDesktopNotification:function(e){var t=void 0,n="",r=void 0,a=void 0,o=e.dir,u=h.default.getGlobalPreviews();switch(!l.default.me.equals(e.from)&&e.isGroupMsg&&(n=e.displayName()),e.type){case A.CHAT:if(u)t=U(e,e.body);else if(e.isGroupMsg)t=n?y.default.t(556,{author:n}):y.default.t(555),n="";else{var c=e.chat;t=y.default.t(557,{unreadCount:y.default.n(c.unreadCount),_plural:c.unreadCount})}break;case A.IMAGE:t=(r=m.default.hasEmoji?" ":"")+(u&&U(e,e.caption)||y.default.t(1116));break;case A.PRODUCT:r=m.default.hasEmoji&&f.default.supportsFeature(f.default.F.CATALOG)?" ":"",t=f.default.supportsFeature(f.default.F.CATALOG)?r+(e.text&&U(e,e.text)||y.default.t(1119)):(0,g.formatUnknownMsgNotification)(e);break;case A.STICKER:t=(r=m.default.hasEmoji?" ":"")+y.default.t(1120);break;case A.VIDEO:e.isGif?(r=m.default.hasEmoji?" ":"",a=u&&U(e,e.caption)||"GIF"):(r=m.default.hasEmoji?" ":"",a=`${a=u&&U(e,e.caption)||y.default.t(1121)} (${s.default.durationStr(e.duration)})`),t=`${r} ${a}`;break;case A.PTT:t=`${r=m.default.hasEmoji?" ":""} ${y.default.t(1122)} (${s.default.durationStr(e.duration)})`;break;case A.AUDIO:t=`${r=m.default.hasEmoji?" ":""} ${y.default.t(1112)} (${s.default.durationStr(e.duration)})`;break;case A.LOCATION:t=`${r=m.default.hasEmoji?" ":""} ${a=e.isLive?u&&U(e,e.comment)||y.default.t(1117):u&&e.loc||y.default.t(1118)}`;break;case A.GROUPS_V4_INVITE:t=y.default.t(293);break;case A.GROUP_NOTIFICATION:case A.GP2:t=D(e,!0),n="";break;case A.BROADCAST_NOTIFICATION:t=L(e);break;case A.NOTIFICATION:t=e.body;break;case A.VCARD:t=(r=m.default.hasEmoji?" ":"")+(e.subtype||y.default.t(1113));break;case A.MULTI_VCARD:t=(r=m.default.hasEmoji?" ":"")+(0,_.getNameString)(e.vcardList);break;case A.DOCUMENT:t=(r=m.default.hasEmoji?" ":"")+(e.subtype||y.default.t(1115));break;case A.E2E_NOTIFICATION:t=I(e);break;case A.CALL_LOG:t=R(e,!1);break;case A.CIPHERTEXT:t=y.default.t(850);break;case A.REVOKED:t=e.isSentByMe?y.default.t(929):y.default.t(927);break;case A.PAYMENT:t=y.default.t(295);break;case A.OVERSIZED:t=(0,v.formatOversizedMsgNotification)(e);case A.UNKNOWN:t=(0,g.formatUnknownMsgNotification)(e);break;default:return d.default.error(`asDesktopNotification: Unrecognized type ${e.type}`)(),""}var p=y.default.isRTL()?"rtl":"ltr",b="";if(b=s.default.relativeStr(e.t),n){var E=i.default.dir(n);return"ltr"!==p||o&&"ltr"!==o||E&&"ltr"!==E?"ltr"!==p||o&&"ltr"!==o?"ltr"!==p||E&&"ltr"!==E?"ltr"===p?(b&&(b=`- ${b}`),`${n}: ${t}${b}`):o&&"rtl"!==o||E&&"rtl"!==E?o&&"rtl"!==o?E&&"rtl"!==E?(b&&(b=`- ${b}`),`${n}: ${t}${b}`):(b&&(b=` - ${b}`),`${n}: ${t}`):(b&&(b=` - ${b}`),`${n}: ${t}`):(b&&(b=` - ${b}`),`${n}: ${t}`):(b&&(b=` - ${b}`),`${n}: ${t}`):(b&&(b=` - ${b}`),`${n}: ${t}`):(b&&(b=` - ${b}`),`${n}: ${t}`)}return b?"ltr"===p?`${t} - ${b}`:`${t} - ${b}`:t},msgText:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(e.type){case A.TEMPLATE_BUTTON_REPLY:return e.hsmEnabled?t?U(e,e.body):e.body:y.default.t(1018);case A.TEMPLATE:if(e.hsmEnabled){if(e.subtype===N.IMAGE)return e.caption?t?U(e,e.caption):e.caption:y.default.t(1116);if(e.subtype===N.VIDEO)return e.caption?t?U(e,e.caption):e.caption:y.default.t(1121);if(e.subtype===N.LOCATION)return e.caption?t?U(e,e.caption):e.caption:e.loc||y.default.t(1118);if(e.subtype===N.DOCUMENT){var a=e.pageCount>0?y.default.t(1114,{count:e.pageCount+"",_plural:e.pageCount}):null;return e.caption?t?U(e,e.caption):e.caption:(0,r.default)([e.caption||y.default.t(1115),a]).join("  ")}if(e.subtype===N.TEXT)return e.title?t?U(e,e.title+" "+e.body):"*"+e.title+"* "+e.body:t?U(e,e.body):e.body}return y.default.t(1018);case A.HSM:return t?U(e,e.body):e.body;case A.CIPHERTEXT:return y.default.t(850);case A.REVOKED:return e.isSentByMe?y.default.t(929):y.default.t(927);case A.CHAT:return t?U(e,e.body):e.body;case A.IMAGE:return e.caption?t?U(e,e.caption):e.caption:y.default.t(1116);case A.STICKER:return y.default.t(1120);case A.VIDEO:return e.caption?t?U(e,e.caption):e.caption:e.isGif?"GIF":y.default.t(1121);case A.PTT:var o=s.default.durationStr(e.duration);return o||y.default.t(1122);case A.AUDIO:return y.default.t(1112);case A.LOCATION:return e.isLive?e.comment||y.default.t(1117):e.loc||y.default.t(1118);case A.GROUP_NOTIFICATION:case A.GP2:return D(e,n);case A.BROADCAST_NOTIFICATION:return L(e);case A.NOTIFICATION:return e.body;case A.VCARD:return e.subtype||y.default.t(1113);case A.GROUPS_V4_INVITE:return f.default.supportsFeature(f.default.F.GROUPS_V_4_JOIN_PERMISSION)?y.default.t(523):y.default.t(293);case A.MULTI_VCARD:return(0,_.getNameString)(e.vcardList);case A.DOCUMENT:var i=e.pageCount>0?y.default.t(1114,{count:e.pageCount+"",_plural:e.pageCount}):null;return(0,r.default)([e.mediaData.filename||y.default.t(1115),i]).join("  ");case A.E2E_NOTIFICATION:return I(e);case A.CALL_LOG:return R(e,!1);case A.PRODUCT:return f.default.supportsFeature(f.default.F.CATALOG)?e.text?t?U(e,e.text):e.text:y.default.t(1119):(0,g.formatUnknownMsgText)(e);case A.OVERSIZED:return(0,v.formatOversizedMsgText)(e);case A.UNKNOWN:return(0,g.formatUnknownMsgText)(e);case A.PAYMENT:return function(e){switch(e.subtype){case"ciphertext":return y.default.t(1237);case"futureproof":return y.default.t(1239);case"send":var t=e.paymentNoteMsg&&e.paymentNoteMsg.body?" - "+e.paymentNoteMsg.body:"";return(e.amount1000?c.default.format(e.currency,e.amount1000):y.default.t(1238))+t;case"request":var n=e.paymentNoteMsg&&e.paymentNoteMsg.body?" - "+e.paymentNoteMsg.body:"";return(e.amount1000?c.default.format(e.currency,e.amount1000):y.default.t(1238))+n;default:return y.default.t(295)}}(e);case A.NOTIFICATION_TEMPLATE:return x(e);default:return""}},emojify:function(e){return f.default.supportsFeature(f.default.F.RICH_TEXT)?(0,j.default)(e,C,S.TextSerializer):e},numberSearch:function(e){return G.test(e)?e.replace(/[^0-9]/g,""):null},EMOJIFY_CONFIG:C}},dgjdeicghc:function(e,t){e.exports={muted:"_2sFxm",container:"_2-yrI",btnActive:"_3PmhT",btnAction:"_1AWh3",controlsSummary:"_22oFl",adminSetting:"_3rjFB",summaryText:"_2GEk_",item:"_2N-Up"}},dgjifchfde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initAsNeeded=function(){},t.shutdownAsNeeded=function(){v.forEach(function(e,t){j(v,t)}),y.forEach(function(e,t){j(y,t)})},t.showCallNotification=function(e,t,n){if(!e||!t||f.default.globalMute().isMuted)return;if(window.Notification&&window.Notification.permission===i.default.PERMISSION_ALLOWED&&f.default.getGlobalNotifications()){var r=u.default.get(e),a=r?r.formattedName:(0,p.default)(e),o=n?h.default.t(570,{name:a}):h.default.t(571,{name:a}),s=h.default.t(569);_(y,e,t,o,s,i.default.USER_DEFAULT_ICON)}f.default.getGlobalSounds()&&(y.get(e.toString())||Promise.resolve()).then(m.playNotification).catch(function(){})},t.showMsgNotification=function(e,t){var n=e.chat;if(document.hasFocus()&&n.active)return;if(f.default.globalMute().isMuted)return;if(t&&t(e))return;if(function(e){var t=e.chat;if(!t.mute.isMuted)return!1;if(!t.isGroup)return!0;if(e.isMentioned(o.default.me)||e.isQuoted(o.default.me)){var n=a.default.get(e.sender);return!(!n||!n.mute.isMuted)}return!0}(e))return;if(function(e){if(!e.isGroup)return!1;if(e.isGroup&&e.isReadOnly)return!1;var t=Date.now(),n=e.squelch||0;if(t>n)return l.default.find(e.id).then(function(t){var n=l.default.get(e.id);if(n){var r=n.participants.length,a=1e3*Math.min(120,30+5*r);e.squelch=Date.now()+a}}).catch(b.WapDrop,function(){e.squelch=Date.now()+6e4}),!1;return!0}(e.chat))return;if(window.Notification&&window.Notification.permission===i.default.PERMISSION_ALLOWED&&f.default.getGlobalNotifications()){var r=s.default.asDesktopNotification(e);r&&r.charCodeAt(0)>=128&&(r=" "+r);var u=n.isGroup?i.default.GROUP_DEFAULT_ICON:i.default.USER_DEFAULT_ICON,c=n.isGroup?h.default.t(355):h.default.t(354),d=n.contact.formattedName||c;_(v,n.id,e.id.toString(),d,r,u,n.canSend)}f.default.getGlobalSounds()&&(n.id&&v.get(n.id.toString())||Promise.resolve()).then(m.playNotification).catch(function(){})},t.cancelCallNotification=function(e){e&&j(y,e.toString())},t.closeNotifications=function(e){if(!e||!e.id)return;j(v,e.id.toString()),j(y,e.id.toString())};var r=g(n("dhfjegifba")),a=g(n("dbdfbgehgj")),o=g(n("bjigbaghc")),i=g(n("eadfaddcj")),u=g(n("dhigahgdjb")),s=g(n("dgjddffcfg")),l=g(n("djaadchjch")),c=g(n("bdiiahhjbe")),f=g(n("dagdiahdfi")),d=g(n("dhefcajhhb")),p=g(n("djbfhebjhe")),h=g(n("fffdgbfji")),m=n("ihfbgdebe"),b=n("ddjgcfjicj");function g(e){return e&&e.__esModule?e:{default:e}}var v=new Map,y=new Map;function _(e,t,n,a,o,u,s){var l=d.default.find(t).cancellable().timeout(1500,"showNotificationTimeout").then(function(e){var t=e&&e.img?e.img:u;return(0,m.cachePath)(t)}).catch(b.WapDrop,Promise.TimeoutError,function(e){return c.default.log(`NotificationBackend:IconLoadTimeoutError:${t.toString()}`)(e),(0,m.cachePath)(u)}).then(function(u){if(window.Notification.permission!==i.default.PERMISSION_ALLOWED)return Promise.reject(new Promise.CancellationError("Permission Denied"));var l=new r.default(t,n,a,o,u,s);return l.waitForClose().then(function(){E(e,t,l)}),l});return l.catch(Promise.CancellationError,function(n){E(e,t)}),e.get(t.toString())&&function(e,t){var n=e.get(t.toString());if(n){if(n.isFulfilled()){var r=n.value();r.close()}else n.cancel();e.delete(t.toString())}}(e,t),e.set(t.toString(),l),l}function E(e,t,n){var r=e.get(t.toString());if(r){if(n){if(r.isFulfilled()&&n!==r.value())return;if(r.isPending())return}e.delete(t.toString())}}function j(e,t){var n=e.get(t);if(n){if(n.isFulfilled())n.value().close();else n.cancel();e.delete(t)}}},dgjijbgdai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.default.log("extendedFetch:",e)(),f(e,t).catch(function(e){if("AbortError"===e.name)throw new r.default;if(e instanceof l.HttpNetworkError)throw e;throw new l.HttpNetworkError(e.message)})},t.sharedFetch=f;var r=c(n("cgijjjgici")),a=c(n("bcjafgaahj")),o=c(n("dbhgiicheg")),i=c(n("dcgheafecg")),u=c(n("bdiiahhjbe")),s=c(n("ciehajbjae")),l=n("fdghiidhc");function c(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){if(t.signal&&t.signal.aborted)r(new a.default("AbortError"));else{var u=new XMLHttpRequest;if(t.signal){var c=t.signal;c.addEventListener("abort",function e(){c.removeEventListener("abort",e),u.onreadystatechange=function(){},u.abort(),r(new a.default("AbortError"))})}var f=new o.default(t.headers||{});(0,i.default)(f.keys(),function(e){var t=f.get(e);null!=t&&u.setRequestHeader(e,t)}),null!=t.onProgress&&(u.onprogress=t.onProgress),u.onreadystatechange=function(){if(0!==u.readyState){if(4===u.readyState){if(null==u.status)return void r(new Error("fetch error: no status"));if(0===u.status||u.status>=12e3)return void r(new Error(`fetch error: unexpected status ${u.status}`));n(d())}}else r(new Error("fetch error: not sent"))},u.onerror=function(){return r(new Error("fetch error: error"))},u.ontimeout=function(){r(new l.HttpTimedOutError("fetch error: timedout",{url:e.toString()}))},u.withCredentials="include"===t.credentials,null!=t.timeout&&(u.timeout=t.timeout),u.open(t.method||"get",e.toString(),!0),u.responseType="arraybuffer",u.send(t.body||null)}function d(){var e=new o.default((0,s.default)(u.getAllResponseHeaders()));return{ok:200<=u.status&&u.status<300,statusText:u.statusText,status:u.status,url:u.responseURL,text:function(){return p()},json:function(){return p().then(function(e){return JSON.parse(e)})},arrayBuffer:function(){return u.response},blob:function(){return Promise.resolve(new Blob([u.response],{type:e.get("content-type")||""}))},clone:d,headers:e}}function p(){return Promise.resolve(String.fromCharCode.apply(String,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(new Uint8Array(u.response))))}})}},dhabbfcefj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PiPManager=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=_(n("gbfffciea")),i=_(n("dagibffcjf")),u=_(n("igaagcbbj")),s=_(n("eceadcicaf")),l=n("ejbdjaifi"),c=_(n("didfdhbecg")),f=_(n("bfjeggfcij")),d=_(n("ichhibhgh")),p=n("cgecdbiihg"),h=_(n("ibebafhjb")),m=_(n("bicbefgjgg")),b=_(n("biecbbiiee")),g=n("bfjajhbdf"),v=_(g),y=_(n("fffdgbfji"));function _(e){return e&&e.__esModule?e:{default:e}}var E=t.PiPManager=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMediaViewerModal=function(e,t,r,a){n.state.msg&&n.state.msg.id.equals(e.id)&&n.closePiP()},n.closePiPFromMsg=function(e){n.state.msg&&n.state.msg.id.equals(e.id)?n.closePiP():n.state.youtubeVideoInfo&&n.state.youtubeVideoInfo.videoMsg.id.equals(e.id)?n.closeYoutubePiP():n.state.ogVideoInfo&&n.state.ogVideoInfo.videoMsg.id.equals(e.id)&&n.closeOgVideoPiP()},n.openPiP=function(e,t,r){n.previousPiPDidClose(),d.default.didOpen(e),e.forceDownloadMedia(),n.setState({msg:e,youtubeVideoInfo:null,ogVideoInfo:null,startTime:t,zoomRect:r})},n.closePiP=function(){n.state.msg&&d.default.didClose(n.state.msg),n.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null})},n.pausePiP=function(){},n.isOpened=function(e){return!(!n.state.msg||!e.id.equals(n.state.msg.id))||(!(!n.state.youtubeVideoInfo||!e.id.equals(n.state.youtubeVideoInfo.videoMsg.id))||!(!n.state.ogVideoInfo||!e.id.equals(n.state.ogVideoInfo.videoMsg.id)))},n.openYoutubePiP=function(e,t,r,a){n.previousPiPDidClose(),d.default.didOpen(t),n.setState({msg:null,youtubeVideoInfo:{videoId:e,videoMsg:t},ogVideoInfo:null,startTime:r,zoomRect:a})},n.closeYoutubePiP=function(){n.state.youtubeVideoInfo&&d.default.didClose(n.state.youtubeVideoInfo.videoMsg),n.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null})},n.openOgVideoPiP=function(e,t,r,a,o){n.previousPiPDidClose(),d.default.didOpen(r);var i=`data:image/jpeg;base64,${t}`;n.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:{videoUrl:e,previewUrl:i,videoMsg:r},startTime:a,zoomRect:o})},n.closeOgVideoPiP=function(){n.state.ogVideoInfo&&d.default.didClose(n.state.ogVideoInfo.videoMsg),n.setState({msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null})},n.previousPiPDidClose=function(){n.state.msg&&d.default.didClose(n.state.msg),n.state.youtubeVideoInfo&&d.default.didClose(n.state.youtubeVideoInfo.videoMsg),n.state.ogVideoInfo&&d.default.didClose(n.state.ogVideoInfo.videoMsg)},n.handleMsgVideoPiPError=function(){n.state.msg&&d.default.didError(n.state.msg)},n.handleOgVideoPiPError=function(){n.state.ogVideoInfo&&d.default.didError(n.state.ogVideoInfo.videoMsg)},n.state={msg:null,youtubeVideoInfo:null,ogVideoInfo:null,startTime:null,zoomRect:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;d.default.register(this),this.props.listeners.add(o.default,"media_viewer_modal",this.onMediaViewerModal),this.props.listeners.add(b.default,"remove",function(t){e.closePiPFromMsg(t)}),this.props.listeners.add(b.default,"change:isRevoked",function(t){if(t.isRevoked){if(!t.isSentByMe){var n=e.state.msg&&e.state.msg.id.equals(t.id),r=e.state.youtubeVideoInfo&&e.state.youtubeVideoInfo.videoMsg.id.equals(t.id),i=e.state.ogVideoInfo&&e.state.ogVideoInfo.videoMsg.id.equals(t.id);(n||r||i)&&o.default.openToast(a.createElement(v.default,{id:(0,g.genId)(),msg:y.default.t(848)}))}e.closePiPFromMsg(t)}})}},{key:"componentWillUnmount",value:function(){d.default.unregister()}},{key:"renderVideoPlayer",value:function(){var e=this.state,t=e.msg,n=e.youtubeVideoInfo,r=e.ogVideoInfo;return t?a.createElement(h.default,{key:t.id.toString(),msg:t,mediaData:t.mediaData,animationStartStyle:this.getAnimationStartStyle(),startTime:this.state.startTime,onClose:this.closePiP,onError:this.handleOgVideoPiPError,onOpenMediaViewer:this.closePiP,onMissingMedia:this.closePiP,onUnsupportedMedia:this.closePiP,autoPlay:!0}):n?a.createElement(i.default,{key:n.videoId,aspectRatio:p.YOUTUBE_VIDEO_DEFAULT_ASPECT_RATIO,animationStartStyle:this.getAnimationStartStyle()},a.createElement(u.default,{key:n.videoId,youtubeVideoId:n.videoId,startTime:this.state.startTime,onClose:this.closeYoutubePiP,autoPlay:!0})):r?a.createElement(m.default,{key:r.videoMsg.id.toString(),ogVideoInfo:r,startTime:this.state.startTime,onClose:this.closeOgVideoPiP,onError:this.handleOgVideoPiPError,animationStartStyle:this.getAnimationStartStyle(),autoPlay:!0}):null}},{key:"getAnimationStartStyle",value:function(){return this.state.zoomRect?{height:this.state.zoomRect.bottom-this.state.zoomRect.top,width:this.state.zoomRect.right-this.state.zoomRect.left,left:this.state.zoomRect.left,bottom:window.innerHeight-this.state.zoomRect.bottom}:null}},{key:"render",value:function(){return a.createElement(c.default,{transitionName:"pip",className:f.default.playerWrapper,component:"div"},this.renderVideoPlayer())}}]),t}();E.displayName="PiPManager",t.default=(0,s.default)((0,l.hoc)(E))},dhacjhbgfj:function(e,t,n){"use strict";var r=s(n("ddfeabiaci")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n("bjigbaghc")),i=s(n("bdiiahhjbe")),u=s(n("ccgjijjbbj"));function s(e){return e&&e.__esModule?e:{default:e}}var l=n("bdeabjehdj"),c={version:"11",M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29},msgFindQuery:function(e,t,n){var r=this,o=e;return new Promise(function(e,s){var l=void 0,c="";switch(o){case"after":t.id||(o="before");case"before":l={type:"message",kind:o,jid:t.remote,count:t.count.toString(),index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},c=[t instanceof u.default?t.toString():t.remote,t.count].join();break;case"search":l={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString(),jid:t.remote},t.label?l=a({},l,{label:t.label}):t.filter&&(l=a({},l,{filter:t.filter})),c=["search",t.page,t.count,t.jid,t.label].join();break;case"star":l={type:"star",media:"gif"===t.media?t.media:void 0,chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},c="starred";break;case"media":l={type:"media_message",media:"document"===t.media||"url"===t.media?t.media:void 0,count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},c="media"}var f=r.queryNode(l,void 0);r.binSend("sendEphemeral",f,s,{onSend:r.binWrap(function(n){r.BinaryProtocol.read(n).then(function(n){var a=[],u=r.N.children(n);if(i.default.logColor("green","bin-recv: response,msg",n)(),"response"===r.N.tag(n)&&("message"===r.N.attr("type",n)||"star"===r.N.attr("type",n)||"search"===r.N.attr("type",n)||"media_message"===r.N.attr("type",n)||"label"===r.N.attr("type",n))){if(Array.isArray(u)){var s=void 0,l=u.length;for(s=0;s<l;s++){var c=r.parseMsg(u[s],"response");if(c)switch(o){case"star":("gif"!==t.media||"video"===c.type&&c.isGif)&&a.push(c);break;case"media":"document"===t.media&&"document"===c.type?a.push(c):"url"===t.media&&"chat"===c.type?a.push(c):t.media||a.push(c);break;default:a.push(c)}}}"search"===r.N.attr("type",n)||"label"===r.N.attr("type",n)?a={eof:"true"===r.N.attr("last",n),messages:a}:"media"!==o||t.media||(a={docCount:parseInt(r.N.attr("document",n),10)||void 0,linkCount:parseInt(r.N.attr("url",n),10)||void 0,mediaCount:parseInt(r.N.attr("media",n),10)||void 0,messages:a})}e(a)}).catch(s)},e),onDrop:r.wrap(s),logOnSend:n},{debugString:"query,message,"+c,metricName:"search"===o?"QUERY_SEARCH":"QUERY_MESSAGES",ackRequest:!1})})},parseMsgCallLog:function(e){if("call_log"===this.N.tag(e)){var t=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("id",e),r=this.N.attr("jid",e),a="true"===this.N.attr("owner",e),s=this.N.attr("participant",e),l="video"===this.N.attr("kind",e),c=this.N.attr("type",e);switch(c){case"miss":l&&(c="miss_video")}var f=void 0;try{f=new u.default({fromMe:a,remote:r,id:n,participant:s})}catch(e){return void i.default.error("drop: cannot create MsgKey: "+e.stack)()}var d={id:f,t:t,participant:s,type:"call_log",subtype:c,from:a?o.default.me:r,to:a?r:o.default.me},p=[!n,!t,!r,"miss"!==c&&"miss_video"!==c];return this.dropIfConditionMet(p,d)}},queryVCard:function(e){var t=this;return new Promise(function(n,r){var a=t.queryNode({type:"vcard",jid:e},void 0);t.binSend("sendEphemeral",a,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r=[],a=t.N.children(e);if("response"===t.N.tag(e)&&"vcard"===t.N.attr("type",e)&&Array.isArray(a))for(var o=a.length,i=0;i<o;i++){var u=t.parseMsg(a[i],"response");!u||"vcard"!==u.type&&"multi_vcard"!==u.type||r.push(u)}n(r)}).catch(r)},n),onDrop:t.wrap(r)},{debugString:`query,vcard,${e}`,metricName:"QUERY_VCARD",ackRequest:!1})})},parseContact:function(e){if("user"===this.N.tag(e)){var t=this.N.attr("jid",e),n=this.N.attr("name",e),r=this.N.attr("short",e)||void 0,a=this.N.attr("type",e)||"in",o={id:t,name:n,type:a,shortName:r},u=[!t,"in"!==a&&"out"!==a&&!!a];return this.dropIfConditionMet(u,o)}i.default.assert(!1,"wap-unexpected-tag",`expected tag: user, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseContacts:function(e){if("contacts"===this.N.tag(e)){var t=this.N.attr("type",e),n=this.N.children(e),r=void 0,a=void 0,o=void 0,i=void 0,u=void 0;switch(t){case"frequent":if(Array.isArray(n)){a=n.length;for(var s=0;s<a;s++)switch(u=n[s],o=this.N.tag(u)){case"image":case"video":case"message":(i=this.N.attr("jid",u))&&(r||(r={type:"frequent"}),r[o]?r[o].push(i):r[o]=[i])}}}return r}}};e.exports=(0,r.default)(c,l)},dhadcigcaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GLOBAL_MUTE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=v(n("dgdjiicfdg")),i=g(n("ddhijeejag")),u=n("ccihhdchab"),s=v(n("djheacfeif")),l=n("dcaifjegcg"),c=v(l),f=v(n("gbfffciea")),d=g(n("cajijabhgb")),p=v(n("bdiiahhjbe")),h=n("hjbbdjjdf"),m=v(n("bihdhbjih")),b=v(n("jccfhaecf"));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,l.prop)(),r.expiration=(0,l.prop)(0),r._unmuteTimer=(0,l.session)(),r.promises=(0,l.session)(function(){return{}}),r.isMuted=(0,l.derived)(r._isMuted,["expiration"]),y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),r(t,[{key:"_isMuted",value:function(){return!!this.expiration}},{key:"initialize",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),null!=this.expiration&&0!==this.expiration&&this.mute(this.expiration)}},{key:"setMute",value:function(e,t){(e||this.expiration)&&e!==this.expiration&&(e?this.mute(e,t):this.unmute(t))}},{key:"mute",value:function(e,t,n){var r=this,a=e;if(!(0,h.isNumber)(a))return p.default.log("models:Mute:mute called with invalid expiration "+a)(),Promise.reject(new d.ActionError);(a=Math.round(a))>2e9&&p.default.log("models:Mute:mute called with wrong units?"+this.id.toString()+" exp:"+a)();var l=function(){if(this.isMuted&&this._clearUnmuteTimer(),-1===a)p.default.log("models:Mute:mute "+this.id.toString()+" muted, no expiration")();else{var e=a-(0,o.default)().unix();p.default.log("models:Mute:mute "+this.id.toString()+" duration:"+e)(),this._unmuteTimer=s.default.setGlobalTimeout(this.unmute.bind(this),1e3*a)}this.set({expiration:a})}.bind(this),c=b.default.isGroup(this.id);if(t){if(this.promises.mute)return this.promises.mute;var g=this.promises.mute=m.default.sendConversationMute(this.id,a,this.expiration),v=c?new u.ActionType(l10n.t(77)):new u.ActionType(l10n.t(32)),y=n||(0,u.genId)(),_=this.promises.mute.catch(function(e){p.default.error("models:Mute:mute dropped")(e);var n=c?l10n.t(75):l10n.t(30);throw new u.ActionType(n,l10n.t(152),r.mute.bind(r,a,t,y))}).then(function(e){if(200===e.status){var n=c?l10n.t(76):l10n.t(31);return new u.ActionType(n,l10n.t(156),r.unmute.bind(r,t,y))}if(e.status>=400)throw c?new u.ActionType(l10n.t(75)):new u.ActionType(l10n.t(30))});return f.default.openToast(i.createElement(u.ActionToast,{id:y,initialAction:v,pendingAction:_})),g.then(function(e){200!==e.status||e._duplicate||l()}).finally(function(){r.promises.mute=null})}return l(),Promise.resolve()}},{key:"canMute",value:function(){return b.default.isGroup(this.id)||b.default.isUser(this.id)}},{key:"_clearUnmuteTimer",value:function(){s.default.clearTimeout(this._unmuteTimer),this.unset("_unmuteTimer"),this.expiration=0}},{key:"unmute",value:function(e,t){var n=this,r=function(){p.default.log("models:Mute:unmute "+this.id.toString())(),this._clearUnmuteTimer()}.bind(this),a=b.default.isGroup(this.id);if(e){if(this.promises.unmute)return this.promises.unmute;var o=this.promises.unmute=m.default.sendConversationMute(this.id,!1,this.expiration),s=a?new u.ActionType(l10n.t(85)):new u.ActionType(l10n.t(43)),l=t||(0,u.genId)(),c=this.promises.unmute.catch(function(t){p.default.error("models:Mute:unmute dropped")(t);var r=a?l10n.t(83):l10n.t(41);return Promise.reject(new u.ActionType(r,l10n.t(152),n.unmute.bind(n,e,l)))}).then(function(e){if(200===e.status)return a?new u.ActionType(l10n.t(84)):new u.ActionType(l10n.t(42));if(e.status>=400)throw a?new u.ActionType(l10n.t(83)):new u.ActionType(l10n.t(41))});return f.default.openToast(i.createElement(u.ActionToast,{id:l,initialAction:s,pendingAction:c})),o.then(function(e){200!==e.status||e._duplicate||r()}).finally(function(){n.promises.unmute=null})}return r(),Promise.resolve()}},{key:"delete",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.getCollection().remove(this.id),this._clearUnmuteTimer()}}]),t}();_.Collection="Mute",_.Proxy="mute",_.idClass=b.default,_.idWhitelist=["global_mute"],t.GLOBAL_MUTE="global_mute",t.default=(0,l.defineModel)(_)},dhagjfdjei:function(e,t){e.exports={muted:"_21RC4",text:"_37OJc"}},dhajfeafhd:function(e,t){e.exports={muted:"PUrEe",container:"rK2ei",noscroll:"USE1O",centerItem:"_32Dig",padding:"_23C8w"}},dhbceejbjg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("ceffhbhahb")),o=u(n("effbcehec")),i=u(n("chbgjdggfh"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=(0,a.default)(e.className,i.default.chat,{[i.default.themeCheckbox]:"chat-checkbox"===e.theme||"label-list"===e.theme||"chat-checkbox-no-delete"===e.theme||"cell-message-checkbox"===e.theme,[i.default.themeDrawerList]:"drawer-list"===e.theme,[i.default.themeIdentity]:"identity"===e.theme,[i.default.themeListNames]:"list-names"===e.theme||"list-names-no-delete"===e.theme,[i.default.themeMessage]:"cell-message"===e.theme||"cell-message-checkbox"===e.theme,[i.default.themePlain]:"plain"===e.theme,[i.default.themeSearch]:"chat-search"===e.theme,[i.default.themeStatus]:"status-list"===e.theme,[i.default.themeLabel]:"label-selection"===e.theme,[i.default.idle]:e.idle,[i.default.member]:"group-modal"===e.theme||"chat-checkbox-no-delete"===e.theme,[i.default.unread]:!!e.unread,[i.default.chatDrag]:!!e.dragging,[i.default.active]:!!e.active,[i.default.groupV4Invite]:"group_v4_invite"===e.theme,[i.default.product]:"product"===e.theme,[i.default.media]:"media"===e.theme}),n=void 0;e.image&&(n=e.customImage?e.image:r.createElement("div",{className:i.default.chatAvatar},e.image));var u=e.primaryDetail?r.createElement("div",{className:i.default.chatMeta},e.primaryDetail):null,s=void 0,l=void 0;e.secondary&&(l=e.secondaryDetail?r.createElement("div",{className:i.default.chatMeta},e.secondaryDetail):null,s=r.createElement("div",{className:i.default.chatSecondary},r.createElement("div",{className:i.default.chatStatus},e.secondary),l));var c=e.detail?r.createElement("div",{className:(0,a.default)(i.default.chatBody,i.default.chatDetails)},e.detail):null;return r.createElement("div",{"data-a8n":o.default.key("chat-card"),className:t,onClick:e.onClick,onMouseDown:e.onMouseDown,onMouseEnter:e.onMouseEnter,onMouseOver:e.onMouseOver,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu},n,r.createElement("div",{className:i.default.chatBody},r.createElement("div",{className:(0,a.default)(i.default.chatMain,{[i.default.noDelete]:"list-names-no-delete"===e.theme})},r.createElement("div",{className:i.default.chatTitle},e.primary),u),s),c)};s.displayName="CellFrame",t.default=s},dhbegafffi:function(e,t){e.exports={muted:"_2xql7",audio:"uqRgA",controls:"_1h3dW",body:"TeXXU",button:"dVD5a",metadata:"_1lxsr",trackContainer:"_27pBm",track:"_30LFW",audioIn:"_2PmJH",audioOut:"_38Akx",progress:"_1N8Pv",spinner:"Nuoph",played:"_2gO--",isGallery:"Da4D2",duration:"_3HwRC"}},dhbejdh:function(e,t){e.exports={muted:"_1mcy3",container:"GXmef",text:"_8fE-g"}},dhbghcbcbi:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("dhhfaeacef")),o=c(n("fifhbjiec")),i=c(n("eceejifaac")),u=c(n("ceffhbhahb")),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),l=n("gaifbabbj");function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.theme,n=e.contact,r=n.id,c=n.formattedName,f=n.isMyContact,d=n.notifyName,p=e.onMouseDown,h=e.onMouseUp,m=e.onMouseEnter,b=e.term,g=e.selected,v=l.Configuration.Search({terms:b?[b]:[],boundary:!0});return s.createElement("div",{className:(0,u.default)(i.default.mentionsResult,{[i.default.mediaCaption]:"mediaCaption"===t,[i.default.selected]:!0===g}),onMouseDown:p,onMouseUp:h,onMouseEnter:m},s.createElement("div",{className:i.default.resultImage},s.createElement(a.default,{id:r,size:32})),s.createElement("div",{className:i.default.textContact,dir:"auto"},s.createElement(o.default,{text:c,formatters:v})),s.createElement("div",{className:i.default.textPushname,dir:"auto"},!f&&d?s.createElement(o.default,{text:`~${d}`,formatters:v}):null))}}]),t}();f.displayName="Result",e.exports=f},dhbjfhjgbc:function(e,t){e.exports={muted:"_2YQWI",moveResizeComponentContainer:"_1kh4T",resizer:"_1hjdR",topResizer:"Y1Z6l",bottomResizer:"_1fmP5",leftResizer:"_1Acgj",rightResizer:"_2wPUP",topRightResizer:"LjzBs",topLeftResizer:"_3SNiV",bottomRightResizer:"p4AWt",bottomLeftResizer:"_3VG07",moveable:"_1Yf-_",defaultCursor:"_111Ju"}},dhccihecch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THEMES=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=w(n("ddhijeejag")),o=w(n("ecibddhig")),i=S(n("effbcehec")),u=S(n("ceffhbhahb")),s=S(n("dfhbgghjei")),l=S(n("cehjjfagii")),c=S(n("jhcabjcaf")),f=S(n("eadfaddcj")),d=S(n("bfjbdahdag")),p=S(n("gbfffciea")),h=S(n("dfeecdfijg")),m=S(n("ccaaiecfib")),b=S(n("eiiicijcj")),g=S(n("bbjadhadbg")),v=S(n("cieaeggjg")),y=S(n("deibgadgic")),_=S(n("ihfccfgdf")),E=S(n("cbjacjjfgc")),j=n("ejbdjaifi"),O=n("bheafeifce");function S(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var M=330,C=330,T=t.THEMES={ALBUM:"ALBUM"},A=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=P(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.setRefImg=function(e){return r.refImg=e},r.showMediaMissing=function(){p.default.openModal(a.createElement(b.default,{msg:r.props.msg}))},r.getZoomNode=function(e){var t=r.props.isMsgVisible;if(!t)return null;var n=t(e);return n?n.getImgNode&&n.getImgNode():null},r.launchMediaViewer=function(e){if(e&&e.stopPropagation(),r.props.theme===T.ALBUM){var t=r.props.zoomMsg||r.props.msg,n=r.props.albumMsgs||[];p.default.mediaViewerModal((0,O.unproxy)(t),r.getZoomNode,void 0,n)}else p.default.mediaViewerModal((0,O.unproxy)(r.props.msg),r.getZoomNode)},r.forceDownloadMedia=function(){r.props.msg.forceDownloadMedia(!0)},r.downloadMedia=function(){return r.props.msg.downloadMedia()},r.cancelDownload=function(){r.props.msg.cancelDownload()},r.cancelUpload=function(){r.props.msg.cancelUpload()},r.resumeUpload=function(){r.props.msg.resumeUpload()},r.resumeRemoteUpload=function(){r.props.msg.resumeRemoteUpload()},r._renderImage=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r.props,o=n.mediaData,i=n.theme,l=(0,u.default)(s.default.thumbBody,{[s.default.thumbBodyLores]:t}),c=void 0,d=void 0;i===T.ALBUM?(c=f.default.ALBUM_MAX_HEIGHT-f.default.ALBUM_PADDING,d=f.default.ALBUM_MAX_HEIGHT):(c=M,d=N(o.aspectRatio));var p=function(e,t,n,r){if(!(e&&t&&n&&r))return{height:"100%",width:"100%"};return t/e>r/n?{height:"100%"}:{width:"100%"}}(o.fullHeight||d,o.fullWidth||c,d,c);return a.createElement("img",{src:e,onDragStart:r.onDragStart,className:l,style:p,ref:r.setRefImg})},r._renderPreviewImage=function(){return r._renderImage(r.props.mediaData.preview&&r.props.mediaData.preview.url(),!0)},P(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.downloadMedia()}},{key:"onDragStart",value:function(e){e.nativeEvent.dataTransfer.setData(f.default.DRAG_TYPE_LOCAL_IMAGE,!0)}},{key:"getImgNode",value:function(){return this.refImg}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.contentContainerClassName,r=e.captionComponent,p=e.thumbClassName,b=e.onThumbClick,_=e.mediaData,j=e.theme,O=e.overlayContent,S=t.caption?null:a.createElement(E.default,null),w=t.caption?a.createElement("div",{className:s.default.caption},a.createElement(d.default,{msg:t,trusted:this.props.trusted,spacer:!(t.hsmEnabled&&t.footer)})):null,P=null,C=null,A=_.mediaStage;switch(A){case"RESOLVED":C=b||this.launchMediaViewer;break;case"FETCHING":P=a.createElement(o.PendingCancel,null),C=this.cancelDownload;break;case"NEED_POKE":P=a.createElement(o.Download,{filesize:_.size}),C=this.forceDownloadMedia;break;case"UPLOADING":P=a.createElement(o.PendingCancel,null),C=this.cancelUpload;break;case"NEED_UPLOAD":P=a.createElement(o.Upload,{filesize:_.size}),C=this.resumeUpload;break;case"REMOTE_NEED_UPLOAD":P=a.createElement(o.Upload,{filesize:_.size}),C=this.resumeRemoteUpload;break;case"ERROR_MISSING":C=this.showMediaMissing;break;case"ERROR_UNSUPPORTED":P=a.createElement(o.Download,{filesize:_.size}),C=b||this.launchMediaViewer;break;case"SENDING":case"DECRYPTING":case"ERROR_TOO_LARGE":case"INIT":case"PREPARING":case"REMOTE_UPLOADING":case"REUPLOADING":P=a.createElement(o.Pending,null);break;default:throw new Error(`invalid value for picture mediaStage '${A}'`)}var I=this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg,R=t.showForwarded(),L=(0,u.default)(s.default.bubble,{[s.default.nonAlbumBubble]:!j||j!==T.ALBUM}),D=(0,u.default)(L,{[s.default.hasCaption]:t.caption,[s.default.hasAuthor]:I,[s.default.forwarded]:R,[s.default.isPSA]:t.isPSA,[s.default.isPreview]:this.props.displayType===f.default.DISP_TYPE.MSG_INFO,[s.default.isGallery]:this.props.displayType===f.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===f.default.DISP_TYPE.GALLERY}),x=I?a.createElement("div",{className:s.default.author},a.createElement(l.default,{msg:t,contact:t.senderObj})):null,U=R?a.createElement(h.default,{msg:t,className:s.default.forwardedIndicator}):null,G={width:M,height:t.hsmEnabled&&_.aspectRatio<=f.default.HSM_ASPECT_RATIO?N(f.default.HSM_ASPECT_RATIO):N(_.aspectRatio)},F=this.props.quotedMsg?a.createElement("div",{className:s.default.quote},this.props.quotedMsg):null,B=void 0;B=m.default.supportsFeature(m.default.F.REPLACE_MEDIABLOB)?a.createElement(g.default,{mediaData:_,placeholderRenderer:this._renderPreviewImage,downloadMedia:this.downloadMedia},this._renderImage):_.renderableUrl?this._renderImage(_.renderableUrl):this._renderPreviewImage();var $=(0,u.default)(s.default.thumb,{[s.default.inAlbum]:j===T.ALBUM,[s.default.overlay]:O}),V=void 0;O||(V=a.createElement("div",{className:s.default.meta},a.createElement(v.default,{msg:t})));var H=a.createElement("div",{className:n},x,U,F,a.createElement("div",{"data-a8n":i.default.key("image-thumb"),className:p||$,onClick:C,style:G},P,B,S),r||w,a.createElement(y.default,{msg:t}),V);return w?a.createElement(c.default,{contact:t.senderObj,msg:t,className:D,onClick:k},H):(O&&(H=a.createElement("div",{className:s.default.overlayAlbumText},H,O)),a.createElement("div",{className:D,onClick:k},H))}}]),t}();function N(e){if(!e)return C;var t=void 0;return t=e<=1?C:e<=2.4?M/e:M/2.4,Math.round(t)}function k(e){e.stopPropagation()}A.CONCERNS={msg:["id","ack","caption","isSentByMe","isGroupMsg","senderObj","isPSA","footer","type","rtl","dir","hsmEnabled"],mediaData:["aspectRatio","preview","mediaStage","renderableUrl","fullWidth","fullHeight","size"]},A.displayName="Picture",t.default=(0,_.default)((0,j.hoc)(A),A.CONCERNS)},dhcejciehh:function(e,t){e.exports={muted:"_2_267",section:"_19o76",control:"_3PsB1",label:"wVU1s"}},dheeebbech:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("ceffhbhahb")),i=u(n("bjfacgbcjj"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=(0,o.default)(i.default.msg,{[i.default.hover]:e.hover,[i.default.current]:e.current,[i.default.active]:e.active});return a.createElement("div",{className:t,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseOver:e.onMouseOver,onMouseLeave:e.onMouseLeave},e.children)}}]),t}();s.displayName="GalleryMsg",t.default=s},dhefcajhhb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=j(n("bebajedcaf")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},i=n("cgcgbfbffj"),u=j(i),s=j(n("bjigbaghc")),l=n("ddjgcfjicj"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),f=j(n("ccaaiecfib")),d=j(n("bdiiahhjbe")),p=j(n("edjgaiicj")),h=n("dfdjejggdf"),m=n("biahggehgf"),b=j(n("igdjeffe")),g=j(n("bhggeigghg")),v=j(n("egjjcjcg")),y=j(n("bihdhbjih")),_=j(n("jccfhaecf")),E=n("dcbdjheea");function j(e){return e&&e.__esModule?e:{default:e}}var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),a(t,[{key:"get",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"get",this).call(this,e);if(!this._model.prototype.isIdType(e))return n;var r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"get",this).call(this,(0,p.default)(e.toString()));if(r){if(this.remove(r,{silent:!0}),n&&n.tag)return n;var a=r.toJSON();return a.id=e,this.add(a,{silent:!0,merge:!0})[0]}return n||void 0}},{key:"saveToCache",value:function(){if(s.default.me){var e=t.cachePolicy.id,n=this.filter(function(e){return _.default.isWid(e.id)&&!!e.eurl});n=n.map(function(e){var t=e.toJSON();return t.id=(0,p.default)(t.id.toString()),t}),d.default.log(`models:profilePic:cache-save: ${String(e)}`)(),v.default.setCollection(e,n)}}},{key:"initializeFromCache",value:function(e){if(this.length&&e){var t=this.reduce(function(e,t){return e[(0,p.default)(t.id.toString())]=t.id.toString(),e},new Object);if(!(0,r.default)(t)){var n=e.reduce(function(e,n){return t[n.id]&&(n.id=(0,E.createWid)(t[n.id]),n.stale=!0,e.push(n)),e},[]);this.add(n,{merge:!0})}}}},{key:"onResume",value:function(){var e=this.filter(function(e){var t=g.default.Chat.get(e.id);return e.hasObservers()&&e.stale&&(_.default.isUser(e.id)||_.default.isGroup(e.id))&&!(t&&t.isReadOnly)}).map(function(e){return e.tag||e.unset("tag",{silent:!0}),e});this.resyncPictures(e)}},{key:"_find",value:function(e){var t=g.default.Chat.get(e);if(t&&t.isReadOnly)return(0,m.profilePicFindThumbFromPhone)(e,this.get(e)).then(function(e){return e.tag||e.raw||(e.eurl=null,e.tag=null,e.raw=null,e.eurlStale=!1),e}).catch(c.ProtoVersionUndefined,function(){return{id:e,stale:!0}});if(_.default.isUser(e)||_.default.isGroup(e)){var n={id:e};return(0,m.profilePicFind)(e).then(function(e){return n.tag=e.tag,n.raw=null,n.eurl=e.eurl,n.eurlStale=!1,f.default.supportsFeature(f.default.F.MD_BACKEND),n}).catch(l.ServerStatusCodeError,function(e){switch(e.status){case 401:n.tag="",n.raw=void 0;break;case 423:case 429:n.stale=!0;break;default:n.tag=null,n.eurl=null,n.eurlStale=!1}return Promise.resolve(n)}).catch(l.WapDrop,function(){return{id:e,stale:!0}})}return Promise.resolve({id:e,tag:null})}},{key:"imageChanged",value:function(e,t){var n=this.get(e);n&&(t===h.PROFILE_PIC_COMMAND.REMOVE?n.set({tag:void 0,eurl:void 0}):t!==h.PROFILE_PIC_COMMAND.SET&&n.tag===t||n.update().catch(l.WapDrop,function(){}))}},{key:"resyncPictures",value:function(e){var t=this;return 0===e.length?Promise.resolve():y.default.resyncPictures(e.map(function(e){return{id:e.id,tag:e.tag}})).then(function(n){if(423===n.status||429===n.status)d.default.warn("ProfilePicThumbStore:resyncPictures blocked "+n.status)();else{if("number"==typeof n.status&&n.status>=400)throw d.default.error("ProfilePicThumbStore:resyncPictures error "+n.status)(n),new Error("ProfilePicThumbStore:resyncPictures error");if(!Array.isArray(n))throw d.default.error("ProfilePicThumbStore:resyncPictures unknown reply",n)(),new Error("ProfilePicThumbStore:resyncPictures unknown reply");d.default.log("ProfilePicThumbStore:resyncPictures success")(),n.forEach(function(e){var n=t.get(e.id);n&&n.set({tag:e.tag,raw:void 0,stale:!1,eurl:e.eurl,eurlStale:!1})}),e.forEach(function(e){e.eurlStale&&e.update()}),e.forEach(function(e){e.stale=!1})}}).catch(l.WapDrop,function(){}).catch(function(e){d.default.error("ProfilePicThumbStore:resyncPictures dropped: "+String(e))()})}}]),t}();O.model=b.default,O.staleCollection=!0,O.resumeOnAvailable=!0,O.cachePolicy={id:"profile_pic_thumb",trigger:"change:tag change:raw",policy:i.CACHE_POLICY.LOAD,delay:5e3},t.default=new O},dheiadgfhj:function(e,t){e.exports={muted:"_2nuZ8",bubble:"_1BN2j",templateBubble:"_1Rd1y",isPreview:"_1auwW",isGallery:"_9dwDm",author:"_3OPGn",forwarded:"KmdWq",forwardedIndicator:"_3moRf",hasAuthor:"qKTgP",container:"_3F4Fd",body:"_1mrMQ",bubbleIn:"_3cukQ",bubbleOut:"_1o6AT",docMeta:"_1o0MN",metaValue:"_35Zop",meta:"_3vA5B",text:"_1NeOh",icon:"_1ceQM",quote:"_2-LEp",filetypeIcon:"_3ZoBw",thumb:"_2k0GR",hasCaption:"_2i0x3",caption:"_1vlJw",footer:"_2AmZw"}},dhfbggbbbd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("effbcehec")),i=n("ejbdjaifi"),u=f(n("ihfccfgdf")),s=f(n("bdcjhdddde")),l=f(n("eedjbihej")),c=n("dccdiajhdf");function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=void 0,t=void 0;switch(this.props.section){case c.SECTIONS.PLAYED_FOOTER:e=this.props.msgInfo.playedRemaining,t=this.props.msgInfo.playedRemaining;break;case c.SECTIONS.READ_FOOTER:e=this.props.msgInfo.readRemaining,t=this.props.msgInfo.readRemaining;break;case c.SECTIONS.DELIVERED_FOOTER:e=this.props.msgInfo.deliveryRemaining,t=this.props.msgInfo.deliveryRemaining}var n=void 0;n=null!=e&&0!==e?{count:e,_plural:t}:{_plural:t};var r=l10n.t(684,n);return a.createElement("div",{"data-a8n":o.default.key("msg-info-remaining"),className:s.default.footer},a.createElement(l.default,{theme:"muted"},r))}}]),t}();d.CONCERNS={msgInfo:["playedRemaining","readRemaining","deliveryRemaining"]},d.displayName="GroupMsgInfoSectionFooter",t.default=(0,u.default)((0,i.hoc)(d),d.CONCERNS)},dhfjegifba:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n("djegeegcbf")),a=i(n("edbaidcaf")),o=i(n("jhddfhjhh"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n,o,i,u){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,{title:r.default.normalizeEmoji(o),notification:window.Notification,body:r.default.normalizeEmoji(i),icon:a.default.relToAbs(u)}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();t.default=u},dhgbabghaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enrich=function(e,t){var n=void 0;switch(u.previewType(t)){case"pdf":n=s(e);break;case"msoffice":n=l(e);break;default:n=Promise.resolve()}return n.timeout(3e3,"Document enrichment timeout").catch(function(e){return null})},t.enrichPdf=s,t.enrichDoc=l;var r,a=n("bdiiahhjbe"),o=(r=a)&&r.__esModule?r:{default:r};var i=n("bbegjdfcja"),u=n("behbjhhbg");function s(e){var t=void 0;return i.fileToPdf(e).then(function(e){return t=e,i.pdfToImg(e,1)}).catch(function(e){return o.default.log("pdf preview generation failed",e)(),Promise.resolve()}).finally(function(){t&&i.releasePdf(t)})}function l(e){return Promise.resolve()}},dhgdjhdfdh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=l(n("dhbceejbjg")),o=l(n("bidfjbaebi")),i=n("facgccaif"),u=l(n("bfdcadbbif")),s=l(n("dijcicjfhc"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.frequentlyForwardedCount,n=e.totalCount,l=r.createElement("span",{className:s.default.text},1===t&&1===n?l10n.t(439):l10n.t(438)," ",r.createElement(o.default,{href:(0,i.getFrequentlyForwardedFaqUrl)()},l10n.t(588)));return r.createElement("div",{className:s.default.wrapper},r.createElement("div",{className:s.default.icon},r.createElement(u.default,{name:"highly-forwarded"})),r.createElement(a.default,{theme:"plain",primary:l,idle:!0}))}c.displayName="FrequentlyForwardedWarning"},dhgeaaaega:function(e,t){e.exports={muted:"_1N9k_",chatstateTyping:"_2ZAIy"}},dhgfhcggji:function(e,t){e.exports={muted:"_2jeg2",mediaCanvas:"_3fLj2",canvasBody:"_26DoP",list:"LQJlb",canvasComponent:"_2eLQ5",canvasComponentLarge:"_1nQDL",canvasSecondRow:"_1en8j",viewerFlow:"H7wMr",active:"_3P8qe",placeholder:"_3gKoq"}},dhggbbghfb:function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=b(n("dbdfbgehgj")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("dfhjacfbjg")),i=b(n("eadfaddcj")),u=b(n("dhigahgdjb")),s=n("ddjgcfjicj"),l=n("dfhgeaeig"),c=b(n("bdiiahhjbe")),f=b(n("ebbjbbjjg")),d=b(n("dhefcajhhb")),p=b(n("gbbacfeci")),h=b(n("bgcdajbhif")),m=n("dgdhcdgffe");function b(e){return e&&e.__esModule?e:{default:e}}var g={handle(e){var t=r(e,1)[0];switch(t.type){case"const":i.default[t.key]=t.value;break;case"read":if(t.isStatus){h.default.handle([t]);break}case"unread":var n=a.default.get(t.jid);n&&("read"===t.type?(0,m.markSeen)(n):"unread"===t.type&&(0,m.markUnseen)(n));break;case"log":o.upload("server-requested",!0,!0);break;case"privacy":if(t.jid){var b=f.default.get(t.jid);b&&b.reset(),d.default.update(t.jid).catch(s.WapDrop,function(){}),p.default.update(t.jid).catch(s.WapDrop,function(){})}else c.default.error("Store:Cmd:handle:privacy no jid",t)();break;case"identity":if(t.jid){var g=u.default.get(t.jid);g?(0,l.updateIdentity)(g,t):c.default.error("Store:Cmd:handle:identity no contact",t)()}else c.default.error("Store:Cmd:handle:identity no jid",t)();break;default:c.default.warn("Store:Cmd:handle:unknown "+t.type,t)()}}};e.exports=g},dhgjbgdbhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encryptAndMac=function(e,t,n){return(0,r.aesCbcEncrypt)(e,new Uint8Array(n)).then(function(e){return new o.default(t).sign(e).then(function(t){return s.build(t,e).readBuffer()})})},t.macAndDecrypt=function(e,t,n){return Promise.resolve(new Uint8Array(n)).then(function(n){var i=u.encode(n.subarray(0,32)),s=n.subarray(32);return new o.default(t).sign(s).then(function(t){var n=u.encode(t);if(i!==n)throw a.default.error(`crypto:macAndDecrypt HMAC don't match ${i} vs. ${n}`)(),new Error("macAndDecrypt HMAC mismatch");return(0,r.aesCbcDecrypt)(e,s)})})};var r=n("eaiigfgagg"),a=i(n("bdiiahhjbe")),o=i(n("bbejegbieb"));function i(e){return e&&e.__esModule?e:{default:e}}var u=n("hgjcbccfg"),s=n("dbajccegac")},dhhabjhgej:function(e,t){e.exports={muted:"_2IS5x",body:"_1wC3s",text:"_3dPfH",hidden:"xvj7V",desc:"_1oAdg",more:"_3GIEC"}},dhhbbaegif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=l(n("gbfffciea")),i=l(n("fcedgihic")),u=l(n("iajeehcac")),s=l(n("beahjdfigf"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"initialize",value:function(){this.listenTo(this,"change:contact.name",this.sort),this.listenTo(o.default,"locale_change",this.sort)}},{key:"delete",value:function(){this.forEach(function(e){e.delete()}),this.stopListening(),this.reset()}},{key:"set",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.isParticipantCollectionAdd||(n.remove=!0),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"set",this).call(this,e,n)}},{key:"add",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.isParticipantCollectionAdd=!0,a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}}]),t}();c.model=u.default,c.comparator=s.default,t.default=c},dhhbehfjej:function(e,t){e.exports={muted:"ETha7",container:"_13fQ2",media:"_3in0k",img:"UAI6v",audio:"_3352Z",videoContainer:"_2Bop3",spinner:"mAc_L",video:"F5UsY",staticPreview:"_2qzas"}},dhhbgegf:function(e,t){e.exports={muted:"voT5T",clickable:"_2LRFQ",body:"_1J99z",main:"_1kz4p",mainEllipsify:"VfNCr",side:"_2h7Od"}},dhhcgceeai:function(e,t){e.exports={muted:"_2QxV_",spam:"_2Pown",text:"_3Dvhp",controls:"xD5k0",button:"GdqkG"}},dhhcghbjeb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("bhhdeihhhf")),i=s(n("ihfccfgdf")),u=n("ejbdjaifi");function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.mute,n=e.disabled,r=this.props.onMute.bind(null,!t.isMuted),i=t.isMuted?l10n.t(1202):l10n.t(1201);return a.createElement(o.default,{action:r,a8n:"mi-mute",disabled:n},i)}}]),t}();l.CONCERNS={mute:["isMuted"]},l.displayName="MuteMenuItem",t.default=(0,i.default)((0,u.hoc)(l),l.CONCERNS)},dhhfaeacef:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DetailImageCommon=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.getSize=k,t.getDefaultIcon=R;var o=y(n("dhigahgdjb")),i=v(n("ddhijeejag")),u=y(n("cajbifjffe")),s=y(n("jccfhaecf")),l=v(n("cajijabhgb")),c=y(n("ihfccfgdf")),f=n("ejbdjaifi"),d=n("bheafeifce"),p=y(n("efgfgjab")),h=y(n("bfdcadbbif")),m=y(n("cffibfiejh")),b=y(n("ceddibdhdb")),g=y(n("cjejfecgc"));function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=n("ceffhbhahb"),S={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",AUTO:"AUTO",NONE:"NONE"},w={LOW:"LOW",HIGH:"HIGH"},P=100,M=t.DetailImageCommon=function(e){function t(e){_(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.retriedAfter403=!1,n.state={loading:!0,loaded:!1,showSpinner:!1},n.onLoad=function(e){n.showSpinnerTimeout&&n.showSpinnerTimeout.cancel(),n.setState({loading:!1,loaded:!0}),n.props.onLoad&&n.props.onLoad()},n.onError=function(e){if(n.showSpinnerTimeout&&n.showSpinnerTimeout.cancel(),e instanceof l.ServerStatusError){var t=n.props.profilePicThumb;switch(e.status){case 403:t.markStale({eurl:!0}),n.retriedAfter403||(n.retriedAfter403=!0,t.validate());break;case 410:t.markStale()}}n.setState({loading:!1,loaded:!1})},n.enableSpinner="business"!==e.theme,e.loader&&n.enableSpinner&&(n.showSpinnerTimeout=new b.default(function(){n.setState({showSpinner:!0})}),n.showSpinnerTimeout.onOrAfter(P)),n}return j(t,i.PureComponent),a(t,[{key:"componentWillUnmount",value:function(){this.showSpinnerTimeout&&this.showSpinnerTimeout.cancel()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.profilePicThumbImg!==e.profilePicThumbImg&&(this.setState({loading:!0,loaded:!1,showSpinner:!1}),this.showSpinnerTimeout&&this.showSpinnerTimeout.onOrAfter(P))}},{key:"shouldShowSpinner",value:function(){var e=this.props,t=e.profilePicThumb,n=e.loader,r=this.state,a=r.loading,o=r.showSpinner;return!!this.enableSpinner&&(!!n&&o&&a&&!(!(0,d.unproxy)(t).stale&&!this.props.profilePicThumbImg))}},{key:"render",value:function(){var e=this.props,t=e.profilePicThumbImg,n=e.spinnerClassName,a=e.imgClassName,o=this.state,s=o.loading,l=(o.loaded,{[g.default.isLoaded]:!s});a&&(l=r({},l,{[a]:"string"==typeof a}));var c=O(g.default.avatarImage,l),f=void 0,d=void 0;this.shouldShowSpinner()&&(f=i.createElement(m.default,{key:"spinner",className:n})),t&&(d=i.createElement(u.default,{src:t,hasPrivacyChecks:!0,crossOrigin:!1,className:c,draggable:!1,key:"image",onLoad:this.onLoad,onError:this.onError}));var p=this.props.defaultIcon;return i.createElement(i.Fragment,null,f,d,p)}}]),t}();M.displayName="DetailImageCommon";var C=function(e){function t(){return _(this,t),E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,i.PureComponent),a(t,[{key:"render",value:function(){return i.createElement(M,r({},this.props,{profilePicThumbImg:this.props.profilePicThumb.imgFull}))}}]),t}();C.CONCERNS={profilePicThumb:["imgFull"]},C.displayName="DetailImageFull";var T=(0,c.default)((0,f.hoc)(C),C.CONCERNS),A=function(e){function t(){return _(this,t),E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,i.PureComponent),a(t,[{key:"render",value:function(){return i.createElement(M,r({},this.props,{profilePicThumbImg:this.props.profilePicThumb.img}))}}]),t}();A.CONCERNS={profilePicThumb:["img"]},A.displayName="DetailImageThumb";var N=(0,c.default)((0,f.hoc)(A),A.CONCERNS);function k(e){switch(e){case S.SMALL:return 49;case S.MEDIUM:return 100;case S.LARGE:return 200;case S.NONE:return;default:return e}}var I=function(e){var t=e.id,n=e.size,r=e.quality,a=e.loader,u=e.onClick,s=e.onLoad,l=e.quoted,c=e.square,f=e.border,d=e.waitIdle,h=e.theme,m=void 0;m="number"==typeof n?n>0?n:S.SMALL:null!=n?n:S.SMALL;var b=r||w.LOW,v={height:k(m),width:k(m)};u&&(v.cursor="pointer");var y=O(g.default.avatar,{[g.default.status_v3]:"status_v3"===h,[g.default.avatarSquare]:c,[g.default.avatarBorder]:f}),_=R(t,l);return i.createElement(p.default,{id:t,onComplex:function(){var e=null,n=o.default.gadd(t).getProfilePicThumb();return n&&(e=b===w.HIGH?i.createElement(T,{profilePicThumb:n,defaultIcon:_,loader:a,onLoad:s}):i.createElement(N,{profilePicThumb:n,defaultIcon:_,loader:a,onLoad:s})),i.createElement("div",{className:y,style:v,onClick:u},e)},waitIdle:d},i.createElement("div",{className:y,style:v,onClick:u},_))};function R(e,t){var n="default-user";return s.default.isUser(e)&&!s.default.isPSA(e)&&t?n="default-user-square":s.default.isGroup(e)?n="default-group":s.default.isBroadcast(e)?n="default-broadcast":s.default.isPSA(e)&&(n="default-psa"),i.createElement("div",{className:g.default.avatarDefault,key:"default"},i.createElement(h.default,{name:n}))}I.displayName="DetailImage",I.Size=S,I.Quality=w,t.default=I},dhhhjaejje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cgeeeeddea"),i=(r=o)&&r.__esModule?r:{default:r};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,null,[{key:"onMutator",value:function(e,t,n,r,a){(0,i.default)(!1,"Subclasses of `Serializer` must override `onMutator()`")}},{key:"onRoot",value:function(e,t){(0,i.default)(!1,"Subclasses of `Serializer` must override `onRoot()`")}},{key:"onText",value:function(e,t){(0,i.default)(!1,"Subclasses of `Serializer` must override `onText()`")}},{key:"onDelimiter",value:function(e,t){(0,i.default)(!1,"Subclasses of `Serializer` must override `onDelimiter()`")}}]),e}();t.default=u},dhiccjfja:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contactFindQuery=function(e){var t=i.default.Contact,n=performance.now(),c={};return l.default.contactFindQuery(e.retry,function(e){c.binarySize=e.binarySize}).then(function(e){var i=e;if("preempted"===i.data)return Promise.reject("contacts preempted");c.count=i.data&&i.data.length,c.timing=Math.ceil(performance.now()-n),t.trigger(r.default.COLLECTION_HAS_SYNCED,c),(0,s.mungePSAContact)(i.data);return(a.default.supportsFeature(a.default.F.MODEL_STORAGE)?(0,u.bulkCreateOrUpdateContacts)(i.data):Promise.resolve()).then(function(){return i.checksum&&(t.setChecksum(i.checksum),o.default.log("Store:Contact:query update checksum "+i.checksum)()),Promise.resolve(i.data)})})};var r=c(n("eadfaddcj")),a=c(n("ccaaiecfib")),o=c(n("bdiiahhjbe")),i=c(n("bhggeigghg")),u=n("dbhhjaecch"),s=n("dafafigeih"),l=c(n("bihdhbjih"));function c(e){return e&&e.__esModule?e:{default:e}}},dhigahgdjb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=j(n("eaaagccfda")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},i=n("cgcgbfbffj"),u=j(i),s=n("cajejegicg"),l=j(n("gbfffciea")),c=j(n("eadfaddcj")),f=j(n("ccfcjccjbg")),d=j(n("ccicaaeiaa")),p=n("ddjgcfjicj"),h=n("dhiccjfja"),m=n("cbecjajacd"),b=j(n("bdiiahhjbe")),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ebggjhghhi")),v=j(n("cbeabehaca")),y=j(n("egjjcjcg")),_=n("eaaehfdjdg"),E=j(_);function j(e){return e&&e.__esModule?e:{default:e}}var O=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._contactHashes=new v.default,e.checksum=void 0,e._frequentContacts={},e._sort=(0,r.default)(function(){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"sort",e).call(e)},1e3),e._silentSort=(0,r.default)(function(){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"sort",e).call(e,{silent:!0})},1e3),e.listenTo(l.default,"locale_change",e.sort),e.listenTo(e,"change:name",e.sort),e.listenTo(E.default,"change:stream",function(){E.default.stream===_.STREAM.RESUMING&&e.forEach(function(e){e.unset("verificationString"),e.unset("verificationBinary")})}),e.listenTo(e,"add",e.contactAdded),e.listenTo(e,"remove",e.contactRemoved),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),a(t,[{key:"sort",value:function(e){return e&&e.silent?this._silentSort():this._sort()}},{key:"initializeFromCache",value:function(e){e&&(b.default.log("Store:Contact init from cache")(),this.add(e,{silent:!0,merge:!0}))}},{key:"contactAdded",value:function(e){this._contactHashes.put(e)}},{key:"contactRemoved",value:function(e){this._contactHashes.remove(e)}},{key:"delete",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.setChecksum(),delete this.checksum,this._frequentContacts={},(0,m.setFrequent)({}).catch(function(){}),this._contactHashes.clear()}},{key:"isFilteredContact",value:function(e){return!!e.name&&!e.isMe&&!e.isPSA&&e.isWAContact}},{key:"getFilteredContacts",value:function(){return this.filter(function(e){return e.name&&!e.isMe&&!e.isPSA&&e.isWAContact})}},{key:"_find",value:function(e){var t=this.get(e);return t?Promise.resolve(t):Promise.resolve({id:e})}},{key:"_findQuery",value:function(e){return(0,h.contactFindQuery)(e)}},{key:"sync",value:function(){return this.findQuery({}).catch(p.WapDrop,function(){}),g.waitForBBEvent(this,c.default.COLLECTION_HAS_SYNCED)}},{key:"frequentContacts",value:function(e,t){var n=this,r=e&&this._frequentContacts[e];if(r||(r=this._frequentContacts.message),!r)return[];var a=t&&t.id;return r.map(function(e){return n.get(e)}).filter(function(e){return!!e&&!e.id.equals(a)})}},{key:"_getUserCount",value:function(){return this.map(function(e){return e.isUser?1:0}).reduce(function(e,t){return e+t},0)}},{key:"setChecksum",value:function(e){this.checksum=e,y.default.setContactChecksum(this.checksum),(0,s.setChecksum)(e).catch(function(){})}}]),t}();O.model=f.default,O.comparator=d.default,O.cachePolicy={id:"contact",policy:i.CACHE_POLICY.IMMEDIATE,trigger:"add\n        sort\n        remove\n        reset\n        change:id\n        change:name\n        change:shortName\n        change:pushname\n        change:type\n        change:verifiedName\n        change:isBusiness\n        change:isEnterprise\n        change:verifiedLevel\n        change:statusMute\n        change:sectionHeader\n        change:isContactBlocked\n        change:labels"},t.default=new O},dhjaadicdd:function(e,t,n){"use strict";var r,a=n("bdiiahhjbe"),o=(r=a)&&r.__esModule?r:{default:r};var i={queryVideoPlaybackUrl:function(e){var t=this;return new Promise(function(n,r){var a=t.queryNode({type:"video",url:e},void 0);t.binSend("sendEphemeral",a,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){o.default.logColor("green","bin-recv: response,video_playback_url",e)();var r=void 0;if("response"===t.N.tag(e)&&"video"===t.N.attr("type",e)){var a=t.N.attr("url",e);a&&(r={url:a})}n(r)}).catch(r)},n),onDrop:t.wrap(r)},{debugString:"query,video_playback_url",metricName:"QUERY_URL"})})}};e.exports=i},dhjeadeagb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("dbdfbgehgj")),i=d(n("gbfffciea")),u=d(n("biddiiafgd")),s=d(n("fifhbjiec")),l=d(n("bcbahjefec")),c=d(n("cihiahfgbc")),f=n("cgjcdbggeb");function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.filter=function(e){var t=e.groupMetadata;return!(!e.isGroup||e.isGroup&&!t.participants.iAmMember())&&(t.participants.get(r.props.contact.id)?l10n.t(1365):!!t.participants.iAmAdmin()||l10n.t(289))},r.confirmAddToGroup=function(e){r.push(a.createElement(u.default,{onOK:r.addToGroup.bind(null,e),okText:l10n.t(1363),onCancel:r._pop,cancelText:l10n.t(1091)},a.createElement(s.default,{text:l10n.t(314,{participant:r.props.contact.formattedName,subject:e.contact.name})})))},r.addToGroup=function(e){(0,f.addParticipants)(e,[r.props.contact]).then(function(){i.default.openChatFromUnread(e).then(function(t){t&&i.default.focusChatTextInput(e)})}).catch(function(){}),r.end()},r._pop=function(){r.pop()},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.push(a.createElement(c.default,{chats:o.default.filter(function(e){return e.isGroup}),filter:this.filter,onCancel:this._pop,onGroup:this.confirmAddToGroup}))}}]),t}();t.default=h},dhjffabgfb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StickerCollection=t.FETCH_STATE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n("cgcgbfbffj")),o=i(n("cgfidiajgj"));function i(e){return e&&e.__esModule?e:{default:e}}t.FETCH_STATE={PENDING:"PENDING",SUCCESS:"SUCCESS",ERROR:"ERROR"};var u=t.StickerCollection=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"fetch",value:function(e){throw new Error(`${this.constructor.name}.fetch is not implemented`)}}]),t}();u.model=o.default,t.default=new u},dhjfgehgcf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uploadMedia=t.cancelUploadMedia=void 0,t.processRawMedia=function(e,t){var n=Promise.resolve().then(function(){var n=e.size(),r=t.asDocument?u.FILETYPE.DOCUMENT:(0,u.typeFromMimetype)(e.type()),c=r===u.FILETYPE.DOCUMENT?l.default.maxFileSize:l.default.media;if(n>c)return Promise.reject(new i.default(e));if(n<=0)return Promise.reject(new o.MediaFileEmpty);var f=void 0;switch(null!=t.gifAttribution?f=t.gifAttribution:t.asGif&&(f=0),r){case"image":return a.processRawImage(e).then(function(e){var t=e.blob,n=e.width,r=e.height,a=e.preview;return{type:s.OUTWARD_TYPES.IMAGE,mediaBlob:t,mimetype:"image/jpeg",fullWidth:n,fullHeight:r,preview:a}});case"video":case"audio":return a.processRawAudioVideo(e,!!t.isPtt,t.precomputedFields,t.asGif,f,e.type());case"document":return a.processRawDocument(e,t.customFilename);default:throw new Error("Received unsupported mediaType: "+r)}});return e.retain(),e.autoreleaseWhenPromiseCompletes(n),n};var r=n("bhichefhgf");Object.defineProperty(t,"cancelUploadMedia",{enumerable:!0,get:function(){return r.cancelUploadMedia}}),Object.defineProperty(t,"uploadMedia",{enumerable:!0,get:function(){return r.uploadMedia}});var a=f(n("fabajdgab")),o=f(n("cajijabhgb")),i=c(n("cieaaiahhf")),u=n("cgffhfegce"),s=n("daichdjff"),l=c(n("bfgbdiffgd"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},diafggiefe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("dcaifjegcg"),u=g(i),s=n("cajijabhgb"),l=g(n("bdiihbaeaj")),c=g(n("bdiiahhjbe")),f=n("ddgbhifaji"),d=g(n("bffjfbgbg")),p=n("daichdjff"),h=n("fabajdgab"),m=g(n("beeieigghj")),b=n("dgeebjciej");function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,i.prop)(),r.type=(0,i.prop)(),r.mediaUrl=(0,i.prop)(),r.blobUrl=(0,i.session)(),r.mediaData=(0,i.session)(),r.fetchedFromServer=(0,i.prop)(),r.old=(0,i.session)(!1),v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),o(t,[{key:"initialize",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.listenTo(this,"change:mediaUrl change:fetchedFromServer",this.triggerImageUpdate),this.triggerImageUpdate()}},{key:"triggerImageUpdate",value:function(){var e=this;if(this.fetchedFromServer&&this.mediaUrl){this.mediaData||this.addChild("mediaData",new d.default({mediaStage:p.STAGE.PREPARING}));var t={};(0,l.default)({retries:10,factor:1e3,maxTimeout:9e5,jitter:.25},function(t){return(0,h.fetchMedia)(e.mediaUrl).then(function(e){return e&&e.status>=200&&e.status<300?e:t(new s.CatalogImageDownloadError)})}).then(function(n){var o=n.result,i=m.default.createFromData(o,"image/jpeg");(0,f.prepRawMedia)(i,{}).waitForPrep().then(function(e){return t=a({},t,{mediaBlob:e.mediaBlob,type:e.type,mimetype:e.mimetype,fullWidth:e.fullWidth,fullHeight:e.fullHeight}),Promise.all([m.default.createFromBase64Jpeg(e.preview),m.default.createFromData(e.mediaBlob),(0,b.getHash)(e.mediaBlob)])}).then(function(n){var o=r(n,3),i=o[0],u=o[1],s=o[2];if(t=a({},t,{preview:i,mediaBlob:u,renderableUrl:u.url(),mediaStage:p.STAGE.RESOLVED,filehash:s}),s===e.mediaData.filehash)return Promise.resolve();e.mediaData.set(t)})}).catch(function(t){c.default.error(`Failed to fetch ${e.mediaUrl}`,t)(),e.mediaData.set({mediaStage:p.STAGE.ERROR_MISSING})})}}},{key:"markOld",value:function(){this.old=!0}}]),t}();y.Proxy="productImage",t.default=(0,i.defineModel)(y)},diaggdeic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("ddfeabiaci")),a=c(n("bccgihhja")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),i=c(n("bdiiahhjbe")),u=c(n("djchfddccj")),s=c(n("dajhhehjhc")),l=c(n("ccaaiecfib"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e,t){if(Array.isArray(e)&&t)return e.concat(t)},d=function(e,t){if(e.Dictionary){var n={};(0,a.default)(n,t.Dictionary,e.Dictionary,f),e.Dictionary=n}return(0,r.default)(e,t)},p={OutputStream:s.default,Writer:n("djiifidhej"),InputStream:u.default,Reader:n("chaebfegeh"),Dictionary:n("dabcaghhah"),Crypto:n("ddcchcchag")},h=d({Dictionary:n("cbhhieidga")},p),m=d({Dictionary:n("dabidjgjaj")},h),b=d({Dictionary:n("bbijaajigb")},m),g=d({Dictionary:n("ceihfbbggi")},b),v=d({Dictionary:n("ddfgdjiacb")},g),y=d({Writer:n("bfidcjhfda"),Reader:n("cdjdachjig"),Dictionary:n("gjcabeieb")},v),_={"01":!0,"03":!0,"04":!0,"05":!0,"06":!0,v1:!0,v2:!0,v3:!0,v4:!0},E={v5:p,v6:h,v7:m,v8:b,v9:g,v10:v,v11:y};t.default=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r="number"==typeof t?`v${t}`:t;if(_[r])throw i.default.error(`binaryProtocol deprecated version: ${r}`)(),new o.DeprecatedProtocolVersion("bp_deprecated_version");var a=E[r];if(!a)throw i.default.error("binaryProtocol unknown version: "+r)(),new o.UpdateImmediately("bp_unknown_version");var u=a.OutputStream,s=new a.Writer(a.Dictionary),c=a.InputStream,f=new a.Reader(a.Dictionary),d=a.Crypto;this.Node=n("bcjjbcbjaa"),l.default.supportsFeature(l.default.F.MD_BACKEND)||(this.read=function(e){return d.decrypt(e).then(function(e){return f.readNode(new c(e))})}),this.write=function(e){return Promise.callSynchronously(function(){var t=new u;return s.writeNode(t,e),d.encrypt(t.toBuffer())})},this.dropAllBecauseLogout=function(){return d.dropAllBecauseLogout()}}},diajeiidei:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n("djfhiaaehb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n("cgcgbfbffj")),i=f(n("eadfaddcj")),u=n("ddjgcfjicj"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),l=f(n("cbcbdjdah")),c=f(n("biecbbiiee"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p="before",h="after",m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.hasMediaBefore=!0,r.hasMediaAfter=!0,d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"delete",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.stopListening()}},{key:"contains",value:function(e){return this.includes(e)}},{key:"getAfter",value:function(e){var t=this.indexOf(e);return t<0||t===this.length-1?null:this.at(t+1)}},{key:"getBefore",value:function(e){var t=this.indexOf(e);return t<=0?null:this.at(t-1)}},{key:"loadEarlierMedias",value:function(){var e=this.head();e&&this.queryMedia(null,e)}},{key:"loadRecentMedias",value:function(){var e=this.last();e&&this.queryMedia(null,e,h)}},{key:"loadMoreAroundIfNeeded",value:function(e){if(e){var t=this.indexOf(e);t<20&&this.hasMediaBefore&&this.loadEarlierMedias(),this.length-t<20&&this.hasMediaAfter&&this.loadRecentMedias()}}},{key:"queryMedia",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;if(!t&&e){var o=e.msgs;if(!o||0===o.length)return this.hasMediaBefore=!1,new Promise(function(e){e({eof:!0})});this.add(o.filter(function(e){return e.isMedia&&!e.isProduct}),{at:0});var l=this.toArray();if(this.downloadMedias(l),e.msgs.msgLoadState.noEarlierMsgs)return this.hasMediaBefore=!1,new Promise(function(e){e({eof:!0})});if(l.length<=2*i.default.MEDIA_QUERY_LIMIT){var f=0===l.length?o.head():(0,r.default)(l);return this.queryMedia(e,f)}return new Promise(function(e){e({eof:!1})})}if(t&&a===p){if(this.queryMediaBefore)return this.queryMediaBefore;var d=0;return this.queryMediaBefore=c.default.queryMedia(t.id.remote,i.default.MEDIA_QUERY_LIMIT,a,t.isMedia?t.id:void 0).then(function(t){var r=t.messages;(!r||r.length<i.default.MEDIA_QUERY_LIMIT)&&(n.hasMediaBefore=!1);var a=[];r&&r.length>0&&(a=r.filter(function(e){return e.isMedia}),n.downloadMedias(a)),n.add(a,{at:0});var o={mediaCount:t.mediaCount,linkCount:t.linkCount,docCount:t.docCount};return e&&e.resetMediasCount(o),{length:d=a.length}}).catch(u.WapDrop,s.ProtoVersionUndefined,function(){}).catch(404,function(){}).finally(function(){n.queryMediaBefore=null,n.trigger("query_media_before",d)}),this.trigger("query_media_before",0),this.queryMediaBefore}if(t&&a===h)return this.queryMediaAfter?this.queryMediaAfter:this.queryMediaAfter=c.default.queryMedia(t.id.remote,i.default.MEDIA_QUERY_LIMIT,a,t.id).then(function(t){var r=t.messages;(!r||r.length<i.default.MEDIA_QUERY_LIMIT)&&(n.hasMediaAfter=!1);var a=[];r&&r.length>0&&(a=r.filter(function(e){return e.isMedia}),n.downloadMedias(a)),n.add(a);var o={mediaCount:t.mediaCount,linkCount:t.linkCount,docCount:t.docCount};return e&&e.resetMediasCount(o),{length:a.length}}).catch(u.WapDrop,s.ProtoVersionUndefined,function(){}).catch(404,function(){}).finally(function(){n.queryMediaAfter=null,n.trigger("query_media_after")})}},{key:"downloadMedias",value:function(e){e.forEach(function(e){e.downloadMedia()})}}]),t}();m.model=l.default,t.default=m},dibgadcjce:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=k(n("cbfghigjc")),a=k(n("bfeeicacah")),o=k(n("cbfccfjdie")),i=k(n("eehbhjjch")),u=k(n("bgeijhbbad")),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),f=k(n("ceffhbhahb")),d=k(n("dheiadgfhj")),p=k(n("cehjjfagii")),h=k(n("eadfaddcj")),m=k(n("bfjbdahdag")),b=k(n("gbfffciea")),g=k(n("biddiiafgd")),v=k(n("bjeccdffag")),y=k(n("bhcegecbha")),_=k(n("fifhbjiec")),E=k(n("dfeecdfijg")),j=k(n("bffjfbgbg")),O=k(n("eiiicijcj")),S=k(n("cieaeggjg")),w=k(n("deibgadgic")),P=k(n("ihfccfgdf")),M=n("bfjajhbdf"),C=k(M),T=n("behbjhhbg"),A=n("ejbdjaifi"),N=n("bheafeifce");function k(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var R=(0,u.default)(T.MIMETYPES,function(e){return"document"===e.msgType});function L(e){e&&(e.stopPropagation(),e.preventDefault())}var D=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=I(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.showMediaMissing=function(e){L(e),b.default.openModal(c.createElement(O.default,{msg:r.props.msg}))},r.downloadMedia=function(e){if(L(e),Modernizr.adownload)r.props.msg.forceDownloadMedia().catch(function(){}).then(function(){switch(r.props.mediaData.mediaStage){case j.default.STAGE.RESOLVED:case j.default.STAGE.ERROR_UNSUPPORTED:r.displayToast(),y.default.initDownload((0,N.unproxy)(r.props.msg));break;case j.default.STAGE.ERROR_MISSING:r.showMediaMissing()}});else{var t=l10n.t(1353).replace("__chrome_homepage__",h.default.BROWSER_LINK.CHROME).replace("__firefox_homepage__",h.default.BROWSER_LINK.FIREFOX).replace("__opera_homepage__",h.default.BROWSER_LINK.OPERA);b.default.openModal(c.createElement(g.default,{onOK:function(){return b.default.closeModal()},okText:l10n.t(1225)},c.createElement("div",{dangerouslySetInnerHTML:{__html:t}})))}},r.cancelDownload=function(e){L(e),r.props.msg.cancelDownload()},r.cancelUpload=function(e){L(e),r.props.msg.cancelUpload()},r.resumeUpload=function(e){L(e),r.props.msg.resumeUpload()},r.resumeRemoteUpload=function(e){L(e),r.props.msg.resumeRemoteUpload()},I(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.PureComponent),l(t,[{key:"displayToast",value:function(){var e=this.props.mediaData.filename||l10n.t(1043);b.default.openToast(c.createElement(C.default,{msg:l10n.t(384,{name:e}),id:(0,M.genId)()}))}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.mediaData,u=e.displayAuthor,l=e.displayType,b=u&&!t.isSentByMe&&t.isGroupMsg,g=t.showForwarded(),y=b?c.createElement("div",{className:d.default.author},c.createElement(p.default,{msg:t,contact:t.senderObj})):null,O=g?c.createElement(E.default,{msg:t,className:d.default.forwardedIndicator}):null,P=t.hsmEnabled&&t.caption?d.default.templateBubble:d.default.bubble,M=(0,f.default)(P,{[d.default.hasCaption]:t.hsmEnabled&&t.caption,[d.default.bubbleOut]:t.isSentByMe,[d.default.bubbleIn]:!t.isSentByMe,[d.default.hasAuthor]:b,[d.default.forwarded]:g,[d.default.isPreview]:this.props.displayType===h.default.DISP_TYPE.MSG_INFO,[d.default.isGallery]:this.props.displayType===h.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===h.default.DISP_TYPE.GALLERY}),C=void 0;n.pageCount>0&&(C=c.createElement("span",{className:d.default.metaValue},l10n.t(1114,{count:n.pageCount,_plural:n.pageCount})));var A=n.size>0?c.createElement("span",{className:d.default.metaValue},l10n.filesize(n.size)):null,N=void 0,k=d.default.filetypeIcon,I=void 0,L=void 0;(0,i.default)(R,n.mimetype)&&(I=R[n.mimetype].ext,L=n.mimetype);var D=void 0;if(n.filename){var x=n.filename.split(".");x.length>1&&(D=(0,o.default)((0,a.default)(x)))}(!I||D&&I!==D)&&(I=D,L=(0,r.default)(T.EXT_TO_MIME,I)),k=(0,f.default)(k,L&&(0,r.default)(R,[L,"icon"])||"icon-doc-generic"),I&&(N=c.createElement("span",{"data-meta-key":"type",className:d.default.metaValue},I));var U=n.preview&&this.props.trusted?c.createElement("div",{className:d.default.thumb,style:{backgroundImage:`url("${n.preview.url()}")`}}):null,G=n.filename||l10n.t(1043),F=null,B={href:"#",onClick:null};switch(n.mediaStage){case j.default.STAGE.RESOLVED:case j.default.STAGE.ERROR_UNSUPPORTED:B.onClick=this.downloadMedia,F=c.createElement(v.default.Download,{onClick:B.onClick});break;case j.default.STAGE.FETCHING:F=c.createElement(v.default.PendingCancel,null),B.onClick=this.cancelDownload;break;case j.default.STAGE.NEED_POKE:case j.default.STAGE.INIT:B.onClick=this.downloadMedia,F=c.createElement(v.default.Download,{onClick:B.onClick});break;case j.default.STAGE.UPLOADING:F=c.createElement(v.default.PendingCancel,{outgoingMsg:t.isSentByMe}),B.onClick=this.cancelUpload;break;case j.default.STAGE.NEED_UPLOAD:F=c.createElement(v.default.Upload,null),B.onClick=this.resumeUpload;break;case j.default.STAGE.REMOTE_NEED_UPLOAD:F=c.createElement(v.default.Upload,null),B.onClick=this.resumeRemoteUpload;break;case j.default.STAGE.ERROR_TOO_LARGE:B.onClick=null;break;case j.default.STAGE.ERROR_MISSING:B.onClick=this.showMediaMissing;break;default:F=c.createElement(v.default.Pending,{outgoingMsg:t.isSentByMe})}var $=l===h.default.DISP_TYPE.GALLERY?c.createElement("div",{className:d.default.meta},c.createElement(S.default,{msg:t,theme:"date"})):c.createElement("div",{className:d.default.meta},c.createElement(S.default,{msg:t})),V=this.props.quotedMsg?c.createElement("div",{className:d.default.quote},this.props.quotedMsg):null,H=void 0,W=void 0;t.hsmEnabled&&(H=t.caption?c.createElement("div",{className:d.default.caption},c.createElement(m.default,{msg:t,trusted:this.props.trusted,spacer:!t.footer})):null,W=c.createElement(w.default,{msg:t}));var Y=t.hsmEnabled&&t.caption?null:c.createElement("div",{className:d.default.docMeta},C,N,A);return c.createElement("div",{className:M},y,O,V,c.createElement("a",s({className:d.default.container,title:l10n.t(1128,{name:G})},B),U,c.createElement("div",{className:d.default.body},c.createElement("div",{className:d.default.icon},c.createElement("div",{className:k})),c.createElement("div",{className:d.default.text},c.createElement(_.default,{text:G,dirMismatch:t.rtl!==l10n.isRTL(),direction:"auto"})),F)),Y,H,W,$)}}]),t}();D.CONCERNS={msg:["rtl","ack","isSentByMe","isGroupMsg","senderObj","caption","footer","type","dir","hsmEnabled"],mediaData:["mediaStage","filename","pageCount","size","mimetype","preview"]},D.displayName="Doc",t.default=(0,P.default)((0,A.hoc)(D),D.CONCERNS)},dibjgbdhfg:function(e,t){e.exports={muted:"_1GRv7",emojiPanel:"_342qq",panelBody:"_3hg8T",panelDropdown:"_1mTBR"}},diccedcfdi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("ceffhbhahb")),i=h(n("fifhbjiec")),u=h(n("fffdgbfji")),s=h(n("dbbbgjbbgf")),l=h(n("cfiighfhhg")),c=h(n("faeadiehh")),f=h(n("dbabefhajh")),d=n("gaifbabbj"),p=n("cicjibbhdb");function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.msg,t=(e.isTrusted()?d.Configuration.TrustedConversation:d.Configuration.UntrustedConversation)({mentions:e.mentionMap(),links:e.getLinks(),selectable:!0}),n=e.comment?a.createElement(s.default,{msg:e},a.createElement(i.default,{text:e.comment,formatters:t,selectable:!0,dirMismatch:e.rtl!==u.default.isRTL(),direction:e.dir})):null,r=void 0;if(this.props.quotedMsg){var h=(0,o.default)(c.default.quote,{[c.default.hasAuthor]:this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg,[c.default.forwarded]:e.showForwarded()});r=a.createElement("div",{className:h},this.props.quotedMsg)}return a.createElement(f.default,{msg:e,displayAuthor:this.props.displayAuthor},r,a.createElement("div",{className:n?c.default.hasText:c.default.noText},a.createElement(l.default,{hasCaption:!!n,iconName:(0,p.liveLocationIcon)(!1),msg:this.props.msg,theme:"small-icon"},u.default.t(294))),n)}}]),t}();m.displayName="LiveLocation",t.default=m},dicdgcbidg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t,n){var r=new o.default;r.onerror=function(e){r.terminate(),n(new i.DecodeWebpResultsError("worker error",e))},r.onmessageerror=function(e){r.terminate(),n(new i.DecodeWebpResultsError("worker message error",e))},r.onmessage=function(e){r.terminate();var n=e.data;t(n)},r.postMessage({webpBuffer:e},[e])})};var r,a=n("cejfhccbi"),o=(r=a)&&r.__esModule?r:{default:r},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb"))},dicfecifhd:function(e,t,n){"use strict";e.exports={STREAM_END:2,LIST_EMPTY:0,DICTIONARY_0:236,DICTIONARY_1:237,DICTIONARY_2:238,DICTIONARY_3:239,JID_AD:247,LIST_8:248,LIST_16:249,JID_PAIR:250,HEX_8:251,BINARY_8:252,BINARY_20:253,BINARY_32:254,NIBBLE_8:255,SINGLE_BYTE_MAX:256,PACKED_MAX:254}},dicggaeied:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n("cfjdfebffb")),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){return(0,f.default)(e,m)};var o=p(n("gbfffciea")),i=n("dcdiaahjj"),u=p(i),s=p(n("bgabgddgch")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ebggjhghhi")),c=n("dideejhcch"),f=p(c),d=p(n("bbhahjgijh"));function p(e){return e&&e.__esModule?e:{default:e}}var h=new Set(["ar","bn","cs","de","en","es","fa","fr","gu","he","hi","hu","id","it","mr","ms","nl","pl","pt","pt-BR","ro","ru","sk","th","tr","uk","ur","zh-CN","zh-TW"]),m=null;var b=null,g=[];function v(){var e=(0,r.default)(["en",l10n.getLocale()]).filter(function(e){return h.has(e)});if(!(0,d.default)(g,e)){g=e;var t=Promise.map(e,function(e){return function(e){return Promise.loop(function(t,r,o){var i=Promise.delay(s.default.expBackoff(o,12e4,1e3,.1));return n("fbighchac")(`./${e}`)().then(function(e){var n=a(e,2)[1];return t(n)}).catch(function(){return i})}).catch(function(){return{}})}(e)}).then(function(e){b===t&&(m=(0,c.emojiLocaleDictsToTrie)(e))}).catch(function(){}).finally(function(){b===t&&(b=null)});b=t}}o.default.on("locale_change",function(){v()}),l.waitForBBEvent(u.default,"change:mode",function(){return u.default.mode===i.StreamMode.MAIN}).then(function(){v()})},didbbgcjac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=n("bfdcadbbif"),u=(r=i)&&r.__esModule?r:{default:r};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"render",value:function(){var e=this.props.className;return o.createElement(u.default,{className:e,name:"sticker-placeholder"})}}]),t}();s.displayName="StickerPlaceholder",t.default=s},dideejhcch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n("eicihhaba")),a=g(n("bhdddbafig")),o=g(n("dbafiicfja")),i=g(n("jcfacighg")),u=g(n("bgjcbiaddd")),s=g(n("bhdefefjjb")),l=g(n("gaaifgdgd")),c=g(n("ddddbcgaef")),f=g(n("iidhbgeed")),d=g(n("cfjdfebffb")),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){var n=[];if(e){var r=function(e,t){var n=function(e,t){if(!t)return[];if(e.length<=5)return t.getMatches(e);var n=e.substring(0,5).trim(),r=t.getMatches(n);return r=(0,f.default)(r,function(t){return(0,c.default)(t.keyword,e)})}(e,t),r=(0,l.default)((0,f.default)(n,{keyword:e}),"value");n=(0,l.default)(n,"value");var d=(0,s.default)(h.default.map(function(e){return e.id}),n),p=(0,s.default)(v,n),b=(0,s.default)((0,u.default)(d,p),r);return b=(0,i.default)((0,o.default)(b,function(e){return m.default.getEmojiFromUnicode(e)})),r=_(r=(0,i.default)((0,o.default)(r,function(e){return m.default.getEmojiFromUnicode(e)}))),d=(0,i.default)((0,o.default)(d,function(e){return m.default.getEmojiFromUnicode(e)})),p=(0,i.default)((0,o.default)(p,function(e){return m.default.getEmojiFromUnicode(e)})),n=(0,i.default)((0,o.default)(n,function(e){return m.default.getEmojiFromUnicode(e)})),n=_(n=(0,a.default)(n,(0,u.default)(r,d,p))),(0,u.default)(b,r,d,p,n)}(e.toLowerCase(),t);n=(0,d.default)(r)}return n},t.emojiLocaleDictsToTrie=function(e){var t=e[0];e.length>1&&(t=p({},t,e[1]));return function(e,t){var n=b.default.fromForwardsStrings(e.map(function(e){return e[t]}),e);return{getMatches:function(e){return n.search(e)}}}((0,o.default)(t,function(e,t){var n=t.toLowerCase(),r=n.substring(0,5);return{value:e,keyword:n,shortKeyword:r}}),"shortKeyword")};var h=g(n("bjfecgfdgj")),m=g(n("djegeegcbf")),b=g(n("cjdfbfihbe"));function g(e){return e&&e.__esModule?e:{default:e}}var v=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=["SMILEYS_PEOPLE","ANIMALS_NATURE","FOOD_DRINK","ACTIVITY","TRAVEL_PLACES","OBJECTS","SYMBOLS","FLAGS","VARIATION"];function _(e){var t={};return y.forEach(function(e){t[e]=[]}),e.forEach(function(e){var n=m.default.getCategoryString(e);t[n].push(e)}),(0,r.default)(t,function(e,n){e.length>0&&(t[n]=(0,s.default)(m.default.getEmojiListInCategory(n),e))}),(0,l.default)(t)}},dieafdcbjb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("dcaifjegcg"),a=i(r),o=i(n("jccfhaecf"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=a=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.id=(0,r.prop)(),a.status=(0,r.prop)(),a.stale=(0,r.session)(!0),u(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();s.Collection="Status",s.Proxy="status",s.idClass=o.default,t.default=(0,r.defineModel)(s)},dieejegcge:function(e,t,n){"use strict";var r,a=n("chgaccicf");var o=(0,((r=a)&&r.__esModule?r:{default:r}).default)({CONTACT_US:void 0,DELETE_OR_EXIT_CHAT:void 0,GO_TO_NEXT_CHAT:void 0,GO_TO_PREV_CHAT:void 0,LOGOUT:void 0,OPEN_NEW_CHAT:void 0,OPEN_NEW_GROUP:void 0,OPEN_PROFILE:void 0,OPEN_SETTINGS:void 0,SEARCH:void 0,SEARCH_IN_CHAT:void 0,TOGGLE_ARCHIVE:void 0,TOGGLE_MUTE:void 0,TOGGLE_UNREAD:void 0,ZOOM_IN:void 0,ZOOM_OUT:void 0,ZOOM_RESET:void 0});e.exports=o},diegbjcafg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=g(n("gbfffciea")),i=g(n("biddiiafgd")),u=g(n("bjigbaghc")),s=g(n("eadfaddcj")),l=g(n("dhigahgdjb")),c=g(n("dcjdgceiej")),f=g(n("edbaidcaf")),d=g(n("jccfhaecf")),p=g(n("djbfhebjhe")),h=g(n("bfejacaeaj")),m=n("dgjddffcfg"),b=n("facgccaif");function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onVerificationClick=function(){var e=r.props.jid;e&&(o.default.closeModal(),o.default.verificationDrawer(e))},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=void 0,t=void 0,n=null,r=null,c=function(){return o.default.closeModal()},h=l10n.t(1225),g=this.props,v=g.e2eSubtype,y=g.chatId;switch(v){case"info_encrypted":d.default.isGroup(y)?e=l10n.t(1157):d.default.isBroadcast(y)&&(e=l10n.t(1085)),t=(0,b.getE2EFaqUrl)();break;case"identity":var _=this.props.jid,E=_&&l.default.get(_),j=E?E.formattedName:(0,p.default)(this.props.jid);e=l10n.t(1277,{name:j}),n=c,r=h,c=this.onVerificationClick,h=l10n.t(1324),t=(0,b.getCodeChangeFaqUrl)();break;case"encrypt":default:if(t=f.default.build(s.default.SECURITY_LINK,{lg:u.default.lg,lc:u.default.lc}),d.default.isGroup(y))e=l10n.t(1152);else if(d.default.isBroadcast(y))e=l10n.t(1083);else if(d.default.isOfficialBizAccount(y))e=l10n.t(1223),t=(0,b.getE2EEnterpriseFaqUrl)();else{var O=l.default.get(y);if(O&&O.isEnterprise){var S=(0,m.formatEnterpriseE2EName)(O);e=l10n.t(1196,{businessName:S}),t=(0,b.getE2EEnterpriseFaqUrl)()}else e=l10n.t(1195)}}var w=a.createElement("a",{target:"_blank",href:t},l10n.t(588));return a.createElement(i.default,{onOK:c,okText:h,onCancel:n,cancelText:r},e,"",w)}}]),t}();y.contextTypes={uim:h.default.instanceOf(c.default)},y.displayName="E2EInfoModal",t.default=y},difacfecfb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.shift().blocklist.map(function(e){return{id:e}});r.default.supportsFeature(r.default.F.MODEL_STORAGE)?a.Blocklist.clear().then(function(){return Promise.map(t,function(e){var t=e.id;return a.Blocklist.create({id:t.toString()})})}).then(function(){return o.default.Blocklist.set(t)}):o.default.Blocklist.set(t)};var r=i(n("ccaaiecfib")),a=n("cefcddgdgg"),o=i(n("bhggeigghg"));function i(e){return e&&e.__esModule?e:{default:e}}},difhbjfhhj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("iffjgahba"),o=(r=a)&&r.__esModule?r:{default:r};var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"see error at this.source"));return n.source=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,o.default)("RetryableError")),t}();t.default=i},digcccheca:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.internalHandlers=new Map}return r(e,[{key:"initialize",value:function(e){this.ctx=e}},{key:"registerHandler",value:function(e,t,n){var r=this.internalHandlers.get(t)||new Map;r.set(e,n),this.internalHandlers.set(t,r)}},{key:"unregisterHandler",value:function(e,t){var n=this.internalHandlers.get(t);n&&(n.delete(e),n.size||this.internalHandlers.delete(t))}},{key:"handle",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=this.internalHandlers.get(e);return!!a&&(t=a,n=[],t.forEach(function(e){return n.push(e)}),n).some(function(e){return e.apply(null,r)})}}]),e}();e.exports=a},dihehaccca:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("cajbifjffe")),i=c(n("cffibfiejh")),u=c(n("bfdcadbbif")),s=c(n("ceffhbhahb")),l=c(n("dfbbbjdejj"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",AUTO:"AUTO",NONE:"NONE"};function p(e){switch(e){case d.SMALL:return 49;case d.MEDIUM:return 100;case d.LARGE:return 200;case d.NONE:return;default:return e}}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isLoaded:!1},r.onLoad=function(){r.setState({isLoaded:!0})},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.size,n=e.src,r=e.fallback,c=e.className,f=e.loader,d=this.state.isLoaded,h=(0,s.default)(l.default.avatarImage,{[l.default.isLoaded]:d}),m={height:p(t),width:p(t)},b=void 0;return f&&!d&&(b=a.createElement(i.default,null)),a.createElement("div",{className:(0,s.default)(l.default.avatar,c),style:m},b,a.createElement(o.default,{src:n,className:h,onLoad:this.onLoad}),a.createElement("div",{className:l.default.avatarDefault},a.createElement(u.default,{name:r})))}}]),t}();h.defaultProps={size:d.SMALL,loader:!1},h.displayName="ImgWithFallback",t.default=h},diifgdjbh:function(e,t){e.exports={1:'[[10],[["(...)(....)","$1-$2",[]],["(...)(...)(....)","($1) $2-$3",[]]]]',7:'[[10],[["(...)(..)(..)","$1-$2-$3",["[1-79]"]],["([3489]..)(...)(..)(..)","$1 $2-$3-$4",["[34689]"]],["(7..)(...)(....)","$1 $2 $3",["7"]]]]',20:'[[9,10],[["(.)(........?)","$1 $2",["[23]"]],["(...)(...)(....)","$1 $2 $3",["1[0125]|[89]00"]],["(..)(.......?)","$1 $2",["1[35]|[4-6]|[89][2-9]"]]]]',27:'[[9],[["(860)(...)(...)","$1 $2 $3",["860"]],["(..)(....?)","$1 $2",["8[1-4]"]],["(..)(...)(...?)","$1 $2 $3",["8[1-4]"]],["(..)(...)(....)","$1 $2 $3",["[1-79]|8(?:[0-57]|6[1-9])"]]]]',30:'[[10],[["([27].)(....)(....)","$1 $2 $3",["21|7"]],["(...)(...)(....)","$1 $2 $3",["2[2-9]1|[689]"]],["(2...)(......)","$1 $2",["2[2-9][02-9]"]]]]',31:'[[9,11],[["([1-578].)(...)(....)","$1 $2 $3",["1[035]|2[0346]|3[03568]|4[0356]|5[0358]|7|8[4578]"]],["([1-5]..)(...)(...)","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"]],["(6)(........)","$1 $2",["6[0-57-9]"]],["(66)(.......)","$1 $2",["66"]],["(14)(....?)","$1 $2",["14"]],["([89]0.)(.....?.?.?)","$1 $2",["80|9"]]]]',32:'[[9],[["(...)(..)(..)(..)","$1 $2 $3 $4",["4[6-9]"]],["(.)(...)(..)(..)","$1 $2 $3 $4",["[23]|4[23]|9[2-4]"]],["(..)(..)(..)(..)","$1 $2 $3 $4",["[156]|7[018]|8(?:0[1-9]|[1-79])"]],["(...)(..)(...)","$1 $2 $3",["(?:80|9)0"]]]]',33:'[[9],[["([1-79])(..)(..)(..)(..)","$1 $2 $3 $4 $5",["[1-79]"]],["(1..)(...)","$1 $2",["11"]],["(8..)(..)(..)(..)","$1 $2 $3 $4",["8"]]]]',34:'[[9],[["([89]00)(...)(...)","$1 $2 $3",["[89]00"]],["([5-9]..)(..)(..)(..)","$1 $2 $3 $4",["[568]|[79][0-8]"]]]]',36:'[[9],[["(1)(...)(....)","$1 $2 $3",["1"]],["(..)(...)(....?)","$1 $2 $3",["[2-9]"]]]]',39:'[[9,10],[["(..)(....?)(....)","$1 $2 $3",["0[26]|55"]],["(0[26])(....)(.....)","$1 $2 $3",["0[26]"]],["(0[26])(.....?.?)","$1 $2",["0[26]"]],["(0..)(....?)(....)","$1 $2 $3",["0[13-57-9][0159]"]],["(...)(....?.?.?)","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[245])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|[45][0-4]))"]],["(0...)(...)(....)","$1 $2 $3",["0[13-57-9][2-46-8]"]],["(0...)(...?.?.?.?)","$1 $2",["0[13-57-9][2-46-8]"]],["(...)(...)(....?)","$1 $2 $3",["[13]|8(?:00|4[08]|9[59])","[13]|8(?:00|4[08]|9(?:5[5-9]|9))"]],["(....)(....)","$1 $2",["894","894[5-9]"]],["(...)(....)(....)","$1 $2 $3",["3"]]]]',40:'[[9],[["(..)(...)(....)","$1 $2 $3",["[23]1"]],["(..)(....)","$1 $2",["[23]1"]],["(...)(...)(...)","$1 $2 $3",["[23][3-7]|[7-9]"]],["(2..)(...)","$1 $2",["2[3-6]"]]]]',41:'[[9],[["([2-9].)(...)(..)(..)","$1 $2 $3 $4",["[2-7]|[89]1"]],["([89]..)(...)(...)","$1 $2 $3",["8[047]|90"]],["(...)(..)(...)(..)(..)","$1 $2 $3 $4 $5",["860"]]]]',43:'[[10,11,12,13],[["(116...)","$1",["116"]],["(1)(....?.?.?.?.?.?.?.?.?)","$1 $2",["1"]],["(5.)(....?.?)","$1 $2",["5[079]"]],["(5.)(...)(....?)","$1 $2 $3",["5[079]"]],["(5.)(....)(.....?.?.?)","$1 $2 $3",["5[079]"]],["(...)(....?.?.?.?.?.?.?)","$1 $2",["316|46|51|732|6(?:5[0-3579]|[6-9])|7(?:[28]0)|[89]"]],["(....)(....?.?.?.?.?.?)","$1 $2",["2|3(?:1[1-578]|[3-8])|4[2378]|5[2-6]|6(?:[12]|4[1-9]|5[468])|7(?:2[1-8]|35|4[1-8]|[5-79])"]]]]',44:'[[10],[["(7...)(......)","$1 $2",["7(?:[1-57-9]|62)","7(?:[1-57-9]|624)"]],["(..)(....)(....)","$1 $2 $3",["2|5[56]|7[06]"]],["(...)(...)(....)","$1 $2 $3",["1(?:[02-9]1|1)|3|9[018]"]],["(.....)(.....?)","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"]],["(1...)(......?)","$1 $2",["1"]],["(800)(....)","$1 $2",["800","8001","80011","800111","8001111"]],["(845)(46)(4.)","$1 $2 $3",["845","8454","84546","845464"]],["(8..)(...)(....)","$1 $2 $3",["8(?:4[2-5]|7[0-3])"]],["(80.)(...)(....)","$1 $2 $3",["80"]],["(800)(......)","$1 $2",["800"]]]]',45:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',46:'[[9],[["(8)(...?)(...?)(..)","$1 $2 $3 $4",["8"]],["([1-69].)(...?)(..)(..)","$1 $2 $3 $4",["1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90"]],["([1-469].)(...)(..)","$1 $2 $3",["1[136]|2[136]|3[356]|4[0246]|6[03]|90"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[0-5]|4[0-3])"]],["(...)(...?)(..)","$1 $2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[0-5]|4[0-3])"]],["(7.)(...)(..)(..)","$1 $2 $3 $4",["7"]],["(77)(..)(..)","$1 $2 $3",["7"]],["(20)(...?)(..)","$1 $2 $3",["20"]],["(9[034].)(..)(..)(...)","$1 $2 $3 $4",["9[034]"]],["(9[034].)(....)","$1 $2",["9[034]"]],["(...)(..)(...)(..)(..)","$1 $2 $3 $4 $5",["25[245]|67[3-6]"]]]]',47:'[[8],[["([489]..)(..)(...)","$1 $2 $3",["[489]"]],["([235-7].)(..)(..)(..)","$1 $2 $3 $4",["[235-7]"]]]]',48:'[[9],[["(..)(...)(..)(..)","$1 $2 $3 $4",["[14]|2[0-57-9]|3[2-4]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145]"]],["(..)(.)(....)","$1 $2 $3",["[12]2"]],["(...)(...)(...)","$1 $2 $3",["26|39|5[0137]|6[0469]|7[02389]|8[08]"]],["(...)(..)(...?)","$1 $2 $3",["64"]],["(...)(...)","$1 $2",["64"]]]]',49:'[[7,8,9,10,11,12],[["(1..)(........?)","$1 $2",["1[67]"]],["(15...)(......)","$1 $2",["15[0568]"]],["(1...)(.......)","$1 $2",["15"]],["(..)(....?.?.?.?.?.?.?.?)","$1 $2",["3[02]|40|[68]9"]],["(...)(....?.?.?.?.?.?.?.?)","$1 $2",["2(?:.1|0[2389]|1[24]|28|34)|3(?:[3-9][15]|40)|[4-8][1-9]1|9(?:06|[1-9]1)"]],["(....)(...?.?.?.?.?.?.?.?.?)","$1 $2",["[24-6]|[7-9](?:.[1-9]|[1-9].)|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])","[24-6]|[7-9](?:.[1-9]|[1-9].)|3(?:3(?:0[1-467]|2[127-9]|3[124578]|[46][1246]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|3[1357]|4[13578]|6[1246]|7[1356]|9[1346])|5(?:0[14]|2[1-3589]|3[1357]|4[1246]|6[1-4]|7[1346]|8[13568]|9[1246])|6(?:0[356]|2[1-489]|3[124-6]|4[1347]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|3[1357]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|4[1347]|6[0135-9]|7[1467]|8[136])|9(?:0[12479]|2[1358]|3[1357]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))"]],["(3....)(..?.?.?.?.?.?.?.?.?)","$1 $2",["3"]],["(800)(........?.?.?.?.?)","$1 $2",["800"]],["(...)(.)(.....?.?.?.?.?.?)","$1 $2 $3",["(?:18|90)0|137","1(?:37|80)|900[1359]"]],["(1..)(......?.?.?.?.?.?)","$1 $2",["181"]],["(18...)(......)","$1 $2",["185","1850","18500"]],["(18..)(.......)","$1 $2",["18[68]"]],["(18.)(........)","$1 $2",["18[2-579]"]],["(700)(....)(....)","$1 $2 $3",["700"]],["(138)(....)","$1 $2",["138"]],["(15[013-68])(..)(........)","$1 $2 $3",["15[013-68]"]],["(15[279].)(..)(.......)","$1 $2 $3",["15[279]"]],["(1[67].)(..)(........?)","$1 $2 $3",["1(?:6[023]|7)"]]]]',51:'[[9],[["(1)(.......)","$1 $2",["1"]],["([4-8].)(......)","$1 $2",["[4-7]|8[2-4]"]],["(...)(.....)","$1 $2",["80"]],["(9..)(...)(...)","$1 $2 $3",["9"]]]]',52:'[[10,11],[["([358].)(....)(....)","$1 $2 $3",["33|55|81"]],["(...)(...)(....)","$1 $2 $3",["[2467]|3[0-2457-9]|5[089]|8[02-9]|9[0-35-9]"]],["(1)([358].)(....)(....)","$1 $2 $3 $4",["1(?:33|55|81)"]],["(1)(...)(...)(....)","$1 $2 $3 $4",["1(?:[2467]|3[0-2457-9]|5[089]|8[2-9]|9[1-35-9])"]]]]',53:'[[8],[["(.)(.......?)","$1 $2",["7"]],["(..)(.....?.?)","$1 $2",["[2-4]"]],["(.)(.......)","$1 $2",["5"]]]]',54:'[[10,11],[["([68]..)(...)(....)","$1-$2-$3",["[68]"]],["(..)(....)","$1-$2",["[2-9]"]],["(...)(....)","$1-$2",["[2-9]"]],["(....)(....)","$1-$2",["[2-9]"]],["(9)(11)(....)(....)","$1 $2 $3-$4",["911"]],["(9)(...)(...)(....)","$1 $2 $3-$4",["9(?:2[234689]|3[3-8])","9(?:2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[1-358]|5[138]|6[24]|7[069]|8[013578]))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[456]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1239])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))"]],["(9)(....)(..)(....)","$1 $2 $3-$4",["9[23]"]],["(11)(....)(....)","$1 $2-$3",["1"]],["(...)(...)(....)","$1 $2-$3",["2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[1-358]|5[138]|6[24]|7[069]|8[013578])","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[456]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1239])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))"]],["(....)(..)(....)","$1 $2-$3",["[23]"]],["(...)","$1",["1[012]|911"]]]]',55:'[[10,11],[["(....)(....)","$1-$2",["[2-9](?:[1-9]|0[1-9])"]],["(.....)(....)","$1-$2",["9(?:[1-9]|0[1-9])"]],["(....?.?)","$1",["1[125689]"]],["(..)(....)(....)","$1 $2-$3",["[1-9][1-9]"]],["(..)(.....)(....)","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[1-5]|7[13-579])9"]],["(....)(....)","$1-$2",["(?:300|40(?:0|20))"]],["([3589]00)(...?)(....)","$1 $2 $3",["[3589]00"]]]]',56:'[[9],[["(.)(....)(....)","$1 $2 $3",["2[23]"]],["(..)(...)(....)","$1 $2 $3",["[357]|4[1-35]|6[13-57]"]],["(9)(....)(....)","$1 $2 $3",["9"]],["(44)(...)(....)","$1 $2 $3",["44"]],["([68]00)(...)(....?)","$1 $2 $3",["60|8"]],["(600)(...)(..)(...)","$1 $2 $3 $4",["60"]],["(1230)(...)(....)","$1 $2 $3",["1"]],["(.....)(....)","$1 $2",["219"]],["(.....?)","$1",["[1-9]"]]]]',57:'[[8,10],[["(.)(.......)","$1 $2",["1(?:8[2-9]|9[0-3]|[2-7])|[24-8]","1(?:8[2-9]|9(?:09|[1-3])|[2-7])|[24-8]"]],["(...)(.......)","$1 $2",["3"]],["(1)(...)(.......)","$1 $2 $3",["1(?:80|9[04])","1(?:800|9(?:0[01]|4[78]))"]]]]',58:'[[10],[["(...)(.......)","$1-$2",[]]]]',60:'[[9,10],[["([4-79])(...)(....)","$1-$2 $3",["[4-79]"]],["(3)(....)(....)","$1-$2 $3",["3"]],["([18].)(...)(....?)","$1-$2 $3",["1[02-46-9][1-9]|8"]],["(1)([36-8]00)(..)(....)","$1-$2-$3-$4",["1[36-8]0"]],["(11)(....)(....)","$1-$2 $3",["11"]],["(15[49])(...)(....)","$1-$2 $3",["15"]]]]',61:'[[9],[["([2378])(....)(....)","$1 $2 $3",["[2378]"]],["(...)(...)(...)","$1 $2 $3",["[45]|14"]],["(16)(....?)","$1 $2",["16"]],["(16)(...)(...?.?)","$1 $2 $3",["16"]],["(1[389]..)(...)(...)","$1 $2 $3",["1(?:[38]0|90)","1(?:[38]00|90)"]],["(180)(2...)","$1 $2",["180","1802"]],["(19.)(...)","$1 $2",["19[13]"]],["(19..)(....)","$1 $2",["19[679]"]],["(13)(..)(..)","$1 $2 $3",["13[1-9]"]]]]',62:'[[9,10,11,12],[["(..)(......?.?.?)","$1 $2",["2[124]|[36]1"]],["(...)(......?.?.?)","$1 $2",["[4579]|2[035-9]|[36][02-9]"]],["(8..)(....?)(...)","$1-$2-$3",["8[1-35-9]"]],["(8..)(....)(.....?)","$1-$2-$3",["8[1-35-9]"]],["(1)(500)(...)","$1 $2 $3",["15"]],["(177)(.......?.?)","$1 $2",["17"]],["(800)(......?.?)","$1 $2",["800"]],["(804)(...)(....)","$1 $2 $3",["804"]],["(80.)(.)(...)(...)","$1 $2 $3 $4",["80[79]"]]]]',63:'[[10],[["(2)(...)(....)","$1 $2 $3",["2"]],["(2)(.....)","$1 $2",["2"]],["(....)(.....?.?)","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|5(?:22|44)|642|8(?:62|8[245])","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"]],["(.....)(....)","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"]],["([3-8].)(...)(....)","$1 $2 $3",["[3-8]"]],["(...)(...)(....)","$1 $2 $3",["81|9"]],["(1800)(...)(....)","$1 $2 $3",["1"]],["(1800)(..?)(...)(....)","$1 $2 $3 $4",["1"]]]]',64:'[[8,9,10],[["([34679])(...)(....)","$1-$2 $3",["[346]|7[2-57-9]|9[1-9]"]],["(24099)(...)","$1 $2",["240","2409","24099"]],["(..)(...)(...)","$1 $2 $3",["21"]],["(..)(...)(....?.?)","$1 $2 $3",["2(?:1[1-9]|[69]|7[0-35-9])|70|86"]],["(2.)(....?)(....)","$1 $2 $3",["2[028]"]],["(...)(...)(....?)","$1 $2 $3",["2(?:10|74)|5|[89]0"]]]]',65:'[[8],[["([3689]...)(....)","$1 $2",["[369]|8[1-9]"]],["(1[89]00)(...)(....)","$1 $2 $3",["1[89]"]],["(7000)(....)(...)","$1 $2 $3",["70"]],["(800)(...)(....)","$1 $2 $3",["80"]]]]',66:'[[9],[["(2)(...)(....)","$1 $2 $3",["2"]],["([13-9].)(...)(....?)","$1 $2 $3",["14|[3-9]"]],["(1[89]00)(...)(...)","$1 $2 $3",["1"]]]]',81:'[[10],[["(...)(...)(...)","$1-$2-$3",["(?:12|57|99)0"]],["(...)(...)(....)","$1-$2-$3",["800"]],["(....)(....)","$1-$2",["0077"]],["(....)(..)(....?)","$1-$2-$3",["0077"]],["(....)(..)(....)","$1-$2-$3",["0088"]],["(....)(...)(....?)","$1-$2-$3",["00(?:37|66)"]],["(....)(....)(.....?)","$1-$2-$3",["00(?:37|66)"]],["(....)(.....)(......?)","$1-$2-$3",["00(?:37|66)"]],["(....)(......)(.......?)","$1-$2-$3",["00(?:37|66)"]],["(..)(....)(....)","$1-$2-$3",["[2579]0|80[1-9]"]],["(....)(.)(....)","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|5(?:76|97)|499|746|8(?:3[89]|63|47|51)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:76|97)9|499[2468]|7468|8(?:3(?:8[78]|96)|636|477|51[24])|9(?:496|802|9(?:1[23]|69))","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:769|979[2-69])|499[2468]|7468|8(?:3(?:8[78]|96[2457-9])|636[2-57-9]|477|51[24])|9(?:496|802|9(?:1[23]|69))"]],["(...)(..)(....)","$1-$2-$3",["1(?:2[3-6]|3[3-9]|4[2-6]|5[2-8]|[68][2-7]|7[2-689]|9[1-578])|2(?:2[03-689]|3[3-58]|4[0-468]|5[04-8]|6[013-8]|7[06-9]|8[02-57-9]|9[13])|4(?:2[28]|3[689]|6[035-7]|7[05689]|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9[4-9])|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9[014-9])|8(?:2[49]|3[3-8]|4[5-8]|5[2-9]|6[35-9]|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9[3-7])","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9[2-8])|3(?:7[2-6]|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5[4-7]|6[2-9]|8[2-8]|9[236-9])|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3[34]|[4-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6[56]))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6(?:5[25]|60)))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))"]],["(..)(...)(....)","$1-$2-$3",["1|2(?:2[37]|5[5-9]|64|78|8[39]|91)|4(?:2[2689]|64|7[347])|5(?:[2-589]|39)|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93)","1|2(?:2[37]|5(?:[57]|[68]0|9[19])|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93[34])","1|2(?:2[37]|5(?:[57]|[68]0|9(?:17|99))|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93(?:31|4))"]],["(...)(..)(....)","$1-$2-$3",["2(?:9[14-79]|74|[34]7|[56]9)|82|993"]],["(.)(....)(....)","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]"]],["(..)(...)(....)","$1-$2-$3",["[2479][1-9]"]]]]',82:'[[9,10],[["(.....)(....?)(....)","$1 $2 $3",["00798"]],["(.....)(..)(...)(....)","$1 $2 $3 $4",["00798"]],["(..)(....)(....)","$1-$2-$3",["1(?:0|1[19]|[69]9|5[458])|[57]0","1(?:0|1[19]|[69]9|5(?:44|59|8))|[57]0"]],["(..)(....?)(....)","$1-$2-$3",["1(?:[01]|5[1-4]|6[2-8]|[7-9])|[68]0|[3-6][1-9][1-9]","1(?:[01]|5(?:[1-3]|4[56])|6[2-8]|[7-9])|[68]0|[3-6][1-9][1-9]"]],["(...)(.)(....)","$1-$2-$3",["131","1312"]],["(...)(..)(....)","$1-$2-$3",["131","131[13-9]"]],["(...)(...)(....)","$1-$2-$3",["13[2-9]"]],["(..)(..)(...)(....)","$1-$2-$3-$4",["30"]],["(.)(....?)(....)","$1-$2-$3",["2[1-9]"]],["(.)(....?)","$1-$2",["21[0-46-9]"]],["(..)(....?)","$1-$2",["[3-6][1-9]1","[3-6][1-9]1(?:[0-46-9])"]],["(....)(....)","$1-$2",["1(?:5[246-9]|6[04678]|8[03579])","1(?:5(?:22|44|66|77|88|99)|6(?:00|44|6[16]|70|88)|8(?:00|33|55|77|99))"]]]]',84:'[[9,10],[["([17]99)(....)","$1 $2",["[17]99"]],["(..)(....)(....)","$1 $2 $3",["2[48]"]],["(80)(.....)","$1 $2",["80"]],["(69.)(.....?)","$1 $2",["69"]],["(...)(....)(...)","$1 $2 $3",["2[0-35-79]"]],["([89].)(...)(..)(..)","$1 $2 $3 $4",["8(?:8|9[89])|9"]],["(1[2689].)(...)(....)","$1 $2 $3",["1(?:[26]|8[68]|99)"]],["([3578].)(...)(....)","$1 $2 $3",["[357]|8[1-5]"]],["(86[89])(...)(...)","$1 $2 $3",["86[89]"]],["(1[89]00)(.....?.?)","$1 $2",["1[89]0","1[89]00"]]]]',86:'[[11],[["(80..)(....)","$1 $2",["80[2678]"]],["([48]00)(...)(....)","$1 $2 $3",["[48]00"]],["(......?)","$1",["100|95"]],["(..)(......?)","$1 $2",["(?:10|2.)[19]","(?:10|2.)(?:10|9[56])","(?:10|2.)(?:100|9[56])"]],["(...)(......?)","$1 $2",["[3-9]","[3-9]..[19]","[3-9]..(?:10|9[56])"]],["(....?)(....)","$1 $2",["[2-9]"]],["(21)(....)(.....?.?)","$1 $2 $3",["21"]],["([12].)(....)(....)","$1 $2 $3",["10[1-9]|2[02-9]","10[1-9]|2[02-9]","10(?:[1-79]|8(?:[1-9]|0[1-9]))|2[02-9]"]],["(...)(...)(....)","$1 $2 $3",["3(?:1[02-9]|35|49|5|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|[35][2-9]|6[4789]|7.|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[04-9]|4[3-6]|6[2368])|8(?:1[236-8]|2[5-7]|3|5[1-9]|7[02-9]|8[3678]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])"]],["(...)(....)(....)","$1 $2 $3",["3(?:11|7[179])|4(?:[15]1|3[1-35])|5(?:1|2[37]|3[12]|51|7[13-79]|9[15])|7(?:31|5[457]|6[09]|91)|8(?:[57]1|98)"]],["(....)(...)(....)","$1 $2 $3",["807","8078"]],["(...)(....)(....)","$1 $2 $3",["1[3-578]"]],["(10800)(...)(....)","$1 $2 $3",["108","1080","10800"]],["(...)(........?)","$1 $2",["950"]]]]',90:'[[10],[["(...)(...)(..)(..)","$1 $2 $3 $4",["[23]|4(?:[0-35-9]|4[0-35-9])"]],["(...)(...)(..)(..)","$1 $2 $3 $4",["5[02-69]"]],["(...)(...)(....)","$1 $2 $3",["51|[89]"]],["(444)(.)(...)","$1 $2 $3",["444"]]]]',91:'[[10],[["(.....)(.....)","$1 $2",["600|7(?:[02-8]|19|9[037-9])|8(?:0[015-9]|[1-9]|20)|9","600|7(?:[078]|19[0-5]|2(?:[02356-9]|[14][017-9]|9[389])|3(?:[025-9]|1[07-9]|[34][017-9])|4(?:[0-35689]|[47][017-9])|5(?:[02346-9]|1[017-9]|5[017-9])|6(?:[02-9]|1[0-257-9])|9(?:[089]|31|7[02-9]))|8(?:0(?:[01589]|6[67]|7[02-9])|1(?:[0-57-9]|6[07-9])|2(?:0[078]|[14][07-9]|[235-9])|3(?:[0357-9]|[126][07-9]|4[1-9])|[45]|6(?:[02457-9]|[136][07-9])|7(?:[078][07-9]|[1-69])|8(?:[0-25-9]|3[07-9]|4[047-9])|9(?:[02-9]|1[027-9]))|9","600|7(?:0|19[0-5]|2(?:[0235679]|[14][017-9]|8(?:[0-569]|[78][089])|9[389])|3(?:[05-8]|1(?:[089]|7[5-9])|2(?:[5-8]|[0-49][089])|3[017-9]|4(?:[07-9]|11)|9(?:[01689]|[2345][089]|40|7[0189]))|4(?:[056]|1(?:[0135-9]|[23][089]|2[089]|4[089])|2(?:0[089]|[1-7][089]|[89])|3(?:[0-8][089]|9)|4(?:[089]|11|7[02-8])|7(?:[089]|11|7[02-8])|8(?:[0-24-7][089]|[389])|9(?:[0-7][089]|[89]))|5(?:[0346-9]|1[017-9]|2(?:[03-9]|[12][089])|5[017-9])|6(?:[0346-9]|1[0-257-9]|2(?:[0-4].|[5-9][089])|5(?:[0-367][089]|[4589]))|7(?:0(?:[02-9]|1[089])|[1-9])|8(?:[0-79]|8(?:0[0189]|11|8[013-9]|9))|9(?:[089]|313|7(?:[02-8]|9[07-9])))|8(?:0(?:[01589]|6[67]|7(?:[02-8]|9[05-9]))|1(?:[02-57-9]|1(?:[0-35-9]|4[0-46-9])|6(?:[089]|7[02-8]))|2(?:0(?:[08]|7[02])|[14](?:[089]|7[02-8])|[235-9])|3(?:[0357-9]|1(?:[089]|7[02-6])|2(?:[09]|77|8[0-689])|4[1-9]|6(?:[089]|7[02-7]))|[45]|6(?:[02457-9]|1(?:[089]|7[02-8])|3(?:[089]|7[02358])|6(?:[08]|7[02-8]|9[01]))|7(?:0[07-9]|[1-69]|7(?:[089]|7[02-8])|8(?:[089]|7[02-8]))|8(?:[0-25-9]|3(?:[089]|7[02-8])|4(?:[0489]|7[02-68]))|9(?:[02-9]|1(?:[0289]|7[2-6])))|9"]],["(..)(....)(....)","$1 $2 $3",["11|2[02]|33|4[04]|79[1-9]|80[2-46]"]],["(...)(...)(....)","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[569][14]|7[1257]|8[1346]|[68][1-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|[36][25]|22|4[28]|5[12]|[78]1|9[15])|6(?:12|[2345]1|57|6[13]|7[14]|80)|7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)"]],["(....)(...)(...)","$1 $2 $3",["1(?:[23579]|[468][1-9])|[2-8]"]],["(..)(...)(....)(...)","$1 $2 $3 $4",["008"]],["(...)(...)(....)","$1 $2 $3",["140"]],["(....)(..)(....)","$1 $2 $3",["160","1600"]],["(....)(.....?)","$1 $2",["180","1800"]],["(....)(...?.?)(....)","$1 $2 $3",["180","1800"]],["(....)(....?)(....)","$1 $2 $3",["186","1860"]],["(....)(...)(...)(...)","$1 $2 $3 $4",["18[06]"]]]]',92:'[[10],[["(..)(111)(...)(...)","$1 $2 $3 $4",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)1","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)11","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)111"]],["(...)(111)(...)(...)","$1 $2 $3 $4",["2[349]|45|54|60|72|8[2-5]|9[2-9]","(?:2[349]|45|54|60|72|8[2-5]|9[2-9]).1","(?:2[349]|45|54|60|72|8[2-5]|9[2-9]).11","(?:2[349]|45|54|60|72|8[2-5]|9[2-9]).111"]],["(..)(........?)","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"]],["(...)(.......?)","$1 $2",["2[349]|45|54|60|72|8[2-5]|9[2-9]","(?:2[349]|45|54|60|72|8[2-5]|9[2-9]).[2-9]"]],["(3..)(.......)","$1 $2",["3"]],["([15]...)(......?)","$1 $2",["58[12]|1"]],["(586..)(.....)","$1 $2",["586"]],["([89]00)(...)(..)","$1 $2 $3",["[89]00"]]]]',93:'[[9],[["([2-7].)(...)(....)","$1 $2 $3",["[2-7]"]]]]',94:'[[9],[["(..)(.)(......)","$1 $2 $3",["[1-689]"]],["(..)(...)(....)","$1 $2 $3",["7"]]]]',95:'[[8,9,10],[["(.)(...)(....?)","$1 $2 $3",["1|2[245]"]],["(2)(....)(....)","$1 $2 $3",["251"]],["(.)(..)(...)","$1 $2 $3",["16|2"]],["(..)(...)(....?)","$1 $2 $3",["67|81"]],["(..)(..)(....?)","$1 $2 $3",["[4-8]"]],["(9)(...)(.....?.?)","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"]],["(9)([34]....)(....)","$1 $2 $3",["9(?:3[0-36]|4[0-57-9])"]],["(9)(...)(...)(...)","$1 $2 $3 $4",["92[56]"]],["(9)(...)(...)(..)","$1 $2 $3 $4",["93"]]]]',98:'[[10],[["(21)(....?.?)","$1 $2",["21"]],["(..)(....)(....)","$1 $2 $3",["[1-8]"]],["(...)(...)","$1 $2",["9"]],["(...)(..)(...?)","$1 $2 $3",["9"]],["(...)(...)(....?)","$1 $2 $3",["9"]]]]',211:'[[9],[["(...)(...)(...)","$1 $2 $3",[]]]]',212:'[[9],[["([5-7]..)(......)","$1-$2",["5(?:2[015-7]|3[0-4])|[67]"]],["([58]...)(.....)","$1-$2",["5(?:2[2-489]|3[5-9]|92)|892","5(?:2(?:[2-48]|9[0-7])|3(?:[5-79]|8[0-7])|924)|892"]],["(5....)(....)","$1-$2",["5(?:29|38)","5(?:29|38)[89]"]],["([5]..)(..)(..)(..)","$1 $2 $3 $4",["5(?:4[067]|5[03])"]],["(8[09])(.......)","$1-$2",["8(?:0|9[013-9])"]]]]',213:'[[9],[["([1-4].)(..)(..)(..)","$1 $2 $3 $4",["[1-4]"]],["([5-8]..)(..)(..)(..)","$1 $2 $3 $4",["[5-8]"]],["(9.)(...)(..)(..)","$1 $2 $3 $4",["9"]]]]',216:'[[8],[["(..)(...)(...)","$1 $2 $3",[]]]]',218:'[[9],[["([25679].)(.......)","$1-$2",[]]]]',220:'[[7],[["(...)(....)","$1 $2",[]]]]',221:'[[9],[["(..)(...)(..)(..)","$1 $2 $3 $4",["[379]"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["8"]]]]',222:'[[8],[["([2-48].)(..)(..)(..)","$1 $2 $3 $4",[]]]]',223:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["[246-9]"]],["(....)","$1",["67|74"]]]]',224:'[[8,9],[["(..)(..)(..)(..)","$1 $2 $3 $4",["3"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["[67]"]]]]',225:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',226:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',227:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["[289]|09"]],["(08)(...)(...)","$1 $2 $3",["08"]]]]',228:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["[279]"]]]]',229:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',230:'[[7,8],[["([2-46-9]..)(....)","$1 $2",["[2-46-9]"]],["(5...)(....)","$1 $2",["5"]]]]',231:'[[7,8,9],[["(2.)(...)(...)","$1 $2 $3",["2"]],["([4-5])(...)(...)","$1 $2 $3",["[45]"]],["(..)(...)(....)","$1 $2 $3",["[23578]"]]]]',232:'[[8],[["(..)(......)","$1 $2",[]]]]',233:'[[9],[["(..)(...)(....)","$1 $2 $3",["[235]"]],["(...)(.....)","$1 $2",["8"]]]]',234:'[[10],[["(.)(...)(....?)","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"]],["(..)(...)(...?)","$1 $2 $3",["[3-6]|7(?:[1-79]|0[1-9])|8[2-9]"]],["(...)(...)(....?)","$1 $2 $3",["70|8[01]|90[235-9]"]],["([78]00)(....)(.....?)","$1 $2 $3",["[78]00"]],["([78]00)(.....)(......?)","$1 $2 $3",["[78]00"]],["(78)(..)(...)","$1 $2 $3",["78"]]]]',235:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',236:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',237:'[[8,9],[["([26])(..)(..)(..)(..)","$1 $2 $3 $4 $5",["[26]"]],["(..)(..)(..)(..)","$1 $2 $3 $4",["[23]|88"]],["(800)(..)(...)","$1 $2 $3",["80"]]]]',238:'[[7],[["(...)(..)(..)","$1 $2 $3",[]]]]',239:'[[7],[["(...)(....)","$1 $2",[]]]]',240:'[[9],[["(...)(...)(...)","$1 $2 $3",["[235]"]],["(...)(......)","$1 $2",["[89]"]]]]',241:'[[8],[["(.)(..)(..)(..)","$1 $2 $3 $4",["[2-7]"]],["(..)(..)(..)(..)","$1 $2 $3 $4",["0"]]]]',242:'[[9],[["(..)(...)(....)","$1 $2 $3",["[02]"]],["(.)(....)(....)","$1 $2 $3",["8"]]]]',243:'[[9],[["(..)(...)(....)","$1 $2 $3",["12"]],["([89]..)(...)(...)","$1 $2 $3",["8[0-2459]|9"]],["(..)(..)(...)","$1 $2 $3",["88"]],["(..)(.....)","$1 $2",["[1-6]"]]]]',244:'[[9],[["(...)(...)(...)","$1 $2 $3",[]]]]',245:'[[7,9],[["(...)(...)(...)","$1 $2 $3",["44|9[567]"]],["(...)(....)","$1 $2",["40"]]]]',246:'[[7],[["(...)(....)","$1 $2",[]]]]',247:"[[5],[]]",248:'[[7],[["(.)(...)(...)","$1 $2 $3",["[246]"]]]]',249:'[[9],[["(..)(...)(....)","$1 $2 $3",[]]]]',250:'[[9],[["(2..)(...)(...)","$1 $2 $3",["2"]],["([7-9]..)(...)(...)","$1 $2 $3",["[7-9]"]],["(0.)(..)(..)(..)","$1 $2 $3 $4",["0"]]]]',251:'[[9],[["([1-59].)(...)(....)","$1 $2 $3",[]]]]',252:'[[8,9],[["(......)","$1",["[134]"]],["(.)(......)","$1 $2",["2[0-79]|[13-5]"]],["(.)(.......)","$1 $2",["24|[67]"]],["(..)(....)","$1 $2",["8[125]"]],["(..)(......?.?)","$1 $2",["15|28|6[1-35-9]|799|9[2-9]"]],["(...)(...)(...)","$1 $2 $3",["3[59]|4[89]|6[24-6]|79|8[08]|90"]]]]',253:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',254:'[[9],[["(..)(......?.?)","$1 $2",["[24-6]"]],["(...)(......)","$1 $2",["7"]],["(...)(...)(....?)","$1 $2 $3",["[89]"]]]]',255:'[[9],[["([24].)(...)(....)","$1 $2 $3",["[24]"]],["([67]..)(...)(...)","$1 $2 $3",["[67]"]],["([89]..)(..)(....)","$1 $2 $3",["[89]"]]]]',256:'[[9],[["(...)(......)","$1 $2",["[7-9]|20(?:[013-8]|2[5-9])|4(?:6[45]|[7-9])"]],["(..)(.......)","$1 $2",["3|4(?:[1-5]|6[0-36-9])"]],["(2024)(.....)","$1 $2",["2024"]]]]',257:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',258:'[[9],[["([28].)(...)(....?)","$1 $2 $3",["2|8[2-7]"]],["(80.)(...)(...)","$1 $2 $3",["80"]]]]',260:'[[9],[["([29].)(.......)","$1 $2",["[29]"]],["(800)(...)(...)","$1 $2 $3",["8"]]]]',261:'[[9],[["([23].)(..)(...)(..)","$1 $2 $3 $4",[]]]]',262:'[[9],[["([268]..)(..)(..)(..)","$1 $2 $3 $4",[]]]]',263:'[[9,10],[["([49])(...)(...?.?)","$1 $2 $3",["4|9[2-9]"]],["(7.)(...)(....?)","$1 $2 $3",["7"]],["(86..)(...)(...)","$1 $2 $3",["86[24]"]],["([2356]..)(....?.?)","$1 $2",["2(?:0[45]|2[278]|[49]8|[78])|3(?:08|17|3[78]|7[1569]|8[37]|98)|5[15][78]|6(?:[29]8|[38]7|6[78]|75|[89]8)"]],["(...)(...)(....?)","$1 $2 $3",["2(?:1[39]|2[0157]|6[14]|7[35]|84)|329"]],["([1-356].)(....?.?)","$1 $2",["1[3-9]|2[0569]|3[0-69]|5[05689]|6[0-46-9]"]],["([235].)(...)(....?)","$1 $2 $3",["[23]9|54"]],["([25]...)(....?.?)","$1 $2",["(?:25|54)8","258[23]|5483"]],["(8...)(......)","$1 $2",["86"]],["(80.)(...)(....)","$1 $2 $3",["80"]]]]',264:'[[9],[["(8.)(...)(....)","$1 $2 $3",["8[1235]"]],["(6.)(...)(....?)","$1 $2 $3",["6"]],["(88)(...)(...)","$1 $2 $3",["88"]],["(870)(...)(...)","$1 $2 $3",["870"]]]]',265:'[[9],[["(.)(...)(...)","$1 $2 $3",["1"]],["(2..)(...)(...)","$1 $2 $3",["2"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["[1789]"]]]]',266:'[[8],[["(....)(....)","$1 $2",[]]]]',267:'[[8],[["(...)(....)","$1 $2",["[2-6]"]],["(7.)(...)(...)","$1 $2 $3",["7"]],["(90)(.....)","$1 $2",["9"]]]]',268:'[[8],[["(....)(....)","$1 $2",["[027]"]]]]',269:'[[7],[["(...)(..)(..)","$1 $2 $3",[]]]]',290:"[[4,5],[]]",291:'[[7],[["(.)(...)(...)","$1 $2 $3",[]]]]',297:'[[7],[["(...)(....)","$1 $2",[]]]]',298:'[[6],[["(......)","$1",[]]]]',299:'[[6],[["(..)(..)(..)","$1 $2 $3",[]]]]',350:'[[8],[["(...)(.....)","$1 $2",["2"]]]]',351:'[[9],[["(2.)(...)(....)","$1 $2 $3",["2[12]"]],["([2-46-9]..)(...)(...)","$1 $2 $3",["2[3-9]|[346-9]"]]]]',352:'[[9],[["(..)(...)","$1 $2",["[2-5]|7[1-9]|[89](?:[1-9]|0[2-9])"]],["(..)(..)(..)","$1 $2 $3",["[2-5]|7[1-9]|[89](?:[1-9]|0[2-9])"]],["(..)(..)(...)","$1 $2 $3",["20"]],["(..)(..)(..)(..?)","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(..)(..)(..)(...)","$1 $2 $3 $4",["20"]],["(..)(..)(..)(..)(..?)","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(..)(..)(..)(..?.?.?)","$1 $2 $3 $4",["2(?:[12589]|4[12])|[3-5]|7[1-9]|8(?:[1-9]|0[2-9])|9(?:[1-9]|0[2-46-9])"]],["(...)(..)(...)","$1 $2 $3",["70|80[01]|90[015]"]],["(...)(...)(...)","$1 $2 $3",["6"]]]]',353:'[[9],[["(1)(....?)(....)","$1 $2 $3",["1"]],["(..)(.....)","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"]],["(...)(.....)","$1 $2",["40[24]|50[45]"]],["(48)(....)(....)","$1 $2 $3",["48"]],["(818)(...)(...)","$1 $2 $3",["81"]],["(..)(...)(....?)","$1 $2 $3",["[24-69]|7[14]"]],["([78].)(....?)(....)","$1 $2 $3",["76|8[35-9]"]],["(700)(...)(...)","$1 $2 $3",["70"]],["(....)(...)(...)","$1 $2 $3",["1(?:8[059]|5)","1(?:8[059]0|5)"]]]]',354:'[[7,8,9],[["(...)(....)","$1 $2",["[4-9]"]],["(3..)(...)(...)","$1 $2 $3",["3"]]]]',355:'[[9],[["(4)(...)(....)","$1 $2 $3",["4[0-6]"]],["(6[6-9])(...)(....)","$1 $2 $3",["6"]],["(..)(...)(...)","$1 $2 $3",["[2358][2-5]|4[7-9]"]],["(...)(....?.?)","$1 $2",["[235][16-9]|8[016-9]|[79]"]]]]',356:'[[8],[["(....)(....)","$1 $2",[]]]]',357:'[[8],[["(..)(......)","$1 $2",[]]]]',358:'[[6,7,8,9,10,11],[["(...)(....?.?.?.?)","$1 $2",["(?:[1-3]00|[6-8]0)"]],["(116...)","$1",["116"]],["(..)(.....?.?.?.?.?.?)","$1 $2",["[14]|2[09]|50|7[135]"]],["(.)(.....?.?.?.?.?.?.?)","$1 $2",["[25689][1-8]|3"]]]]',359:'[[9],[["(2)(.)(..)(..)","$1 $2 $3 $4",["2"]],["(2)(...)(....?)","$1 $2 $3",["2"]],["(...)(....)","$1 $2",["43[124-7]|70[1-9]"]],["(...)(...)(..)","$1 $2 $3",["43[124-7]|70[1-9]"]],["(...)(..)(...)","$1 $2 $3",["[78]00"]],["(...)(...)(...)","$1 $2 $3",["999"]],["(..)(...)(...?)","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"]],["(..)(...)(....?)","$1 $2 $3",["48|8[7-9]|9[08]"]]]]',370:'[[8],[["([34].)(......)","$1 $2",["37|4(?:1|5[45]|6[2-4])"]],["([3-6]..)(.....)","$1 $2",["3[148]|4(?:[24]|6[09])|528|6"]],["([7-9]..)(..)(...)","$1 $2 $3",["[7-9]"]],["(5)(2..)(....)","$1 $2 $3",["52[0-79]"]]]]',371:'[[8],[["([2689].)(...)(...)","$1 $2 $3",[]]]]',372:'[[7,8],[["([3-79]..)(....)","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]"]],["(70)(..)(....)","$1 $2 $3",["70"]],["(8000)(...)(...)","$1 $2 $3",["800","8000"]],["([458]...)(....?)","$1 $2",["40|5|8(?:00|[1-5])","40|5|8(?:00[1-9]|[1-5])"]]]]',373:'[[8],[["(..)(...)(...)","$1 $2 $3",["22|3"]],["([25-7]..)(..)(...)","$1 $2 $3",["2[13-9]|[5-7]"]],["([89]..)(.....)","$1 $2",["[89]"]]]]',374:'[[8],[["(..)(......)","$1 $2",["1|47"]],["(..)(......)","$1 $2",["4[1349]|[5-7]|9[1-9]"]],["(...)(.....)","$1 $2",["[23]"]],["(...)(..)(...)","$1 $2 $3",["8|90"]]]]',375:'[[9],[["(..)(...)(..)(..)","$1 $2-$3-$4",["17[0-3589]|2[4-9]|[34]","17(?:[02358]|1[0-2]|9[0189])|2[4-9]|[34]"]],["(...)(..)(..)(..)","$1 $2-$3-$4",["1(?:5[24]|6[235]|7[467])|2(?:1[246]|2[25]|3[26])","1(?:5[24]|6(?:2|3[04-9]|5[0346-9])|7(?:[46]|7[37-9]))|2(?:1[246]|2[25]|3[26])"]],["(....)(..)(...)","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"]],["([89]..)(...)(....)","$1 $2 $3",["8[01]|9"]],["(82.)(....)(....)","$1 $2 $3",["82"]],["(800)(...)","$1 $2",["800"]],["(800)(..)(...?.?)","$1 $2 $3",["800"]]]]',376:'[[6,9],[["(...)(...)","$1 $2",["[1357-9]|6[0-8]"]],["(....)(....)","$1 $2",["180","180[02]"]],["(...)(...)(...)","$1 $2 $3",["690"]]]]',377:'[[8,9],[["(..)(..)(..)(..)","$1 $2 $3 $4",["[39]"]],["(..)(...)(...)","$1 $2 $3",["4"]],["(6)(..)(..)(..)(..)","$1 $2 $3 $4 $5",["6"]],["(...)(...)(..)","$1 $2 $3",["8"]]]]',378:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["[5-7]"]],["(0549)(......)","($1) $2",["0"]],["(......)","(0549) $1",["[89]"]]]]',379:"[[10],[]]",380:'[[9],[["([3-9].)(...)(....)","$1 $2 $3",["[38]9|4(?:[45][0-5]|87)|5(?:0|6[37]|7[37])|6[36-8]|7|9[1-9]","[38]9|4(?:[45][0-5]|87)|5(?:0|6(?:3[14-7]|7)|7[37])|6[36-8]|7|9[1-9]"]],["([3-689]..)(...)(...)","$1 $2 $3",["3[1-8]2|4[13678]2|5(?:[12457]2|6[24])|6(?:[49]2|[12][29]|5[24])|8[0-8]|90","3(?:[1-46-8]2[013-9]|52)|4(?:[1378]2|62[013-9])|5(?:[12457]2|6[24])|6(?:[49]2|[12][29]|5[24])|8[0-8]|90"]],["([3-6]...)(.....)","$1 $2",["3(?:5[013-9]|[1-46-8])|4(?:[137][013-9]|6|[45][6-9]|8[4-6])|5(?:[1245][013-9]|6[0135-9]|3|7[4-6])|6(?:[49][013-9]|5[0135-9]|[12][13-8])","3(?:5[013-9]|[1-46-8](?:22|[013-9]))|4(?:[137][013-9]|6(?:[013-9]|22)|[45][6-9]|8[4-6])|5(?:[1245][013-9]|6(?:3[02389]|[015689])|3|7[4-6])|6(?:[49][013-9]|5[0135-9]|[12][13-8])"]]]]',381:'[[8,9,10],[["([23]..)(.....?.?.?.?.?)","$1 $2",["(?:2[389]|39)0"]],["([1-3].)(......?.?.?.?.?)","$1 $2",["1|2(?:[0-24-7]|[389][1-9])|3(?:[0-8]|9[1-9])"]],["(6.)(.......?.?)","$1 $2",["6"]],["([89]..)(....?.?.?.?.?.?)","$1 $2",["[89]"]],["(7[26])(.....?.?.?.?.?)","$1 $2",["7[26]"]],["(7[08].)(.....?.?.?.?.?)","$1 $2",["7[08]"]]]]',382:'[[8,9],[["(..)(...)(...)","$1 $2 $3",["[2-57-9]|6[036-9]"]]]]',383:'[[8],[["(..)(...)(...)","$1 $2 $3",["[23][89]|4[3-79]"]],["(...)(.....)","$1 $2",["[89]00"]],["(...)(...)(...)","$1 $2 $3",[]]]]',385:'[[8,9],[["(1)(....)(...)","$1 $2 $3",["1"]],["([2-5].)(...)(....?)","$1 $2 $3",["[2-5]"]],["(9.)(...)(....?)","$1 $2 $3",["9"]],["(6[01])(..)(...?)","$1 $2 $3",["6[01]"]],["([67].)(...)(....?)","$1 $2 $3",["[67]"]],["(80[01])(..)(...?)","$1 $2 $3",["8"]],["(80[01])(...)(...)","$1 $2 $3",["8"]]]]',386:'[[8],[["(.)(...)(..)(..)","$1 $2 $3 $4",["[12]|3[24-8]|4[24-8]|5[2-8]|7[3-8]"]],["([3-7].)(...)(...)","$1 $2 $3",["[37][01]|4[0139]|51|6"]],["([89][09])(....?.?.?)","$1 $2",["[89][09]"]],["([58]..)(.....)","$1 $2",["59|8[1-3]"]]]]',387:'[[8,9],[["(..)(...)(...)","$1 $2-$3",["[3-5]"]],["(..)(...)(...)","$1 $2 $3",["6[1-356]|[7-9]"]],["(..)(..)(..)(...)","$1 $2 $3 $4",["6[047]"]]]]',389:'[[8],[["(2)(...)(....)","$1 $2 $3",["2"]],["([347].)(...)(...)","$1 $2 $3",["[347]"]],["([58]..)(.)(..)(..)","$1 $2 $3 $4",["[58]"]]]]',420:'[[9],[["([2-9]..)(...)(...)","$1 $2 $3",["[2-8]|9[015-7]"]],["(96.)(...)(...)(...)","$1 $2 $3 $4",["96"]],["(9.)(...)(...)(...)","$1 $2 $3 $4",["9[36]"]]]]',421:'[[9],[["(2)(1[67])(....?)","$1 $2 $3",["21[67]"]],["([3-5].)(1[67])(...?)","$1 $2 $3",["[3-5]"]],["(2)(...)(...)(..)","$1/$2 $3 $4",["2"]],["([3-5].)(...)(..)(..)","$1/$2 $3 $4",["[3-5]"]],["([689]..)(...)(...)","$1 $2 $3",["[689]"]],["(9090)(...)","$1 $2",["9090"]]]]',423:'[[7],[["(...)(..)(..)","$1 $2 $3",["[23789]"]],["(...)(...)(...)","$1 $2 $3",["6[56]"]],["(69)(7..)(....)","$1 $2 $3",["697"]]]]',500:"[[5],[]]",501:'[[7],[["(...)(....)","$1-$2",["[2-8]"]],["(0)(800)(....)(...)","$1-$2-$3-$4",["0"]]]]',502:'[[8],[["(....)(....)","$1 $2",["[2-7]"]],["(....)(...)(....)","$1 $2 $3",["1"]]]]',503:'[[8],[["(....)(....)","$1 $2",["[267]"]],["(...)(....)","$1 $2",["[89]"]],["(...)(....)(....)","$1 $2 $3",["[89]"]]]]',504:'[[8],[["(....)(....)","$1-$2",[]]]]',505:'[[8],[["(....)(....)","$1 $2",[]]]]',506:'[[8],[["(....)(....)","$1 $2",["[24-7]|8[3-9]"]],["(...)(...)(....)","$1-$2-$3",["[89]0"]]]]',507:'[[8],[["(...)(....)","$1-$2",["[1-57-9]"]],["(....)(....)","$1-$2",["6"]]]]',508:'[[6],[["([45].)(..)(..)","$1 $2 $3",[]]]]',509:'[[8],[["(..)(..)(....)","$1 $2 $3",[]]]]',590:'[[9],[["([56]90)(..)(....)","$1 $2-$3",[]]]]',591:'[[8],[["([234])(.......)","$1 $2",["[234]"]],["([67].......)","$1",["[67]"]]]]',592:'[[7],[["(...)(....)","$1 $2",[]]]]',593:'[[8,9],[["(.)(...)(....)","$1-$2-$3",["[247]|[356][2-8]"]],["(..)(...)(....)","$1 $2 $3",["9"]],["(1800)(...)(....?)","$1 $2 $3",["1"]]]]',594:'[[9],[["(...)(..)(..)(..)","$1 $2 $3 $4",[]]]]',595:'[[9],[["(..)(.....)","$1 $2",["(?:[26]1|3[289]|4[124678]|7[123]|8[1236])"]],["(..)(...)(....?)","$1 $2 $3",["(?:[26]1|3[289]|4[124678]|7[123]|8[1236])"]],["(...)(....?.?.?)","$1 $2",["[2-9]0"]],["(...)(......)","$1 $2",["9[1-9]"]],["(..)(...)(....)","$1 $2 $3",["8700"]],["(...)(.....?)","$1 $2",["[2-8][1-9]"]],["(...)(...)(...)","$1 $2 $3",["[2-8][1-9]"]]]]',596:'[[9],[["(...)(..)(..)(..)","$1 $2 $3 $4",[]]]]',597:'[[7],[["(...)(...)","$1-$2",["[2-4]|5[2-58]"]],["(..)(..)(..)","$1-$2-$3",["56"]],["(...)(....)","$1-$2",["[6-8]"]]]]',598:'[[8],[["(....)(....)","$1 $2",["[24]"]],["(..)(...)(...)","$1 $2 $3",["9[1-9]"]],["(...)(....)","$1 $2",["[89]0"]]]]',599:'[[7,8],[["(...)(....)","$1 $2",["[13-7]"]],["(9)(...)(....)","$1 $2 $3",["9"]]]]',670:'[[8],[["(...)(....)","$1 $2",["[2-489]"]],["(....)(....)","$1 $2",["7"]]]]',672:'[[5,6],[["(..)(....)","$1 $2",["1"]],["(.)(.....)","$1 $2",["3"]]]]',673:'[[7],[["([2-578]..)(....)","$1 $2",[]]]]',674:'[[7],[["(...)(....)","$1 $2",[]]]]',675:'[[7,8],[["(...)(....)","$1 $2",["[13-689]|27"]],["(....)(....)","$1 $2",["20|7"]]]]',676:'[[7],[["(..)(...)","$1-$2",["[1-6]|7[0-4]|8[05]"]],["(...)(....)","$1 $2",["7[5-9]|8[47-9]"]],["(....)(...)","$1 $2",["0"]]]]',677:'[[7],[["(..)(.....)","$1 $2",["[7-9]"]]]]',678:'[[7],[["(...)(....)","$1 $2",["[579]"]]]]',679:'[[7],[["(...)(....)","$1 $2",["[35-9]"]],["(....)(...)(....)","$1 $2 $3",["0"]]]]',680:'[[7],[["(...)(....)","$1 $2",[]]]]',681:'[[6],[["(..)(..)(..)","$1 $2 $3",[]]]]',682:'[[5],[["(..)(...)","$1 $2",[]]]]',683:"[[4],[]]",685:'[[6,7],[["(8..)(....?)","$1 $2",["8"]],["(7.)(.....)","$1 $2",["7"]],["(.....)","$1",["[2-6]"]]]]',686:"[[8],[]]",687:'[[6],[["(..)(..)(..)","$1.$2.$3",["[2-46-9]|5[0-4]"]]]]',688:"[[6,7],[]]",689:'[[6,8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["4[09]|8[79]"]],["(..)(..)(..)","$1 $2 $3",["44"]]]]',690:"[[4,5,6,7],[]]",691:'[[7],[["(...)(....)","$1 $2",[]]]]',692:'[[7],[["(...)(....)","$1-$2",[]]]]',850:'[[10],[["(...)(...)(....)","$1 $2 $3",["1"]],["(.)(...)(....)","$1 $2 $3",["2"]],["(..)(...)(...)","$1 $2 $3",["8"]]]]',852:'[[8],[["(....)(....)","$1 $2",["[235-7]|[89](?:0[1-9]|[1-9])"]],["(800)(...)(...)","$1 $2 $3",["800"]],["(900)(..)(...)(...)","$1 $2 $3 $4",["900"]],["(900)(...?.?.?)","$1 $2",["900"]]]]',853:'[[8],[["([268]...)(....)","$1 $2",[]]]]',855:'[[8,9],[["(..)(...)(....?)","$1 $2 $3",["1.[1-9]|[2-9]"]],["(1[89]00)(...)(...)","$1 $2 $3",["1[89]0"]]]]',856:'[[10],[["(20)(..)(...)(...)","$1 $2 $3 $4",["20"]],["([2-8].)(...)(...)","$1 $2 $3",["2[13]|3[14]|[4-8]"]],["(30)(..)(..)(...)","$1 $2 $3 $4",["30"]]]]',880:'[[10],[["(2)(........?)","$1-$2",["2"]],["(..)(.....?.?)","$1-$2",["[3-79]1"]],["(....)(....?.?.?)","$1-$2",["1|3(?:0|[2-58]2)|4(?:0|[25]2|3[23]|[4689][25])|5(?:[02-578]2|6[25])|6(?:[0347-9]2|[26][25])|7[02-9]2|8(?:[023][23]|[4-7]2)|9(?:[02][23]|[458]2|6[016])"]],["(...)(....?.?.?.?)","$1-$2",["[3-79][2-9]|8"]]]]',886:'[[9],[["(20)(.)(....)","$1 $2 $3",["202"]],["(20)(...)(....)","$1 $2 $3",["20[013-9]"]],["([2-8])(....?)(....)","$1 $2 $3",["2[23-8]|[3-6]|[78][1-9]"]],["([89]..)(...)(...)","$1 $2 $3",["80|9"]],["(70)(....)(....)","$1 $2 $3",["70"]]]]',960:'[[7],[["(...)(....)","$1-$2",["[3467]|9(?:[1-9]|0[1-9])"]],["(...)(...)(....)","$1 $2 $3",["[89]00"]]]]',961:'[[7,8],[["(.)(...)(...)","$1 $2 $3",["[13-6]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]|9"]],["([7-9].)(...)(...)","$1 $2 $3",["[89][01]|7(?:[01]|6[013-9]|8[89]|9[1-3])"]]]]',962:'[[9],[["(.)(...)(....)","$1 $2 $3",["[2356]|87"]],["(7)(....)(....)","$1 $2 $3",["7[457-9]"]],["(...)(......?)","$1 $2",["70|8[0158]|9"]]]]',963:'[[9],[["(..)(...)(....?)","$1 $2 $3",["[1-5]"]],["(9..)(...)(...)","$1 $2 $3",["9"]]]]',964:'[[9,10],[["(1)(...)(....)","$1 $2 $3",["1"]],["([2-6].)(...)(....?)","$1 $2 $3",["[2-6]"]],["(7..)(...)(....)","$1 $2 $3",["7"]]]]',965:'[[8],[["(....)(....?)","$1 $2",["[16]|2(?:[0-35-9]|4[0-35-9])|9[024-9]|52[25]"]],["(...)(.....)","$1 $2",["244|5(?:[015]|66)"]]]]',966:'[[9],[["([1-467])(...)(....)","$1 $2 $3",["[1-467]"]],["(1.)(...)(....)","$1 $2 $3",["1[1-467]"]],["(5.)(...)(....)","$1 $2 $3",["5"]],["(92..)(.....)","$1 $2",["92"]],["(800)(...)(....)","$1 $2 $3",["80"]],["(811)(...)(....?)","$1 $2 $3",["81"]]]]',967:'[[9],[["([1-7])(...)(....?)","$1 $2 $3",["[1-6]|7[24-68]"]],["(7..)(...)(...)","$1 $2 $3",["7[0137]"]]]]',968:'[[8],[["(2.)(......)","$1 $2",["2"]],["([79]...)(....)","$1 $2",["[79]"]],["([58]00)(.....?.?)","$1 $2",["[58]"]]]]',970:'[[9],[["([2489])(2..)(....)","$1 $2 $3",["[2489]"]],["(5[69].)(...)(...)","$1 $2 $3",["5"]],["(1[78]00)(...)(...)","$1 $2 $3",["1[78]"]]]]',971:'[[9],[["([2-4679])(...)(....)","$1 $2 $3",["[2-4679][2-8]"]],["(5.)(...)(....)","$1 $2 $3",["5"]],["([479]00)(.)(.....)","$1 $2 $3",["[479]0"]],["([68]00)(...?.?.?.?.?.?.?)","$1 $2",["60|8"]]]]',972:'[[9],[["([2-489])(...)(....)","$1-$2-$3",["[2-489]"]],["([57].)(...)(....)","$1-$2-$3",["[57]"]],["(153)(..?)(...)(....)","$1 $2 $3 $4",["153"]],["(1)([7-9]..)(...)(...)","$1-$2-$3-$4",["1[7-9]"]],["(1255)(...)","$1-$2",["125"]],["(1200)(...)(...)","$1-$2-$3",["120"]],["(1212)(..)(..)","$1-$2-$3",["121"]],["(1599)(......)","$1-$2",["15"]],["(....)","*$1",["[2-689]"]]]]',973:'[[8],[["(....)(....)","$1 $2",[]]]]',974:'[[8],[["([28]..)(....)","$1 $2",["[28]"]],["([3-7]...)(....)","$1 $2",["[3-7]"]]]]',975:'[[8],[["(..)(..)(..)(..)","$1 $2 $3 $4",["1|77"]],["([2-8])(...)(...)","$1 $2 $3",["[2-68]|7[246]"]]]]',976:'[[8],[["([12].)(..)(....)","$1 $2 $3",["[12]1"]],["([12]2.)(......?)","$1 $2",["[12]2[1-3]"]],["([12]...)(.....)","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5].)2"]],["(....)(....)","$1 $2",["[57-9]"]],["([12]....)(.....?)","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5].)[4-9]"]]]]',977:'[[10],[["(1)(.......)","$1-$2",["1[2-6]"]],["(..)(......)","$1-$2",["1[01]|[2-8]|9(?:[1-69]|7[15-9])"]],["(9..)(.......)","$1-$2",["9(?:6[013]|7[245]|8)"]]]]',992:'[[9],[["([349]..)(..)(....)","$1 $2 $3",["[34]7|91[78]"]],["([457-9].)(...)(....)","$1 $2 $3",["4[148]|[578]|9(?:1[59]|[0235-9])"]],["(331700)(.)(..)","$1 $2 $3",["331","3317","33170","331700"]],["(....)(.)(....)","$1 $2 $3",["3[1-5]","3(?:[1245]|3(?:[02-9]|1[0-589]))"]]]]',993:'[[8],[["(..)(..)(..)(..)","$1 $2-$3-$4",["12"]],["(..)(......)","$1 $2",["6"]],["(...)(.)(..)(..)","$1 $2-$3-$4",["13|[2-5]"]]]]',994:'[[9],[["(..)(...)(..)(..)","$1 $2 $3 $4",["(?:1[28]|2(?:[45]2|[0-36])|365)"]],["(..)(...)(..)(..)","$1 $2 $3 $4",["[4-8]"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["9"]]]]',995:'[[9],[["(...)(..)(..)(..)","$1 $2 $3 $4",["[348]"]],["(...)(...)(...)","$1 $2 $3",["7"]],["(...)(..)(..)(..)","$1 $2 $3 $4",["5"]]]]',996:'[[9],[["(...)(...)(...)","$1 $2 $3",["[25-7]|31[25]"]],["(....)(.....)","$1 $2",["3(?:1[36]|[2-9])"]],["(...)(...)(.)(...)","$1 $2 $3 $4",["8"]]]]',998:'[[7,8,9],[["([679].)(...)(..)(..)","$1 $2 $3 $4",[]]]]'}},diigahjidi:function(e,t){e.exports={muted:"_2ZFoJ",actions:"_1PENu",actionsBtn:"Ir_Ne",noDivider:"_K9qV"}},dijbgcccgc:function(e,t){e.exports={muted:"_2ypEd",container:"_2UVJ5",containerFull:"_3Zium",icon:"_3-Rfz",containerCircleIconFull:"EdESZ",name:"_2UekJ",labelFilter:"_36d6G",iconContainer:"yKiIK",drawerTitle:"_21dcE",circleIcon:"_3AL1D"}},dijcicjfhc:function(e,t){e.exports={muted:"_1FgmA",wrapper:"_1kjoa",icon:"exVc0",text:"_2SQDy"}},djaachhgag:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findCC=c,t.getRegion=function(e){var t=c(e),n=a.default[t];if(!n||0===n.length)return null;if(1===n.length)return n[0];for(var r=0;r<n.length;r++){var i=n[r],u=o.default[i];if(u){var s=new RegExp(u);if(e.match(s))return i}}return null},t.default=function(e){var t=c(e);if(!t)return e;var n=e.substring(t.length),a=l[t]||function(e){var t=r.default[e];if(!t)return null;var n=JSON.parse(t);return l[e]={lengths:n[0],formats:n[1].map(function(e){return new i.default(e)})}}(t);if(!a)return"+"+t+" "+n;for(var o=a.formats,u=0;u<o.length;u++){var s=o[u].testAndFormat(n);if(s)return"+"+t+" "+s}return"+"+t+" "+n};var r=u(n("diifgdjbh")),a=u(n("bgdibijceg")),o=u(n("cbechdchcj")),i=u(n("bbfeidbiai"));function u(e){return e&&e.__esModule?e:{default:e}}var s=/^(1|2[07]|3[0-469]|4[013-9]|5[1-8]|6[0-6]|7|8[1246]|9[0-58])/,l={};function c(e){var t=e.match(s);return t?t[0]:e.length>=3?e.substring(0,3):e}},djaadchjch:function(e,t,n){"use strict";var r=b(n("bgjcbiaddd")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=b(n("cgcgbfbffj")),i=n("ddjgcfjicj"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),s=b(n("fcfchiagj")),l=b(n("bdiiahhjbe")),c=n("bjcegba"),f=n("biigiejiib"),d=b(n("bhggeigghg")),p=b(n("bihdhbjih")),h=b(n("jccfhaecf")),m=n("dcbdjheea");function b(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"onResume",value:function(){var e=this;(0,r.default)(d.default.Chat.where({active:!0}).filter(function(e){return e.isGroup||e.isBroadcast}),d.default.Chat.where({isBroadcast:!0})).forEach(function(t){e.find(t.id).catch(i.WapDrop,u.ProtoVersionUndefined,function(){})})}},{key:"_find",value:function(e){var t=this;if(h.default.isGroup(e)){var n=d.default.Chat.get(e);return n&&n.isReadOnly?(0,c.queryGroupFromPhone)(e):(0,f.sendQueryGroup)(e)}if(h.default.isBroadcast(e))return p.default.contactFindBroadcast(e).then(function(n){if(200===n.status){var r=t.get(e);return r&&!r.stale?Promise.resolve(r):{id:e,participants:n.recipients}}return 404===n.status?(l.default.error("models:GroupMetadataCollection:_find:False broadcast list query")(),{id:e}):(l.default.error("models:GroupMetadataCollection:_find:bclist error: "+n.status)(),Promise.reject(new Error("models:GroupMetadataCollection:_find:bclist error: "+n.status)))});var r="groupMetadata:find trying to fetch non-group/bclist wid "+e.toString();return l.default.log(r)(),Promise.reject(new Error(r))}},{key:"_handle",value:function(e){return e}},{key:"handlePendingInvite",value:function(e){var t=e.gid,n=e.participants;this.add({id:(0,m.createWid)(t),pendingParticipants:n},{merge:!0})}}]),t}();g.model=s.default,g.staleCollection=!0,e.exports=new g},djachcgbii:function(e,t){e.exports={muted:"_2pJ7W",read_more:"_1Jc9f",readMore:"_1Jc9f"}},djahiefbec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=O(n("ddhijeejag")),o=O(n("cajijabhgb")),i=j(n("dbdfbgehgj")),u=j(n("gbfffciea")),s=j(n("biddiiafgd")),l=j(n("eadfaddcj")),c=j(n("dhigahgdjb")),f=j(n("dhhfaeacef")),d=j(n("fifhbjiec")),p=j(n("dihehaccca")),h=j(n("bjbedjfe")),m=j(n("hhjiahbag")),b=n("chcadgfgad"),g=n("ejbdjaifi"),v=n("bejbgaghc"),y=n("cicgeajfge"),_=n("bjcegba"),E=n("ddjgcfjicj");function j(e){return e&&e.__esModule?e:{default:e}}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w={LOADING:0,SUCCESS:1,ERROR:2},P=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=r=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={state:w.LOADING,status:void 0,groupMetadata:void 0,subject:void 0},r.onViewGroup=function(e){var t=void 0;e?t=e:r.state.groupMetadata&&(t=r.state.groupMetadata.id),t&&u.default.openChatFromUnread(i.default.assertGet(t)),u.default.closeModal()},r.onJoinGroup=function(){(0,v.joinGroupViaInvite)(r.props.groupCode).then(function(e){u.default.openChatFromUnread(e).then(function(t){t&&u.default.focusChatTextInput(e)}),u.default.closeModal()}).checkpoint(r.props.rejectOnUnmount()).catch(o.Unmount,function(){}).catch(E.ServerStatusCodeError,function(e){r.setState({state:w.ERROR,status:e.status})})},r.onCancel=function(){u.default.closeModal()},S(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;(0,_.queryGroupInviteInfo)(this.props.groupCode).checkpoint(this.props.rejectOnUnmount()).then(function(t){var n=t.status,r=t.subject,a=t.groupMetadata;t.inGroup?e.onViewGroup(a.id):e.setState({status:n,groupMetadata:a,subject:r,state:w.SUCCESS})}).catch(E.ServerStatusCodeError,function(t){e.setState({status:t.status,state:w.ERROR})}).catch(o.Unmount,function(){})}},{key:"render",value:function(){var e=this.props.groupCode,t=this.state,n=t.state,r=t.status,o=t.groupMetadata,u=t.subject,h={cancelText:l10n.t(480),onCancel:this.onCancel,onOK:void 0,okText:void 0},g=void 0,v=void 0;if(n===w.LOADING)g=a.createElement(y.LoadingWithText,{text:l10n.t(481)});else if(n===w.SUCCESS&&o){var _=o.participants,E=o.size||_.length,j=_.filter(function(e){return!!c.default.assertGet(e.id).name}),O=void 0,S=o.desc?a.createElement("div",{className:m.default.metadataDesc},o.desc):null;O=j.length?a.createElement("div",{className:m.default.participantList},a.createElement("div",{className:m.default.participantsTitle},l10n.t(492,{count:E,_plural:E})," ",""," ",l10n.t(482,{count:j.length,_plural:j.length})),a.createElement("div",{className:m.default.participantsContainer},j.map(function(e){return a.createElement("div",{key:e.id.toString(),className:m.default.participantWrapper},a.createElement(f.default,{id:e.id}),a.createElement(d.default,{className:m.default.participantText,text:e.contact.formattedName}))}))):a.createElement("div",{className:m.default.emptyContentContainer},a.createElement("span",{className:m.default.participantsText},l10n.t(492,{count:E,_plural:E})),a.createElement("span",{className:m.default.contactsText}," ",""," ",l10n.t(482,{count:j.length,_plural:j.length})));var P=`${l.default.GROUP_INVITE_URL}${e}`,M=c.default.gadd(o.owner).formattedName;g=a.createElement("div",null,a.createElement("div",{className:m.default.metadataContainer},a.createElement(p.default,{src:P,fallback:"default-group",size:82}),a.createElement("div",{className:m.default.metadataText},a.createElement(d.default,{className:m.default.metadataTitle,text:u}),a.createElement("span",{className:m.default.metadataSubtitle},l10n.t(483,{participant:M})),S)),O);var C=i.default.get(o.id),T=!!C&&!C.isReadOnly;h.onOK=T?this.onViewGroup:this.onJoinGroup,h.okText=T?l10n.t(504):l10n.t(487),v=b.FlexModalType}else{var A=void 0;switch(r){case 401:A=l10n.t(475);break;case 404:A=l10n.t(476);break;case 410:A=l10n.t(477);break;case 419:A=l10n.t(478);break;default:A=l10n.t(479)}h.cancelText=l10n.t(1225),g=a.createElement("div",null,A)}return a.createElement(s.default,{cancelText:h.cancelText,onCancel:h.onCancel,onOK:h.onOK,okText:h.okText,type:v},g)}}]),t}();P.displayName="GroupInviteModal",t.default=(0,h.default)((0,g.hoc)(P))},djbecaeiae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("dbdfbgehgj")),i=l(n("gbfffciea")),u=l(n("fifhbjiec")),s=l(n("biddiiafgd"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.onCancel=function(){i.default.closeModal()},r.onUnstar=function(){var e=r.props.chat,t=r.props.msgs;e&&e.pendingAction++,o.default.unstarAllMessages(t,e).finally(function(){e&&e.pendingAction--}),i.default.closeModal()},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){return a.createElement(s.default,{onOK:this.onUnstar,okText:l10n.t(1035),onCancel:this.onCancel},a.createElement("div",null,a.createElement(u.default,{text:l10n.t(1036)})))}}]),t}();f.displayName="UnstarAllPopup",t.default=f},djbfhebjhe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("caejgeijci"));t.default=function(e){if(e){var t=void 0;if(e instanceof i.default?t=e.user:(0,u.isString)(e)&&(t=e.split("@")[0]),t)return o.default.numAndPunc(l(t))}return""};var a=s(n("djaachhgag")),o=s(n("fffdgbfji")),i=s(n("jccfhaecf")),u=n("hjbbdjjdf");function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,r.default)(function(e){return"Server"===e?e:(0,a.default)(e)})},djbgihfhif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("fijafegab")),i=d(n("bfbggcdbfb")),u=d(n("cgbfcjgjcf")),s=d(n("bfdcadbbif")),l=n("bheafeifce"),c=n("bgjddhffji"),f=n("bfajcggcdf");function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onProductDetail=function(e){var t=r.props,n=t.onProductDetail,a=t.sessionId;t.entryPoint===i.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE&&(0,c.logProfileProductClick)((0,l.unproxy)(e),a),n(e,a)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.entryPoint,n=e.catalog,r=e.sessionId;t===i.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE&&(0,c.logBusinessProfileCatalogView)(n.id.toString(),r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.catalog,r=t.onProductCatalog,i=t.filterProductId,l=t.title,c=t.animation,d=t.sessionId,p=n.productCollection.getProductModels().slice(0,7).filter(function(e){return e.id.toString()!==i}).map(function(t,n){return a.createElement(u.default,{key:t.id.toString(),onClick:function(){return e.onProductDetail(t)},mediaData:t.imageCdnUrl.productImageModel.mediaData})}).slice(0,6);if(!p.length)return null;var h=a.createElement(s.default,{name:"chevron-right-alt",directional:!0});return a.createElement(o.default,{title:l||l10n.t(853),titleOnClick:r.bind(this,d),subtitle:h,theme:"padding",animation:c},a.createElement(f.Gallery,{productMedias:p,mediaCollection:n.productCollection}))}}]),t}();h.displayName="CatalogDrawerSection",t.default=h},djbhiedbef:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("bcdejiigcg")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=c(n("ceffhbhahb")),s=c(n("dhajfeafhd")),l=c(n("cicjcfabii"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.overflow,n=e.flatListControllers,o=e.children,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["overflow","flatListControllers","children"]),f=(0,u.default)(s.default.container,{[s.default.noscroll]:"hidden"===t,[s.default.centerItem]:"center-content"===this.props.theme,[s.default.padding]:"padding"===this.props.theme});return n&&n.length?i.createElement(l.default,a({flatListControllers:n,className:f},(0,r.default)(c,["theme"])),o):i.createElement("div",a({className:f},c),o)}}]),t}();f.displayName="DrawerBody",t.default=f},djcchigfih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=l(n("ccegbieicj")),u=l(n("ccabcdcjec")),s=l(n("bahefhdbbb"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.setDragAndDropRef=function(e){r.dragAndDropRef=e},r.onDragOver=function(e){r.dragAndDropRef&&r.dragAndDropRef.onDragOver(e)},r.onDragStart=function(e){r.dragAndDropRef&&r.dragAndDropRef.onDragStart(e)},r.onDragEnd=function(e){r.dragAndDropRef&&r.dragAndDropRef.onDragEnd(e)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.onDrop,r=e.onDragChange,l=e.theme,c=(0,a.default)(s.default.drawer,{[s.default.white]:"invite"===l||"products"===l||"labels"===l||"settings"===l,[s.default.drawerCapture]:"capture"===l,[s.default.drawerEdit]:"edit"===l,[s.default.drawerMedia]:"media"===l,[s.default.drawerGallery]:"gallery"===l,"drawer-verification":"verification"===l});return o.createElement(i.default,{className:c,onDragOver:this.onDragOver,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd},n&&o.createElement(u.default,{ref:this.setDragAndDropRef,disableFromWithin:!0,onDragChange:r,onDrop:n}),t)}}]),t}();f.displayName="Drawer",t.default=f},djchfddccj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=n("dbajccegac"),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.binary=new a(t)}return r(e,[{key:"readByte",value:function(){return this.binary.readUint8()}},{key:"readInt16",value:function(){return this.binary.readUint16()}},{key:"readInt20",value:function(){return((15&this.binary.readUint8())<<16)+(this.binary.readUint8()<<8)+this.binary.readUint8()}},{key:"readInt32",value:function(){return this.binary.readUint32()}},{key:"readString",value:function(e){return this.binary.readString(e)}},{key:"readBytes",value:function(e){return this.binary.readBuffer(e)}},{key:"debugInfo",value:function(){return`offset: ${this.binary._readIndex} byte: ${this.binary._buffer[this.binary._readIndex]}`}},{key:"debugInfoWithPadding",value:function(){var e=this.binary._buffer.slice(Math.max(0,this.binary._readIndex-20),this.binary._readIndex).toString(),t=this.binary._buffer.slice(this.binary._readIndex,Math.min(this.binary._buffer.length,this.binary._readIndex+20)).toString();return`offset: ${this.binary._readIndex} byte: ${this.binary._buffer[this.binary._readIndex]} previous 20 bytes: ${e}\n        following 20 bytes: ${t}\n        `}}]),e}();t.default=o},djcjacfcic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dir=t.Transition=void 0;var r=_(n("dbegcaehed")),a=_(n("dhgeffcgbg")),o=_(n("cifjgjcead")),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),s=_(n("gbfffciea")),l=_(n("ddajbaceej")),c=_(n("eceadcicaf")),f=n("ejbdjaifi"),d=_(n("didfdhbecg")),p=n("bgddggdhc"),h=_(n("dhfbjgicha")),m=_(n("caffijjhc")),b=_(n("dcjdgceiej")),g=_(n("bfejacaeaj")),v=n("hjbbdjjdf"),y=_(n("bagaghiajb"));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var j=t.Transition={LEFT:"drawer-left",MID:"slide-up",NONE:"none",RIGHT:"slide-left"},O=(t.Dir={LEFT:"left",MID:"mid",RIGHT:"right"},function(e){return j[e.toUpperCase()]}),S=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=r=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={drawer:void 0,drawerId:null,transition:O(r.props.direction),uim:void 0,option:void 0},r.blockTransition=null,r.flowDismissPending=!1,r.setRefUIE=function(e){return r.refUIE=e},r.openFlow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O(r.props.direction),n=arguments[2],i=arguments[3],u=(0,o.default)(`DrawerManager${r.props.direction}`);if(!r.flowDismissPending&&r.state.drawer){if(null!=e.key&&(0,a.default)(r.state.drawer.key,e.key))return;r.blockTransition=j.NONE,r.setState({drawer:e,drawerId:u,transition:t,uim:n,option:i},function(){r.blockTransition=t})}else r.props.onDrawerIn&&r.props.onDrawerIn(),r.setState({drawer:e,drawerId:u,transition:t,uim:n,option:i})},r.existsFlow=function(e){e(!0!==r.flowDismissPending&&!!r.state.drawer)},r.closeFlow=function(e){e&&r.state.drawerId!==e||r.state.drawer&&(r.props.onDrawerOut&&r.props.onDrawerOut(),r.flowDismissPending=!0,r.setState({drawer:void 0},function(){r.flowDismissPending=!1}))},r.requestFocus=function(){var e=(0,p.forbiddenFindDOMNode)(r.refUIE);e&&!e.contains(document.activeElement)&&l.default.focus(e)},r.onAnimationComplete=function(){var e=r.props.onDrawerAnimationComplete;e&&e();var t=r.state,n=t.option,a=t.drawer;n&&(a&&(0,v.isFunction)(n.onEnterAnimationComplete)&&n.onEnterAnimationComplete(),!a&&(0,v.isFunction)(n.onLeaveAnimationComplete)&&n.onLeaveAnimationComplete())},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.PureComponent),i(t,[{key:"getChildContext",value:function(){return{uim:this.state.uim||this.context.uim}}},{key:"UNSAFE_componentWillMount",value:function(){this.props.listeners.add(s.default,`open_drawer_${this.props.direction}`,this.openFlow),this.props.listeners.add(s.default,`exists_drawer_${this.props.direction}`,this.existsFlow),this.props.listeners.add(s.default,`close_drawer_${this.props.direction}`,this.closeFlow)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.direction!==this.props.direction&&(this.props.listeners.remove(s.default,`open_drawer_${this.props.direction}`,this.openFlow),this.props.listeners.remove(s.default,`exists_drawer_${this.props.direction}`,this.existsFlow),this.props.listeners.remove(s.default,`close_drawer_${this.props.direction}`,this.closeFlow),e.listeners.add(s.default,`open_drawer_${e.direction}`,this.openFlow),e.listeners.add(s.default,`exists_drawer_${e.direction}`,this.existsFlow),e.listeners.add(s.default,`close_drawer_${e.direction}`,this.closeFlow))}},{key:"render",value:function(){var e=this.props.direction,t=this.state,n=t.drawer,a=t.drawerId,o=t.transition,i=t.option,s=this.blockTransition||o,l=i&&i.noFocus?null:this.requestFocus;return n&&(n=u.createElement(m.default,{displayName:`Drawer${(0,r.default)(e)}`,escapable:!0,key:a,ref:this.setRefUIE,requestFocus:l,requestDismiss:this.closeFlow.bind(null,a)},u.createElement(h.default,{style:{height:"100%"}},n))),u.createElement(d.default,{className:y.default.container,transitionName:s,onAnimationComplete:this.onAnimationComplete},n)}}]),t}();S.contextTypes={uim:g.default.instanceOf(b.default)},S.childContextTypes={uim:g.default.instanceOf(b.default)},S.displayName="DrawerManager",t.default=(0,c.default)((0,f.hoc)(S))},djcjgfjggc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=M(n("ddhijeejag")),i=n("cicgeajfge"),u=n("bgddggdhc"),s=M(n("cajijabhgb")),l=P(n("bfbggcdbfb")),c=n("bgiachiigg"),f=P(n("deiciccchg")),d=P(n("ceddibdhdb")),p=M(n("ebggjhghhi")),h=P(n("dgdeceggdh")),m=P(n("bjbedjfe")),b=n("ejbdjaifi"),g=P(n("bjieiiccce")),v=n("ddajbaceej"),y=P(n("bcddhhfhda")),_=P(n("igbbahaj")),E=n("ccgdfaeibd"),j=P(n("chhcagejdh")),O=P(n("hbabifghf")),S=P(n("bhfeffjbfg")),w=P(n("dhfbfehaef"));function P(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var C=void 0;C="3o85xmWDYKgihhIKSA";var T="DLAQBEYLJJIM",A={giphy:l.default.GIF_SEARCH_PROVIDER.GIPHY,tenor:l.default.GIF_SEARCH_PROVIDER.TENOR},N={giphy:c.VIDEO_MESSAGE_ATTRIBUTION.GIPHY,tenor:c.VIDEO_MESSAGE_ATTRIBUTION.TENOR},k=new h.default(function(e){switch((0,E.gifProvider)()){case"giphy":return function(e){var t=e===_.default.TRENDING,n=void 0;if(t)n=g.default.request("https://api.giphy.com/v1/gifs/trending","GET",{api_key:C,limit:100,rating:"pg-13"},"json");else{var r=l10n.getLocale(),a=void 0;E.GIPHY_LOCALES.includes(r)&&(a=r),n=g.default.request("https://api.giphy.com/v1/gifs/search","GET",{q:e,api_key:C,limit:100,rating:"pg-13",lang:a},"json")}return n.catch(function(){return null}).then(function(e){return e&&e.status<300&&function(e,t){if(!e||!Array.isArray(e.data))return[];for(var n=e.data,r=[],a=0;a<n.length;a++){var o=n[a];if(o&&o.images){var i=o.images,u=i.downsized_small,s=i.preview_mp4,l=i.preview_webp,c=i.preview_gif;if(u){var f=u.mp4,d=parseInt(u.width,10),p=parseInt(u.height,10);f&&d&&p&&r.push(new E.GifInfo(r.length,f,u.size,s&&s.mp4||void 0,l&&l.url||c&&c.url||void 0,Math.round(d*E.TARGET_GIF_HEIGHT/p),E.GIPHY,t))}}}return r}(e.response,t)})}(e);case"tenor":return function(e){var t=e===_.default.TRENDING,n=l10n.lng().replace("-","_"),a=void 0;a=t?g.default.request("https://wa.tenor.co/v1/trending","GET",{key:T,limit:50,contentfilter:"high",locale:n},"json"):g.default.request("https://wa.tenor.co/v1/search","GET",{q:e,key:T,limit:50,contentfilter:"high",locale:n},"json");return a.catch(function(){return null}).then(function(e){return e&&e.status<300&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||!Array.isArray(e.results))return[];for(var n=e.results,a=[],o=0;o<n.length;o++){var i=n[o];if(i&&i.media&&i.media[0]){var u=i.media[0],s=u.tinymp4,l=u.previewmp4,c=u.previewgif;if(s){var f=r(s.dims,2),d=f[0],p=f[1];a.push(new E.GifInfo(a.length,s.url,s.size,l&&l.url||void 0,c&&c.url||void 0,Math.round(d*E.TARGET_GIF_HEIGHT/p),E.TENOR,t))}}}return a}(e.response)})}(e);default:throw new Error(`Unrecognized provider ${(0,E.gifProvider)()}`)}},{maxCached:6,maxAge:36e4,shouldCache:function(e){return!(!e||!e.length)}}),I={UP:"UP",DOWN:"DOWN",LEFT:"LEFT",RIGHT:"RIGHT"},R=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._scrollTop=0,n._didSendGif=!1,n._onlineRestarter=null,n._pendingQuery=null,n.refGifs={},n.refGifsBySectionId={},n.setRefGif=function(e,t){var a=r(e,2),o=a[0],i=a[1];t?(n.refGifs[o]=t,n.refGifsBySectionId[i]=t):(delete n.refGifs[o],delete n.refGifsBySectionId[i])},n.setRefGifCache=new y.default(n.setRefGif),n.onSend=function(e){var t=A[e.attribution];new l.default.GifFromProviderSent({gifSearchProvider:t}).commit(),e.trending||"number"!=typeof e.rank||new l.default.GifSearchResultTapped({gifSearchProvider:t,rank:e.rank}).commit(),n._didSendGif=!0,n.props.onGif(e.url,N[e.attribution])},n.animateGif=function(){var e=n._animatingRow,t=n._scrollTop+E.GAP_SIZE;n._starredGifs&&(t-=n._starredGifs.getClientHeight()||0);var r=Math.round(t/(E.TARGET_GIF_HEIGHT+E.GAP_SIZE)),a=n.state.gifRows[r];if(a&&a.gifs.length&&a!==e){if(n._animatingRow=a,e)for(var o=0;o<e.gifs.length;o++)n.setGifAnimating(e.gifs[o].gifId,!1);for(var i=0;i<a.gifs.length;i++)n.setGifAnimating(a.gifs[i].gifId,!0)}[r+1,r-1].forEach(function(e){if(n.state.gifRows[e])for(var t=n.state.gifRows[e].gifs,r=0;r<t.length;r++)n.setGifAnimating(t[r].gifId,!1)})},n.searchForAndSetGifs=function(){var e=A[(0,E.gifProvider)()],t=n.props.searchText||n.props.selectedSectionId,r=k.getOrRun(t);r=r.then(),n._pendingQuery=r,r.checkpoint(n.props.rejectOnUnmount()).then(function(a){if(a&&0===a.length&&new l.default.GifSearchNoResults({gifSearchProvider:e}).commit(),r===n._pendingQuery&&(n._pendingQuery=null,a)){t||new l.default.GifTrendingViewed({gifSearchProvider:e}).commit();var o=n._containerDom&&n._containerDom.clientWidth||0;o-=2*E.GAP_SIZE,n._resetScroll=!0,n._animateTimer.debounce(0),n.setState({gifRows:L(a,o),width:o})}}).catch(s.Unmount,Promise.CancellationError,function(){}),setTimeout(function(){n.props.rejectOnUnmount().isPending()&&t===n.props.searchText&&new l.default.GifSearchPerformed({gifSearchProvider:e}).commit()},500)},n.onStarredGifsMount=function(e){n._starredGifs=e},n.onContainerMount=function(e){n._containerDom=e,null!=e&&e&&n._resetScroll&&(e.scrollTop=0)},n.initSelection=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n._starredGifs&&n._starredGifs.hasGifs()&&!e?n._starredGifs&&n._starredGifs.component&&n._starredGifs.component.initSelection():(n.selection=[0,0],n.focusGif())},n.getNewColPostion=function(e){var t=n.state.gifRows,r=[n.selection[0],n.selection[1],t[Math.min(n.selection[0],t.length-1)].gifs.length-1,t[Math.min(n.selection[0]+1,t.length-1)].gifs.length-1,t[Math.max(n.selection[0]-1,0)].gifs.length-1],a=r[0],o=r[3],i=r[4],u=r[1]/r[2];switch(e){case I.UP:var s=Math.floor(i*u);return[Math.max(a-1,0),s];case I.DOWN:return[a+1,Math.floor(o*u)]}return[0,0]},n.handleArrowKeys=function(e,t){var r=n.state.gifRows,a=[n.selection[0],n.selection[1]],o=a[0],i=a[1];switch(t){case I.UP:if(0===o)return;n.selection=n.getNewColPostion(I.UP);break;case I.DOWN:if(o===r.length-1)return;n.selection=n.getNewColPostion(I.DOWN);break;case I.LEFT:if(0===i&&0===o)return;n.selection=0===i?n.getNewSelection(o-1,r[o-1].gifs.length-1):n.getNewSelection(o,i-1);break;case I.RIGHT:r[o]?r[o].gifs.length===i+1?n.selection=n.getNewSelection(o+1,0):n.selection=n.getNewSelection(o,i+1):n.selection=[0,0]}n.stopEvent(e),n.focusGif()},n.stopEvent=function(e){e&&(e.preventDefault(),e.stopPropagation())},n.restoreFocus=function(){},n.focusGif=function(){var e=n.selection.join("_"),t=n.refGifsBySectionId[e];if(t){var r=(0,u.forbiddenAssertDOMNode)(t);(0,v.focus)(r),n.props.scrollGifIntoViewIfNeeded(r)}},n.handleUpArrow=function(e){n.handleArrowKeys(e,I.UP)},n.handleDownArrow=function(e){n.handleArrowKeys(e,I.DOWN)},n.handleLeftArrow=function(e){n.handleArrowKeys(e,I.LEFT)},n.handleRightArrow=function(e){n.handleArrowKeys(e,I.RIGHT)},n.handleEnter=function(e){n.stopEvent(e);var t=n.state.gifRows,r=[n.selection[0],n.selection[1],n.selection[2]],a=r[0],o=r[1];n.onSend(t[a].gifs[o])},n._scrollTop=0,n._animatingRow=null,n._containerDom=null,n._didSendGif=!1,n.state={gifRows:[],width:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.searchText!==this.props.searchText&&this.scheduleQuery()}},{key:"shouldComponentUpdate",value:function(e,t){return e.onGif!==this.props.onGif||t.gifRows!==this.state.gifRows||e.selectedSectionId!==this.props.selectedSectionId}},{key:"UNSAFE_componentWillMount",value:function(){var e=this;this._searchTimer=new d.default(this.searchForAndSetGifs),this._animateTimer=new d.default(this.animateGif),this._onlineRestarter=Promise.loop(function(){return p.waitForBBEvent(f.default,"change:online",function(){return f.default.online}).then(function(){return e.scheduleQuery()})}).cancellable(),this._onlineRestarter.catch(Promise.CancellationError,function(){}),this.searchForAndSetGifs(),new l.default.GifSearchSessionStarted({gifSearchProvider:A[(0,E.gifProvider)()]}).commit()}},{key:"componentWillUnmount",value:function(){this._animateTimer.cancel(),this._searchTimer.cancel(),this._onlineRestarter&&this._onlineRestarter.cancel(),this._didSendGif||new l.default.GifSearchCancelled({gifSearchProvider:A[(0,E.gifProvider)()]}).commit()}},{key:"scheduleQuery",value:function(){this._searchTimer.debounceAndCap(200,2e3)}},{key:"animateOnScroll",value:function(e){this._scrollTop=e.scrollTop,this._animateTimer.debounce(200)}},{key:"setGifAnimating",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.refGifs[e];n&&n.setShouldAnimate(t)}},{key:"getNewSelection",value:function(e,t){return[Math.max(0,e),Math.max(0,t)]}},{key:"render",value:function(){var e=this,t=this.state.gifRows,n={up:this.handleUpArrow,down:this.handleDownArrow,left:this.handleLeftArrow,right:this.handleRightArrow,enter:this.handleEnter},r=t.map(function(t,n){var r=t.gifs.map(function(t,r){return o.createElement(O.default,{key:t.gifId,ref:e.setRefGifCache.getRefSetter([`${t.gifId}`,`${n}_${r}`]),gif:t,onSend:e.onSend})}),a=null;return t.blankStr&&(a=o.createElement("div",{className:S.default.blank,style:{flexBasis:t.blankStr}})),o.createElement("div",{key:n,className:S.default.row},r,a)}),a=this.props.selectedSectionId!==_.default.FAVORITES&&(0===r.length?o.createElement("div",{className:S.default.noResults},this.props.searchText?o.createElement(i.SearchWithoutKeyword,null):o.createElement(i.Loading,null)):o.createElement(w.default,{className:S.default.section,handlers:n},r)),u=!this.props.searchText&&this.props.selectedSectionId===_.default.FAVORITES&&o.createElement(j.default,{onSend:this.onSend,ref:this.onStarredGifsMount});return o.createElement("div",{className:S.default.searchContainer,ref:this.onContainerMount},a,u)}}]),t}();function L(e,t){for(var n=[],r=.9*t,a=e,o=null,i=.05;i<1&&a.length;i+=.05){a.sort(function(e,t){var n=e.rank-t.rank;return Math.abs(n)>8?n:t.width-e.width});for(var u=(1+i)*t,s=[],l=[],c=0;c<a.length;c++){for(var f=a[c],d=!1,p=Math.min(u-f.width,r),h=0;!d&&h<s.length;h++)s[h]<p&&(s[h]+=f.width+E.GAP_SIZE,l[h].push(f),d=!0);d||(s.push(f.width),l.push([f]))}if(1===l.length){a=[];var m=t-s[0]-E.GAP_SIZE;o={gifs:l[0],blankStr:m>0?`${m}px`:void 0}}else{a=[];for(var b=0;b<l.length;b++)s[b]>r?n.push(l[b]):a.push.apply(a,l[b])}}n.forEach(function(e){return e.sort(function(e,t){return e.rank-t.rank})}),n.sort(function(e,t){return e[0].rank-t[0].rank});var g=n.map(function(e){return{gifs:e,blankStr:void 0}});return o&&g.push(o),g}R.displayName="GifSearch";t.Component=R;t.default=(0,m.default)((0,b.hoc)(R))},djdgcejjgf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cccehdaiaf"),i=(r=o)&&r.__esModule?r:{default:r};var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.openVoipWindow=function(){e.manager&&e.manager.openVoipWindow()},e.closeVoipWindow=function(){e.manager&&e.manager.closeVoipWindow()},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"register",value:function(e){this.manager=e}},{key:"unregister",value:function(){this.manager=null}}]),t}();t.default=new u},djdhjggcbi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("eaaagccfda"),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(){return i};var i=window.innerHeight,u=(0,o.default)(function(e){i=window.innerHeight},500);window.addEventListener("resize",u)},djeajhjhb:function(e,t,n){"use strict";var r,a=n("chgaccicf"),o=(r=a)&&r.__esModule?r:{default:r};e.exports=(0,o.default)({SEARCH:void 0,INACTIVE:void 0,ENTER:void 0,TAB:void 0,DOWN:void 0,UP:void 0})},djebbfefcf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=l(n("cgchdicacf")),u=l(n("ccaaiecfib")),s=l(n("ddfihebbjf"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,l=Array(s),f=0;f<s;f++)l[f]=arguments[f];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={isAnimated:r.props.startAnimation,isReady:!1,renderableUrl:u.default.supportsFeature(u.default.F.REPLACE_MEDIABLOB)?null:r._createRenderableUrl()},r._setImgRef=function(e){r._imgRef=e},r._setUrlProviderRef=function(e){r._urlProviderRef=e},r._setCanvasRef=function(e){r._canvasRef=e},r._onImageLoad=function(){if(!r.state.isReady){var e=r._canvasRef,t=r._imgRef;e&&t&&(e.width=t.naturalWidth/2,e.height=t.naturalHeight/2,e.getContext("2d").drawImage(t,0,0,e.width,e.height)),r.props.startAnimation&&(r._startAnimationCountDown(),r.props.mediaData.animatedAsNewMsg=!0),r.setState({isReady:!0})}},r._onMouseEnter=function(){null==r._timeoutID&&(r.setState({isAnimated:!0}),r._startAnimationCountDown())},r._renderImage=function(e){return o.createElement("img",{className:(0,a.default)(r.props.className,{[i.default.hide]:!r.state.isReady||!r.state.isAnimated}),draggable:"false",src:e,ref:r._setImgRef,onLoad:r._onImageLoad})},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentWillUnmount",value:function(){null!=this._timeoutID&&clearTimeout(this._timeoutID),u.default.supportsFeature(u.default.F.REPLACE_MEDIABLOB)||this.state.renderableUrl&&URL.revokeObjectURL(this.state.renderableUrl)}},{key:"_startAnimationCountDown",value:function(){var e=this;this._timeoutID=window.setTimeout(function(){u.default.supportsFeature(u.default.F.REPLACE_MEDIABLOB)?(e._urlProviderRef&&e._urlProviderRef.refreshBlob(),e.setState({isAnimated:!1})):(e.state.renderableUrl&&URL.revokeObjectURL(e.state.renderableUrl),e.setState({isAnimated:!1,renderableUrl:e._createRenderableUrl()})),e._timeoutID=null},this.props.mediaData.animationDuration)}},{key:"_createRenderableUrl",value:function(){return URL.createObjectURL(new Blob([this.props.mediaData.mediaBlob.formData()]))}},{key:"render",value:function(){var e=void 0;return u.default.supportsFeature(u.default.F.REPLACE_MEDIABLOB)?null!=this.props.placeholderRenderer&&null!=this.props.downloadMedia&&(e=o.createElement(s.default,{ref:this._setUrlProviderRef,mediaData:this.props.mediaData,placeholderRenderer:this.props.placeholderRenderer,downloadMedia:this.props.downloadMedia},this._renderImage)):e=this.state.renderableUrl&&this._renderImage(this.state.renderableUrl),o.createElement("div",{className:this.props.className,onMouseEnter:this._onMouseEnter,onClick:this.props.onClick},e,o.createElement("canvas",{className:(0,a.default)(this.props.className,{[i.default.hide]:!this.state.isReady||this.state.isAnimated}),draggable:"false",ref:this._setCanvasRef}))}}]),t}();f.displayName="ControlledAnimatedSticker",t.default=f},djeffaehji:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){switch(e){case o.APICmd.GROUP_INVITE:var n=t;return u.default.openModal(a.createElement(l.default,{groupCode:n.code})),!0;case o.APICmd.MSG_SEND:var d=t,p=d.text,h=d.phone,m=d.conversionTuple;if(h){u.default.openModal(a.createElement(c.default,{phone:h,msgText:p,onSuccess:function(e){m&&s.default.add(r({id:e.id,conversionData:void 0,conversionSource:void 0,timestamp:i.default.globalUnixTime()},m),{merge:!0});p&&(e.urlText=!0);e.urlNumber=!0}}),{transition:"modal-flow"})}else u.default.openModal(a.createElement(f.default,{msgText:p,urlText:!0}),{transition:"modal-flow"});return!0;default:return!1}};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("jgficfddf"),i=d(n("bjebjijbfc")),u=d(n("gbfffciea")),s=d(n("ccbihadedf")),l=d(n("djahiefbec")),c=d(n("cigddfbici")),f=d(n("cdeciahhed"));function d(e){return e&&e.__esModule?e:{default:e}}},djegeegcbf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n("hajciceai")),a=p(n("jcfacighg")),o=p(n("caejgeijci")),i=p(n("ceffhbhahb")),u=p(n("cecdfacjga")),s=p(n("cjcejcdhic")),l=p(n("cbcegahcfg")),c=n("bbicdddbdj"),f=p(n("cjedbjfabb")),d=p(n("cgeeeeddea"));function p(e){return e&&e.__esModule?e:{default:e}}var h=f.default.EMOJI.BUCKET_SIZE,m="",b="",g="",v="",y="",_="",E={"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0,"":!0},j=Math.floor(Math.sqrt(h)),O=null,S=null,w=null,P=void 0;function M(){return(0,d.default)(null!=P,"Attempt to use EmojiUtil before it's been configured"),P}var C={configure(e){P=e},emojiRegex:function(){return O||(O=A()),O.lastIndex=0,O},containsEmoji:(0,o.default)(function(e){return O||(O=A()),O.test(e)}),getMatchedEmojis:function(e){var t=e;if(t.length>50||t.includes(" "))return null;t=(0,u.default)(t);var n=function(){S||(e=T(),S=new RegExp("^("+e+")("+e+")?("+e+")?$"));var e;return S.lastIndex=0,S}().exec(t);return n?(0,a.default)(n).slice(1):null},getEmojiPath:(e,t)=>(0,s.default)(M().emojiType,e,t),normalizeEmoji:(0,o.default)(function(e){return O||(O=A()),e?e.replace(O,function(e,t){if(E[t])return"";var n=M().emojiMap[t];return M().emojiToUnicode[n]||""}):""}),getUnicodeFromEmoji:function(e){return M().emojiToUnicode[e]},getEmojiFromUnicode:function(e){return M().emojiMap[e]},isEmojiCached:function(e){var t=N(e);return M().emojiCached.get(t)},cacheEmoji:function(e){var t=N(e);M().emojiCached.set(t)},getCategoryString:function(e){var t=M().emojiIdToCategory[e];null==t&&(t=c.VARIATION_CATEGORY);return c.CATEGORY_ORDERING[t]},getClasses:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"small";return(0,i.default)(`b${function(e){var t=N(e);return`${Math.floor(t/h)}`}(e)}`,"small"===t?"emoji":"emojik",M().emojiType===c.EMOJI_TYPE.APPLE?"apple":"wa")},getStyle:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"small",n=function(e,t){var n=N(e),r=n%h,a=n>=M().lastBucketId?M().lastBucketCols:j,o=c.EMOJI_WIDTH[t],i=Math.floor(r/a);return{xpos:Math.floor(r%a)*o,ypos:i*o,width:o}}(e,t),r=n.xpos,a=n.ypos;return{backgroundPosition:`-${r}px -${a}px`}},getEmojiListInCategory:function(e){return M().emojiCategory[e]},skinToneEmojis:{},skinToneVariations:["","","","",""],variantToUnicode:function(e,t){var n=e.split(b);if(n.length>1)return`${n[0]}${t}${b}`;var r=e.split(m);if(r.length>1)return`${r[0]}${t}${m}`;var a=e.split(y);if(a.length>1)return`${g}${t}${a[1]}`;var o=e.split(_);if(o.length>1)return`${v}${t}${o[1]}`;return`${e}${t}`}};function T(){return w||(w=(0,l.default)((0,r.default)(M().emojiMap).concat((0,r.default)(E)))),w}function A(){var e=T();return new RegExp("("+e+")","g")}function N(e){return e-1}t.default=C},djfbibifah:function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.exports=function(e,t){var n=e.reduce(function(e,t){var n=t.hooks;return n?(Object.keys(n).forEach(function(r){e[r]||(e[r]=[]),e[r].push([t,n[r]])}),e):e},{});return Object.keys(n).reduce(function(e,a){return e[a]=function(e,t){return function(){for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];e.forEach(function(e){var n=r(e,2),o=n[0],i=n[1];return i.call.apply(i,[o].concat(a,[t]))})}}(n[a],t),e},{})}},djfhiceeje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StarredMsgCollection=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.addStarredMsgs=function(e){p.add(e),e.forEach(function(e){e.chat.starredMsgs&&e.chat.starredMsgs.add(e)}),l.default.add(e)},t.removeStarredMsgs=h;var a=d(n("cgcgbfbffj")),o=d(n("eadfaddcj")),i=d(n("bdiiahhjbe")),u=d(n("cbcbdjdah")),s=d(n("biecbbiiee")),l=d(n("dfgeejdaib")),c=n("eaaehfdjdg"),f=d(c);function d(e){return e&&e.__esModule?e:{default:e}}var p=void 0;function h(e){p.remove(e),e.forEach(function(e){e.chat.starredMsgs&&e.chat.starredMsgs.remove(e)})}var m=t.StarredMsgCollection=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.syncPromise=null,e.isSynced=!1,e.listenTo(f.default,"change:stream",function(){f.default.stream===c.STREAM.DISCONNECTED?e.isSynced=!1:f.default.stream===c.STREAM.CONNECTED&&e.delete()}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"process",value:function(e,t,n,r){r?this.delete():this.updateMsgs(e,t,n)}},{key:"sync",value:function(e){if(this.isSynced)return Promise.resolve();if(this.syncPromise)return this.syncPromise;var t=this,n=void 0,r=this.last();return r&&(n=r.id),this.syncPromise=s.default.getStarred(e,o.default.PAGE_SIZE,n).then(function(e){e.length&&t.add(e,{silent:!0}),e.length<o.default.PAGE_SIZE&&(t.isSynced=!0)}).catch(function(e){i.default.error("starred msg sync error: ",e)()}).finally(function(){t.syncPromise=null,t.trigger("sync")}),this.trigger("sync"),this.syncPromise}},{key:"updateMsgs",value:function(e,t,n){var r=this,a=this.syncPromise||Promise.resolve();this.syncPromise=a.then(function(){return e?(t.length>0?s.default.incrementalStarredUpdate(t):Promise.resolve([])).then(function(e){var t=e.concat(n);r.isSynced&&(r.add(t,{silent:!0}),l.default.add(e)),t.forEach(function(e){e.chat.starredMsgs&&e.chat.starredMsgs.add(e)}),r.trigger("sync")}).catch(function(e){i.default.error("models:starred:update:error: ",e)()}):(h(t.concat(n).filter(function(e){return!e.star})),Promise.resolve())}).finally(function(){r.syncPromise=null})}},{key:"delete",value:function(){this.isSynced=!1,function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this)}}]),t}();m.model=u.default,m.comparator=function(e,t){return t.t-e.t},p=new m,t.default=p},djgaefehgg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.startOfDaySkew;if(void 0!==t&&t>r.default.skew-30&&t<r.default.skew+30)return e.startOfDay;return e.startOfDaySkew=r.default.skew,e.startOfDay=a.default.unix(e.t+r.default.skew).startOf("day").unix()};var r=o(n("bjebjijbfc")),a=o(n("dgdjiicfdg"));function o(e){return e&&e.__esModule?e:{default:e}}},djggfadejg:function(e,t){e.exports={muted:"_1GC2t",container:"_3L6MW",isLinkMsg:"_3Lmfg",text:"_1tHfI"}},djgjhgjdcd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("ceddibdhdb"),i=(r=o)&&r.__esModule?r:{default:r};var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s.call(this),this.loggingCallback=t,this.timer=new i.default(this.ship),this._initSession(),this._initArray(Math.floor(Date.now()/1e3))}return a(e,[{key:"_initSession",value:function(){this.cumulativeBitsSet=0,this.sequenceId=-1,this.sessionId=Math.floor(2147483648*Math.random()).toString(36)}},{key:"_initArray",value:function(e){this.startTimeInSec=e,this.lastActiveInMS=1e3*this.startTimeInSec,this.bitmap=new Int32Array(2),this.bitmap[0]=1,this.bitmapLength=1,this.cumulativeBitsSet+=1,this.sequenceId+=1;this.timer.debounceAndCap(64e3,64e3)}},{key:"_doUpdate",value:function(e){var t=e-this.startTimeInSec;this.bitmap&&(t<0||t>=64)&&this.ship(),this.bitmap?(this.bitmap[t>>5]|=1<<(31&t),this.bitmapLength=t+1,this.cumulativeBitsSet+=1,this.lastActiveInMS=1e3*e):this._initArray(e)}},{key:"update",value:function(e){e>=this.lastActiveInMS&&e-this.lastActiveInMS<1e3||this._doUpdate(Math.floor(e/1e3))}},{key:"shipAndEndSession",value:function(e){this.ship(e),this._initSession()}}]),e}(),s=function(){var e=this;this.ship=function(t){var n=e.bitmap;if(n){var r=Date.now();r>e.lastActiveInMS&&(e.bitmapLength=Math.min(64,Math.ceil(r/1e3-e.startTimeInSec)));var a={sessionId:e.sessionId,startTime:e.startTimeInSec,bitmap:n,bitmapLen:e.bitmapLength,sessionSeq:e.sequenceId,sessionCum:e.cumulativeBitsSet};(t||e.loggingCallback)(a),e.timer.cancel(),e.bitmap=null}}};t.default=u},djhbejhbda:function(e,t,n){"use strict";var r={statusQueryThumbnail:function(e){return this.profilePicFindThumbFromPhone(e,void 0,!0)}};e.exports=r},djhbfghcdb:function(e,t){e.exports={muted:"_3ZhLs",label:"kmyjo",input:"_1PSHh"}},djhfffbdac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HEIGHT=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("ceffhbhahb")),i=m(n("effbcehec")),u=n("ddajbaceej"),s=n("dhfbfehaef"),l=m(s),c=m(n("fffdgbfji")),f=m(n("bdhbdihbca")),d=m(n("bfdcadbbif")),p=m(n("bcjcbbafcj")),h=n("eagfdbhhhh");function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.HEIGHT=56;var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={value:r.props.value||"",tabFocused:!!r.props.tabFocused},r._handleChange=function(e){var t=e.target.value;r.setState({value:t}),r.props.onChange&&r.props.onChange(t,e)},r._handleClearButtonClick=function(e){r.setState({value:""}),r.props.onChange&&r.props.onChange("",e)},r._handleDownKey=function(e){e.stopPropagation(),e.preventDefault(),r.props.onDownKey&&r.props.onDownKey(e)},r._handleEnterKey=function(e){e.preventDefault(),e.stopPropagation(),r.props.onEnterKey&&r.props.onEnterKey(e)},r._handleFocus=function(e){r.focus()},r._setRefInput=function(e){r._refInput=e},r._setRefInputContainer=function(e){r._refInputContainer=e},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({value:e.value,tabFocused:e.tabFocused})}},{key:"focus",value:function(e){this._refInput&&(this.hasFocus()||(e&&(0,s.shouldIndicateFocus)(),(0,u.focus)(this._refInput),e&&(0,s.indicateFocus)(this._refInputContainer,["#e0e1e2","#d9f3ff"])))}},{key:"hasFocus",value:function(){return!!document.activeElement&&this._refInput===document.activeElement}},{key:"render",value:function(){var e=null;return this.state.value&&!this.props.tabFocused&&(e=a.createElement("button",{className:f.default.cancelIcon,onClick:this._handleClearButtonClick},a.createElement(d.default,{name:"x-alt-small"}))),a.createElement(l.default,{handlers:{enter:this._handleEnterKey,down:this._handleDownKey},"data-tab":4,className:(0,o.default)(f.default.searchRow,{[f.default.ffFix]:p.default.isGecko,[f.default.rowShadow]:this.props.shadow}),key:"search-input",onFocus:this._handleFocus},a.createElement("label",{ref:this._setRefInputContainer,className:f.default.rowInput},a.createElement("div",{className:f.default.inputContainer},a.createElement("input",{"data-a8n":i.default.key("input-emoji-search"),ref:this._setRefInput,className:(0,o.default)(f.default.inputEmojiSearch,h.SELECTABLE_INPUT_CSS_CLASS),type:"text",dir:c.default.isRTL()?"rtl":"ltr",value:this.props.tabFocused?"":this.state.value,title:this.props.label,placeholder:this.props.label,onMouseDown:function(e){e.stopPropagation()},onChange:this._handleChange}),e)))}}]),t}();g.displayName="PanelSearchInput",t.default=g},djhhbaegjb:function(e,t){e.exports={muted:"_1ADjK",positioningContainer:"_15EmS",resultsContainer:"_3312R",overlayContainer:"_2j-wI",mediaCaption:"f2pyv"}},djibdcebeh:function(e,t){e.exports={muted:"_2nMWP",action:"_2GB6m",container:"_3O0po",wrapper:"_25f0v",butterbar:"_2-Q3h",icon:"_1Tv0N",body:"_3K1Z_",controls:"_1cvvW",title:"_28Bny",text:"_2JIoO",notification:"_1sFYw",update:"_3Dr0Q",computer:"_2xikZ",phone:"_1puWZ",battery:"_2t3oV",actionText:"_11zMf",actionLink:"_1bLBY",chevron:"_3vCgA"}},djicgijbjb:function(e,t){e.exports={muted:"_1JXRl",messageText:"_2HHbr",composeBoxQuotedMsg:"hJLQA"}},djicifaabb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=_(n("hhegggegb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=_(n("eadgjjifdb")),u=_(n("ejegihaeh")),s=_(n("eadfaddcj")),l=_(n("djcchigfih")),c=n("dajffajabh"),f=_(c),d=_(n("djbhiedbef")),p=_(n("bggeiidigb")),h=_(n("deahbiefdi")),m=_(n("cijihedhb")),b=_(n("becfabjeeg")),g=_(n("ihfccfgdf")),v=n("ejbdjaifi"),y=n("bgjddhffji");function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var j=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=a=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.catalogFlatListController=new p.default,a.state={loadingMore:!1,loadedProducts:0,stopLoading:!1},a._handleScroll=function(e){a.state.loadingMore||e.scrollTop+s.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&a.loadMoreProduct()},a.handleScroll=(0,r.default)(a._handleScroll,100),a.loadMoreProduct=function(){var e=a.props.catalogId,t=a.state,n=t.stopLoading,r=t.loadedProducts;if(!n){var o=u.default.assertGet(e);if(o.afterCursor){var i=o.productCollection.getProductModels().length;a.setState({loadingMore:!0,loadedProducts:i}),u.default.update(e).then(function(e){a.setState({loadingMore:!1}),(Array.isArray(e)?e[0]:e).productCollection.getProductModels().length===r&&a.setState({stopLoading:!0}),i*s.default.PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight&&a.loadMoreProduct()}).catch(function(e){a.setState({loadingMore:!1,stopLoading:!0})})}}},a.onScroll=function(e){a.handleScroll(e.currentTarget)},E(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.catalogId,n=e.sessionId;(0,y.logCatalogListView)(t.toString(),n),this.loadMoreProduct()}},{key:"render",value:function(){var e=this.props,t=e.catalogId,n=e.contact,r=e.sessionId,a=this.props.businessProfile,s=this.state.loadingMore?o.createElement("div",{className:i.default.searchSpinner},o.createElement(b.default,{stroke:6,size:24})):null,p=l10n.t(856),g=u.default.assertGet(t);return o.createElement(l.default,{theme:"products",onDrop:this.props.onBack},o.createElement(f.default,{title:p,type:c.DRAWER_HEADER_TYPE.SMALL,onBack:this.props.onBack}),o.createElement(d.default,{onScroll:this.onScroll,flatListControllers:[this.catalogFlatListController]},a?o.createElement("div",{className:i.default.header},o.createElement(m.default,{profilePicThumb:n.getProfilePicThumb(),contact:n,businessProfile:a})):null,o.createElement("div",{className:i.default.list},o.createElement(h.default,{onProductDetail:this.props.onProductDetail,flatListController:this.catalogFlatListController,catalog:g,sessionId:r}),s)))}}]),t}();j.CONCERNS={contact:["id"]},j.displayName="ProductListDrawer",t.default=(0,g.default)((0,v.hoc)(j),j.CONCERNS)},djidacbicd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("bgddggdhc"),i=n("eaaehfdjdg"),u=p(i),s=p(n("gbfffciea")),l=p(n("bcjcbbafcj")),c=p(n("eceadcicaf")),f=p(n("fbjjefaic")),d=n("ejbdjaifi");function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.startCheckForSuccess=function(){r.checkIteration=0,r.checkForSuccessInterval=r.props.setInterval(r.checkForSuccess,250)},r.clearCheckForSuccess=function(){r.checkForSuccessInterval&&(r.props.clearInterval(r.checkForSuccessInterval),delete r.checkForSuccessInterval,delete r.checkIteration)},r.checkForSuccess=function(){if(u.default.state===i.STATE.CONNECTED){r.checkIteration++;var e=r.props.url;if(r.checkIteration>40)r.onPlayerError({target:{src:e,error:{code:window.MediaError.MEDIA_ERR_NETWORK}}});else{var t=(0,o.forbiddenAssertDOMNode)(r),n=t.buffered;n&&n.length&&n.end(0)>0&&r.onPlaying({target:t})}}},r.onPlayerError=function(e){r.clearCheckForSuccess(),r.props.onError&&r.props.onError(e.target.src)},r.onOtherPlaying=function(e){e!==r&&(0,o.forbiddenAssertDOMNode)(r).pause()},r.onPlaying=function(e){r.clearCheckForSuccess(),s.default.mediaPlaying(r),r.props.onPlay&&r.props.onPlay(e)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props.listeners,t=(0,o.forbiddenAssertDOMNode)(this);e.add(t,"error",this.onPlayerError,!0),e.add(t,"playing",this.onPlaying),e.add(s.default,"mediaPlaying",this.onOtherPlaying),(l.default.isGecko||l.default.isSafari)&&(this.props.autoPlay?(this.checkIteration=0,this.checkForSuccessInterval=this.props.setInterval(this.checkForSuccess,250)):this.props.autoPlay?this.startCheckForSuccess():e.add(t,"play",this.startCheckForSuccess))}},{key:"render",value:function(){return a.createElement("audio",{src:this.props.url,className:this.props.className,onClick:this.props.onClick,controls:this.props.controls,preload:this.props.preload,type:this.props.type,autoPlay:this.props.autoPlay},this.props.children)}}]),t}();m.displayName="AudioTag",t.default=(0,c.default)((0,f.default)((0,d.hoc)(m)))},djidhiidef:function(e,t){e.exports={muted:"zXEy2",text:"_12pGw",template:"_1K1bk",spacer:"EopGb",spacerStar:"_1zQt7",spacerBroadcast:"_1S8RM",spacerLabels:"_2k7fD",placeholderIn:"_2v02G",placeholderOut:"_3uHCS"}},djidjciehe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("eagfdbhhhh");function o(e){var t=e.href,n=e.children,o=e.selectable;return r.createElement(a.SelectableLink,{href:t,title:t,target:"_blank",rel:"noopener noreferrer",selectable:o},n)}o.displayName="Link",o.defaultProps={children:""},t.default=o},djiejaiah:function(e,t){e.exports={muted:"_2IPk6",chatControls:"_2kYeZ",chatAvatar:"_1SwuT",chatHeader:"_3fs0K",chatBody:"_3V5x5",chatMain:"_1lpto",chatTitle:"_19vo_"}},djifeiaaea:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("bgiachiigg");var i=n("cgbdhdjdcf"),u={};u[o.EXTENDED_TEXT_MESSAGE_FONTTYPE.SERIF]={google:{families:["Roboto"]}},u[o.EXTENDED_TEXT_MESSAGE_FONTTYPE.SANS_SERIF]={google:{families:["Droid Serif"]}},u[o.EXTENDED_TEXT_MESSAGE_FONTTYPE.NORICAN_REGULAR]={google:{families:["Norican"]}},u[o.EXTENDED_TEXT_MESSAGE_FONTTYPE.BRYNDAN_WRITE]={custom:{families:["Bryndan-Write"]}},u[o.EXTENDED_TEXT_MESSAGE_FONTTYPE.OSWALD_HEAVY]={google:{families:["Oswald:bold"]}};var s={};s[o.EXTENDED_TEXT_MESSAGE_FONTTYPE.BRYNDAN_WRITE]=`@font-face {font-family:"Bryndan-Write"; src:url("${i}") format("truetype");}`;var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.loadedFonts={},this.loadingPromise={}}return a(e,[{key:"load",value:function(e){var t=this;if(this.loadedFonts[e])return Promise.resolve();if(this.loadingPromise[e])return this.loadingPromise[e];var n=u[e],a=s[e],o=(a?new Promise(function(e,t){var n=document.createElement("style");n.appendChild(document.createTextNode(a)),n.onload=e,n.onerror=t,document.head&&document.head.appendChild(n)}):Promise.resolve()).then(function(){return new Promise(function(a,o){var i=r({},n,{active:function(){t.loadedFonts[e]=!0,a()},inactive:function(){t.loadingPromise[e]=void 0,o("Failed to load font: "+e)}});WebFont.load(i)})});return this.loadingPromise[e]=o,o}}]),e}();t.default=new l},djigcbdaeh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("ccgchaejji")),i=u(n("bfdcadbbif"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.onClose?a.createElement("div",{className:o.default.closeBtn,role:"button",onClick:this.props.onClose},a.createElement(i.default,{name:"x"})):null;return a.createElement("div",{className:o.default.subheader},a.createElement("div",{className:o.default.main},this.props.children),e)}}]),t}();s.displayName="ConversationSubheader",t.default=s},djiibcjggg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("ceffhbhahb")),i=l(n("bfdcadbbif")),u=l(n("didfdhbecg")),s=l(n("caghbagede"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onToggle=function(e){e&&e.stopPropagation(),r.props.onChange()},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=void 0,t=void 0;this.props.checked?(t="checkbox-round-checked",e="checked"):(e="unchecked",t=this.props.hover?"checkbox-round-unchecked":"checkbox-round-passive");var n=(0,o.default)(s.default.roundIcon,{[s.default.unchecked]:!this.props.checked&&this.props.hover,[s.default.passive]:!this.props.checked&&!this.props.hover});return a.createElement(u.default,{className:s.default.container,transitionName:"pop"},a.createElement("div",{className:n,key:e,onClick:this.onToggle},a.createElement(i.default,{name:t})))}}]),t}();f.displayName="CheckBoxRound",t.default=f},djiifidhej:function(e,t,n){"use strict";var r=o(n("bdiiahhjbe")),a=o(n("jccfhaecf"));function o(e){return e&&e.__esModule?e:{default:e}}var i=n("dbajccegac"),u=n("ccebfaijda");e.exports=function(e){var t=void 0,n={},o=e.nibbleEncode;for(t=0;t<e.singleByte.length;t++)e.singleByte[t]&&(n[e.singleByte[t]]=t);for(t=0;t<e.doubleByte.length;t++)e.doubleByte[t]&&(n[e.doubleByte[t]]=t+u.SINGLE_BYTE_MAX);this.writeNode=function(e,t){if(t){if(3!==t.length)throw new Error("invalid node");var n=t[1]?2*Object.keys(t[1]).filter(function(e){return!!t[1][e]}).length:0;this.writeListStart(e,1+n+(t[2]?1:0)),this.writeString(e,t[0]),this.writeAttributes(e,t[1]),this.writeChildren(e,t[2])}},this.writeString=function(e,t,o){if("string"!=typeof t&&!(t instanceof a.default))throw r.default.error(`writer:writeString passed non-string/wid type: ${typeof t}`)(t),new Error("invalid string");if(t instanceof a.default)this.writeJid(e,t.user,t.server);else{var i=n.hasOwnProperty(t)?n[t]:void 0,s=void 0,l=void 0;if("c.us"!==t||o)if(void 0===i){var c=t.indexOf("@");if(c<1)this.writeStringRaw(e,t);else{var f=t.substring(0,c),d=t.substring(c+1);this.writeJid(e,f,d)}}else{if(i<u.SINGLE_BYTE_MAX)this.writeToken(e,i);else{var p=i-u.SINGLE_BYTE_MAX;switch(l=p%256,p>>8){case 0:s=u.DICTIONARY_0;break;case 1:s=u.DICTIONARY_1;break;case 2:s=u.DICTIONARY_2;break;case 3:s=u.DICTIONARY_3;break;default:throw new Error("double byte dictionary token out of range: "+t+" "+i)}}this.writeToken(e,s),this.writeToken(e,l)}else this.writeToken(e,n["s.whatsapp.net"])}},this.writeStringRaw=function(e,t){var n=i.numUtf8Bytes(t);if(n>=4294967296)throw new Error("string too large to encode (len = "+n+"): "+t);n>=1<<20?(e.pushByte(u.BINARY_32),e.pushInt32(n)):n>=256?(e.pushByte(u.BINARY_20),e.pushInt20(n)):(e.pushByte(u.BINARY_8),e.pushByte(n)),e.pushString(t)},this.writeJid=function(e,t,n){if(e.pushByte(u.JID_PAIR),t)try{this.writePackedBytes(e,t)}catch(n){r.default.warnVerbose(`writer:encode-fallback "${n.message}"`)(t),this.writeString(e,t)}else this.writeToken(e,u.LIST_EMPTY);this.writeString(e,n)},this.writeToken=function(e,t){if(t<245)e.pushByte(t);else if(t<=500)throw new Error("invalid token")},this.writeAttributes=function(e,t){if(t){for(var n in this.isAttr=!0,t)t[n]&&(this.writeString(e,n),this.writeString(e,t[n]));this.isAttr=!1}},this.writeChildren=function(e,t){var n=void 0;if(t)if("string"==typeof t)this.writeString(e,t,!0);else if(t instanceof ArrayBuffer){if((n=t.byteLength)>=4294967296)throw new Error("invalid children; too long (len = "+n);n>=1<<20?(e.pushByte(u.BINARY_32),e.pushInt32(n)):n>=256?(e.pushByte(u.BINARY_20),e.pushInt20(n)):(e.pushByte(u.BINARY_8),e.pushByte(n)),e.pushBytes(t)}else{if(!Array.isArray(t))throw new Error("invalid children");n=t.length,this.writeListStart(e,n);for(var r=0;r<n;r++)this.writeNode(e,t[r])}},this.writeListStart=function(e,t){0===t?e.pushByte(u.LIST_EMPTY):t<256?(e.pushByte(u.LIST_8),e.pushByte(t)):(e.pushByte(u.LIST_16),e.pushInt16(t))},this.writePackedBytes=function(e,t){try{this.writePackedBytesImpl(e,t,u.NIBBLE_8)}catch(n){r.default.warn(`writer:enc nib fail, try hex "${n.message}"`)(t),this.writePackedBytesImpl(e,t,u.HEX_8)}},this.writePackedBytesImpl=function(e,t,n){var r=i.numUtf8Bytes(t);if(r>u.PACKED_MAX)throw new Error("too many bytes to nibble-encode: len = "+r);var a=[],o=void 0,s=0;r%2>0&&(s=128);var l=s|Math.ceil(r/2);a.push(n),a.push(l);for(var c=Math.floor(r/2),f=0;f<c;f++)o=this.packBytePair(n,t[2*f],t[2*f+1]),a.push(o);s>0&&(o=this.packBytePair(n,t[r-1],"\0"),a.push(o));var d=new Uint8Array(a);e.pushUint8Array(d)},this.packBytePair=function(e,t,n){var r=void 0,a=void 0;switch(e){case u.NIBBLE_8:r=this.packNibble(t),a=this.packNibble(n);break;case u.HEX_8:r=this.packHex(t),a=this.packHex(n);break;default:throw new Error("invalid byte pack type: "+e)}return r<<4|a},this.packNibble=function(e){if(!o.hasOwnProperty(e))throw new Error("invalid byte to nibble-pack: "+e);return o[e]},this.packHex=function(e){switch(e){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"A":case"B":case"C":case"D":case"E":case"F":return parseInt(e,16);case"\0":return 15;default:throw new Error("packHex:invalid byte: "+e)}}}},djijgaefjc:function(e,t){e.exports={muted:"Nq91u",container:"C7Rx_",text:"_2wTpd",messageNewNumberButton:"P1xkW"}},djijjheei:function(e,t){e.exports={muted:"_3iYFX",container:"_2EaHs"}},djjdedaheg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=b(n("ddhijeejag")),o=m(n("ceffhbhahb")),i=m(n("dhhabjhgej")),u=m(n("ihfccfgdf")),s=n("ejbdjaifi"),l=m(n("fifhbjiec")),c=m(n("gbfffciea")),f=n("gaifbabbj"),d=b(n("dbcedfihd")),p=m(n("eedjbihej")),h=m(n("bfifafibjc"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setBodyRef=function(e){n.bodyRef=e},n.setDescRef=function(e){n.descRef=e},n.handleResize=function(e){var t=e.width,r=n.state.descWidth;r<=0||n.setState({truncated:t<r})},n.onReadMore=function(){var e=n.props.chat;c.default.chatInfoDrawer(e,!0)},n.state={desc:n.getDesc(e.groupMetadata),descWidth:0,truncated:!1,hidden:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){this.onDescWidthObtained()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.getDesc(e.groupMetadata);t!==this.state.desc&&this.setState({desc:t,descWidth:0,truncated:!1,hidden:!0})}},{key:"componentDidUpdate",value:function(e,t){t.desc!==this.state.desc&&this.onDescWidthObtained()}},{key:"getDesc",value:function(e){return e&&e.desc}},{key:"onDescWidthObtained",value:function(){var e=this.bodyRef,t=this.descRef;if(e&&t){var n=e.clientWidth,r=t.getWidth();this.setState({descWidth:r,truncated:n<r,hidden:!1})}}},{key:"render",value:function(){var e=this.state.desc;if(!e)return null;var t=this.state,n=t.truncated,r=t.hidden,u=this.props.chat.isTrusted()?f.Configuration.TrustedGroupDesc({links:d.findLinks(e)}):f.Configuration.UntrustedGroupDesc();return a.createElement(a.Fragment,null,a.createElement(p.default,{theme:"title",block:!0},l10n.t(1150)),a.createElement(h.default,{onRef:this.setBodyRef,onResize:this.handleResize,className:i.default.body},a.createElement(p.default,{theme:"small",className:(0,o.default)(i.default.text,{[i.default.hidden]:r})},a.createElement(l.default,{ref:this.setDescRef,text:e,selectable:!0,formatters:u,className:i.default.desc}),n&&a.createElement("div",{className:i.default.more,role:"button",onClick:this.onReadMore},l10n.t(878)))))}}]),t}();g.CONCERNS={groupMetadata:["desc"]},g.displayName="GroupDescriptionBar",t.default=(0,u.default)((0,s.hoc)(g),g.CONCERNS)},djjeigcdbe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=new RegExp("[A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")},djjgggigcf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=_(n("cehjjfagii")),o=_(n("gbfffciea")),i=_(n("ceffhbhahb")),u=_(n("fifhbjiec")),s=_(n("cieaeggjg")),l=_(n("bcijadidjd")),c=n("bjhjaiccai"),f=_(n("bahgfcjcda")),d=_(n("dhefcajhhb")),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),h=_(n("ihfccfgdf")),m=n("ejbdjaifi"),b=_(n("cgfjebhhej")),g=_(n("eadfaddcj")),v=_(n("deecfijhbf")),y=_(n("cadbaeefbb"));function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._showContactsModal=function(){if(n.props.msg.vcardList){var e=n.props.msg.vcardList.map(function(e){return e.vcard});o.default.openModal(p.createElement(l.default,{vcardList:e}))}},n.state={loading:!0,vcardData:n._getVcardDisplayData(e.msg.vcardList)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.PureComponent),r(t,[{key:"componentDidMount",value:function(){this._loadProfilePics()}},{key:"componentDidUpdate",value:function(e){e.msg.vcardList!==this.props.msg.vcardList&&(this.setState({loading:!0,vcardData:this._getVcardDisplayData(this.props.msg.vcardList)}),this._loadProfilePics())}},{key:"_getVcardDisplayData",value:function(e){return e.map(function(e){var t=e.displayName,n=e.vcard,r=b.default.parse(n);return{displayName:t,waids:b.default.vcardWAids(r),thumbnail:b.default.thumbnail(n)}})}},{key:"_loadProfilePics",value:function(){var e,t=this,n=(e=[]).concat.apply(e,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.state.vcardData.map(function(e){return e.waids}))).slice(0,10);Promise.map(n,function(e){return d.default.find(e)}).then(function(){t.setState({loading:!1,vcardData:t._sortVcardDisplayData()})})}},{key:"_sortVcardDisplayData",value:function(){var e=this;return this.state.vcardData.sort(function(t,n){var r=e._hasPic(t),a=e._hasPic(n);return r&&!a?-1:!r&&a?1:t.displayName<n.displayName?-1:t.displayName>n.displayName?1:0})}},{key:"_hasPic",value:function(e){return Boolean(b.default.thumbnailWAid(e.waids)||e.thumbnail)}},{key:"_renderProfilePics",value:function(e){for(var t=Math.min(e.length,3),n=[],r=0;r<t;r++){var a=e[r],o=a.waids,i=a.thumbnail,u=b.default.thumbnailWAid(o);this.state.loading||!u&&!i?n.push(p.createElement("div",{className:v.default.image,key:`default-pic-${r}`},p.createElement(f.default,{size:39,border:!0}))):n.push(p.createElement("div",{className:v.default.image,key:`profile-pic-${r}`},p.createElement(f.default,{waid:u,thumb:i,size:39,border:!0})))}return n}},{key:"render",value:function(){var e=this.props.msg,t=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg?p.createElement("div",{className:v.default.author},p.createElement(a.default,{msg:e,contact:e.senderObj})):null,n=this.state.vcardData,r=n.map(function(e){return e.displayName}),o=(0,c.getNameStringFromNames)(r),l=this._renderProfilePics(n),f=e.vcardList||e.chat.isTrusted(),d=this.props.quotedMsg?p.createElement("div",{className:v.default.quote},this.props.quotedMsg):null,h=(0,i.default)(v.default.bubble,{[v.default.hasAuthor]:t,[v.default.hasQuote]:d,[v.default.isPreview]:this.props.displayType===g.default.DISP_TYPE.MSG_INFO,[v.default.isGallery]:this.props.displayType===g.default.DISP_TYPE.STARRED_MSGS||this.props.displayType===g.default.DISP_TYPE.GALLERY});return p.createElement("div",{className:h},t,d,p.createElement("div",{className:v.default.vcard,role:f?"button":null,title:o,onClick:this._showContactsModal},p.createElement("div",{className:v.default.avatar},l),p.createElement("div",{className:v.default.body},p.createElement(u.default,{text:o,element:"div",className:v.default.name,dirMismatch:e.rtl!==l10n.isRTL(),direction:e.dir,wbr:15})),p.createElement("div",{className:v.default.meta},p.createElement(s.default,{msg:e}))),p.createElement(y.default,{items:[{label:l10n.t(718),onClick:this._showContactsModal}]}))}}]),t}();E.CONCERNS={msg:["rtl","dir","senderObj","vcardList","isSentByMe","isGroupMsg"]},E.displayName="MultiVcard",t.default=(0,h.default)((0,m.hoc)(E),E.CONCERNS)},eaaihhcibf:function(e,t){e.exports={muted:"_1-TBB",mediaPanelHeader:"cGLoy",mediaPanelTools:"_1GdY6",info:"_15eME"}},eabhibhged:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.sendStarMsgs=function(e,t,n){var r=void 0;r=o.default.supportsFeature(o.default.F.MD_BACKEND)?Promise.resolve():u.default.sendMessageStarred(e,t.map(function(e){return e.id}),n).then(function(e){if(200!==e.status)return Promise.reject(new a.ServerStatusCodeError(e.status))});return r.then(function(){return l(t,n)})},t.sendUnstarAll=function(e,t){var n=void 0;n=o.default.supportsFeature(o.default.F.MD_BACKEND)?Promise.resolve():u.default.sendUnstarAll(t).then(function(e){if(200!==e.status)return Promise.reject(new a.ServerStatusCodeError(e.status))});return n.then(function(){return l(e,!1)})};var a=n("ddjgcfjicj"),o=s(n("ccaaiecfib")),i=s(n("bjdejebbgc")),u=s(n("bihdhbjih"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!o.default.supportsFeature(o.default.F.MODEL_STORAGE))return Promise.resolve();var n=e.map(function(e){var n=e.toJSON();return r({},n,{id:n.id.toString(),star:t})});return i.default.bulkCreateOrMerge(n)}},eacehgiidh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=j(n("cadbaeefbb")),i=j(n("jhcabjcaf")),u=j(n("bfjbdahdag")),s=j(n("gbfffciea")),l=j(n("ceffhbhahb")),c=j(n("cjgafgfbff")),f=j(n("ccaaiecfib")),d=j(n("bahgfcjcda")),p=j(n("dcebcbcdih")),h=j(n("cfhehaefih")),m=j(n("ihfccfgdf")),b=j(n("fibdihid")),g=j(n("dbabefhajh")),v=n("ejbdjaifi"),y=n("bheafeifce"),_=j(n("cieaeggjg")),E=j(n("iiaihjfbi"));function j(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onOpenInvite=function(){var e=r.props.msg;s.default.openModal(a.createElement(p.default,{msg:e}))},O(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.displayAuthor,r=t.isGroupsV4InviteExpired,s=t.inviteGrpName;if(!f.default.supportsFeature(f.default.F.GROUPS_V_4_JOIN_PERMISSION))return a.createElement(c.default,{msg:(0,y.unproxy)(t),displayAuthor:n});var p=a.createElement(d.default,{size:49,thumb:this.props.msg.inviteGrpJpegThum}),m=t.comment?a.createElement("div",{className:b.default.caption},a.createElement(u.default,{msg:t,spacer:!0,trusted:t.isTrusted()})):null,v=r?null:a.createElement(o.default,{items:[{label:this.props.msg.isSentByMe?l10n.t(525):l10n.t(487),onClick:this.onOpenInvite}],theme:t.comment?void 0:"no-divider"}),j=!r||!m,O=j?a.createElement("div",{className:b.default.meta},a.createElement(_.default,{msg:t})):null,S=t.comment?l10n.t(523):a.createElement(E.default,{msg:t},l10n.t(523)),w=void 0;if(r){var P=m?l10n.t(519):a.createElement(E.default,{msg:t},l10n.t(519));w=a.createElement("div",{className:b.default.status},P)}return a.createElement(g.default,{msg:t,displayAuthor:n,hideMeta:j},a.createElement(i.default,{contact:t.senderObj,msg:t,className:(0,l.default)(b.default.container,{[b.default.expired]:r,[b.default.noCaption]:!m})},a.createElement("div",{className:b.default.linkPreview},a.createElement(h.default,{description:S,invite:!0,isSentByMe:t.isSentByMe,onClick:r?void 0:this.onOpenInvite,thumbnail:p,title:s,theme:r?"extended":void 0})),w,m,O),v)}}]),t}();S.CONCERNS={msg:["id","inviteCode","inviteCodeExp","inviteGrp","inviteGrpName","inviteGrpJpegThum","senderObj","comment","isSentByMe","isGroupMsg","isPSA","isGroupsV4InviteExpired"]},S.displayName="GroupsV4InviteMsg",t.default=(0,m.default)((0,v.hoc)(S),S.CONCERNS)},eacifebjhe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cbgabiccd"),i=(r=o)&&r.__esModule?r:{default:r};function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._i=0,r._prev=0,r._curr=0,u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"_next",value:function(){var e=void 0;return e=0===this._i?0:1===this._i?1:this._prev+this._curr,this._prev=this._curr,this._curr=e,this._i++,{done:!1,value:e}}}]),t}();t.default=s},eadgafjbag:function(e,t){e.exports={muted:"_3Q8ik",container:"_2avTY"}},eadgjjifdb:function(e,t){e.exports={muted:"InrXq",header:"_36Ctd",list:"_33P-O",searchSpinner:"_2pRPd"}},eaecbgafff:function(e,t,n){"use strict";var r=i(n("digcccheca")),a=i(n("cbghhhdedg")),o=i(n("jhjgghei"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.handlers={onBeforeInput:a.default,onKeyDown:o.default},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();e.exports=new s},eaejdgfgif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("dcaifjegcg"),o=(r=a)&&r.__esModule?r:{default:r};function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.id=(0,a.prop)(),r.variant=(0,a.prop)(),i(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();u.Proxy="emojiVariant",t.default=(0,a.defineModel)(u)},eaejieeafc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("dcaifjegcg"),o=(r=a)&&r.__esModule?r:{default:r};function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.id=(0,a.prop)(),r.parentType=(0,a.prop)(),r.parentId=(0,a.prop)(),r.labelId=(0,a.prop)(),i(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();u.Collection="LanelItemCollection",u.Proxy="labelItem",t.default=(0,a.defineModel)(u)},eafabiffad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("ihfccfgdf")),i=n("ejbdjaifi"),u=c(n("bfdcadbbif")),s=c(n("eedjbihej")),l=c(n("dbhidcdghb"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.msg,t=e.numTimesForwarded,n=e.isFrequentlyForwarded;if(t<=0||n)return null;var r=a.createElement(u.default,{name:"forwarded",display:"inline"}),o=l10n.t(435,{count:t,_plural:t});return a.createElement("div",{className:l.default.title},r,a.createElement(s.default,{theme:"title",className:l.default.text},o))}}]),t}();f.CONCERNS={msg:["numTimesForwarded","isFrequentlyForwarded"]},f.displayName="MsgInfoForwardCount",t.default=(0,o.default)((0,i.hoc)(f),f.CONCERNS)},eafejccch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendSetBlock=function(e,t){var n=void 0;n=a.default.supportsFeature(a.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):i.default.sendSetBlock(e,[{jid:t}]).then(function(e){if(200!==e.status)throw new r.ServerStatusCodeError(e.status);var t=!(e._duplicate||200!==e.status);return t});return n.then(function(n){if(n&&a.default.supportsFeature(a.default.F.MODEL_STORAGE)){var r=e?o.Blocklist.create({id:t.toString()}):o.Blocklist.remove(t.toString());return r.then(function(){return n})}return n})};var r=n("ddjgcfjicj"),a=u(n("ccaaiecfib")),o=n("cefcddgdgg"),i=u(n("bihdhbjih"));function u(e){return e&&e.__esModule?e:{default:e}}},eafjfadchb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("gbfffciea")),i=l(n("biddiiafgd")),u=l(n("bhcegecbha")),s=l(n("fffdgbfji"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onDownload=function(){o.default.closeModal(),u.default.initDownload(r.props.msg)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){return a.createElement(i.default,{onCancel:function(){return o.default.closeModal()},onOK:this.onDownload,okText:s.default.t(1089),cancelText:s.default.t(1091),title:s.default.t(395)},s.default.t(394))}}]),t}();f.displayName="MediaUnsupportedModal",t.default=f},eahbabfhi:function(e,t){e.exports={muted:"-R-3m",sticky:"_1GhQD"}},eahbfdfee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newMessageQueryEvent=function(e){return new o.default.WebcMessageQuery({webcResponseBytes:0,webcMessageCount:0,webcTextMessageCount:0,webcVideoMessageCount:0,webcPhotoMessageCount:0,webcAudioMessageCount:0,webcPttMessageCount:0,webcStickerMessageCount:0,webcDocumentMessageCount:0,webcOtherMessageCount:0,webcMessageQueryTrigger:e})},t.logMessageCounts=function(e,t){e.webcMessageCount+=t.length;for(var n=0,r=t[n];n<t.length;r=t[++n])switch(r.type){case i.MSG_TYPE.CHAT:case i.MSG_TYPE.LOCATION:case i.MSG_TYPE.PAYMENT:case i.MSG_TYPE.VCARD:case i.MSG_TYPE.CIPHERTEXT:case i.MSG_TYPE.MULTI_VCARD:case i.MSG_TYPE.REVOKED:case i.MSG_TYPE.OVERSIZED:e.webcTextMessageCount+=1;break;case i.MSG_TYPE.IMAGE:case i.MSG_TYPE.PRODUCT:e.webcPhotoMessageCount+=1;break;case i.MSG_TYPE.VIDEO:e.webcVideoMessageCount+=1;break;case i.MSG_TYPE.AUDIO:e.webcAudioMessageCount+=1;break;case i.MSG_TYPE.PTT:e.webcPttMessageCount+=1;break;case i.MSG_TYPE.STICKER:e.webcStickerMessageCount+=1;break;case i.MSG_TYPE.DOCUMENT:e.webcDocumentMessageCount+=1;break;default:e.webcOtherMessageCount+=1}};var r,a=n("bfbggcdbfb"),o=(r=a)&&r.__esModule?r:{default:r},i=n("eadfaddcj")},eahbjifecd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("eadfaddcj")),i=f(n("ihfccfgdf")),u=n("ejbdjaifi"),s=f(n("baijejebfi")),l=f(n("bbjadhadbg")),c=f(n("ccaaiecfib"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._renderImage=function(e){return a.createElement("div",{style:{backgroundImage:`url(${e})`},className:s.default.preview})},r._renderPreview=function(){var e=r.props.mediaData;if(e.preview&&e.preview.url){var t=e.preview.url();if(t)return r._renderImage(t)}return null},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.mediaData;return e.type===o.default.MSG_TYPE.IMAGE||e.type===o.default.MSG_TYPE.PRODUCT?c.default.supportsFeature(c.default.F.REPLACE_MEDIABLOB)?a.createElement(l.default,{mediaData:e,placeholderRenderer:this._renderPreview},this._renderImage):e.renderableUrl?this._renderImage(e.renderableUrl):this._renderPreview():this._renderPreview()}}]),t}();p.CONCERNS={mediaData:["filehash","type","preview","renderableUrl","mediaStage"]},p.displayName="MediaMsgPreview",t.default=(0,i.default)((0,u.hoc)(p),p.CONCERNS)},eahceeffa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_DURATION=t.MAX_LOOPS=void 0,t.getTotalAnimationDuration=s,t.default=function(e){if(!_(e))return 0;var t=new Uint8Array(e),n=0,r=b;for(;(0,o.default)(t.slice(r,r+y),f);){var a=r+g,i=t.slice(a,a+v);if(i.length!==v)return 0;n+=l(i);var u=r+y,c=t.slice(u,u+y);if(c.length!==y)return 0;r+=2*y+l(c)}return s(n)},t.isAnimatedWebp=_;var r,a=n("bhacbjbjic"),o=(r=a)&&r.__esModule?r:{default:r};var i=t.MAX_LOOPS=3,u=t.MAX_DURATION=4e3;function s(e){if(0===e)return 0;var t=Math.min(Math.floor(u/e),i);return Math.max(t,1)*e}function l(e){return e.reduce(function(e,t,n){return e+(t<<8*n)},0)}var c=new Uint8Array([86,80,56,88]),f=new Uint8Array([65,78,77,70]),d=12,p=16,h=20,m=2,b=44,g=20,v=3,y=4;function _(e){var t=new Uint8Array(e),n=t.slice(d,p);return(0,o.default)(n,c)&&0!=(m&t[h])}},eahhieahd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("cdaaeifjfh")),i=c(n("dhfbfehaef")),u=c(n("fffdgbfji")),s=c(n("chcadgfgad")),l=c(n("cfaiaibca"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onCancel=function(){(0,r.props.onPopupCancel)()},r.onReport=function(){r.props.onReport()},r.onTellUsMore=function(){r.props.onTellUsMore()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=u.default.t(903),t=a.createElement("div",{key:"ReportProductChoicePopup-desc"},u.default.t(901)),n=a.createElement(l.default,{a8nText:"popup-controls-more",type:"plain",onClick:this.onTellUsMore,key:"ReportProductChoicePopup-moreBtn"},u.default.t(904)),r=a.createElement(l.default,{a8nText:"popup-controls-report",type:"plain",onClick:this.onReport,key:"ReportProductChoicePopup-reportBtn"},u.default.t(900)),c=a.createElement(l.default,{type:"plain",onClick:this.onCancel,key:0},u.default.t(1091)),f={escape:this.onCancel},d=a.createElement("div",{className:o.default.buttons},a.createElement("div",{className:o.default.button},n),a.createElement("div",{className:o.default.button},r),a.createElement("div",{className:o.default.button},c));return a.createElement(i.default,{handlers:f},a.createElement(s.default,{title:e,actions:d,children:t}))}}]),t}();d.displayName="ReportProductChoicePopup",t.default=d},eaibdijehg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryProduct=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return(0,r.queryProduct)(e,t,n,a)},t.queryCatalog=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;return(0,r.queryCatalog)(e,t,n,a,o)};var r=n("bhgfchijhg")},eaiefjeabj:function(e,t,n){"use strict";var r=i(n("ddfeabiaci")),a=i(n("bdiiahhjbe")),o=i(n("eaaehfdjdg"));function i(e){return e&&e.__esModule?e:{default:e}}var u=n("bbcaggdbc").WebMessageInfo,s=n("bgiachiigg").Message,l=n("ihiijcdag"),c={version:"15",M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28,QUERY_VCARD:29,QUERY_STATUS:30,QUERY_STATUS_UPDATE:31,PRIVACY_STATUS:32,QUERY_LIVE_LOCATIONS:33,LIVE_LOCATION:34},parseMsgStubProto:function(e,t){var n=u.STUBTYPE;switch(e.messageStubType){case n.REVOKE:return t.type="revoked",t;case n.CIPHERTEXT:return t.type="ciphertext",t;case n.FUTUREPROOF:return t.subtype="phone",t;default:return this.parseMsgStubTemplate(e,t)}},parseMsgStubTemplate:function(e,t){var n=u.STUBTYPE;switch(t.type="notification_template",t.templateParams=Array.isArray(e.messageStubParameters)?e.messageStubParameters.map(this.decodeJid):void 0,e.messageStubType){case n.NON_VERIFIED_TRANSITION:t.subtype="non_verified_transition";break;case n.UNVERIFIED_TRANSITION:t.subtype="unverified_transition";break;case n.VERIFIED_TRANSITION:t.subtype="verified_transition";break;case n.VERIFIED_LOW_UNKNOWN:t.subtype="verified_low_unknown";break;case n.VERIFIED_HIGH:t.subtype="verified_high";break;case n.VERIFIED_INITIAL_UNKNOWN:t.subtype="verified_initial_unknown";break;case n.VERIFIED_INITIAL_LOW:t.subtype="verified_initial_low";break;case n.VERIFIED_INITIAL_HIGH:t.subtype="verified_initial_high";break;case n.VERIFIED_TRANSITION_ANY_TO_NONE:t.subtype="verified_transition_any_to_none";break;case n.VERIFIED_TRANSITION_ANY_TO_HIGH:t.subtype="verified_transition_any_to_high";break;case n.VERIFIED_TRANSITION_HIGH_TO_LOW:t.subtype="verified_transition_high_to_low";break;case n.VERIFIED_TRANSITION_HIGH_TO_UNKNOWN:t.subtype="verified_transition_high_to_unknown";break;case n.VERIFIED_TRANSITION_UNKNOWN_TO_LOW:t.subtype="verified_transition_unknown_to_low";break;case n.VERIFIED_TRANSITION_LOW_TO_UNKNOWN:t.subtype="verified_transition_low_to_unknown";break;case n.VERIFIED_TRANSITION_NONE_TO_LOW:t.subtype="verified_transition_none_to_low";break;case n.VERIFIED_TRANSITION_NONE_TO_UNKNOWN:t.subtype="verified_transition_none_to_unknown";break;default:t.templateParams=void 0}return t},subscribeLiveLocation:function(e,t){var n=this;return new Promise(function(r,o){var i=n.queryNode({type:"location",kind:"subscribe",jid:e,participant:t?"true":void 0},void 0);n.binSend("sendEphemeral",i,o,{onSend:n.binWrap(function(e){n.BinaryProtocol.read(e).then(function(e){var o=n.N.children(e),i={participants:[]};if(a.default.logColor("green","bin-recv: response,location",e)(),"response"===n.N.tag(e)&&"location"===n.N.attr("type",e)){var u=parseInt(n.N.attr("duration",e),10);if(i.duration=Number.isNaN(u)?void 0:u,!t||!Array.isArray(o))return t&&a.default.log("LiveLocation:response with no participants")(),void r(i);for(var l=o.length,c=0;c<l;c++){var f=o[c],d=n.N.attr("jid",f),p=parseInt(n.N.attr("expiration",f),10),h=parseInt(n.N.attr("elapsed",f),10)||0,m=n.N.children(f);if("participant"===n.N.tag(f)&&d){var b={id:d,expiration:Number.isNaN(p)?void 0:p,elapsed:h};if(m){var g=s.parse(m).liveLocationMessage;g&&n.parseLiveLocationMessageProto(b,g)}b.lat&&b.lng?a.default.log("LiveLocation:response with lat/lng")():a.default.log("LiveLocation:response without lat/lng")(),i.participants.push(b)}}r(i)}else r(i)}).catch(o)},r),onDrop:n.wrap(o)},{debugString:["query,location",e,t].join(),metricName:"QUERY_LIVE_LOCATIONS"})})},unsubscribeLiveLocation:function(e){var t=this;return new Promise(function(n,r){var a=t.actionNode("set",[["location",{type:"unsubscribe",jid:e},void 0]]);t.binSend("send",a,r,{clientCacheable:!0,onSend:t.wrap(n),onDrop:t.wrap(r)},{debugString:"action,location,unsubscribe,"+e,metricName:"LIVE_LOCATION"})})},queryActiveLiveLocation:function(e){var t=this;return new Promise(function(n,r){var o=t.queryNode({type:"location",kind:"participant",jid:e},void 0);t.binSend("sendEphemeral",o,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r=t.N.children(e),o={participants:[]};if(a.default.logColor("green","bin-recv: response,location",e)(),"response"===t.N.tag(e)&&"location"===t.N.attr("type",e))if(Array.isArray(r)){for(var i=r.length,u=0;u<i;u++){var s=r[u],l=t.N.attr("jid",s),c=parseInt(t.N.attr("expiration",s),10);if("participant"===t.N.tag(s)&&l){var f={id:l,expiration:Number.isNaN(c)?void 0:c};o.participants.push(f)}}n(o)}else n(o);else n(o)}).catch(r)},n),onDrop:t.wrap(r)},{debugString:"query,location,participant,"+e,metricName:"QUERY_LIVE_LOCATIONS"})})},disableLiveLocation:function(e){var t=this;return new Promise(function(n,r){var a=t.actionNode("set",[["location",{type:"disable",jid:e},void 0]]);t.binSend("send",a,r,{clientCacheable:!0,onSend:t.wrap(n),onDrop:t.wrap(r)},{debugString:"action,location,disable,"+e,metricName:"LIVE_LOCATION"})})},parseLocation:function(e){if("location"===this.N.tag(e)){var t=this.N.attr("type",e),n=this.N.attr("jid",e),r=this.N.attr("author",e),o=parseInt(this.N.attr("elapsed",e),10)||0,i=parseInt(this.N.attr("id",e),10)||0,u=this.N.children(e),l={type:t};switch(t){case"update":if(l.jid=n,l.elapsed=o,u){var c=s.parse(u).liveLocationMessage;c&&this.parseLiveLocationMessageProto(l,c)}l.type="update",l.lat&&l.lng?a.default.log("LiveLocation:update with lat/lng")():a.default.log("LiveLocation:update without lat/lng")();break;case"disable":l.jid=r||n,l.chat=n,l.seq=i}this.pruneUndefinedProps(l);var f=["update"!==t&&"disable"!==t,!("update"!==t||n&&u),"disable"===t&&!n];return this.dropIfConditionMet(f,l)}},binSend:function(e,t,n,r,a){var i=this,u=r.epochIneligible?n:function(e){i.epochRecv(),n(e)};return delete r.epochIneligible,this.BinaryProtocol.write(t).then(function(n){a.debugObj||(a.debugObj=t),a.metric=i.M[a.metricName],a.ackRequest=!1,r.data=n,r.binaryOpts=a,o.default[e](r)}).catch(u)}};e.exports=(0,r.default)(c,l)},eaijjhejbf:function(e,t){e.exports={muted:"pYiAs",emojiSearch:"_2JTFh",searchBody:"h2Zsb",positioningContainer:"_3KUIv",overlayContainer:"_2mlOb",resultsContainer:"_IWON",mediaCaption:"aWTXv",emojiInput:"_1GTvX"}},eajcgecgjh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.findSuspiciousCharacters=function(e,t,n,r){var o=e.split("."),i=void 0,l=!1;if(o.forEach(function(e){if(l=!e.match(p)){if(i)return null;i=e}}),!i||l)return null;for(var c=[],m=!0,b=(0,a.toArray)(i).map(function(e){return(0,a.codePointAt)(e,0)}),g=0;g<b.length;g++){var v=b[g];if(!(m=m&&d(v))&&u.get(v)){if(c.length>=h)return null;c.push(v)}}if(m)return f(n)||f(t)?null:r.some(function(e){return function(e){return s.has(e)}(e)})?null:new Set(b);if(!c.length)return null;var y=c.filter(function(e){var a=u.get(e);return!(!a||a.hasRegion(n)||a.hasRegion(t))&&!r.some(function(e){return a.hasLanguage(e)})});return y.length?new Set(y):null};var a=n("chhhffajfi"),o=n("dcaffhdbgi");var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this.languages=new Set(n),this.regions=new Set(n.map(function(e){return o.LANGUAGE_TO_REGIONS.get(e)||[]}).reduce(function(e,t){return e.concat(t)},[]))}return r(e,[{key:"hasLanguage",value:function(e){return this.languages.has(e)}},{key:"hasRegion",value:function(e){return this.regions.has(e)}}]),e}(),u=new Map([[237,new i(o.LANGUAGES.ASTURIAN,o.LANGUAGES.BAFIA,o.LANGUAGES.BASA_CAMEROON,o.LANGUAGES.CATALAN,o.LANGUAGES.CZECH,o.LANGUAGES.DUALA,o.LANGUAGES.DUTCH,o.LANGUAGES.EWE,o.LANGUAGES.EWONDO,o.LANGUAGES.FAROESE,o.LANGUAGES.FRENCH,o.LANGUAGES.GALICIAN,o.LANGUAGES.GREENLANDIC,o.LANGUAGES.HUNGARIAN,o.LANGUAGES.ICELANDIC,o.LANGUAGES.IRISH,o.LANGUAGES.JOLA_FONYI,o.LANGUAGES.KABUVERDIANU,o.LANGUAGES.KAKO,o.LANGUAGES.KWASIO,o.LANGUAGES.LAKOTA,o.LANGUAGES.LANGI,o.LANGUAGES.LINGALA,o.LANGUAGES.LUBA_KATANGA,o.LANGUAGES.MASAI,o.LANGUAGES.NGIEMBOON,o.LANGUAGES.NGOMBA,o.LANGUAGES.PORTUGUESE,o.LANGUAGES.QUECHUA,o.LANGUAGES.SENA,o.LANGUAGES.SLOVAK,o.LANGUAGES.SPANISH,o.LANGUAGES.TONGAN,o.LANGUAGES.VAI,o.LANGUAGES.VIETNAMESE,o.LANGUAGES.WALSER,o.LANGUAGES.WELSH,o.LANGUAGES.WESTERN_FRISIAN,o.LANGUAGES.YANGBEN,o.LANGUAGES.YORUBA)],[238,new i(o.LANGUAGES.AFRIKAANS,o.LANGUAGES.AGHEM,o.LANGUAGES.AKOOSE,o.LANGUAGES.BAFUT,o.LANGUAGES.BASA_CAMEROON,o.LANGUAGES.BEKWARRA,o.LANGUAGES.BETE_BENDI,o.LANGUAGES.DUTCH,o.LANGUAGES.EBIRA,o.LANGUAGES.EWONDO,o.LANGUAGES.FRENCH,o.LANGUAGES.FRIULIAN,o.LANGUAGES.GADSUP,o.LANGUAGES.GBARI,o.LANGUAGES.GREENLANDIC,o.LANGUAGES.HYAM,o.LANGUAGES.IVBIE_NORTH_OKPELA_ARHE,o.LANGUAGES.JUKUN_TAKUM,o.LANGUAGES.KAKO,o.LANGUAGES.KHOEKHOE,o.LANGUAGES.KOLSCH,o.LANGUAGES.KURDISH,o.LANGUAGES.KWASIO,o.LANGUAGES.LIMBUM,o.LANGUAGES.LINGALA,o.LANGUAGES.MADA_NIGERIA,o.LANGUAGES.MALAGASY,o.LANGUAGES.MASAI,o.LANGUAGES.MUMUYE,o.LANGUAGES.NGOMBA,o.LANGUAGES.NINZO,o.LANGUAGES.OBOLO,o.LANGUAGES.ROMANIAN,o.LANGUAGES.SANGO,o.LANGUAGES.SICILIAN,o.LANGUAGES.SRANAN_TONGO,o.LANGUAGES.TAROK,o.LANGUAGES.TURKISH,o.LANGUAGES.WALLOON,o.LANGUAGES.WELSH,o.LANGUAGES.YANGBEN,o.LANGUAGES.YELE)],[252,new i(o.LANGUAGES.ANGOR,o.LANGUAGES.ASTURIAN,o.LANGUAGES.AZERBAIJANI,o.LANGUAGES.BRETON,o.LANGUAGES.CATALAN,o.LANGUAGES.CORSICAN,o.LANGUAGES.CZECH,o.LANGUAGES.DUTCH,o.LANGUAGES.EDOLO,o.LANGUAGES.ESTONIAN,o.LANGUAGES.FRENCH,o.LANGUAGES.GALICIAN,o.LANGUAGES.GERMAN,o.LANGUAGES.GIZRRA,o.LANGUAGES.GODIE,o.LANGUAGES.HUNGARIAN,o.LANGUAGES.KAKI_AE,o.LANGUAGES.KIRE,o.LANGUAGES.KOLSCH,o.LANGUAGES.KUNIMAIPA,o.LANGUAGES.LOW_GERMAN,o.LANGUAGES.LUXEMBOURGISH,o.LANGUAGES.MAPUCHE,o.LANGUAGES.OCCITAN,o.LANGUAGES.SANGO,o.LANGUAGES.SLOVAK,o.LANGUAGES.SPANISH,o.LANGUAGES.SWISS_GERMAN,o.LANGUAGES.TORO_SO_DOGON,o.LANGUAGES.TURKISH,o.LANGUAGES.TURKMEN,o.LANGUAGES.VOLAPUK,o.LANGUAGES.WALLOON,o.LANGUAGES.WALSER,o.LANGUAGES.WESTERN_FRISIAN,o.LANGUAGES.YIL)],[267,new i(o.LANGUAGES.MALTESE)],[299,new i(o.LANGUAGES.AGHEM,o.LANGUAGES.AKOOSE,o.LANGUAGES.BAFUT,o.LANGUAGES.BASA_CAMEROON,o.LANGUAGES.BEKWARRA,o.LANGUAGES.BETE_BENDI,o.LANGUAGES.DENDI_BENIN,o.LANGUAGES.EBIRA,o.LANGUAGES.ERAVE,o.LANGUAGES.ETKYWAN,o.LANGUAGES.GOURMANCHEMA,o.LANGUAGES.HAWAIIAN,o.LANGUAGES.HYAM,o.LANGUAGES.IBANI,o.LANGUAGES.IDOMA,o.LANGUAGES.JUKUN_TAKUM,o.LANGUAGES.KUTEP,o.LANGUAGES.KWASIO,o.LANGUAGES.LATVIAN,o.LANGUAGES.MADA_NIGERIA,o.LANGUAGES.MAORI,o.LANGUAGES.MASAI,o.LANGUAGES.MBELIME,o.LANGUAGES.NINZO,o.LANGUAGES.PRUSSIAN,o.LANGUAGES.SCOTTISH_GAELIC,o.LANGUAGES.TONGAN,o.LANGUAGES.YALA,o.LANGUAGES.YANGBEN)],[305,new i(o.LANGUAGES.AZERBAIJANI,o.LANGUAGES.CRIMEAN_TATAR,o.LANGUAGES.TURKISH)],[316,new i(o.LANGUAGES.LATVIAN)],[322,new i(o.LANGUAGES.LOWER_SORBIAN,o.LANGUAGES.NAVAJO,o.LANGUAGES.POLISH,o.LANGUAGES.UPPER_SORBIAN)],[353,new i(o.LANGUAGES.BOSNIAN,o.LANGUAGES.CROATIAN,o.LANGUAGES.CZECH,o.LANGUAGES.DAZAGA,o.LANGUAGES.ESTONIAN,o.LANGUAGES.FINNISH,o.LANGUAGES.INARI_SAMI,o.LANGUAGES.KIRE,o.LANGUAGES.KOYRA_CHIINI,o.LANGUAGES.KOYRABORO_SENNI,o.LANGUAGES.KUNAMA,o.LANGUAGES.LAKOTA,o.LANGUAGES.LATVIAN,o.LANGUAGES.LITHUANIAN,o.LANGUAGES.LOWER_SORBIAN,o.LANGUAGES.NORTHERN_SAMI,o.LANGUAGES.NORTHERN_SOTHO,o.LANGUAGES.PRUSSIAN,o.LANGUAGES.SERBIAN,o.LANGUAGES.SERBO_CROATIAN,o.LANGUAGES.SKOLT_SAMI,o.LANGUAGES.SLOVAK,o.LANGUAGES.SLOVENIAN,o.LANGUAGES.TAMASHEQ,o.LANGUAGES.TASAWAQ,o.LANGUAGES.TEDAGA,o.LANGUAGES.UPPER_SORBIAN,o.LANGUAGES.WALSER,o.LANGUAGES.ZARMA)],[409,new i(o.LANGUAGES.CIBAK,o.LANGUAGES.GOEMAI,o.LANGUAGES.HAUSA,o.LANGUAGES.IK,o.LANGUAGES.KAREKARE,o.LANGUAGES.LAMANG,o.LANGUAGES.MBULA_BWAZZA,o.LANGUAGES.NGAS,o.LANGUAGES.NINZO,o.LANGUAGES.PERO,o.LANGUAGES.TAL,o.LANGUAGES.TANGALE,o.LANGUAGES.WAJA,o.LANGUAGES.WARJI)],[448,new i(o.LANGUAGES.KHOEKHOE)],[449,new i(o.LANGUAGES.KHOEKHOE)],[559,new i(o.LANGUAGES.LIVONIAN)],[593,new i(o.LANGUAGES.FEFE,o.LANGUAGES.HUN_SAARE,o.LANGUAGES.TAMASHEK)],[595,new i(o.LANGUAGES.ADAMAWA_FULFULDE,o.LANGUAGES.AGWAGWUNE,o.LANGUAGES.BAKA_CAMEROON,o.LANGUAGES.BALANTA_GANJA,o.LANGUAGES.BALI_NIGERIA,o.LANGUAGES.BASA_CAMEROON,o.LANGUAGES.BASSA,o.LANGUAGES.BOMU,o.LANGUAGES.BORGU_FULFULDE,o.LANGUAGES.BURAK,o.LANGUAGES.BURA_PABIR,o.LANGUAGES.CAKFEM_MUSHERE,o.LANGUAGES.CENTRAL_EASTERN_NIGER_FULFULDE,o.LANGUAGES.CIBAK,o.LANGUAGES.CISHINGINI,o.LANGUAGES.DABA,o.LANGUAGES.DAN,o.LANGUAGES.DGHWEDE,o.LANGUAGES.DOYAYO,o.LANGUAGES.DUALA,o.LANGUAGES.ENGENNI,o.LANGUAGES.FULAH,o.LANGUAGES.GBARI,o.LANGUAGES.GBAYA_CENTRAL_AFRICAN_REPUBLIC,o.LANGUAGES.GBAYA_MBODOMO,o.LANGUAGES.GOEMAI,o.LANGUAGES.GUDE,o.LANGUAGES.GUINEA_KPELLE,o.LANGUAGES.GWAK,o.LANGUAGES.HAUSA,o.LANGUAGES.HUBA,o.LANGUAGES.IK,o.LANGUAGES.KAKO,o.LANGUAGES.KAMWE,o.LANGUAGES.KARANG,o.LANGUAGES.KAREKARE,o.LANGUAGES.KPELLE,o.LANGUAGES.KWASIO,o.LANGUAGES.LAMANG,o.LANGUAGES.MAASINA_FULFULDE,o.LANGUAGES.MBO_CAMEROON,o.LANGUAGES.MBULA_BWAZZA,o.LANGUAGES.MOFU_GUDUR,o.LANGUAGES.MUMUYE,o.LANGUAGES.MUNDANG,o.LANGUAGES.MWAGHAVUL,o.LANGUAGES.NGAS,o.LANGUAGES.NIGERIAN_FULFULDE,o.LANGUAGES.NINZO,o.LANGUAGES.NORTHERN_DAGARA,o.LANGUAGES.PARKWA,o.LANGUAGES.PERO,o.LANGUAGES.PULAR,o.LANGUAGES.RON,o.LANGUAGES.SAAFI_SAAFI,o.LANGUAGES.SERER,o.LANGUAGES.SISSALA,o.LANGUAGES.SOKORO,o.LANGUAGES.TAL,o.LANGUAGES.TANGALE,o.LANGUAGES.TAROK,o.LANGUAGES.TERA,o.LANGUAGES.TIKAR,o.LANGUAGES.TSIKIMBA,o.LANGUAGES.TSISHINGINI,o.LANGUAGES.VAI,o.LANGUAGES.VUTE,o.LANGUAGES.WAJA,o.LANGUAGES.WARJI,o.LANGUAGES.WESTERN_NIGER_FULFULDE,o.LANGUAGES.ZULGO_GEMZEK)],[7693,new i(o.LANGUAGES.CENTRAL_ATLAS_TAMAZIGHT,o.LANGUAGES.KABYLE,o.LANGUAGES.KIRIKE,o.LANGUAGES.TACHELHIT,o.LANGUAGES.TAMASHEK,o.LANGUAGES.TAMASHEQ)],[7771,new i(o.LANGUAGES.CENTRAL_ATLAS_TAMAZIGHT,o.LANGUAGES.KABYLE,o.LANGUAGES.TACHELHIT)],[7789,new i(o.LANGUAGES.CENTRAL_ATLAS_TAMAZIGHT,o.LANGUAGES.KABYLE,o.LANGUAGES.TACHELHIT,o.LANGUAGES.TAMASHEK,o.LANGUAGES.TAMASHEQ)],[7817,new i],[7841,new i(o.LANGUAGES.IZI_EZAA_IKWO_MGBO,o.LANGUAGES.LOKAA,o.LANGUAGES.TAI_DAM,o.LANGUAGES.VIETNAMESE)],[7865,new i(o.LANGUAGES.AGWAGWUNE,o.LANGUAGES.BEROM,o.LANGUAGES.BINI,o.LANGUAGES.CROSS_RIVER_MBEMBE,o.LANGUAGES.DAZAGA,o.LANGUAGES.EBIRA,o.LANGUAGES.ENGENNI,o.LANGUAGES.GOKANA,o.LANGUAGES.IBANI,o.LANGUAGES.IKA,o.LANGUAGES.IKWERE,o.LANGUAGES.IZI_EZAA_IKWO_MGBO,o.LANGUAGES.KIRIKE,o.LANGUAGES.LOKAA,o.LANGUAGES.TAI_DAM,o.LANGUAGES.TANGALE,o.LANGUAGES.TEDAGA,o.LANGUAGES.VIETNAMESE,o.LANGUAGES.YORUBA)],[7883,new i(o.LANGUAGES.AVOKAYA,o.LANGUAGES.CROSS_RIVER_MBEMBE,o.LANGUAGES.EBIRA,o.LANGUAGES.ENGENNI,o.LANGUAGES.IBANI,o.LANGUAGES.IGBO,o.LANGUAGES.IGEDE,o.LANGUAGES.IKA,o.LANGUAGES.IKWERE,o.LANGUAGES.IZI_EZAA_IKWO_MGBO,o.LANGUAGES.KIRIKE,o.LANGUAGES.TAI_DAM,o.LANGUAGES.TANGALE,o.LANGUAGES.VIETNAMESE)]]),s=new Set([o.LANGUAGES.ABAZA,o.LANGUAGES.ABKHAZIAN,o.LANGUAGES.ADYGHE,o.LANGUAGES.AVARIC,o.LANGUAGES.AZERBAIJANI,o.LANGUAGES.BASHKIR,o.LANGUAGES.BELARUSIAN,o.LANGUAGES.BOSNIAN,o.LANGUAGES.BULGARIAN,o.LANGUAGES.BURIAT,o.LANGUAGES.CHECHEN,o.LANGUAGES.CHUKOT,o.LANGUAGES.CHURCH_SLAVIC,o.LANGUAGES.CHUVASH,o.LANGUAGES.CRIMEAN_TATAR,o.LANGUAGES.DARGWA,o.LANGUAGES.DUNGAN,o.LANGUAGES.ERZYA,o.LANGUAGES.EVENKI,o.LANGUAGES.GAGAUZ,o.LANGUAGES.INGUSH,o.LANGUAGES.KABARDIAN,o.LANGUAGES.KALMYK,o.LANGUAGES.KARACHAY_BALKAR,o.LANGUAGES.KARA_KALPAK,o.LANGUAGES.KAZAKH,o.LANGUAGES.KHAKAS,o.LANGUAGES.KHANTY,o.LANGUAGES.KIRGHIZ,o.LANGUAGES.KOMI,o.LANGUAGES.KOMI_PERMYAK,o.LANGUAGES.KORYAK,o.LANGUAGES.KUMYK,o.LANGUAGES.LAK,o.LANGUAGES.LEZGHIAN,o.LANGUAGES.MACEDONIAN,o.LANGUAGES.MANSI,o.LANGUAGES.MARI,o.LANGUAGES.MOKSHA,o.LANGUAGES.MONGOLIAN,o.LANGUAGES.MUSLIM_TAT,o.LANGUAGES.NANAI,o.LANGUAGES.NENETS,o.LANGUAGES.NOGAI,o.LANGUAGES.OSSETIAN,o.LANGUAGES.RUSSIAN,o.LANGUAGES.RUSYN,o.LANGUAGES.SERBIAN,o.LANGUAGES.SERBO_CROATIAN,o.LANGUAGES.SHOR,o.LANGUAGES.SOUTHERN_ALTAI,o.LANGUAGES.TABASSARAN,o.LANGUAGES.TAJIK,o.LANGUAGES.TATAR,o.LANGUAGES.TSAKHUR,o.LANGUAGES.TURKMEN,o.LANGUAGES.TUVINIAN,o.LANGUAGES.UDIHE,o.LANGUAGES.UDMURT,o.LANGUAGES.UKRAINIAN,o.LANGUAGES.UZBEK,o.LANGUAGES.WESTERN_MARI,o.LANGUAGES.YAKUT]),l=new Set([o.REGIONS.ARMENIA,o.REGIONS.AZERBAIJAN,o.REGIONS.BELARUS,o.REGIONS.BOSNIA,o.REGIONS.BULGARIA,o.REGIONS.GEORGIA,o.REGIONS.KAZAKHSTAN,o.REGIONS.KOSOVO,o.REGIONS.KYRGYZSTAN,o.REGIONS.MACEDONIA,o.REGIONS.MOLDOVA,o.REGIONS.MONGOLIA,o.REGIONS.MONTENEGRO,o.REGIONS.RUSSIA,o.REGIONS.SERBIA,o.REGIONS.TAJIKISTAN,o.REGIONS.TURKMENISTAN,o.REGIONS.UKRAINE,o.REGIONS.UZBEKISTAN]),c=new Set([1072,1074,1075,1077,1082,1084,1085,1086,1088,1089,1090,1091,1093,1096,1097,1100,1109,1110,1112,1121,1141,1199,1211,1231,1281,1307,1309,1319,42649]);function f(e){return l.has(e)}function d(e){return c.has(e)}var p=new RegExp("^[a-z0-9-]+$"),h=2},eajefhgiag:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findSuspiciousCharacters=function(e,t){if(!o.default.suspiciousLinks)return;if(t.equals(r.default.me))return;var n=r.default.me,u=(0,i.getRegion)(t.user),s=(0,i.getRegion)(n.user);if(!u||!s)return;var l=r.default.allLanguages;return a.findSuspiciousCharacters(e,u.toUpperCase(),s.toUpperCase(),l.map(function(e){return e.toLowerCase()}))};var r=u(n("bjigbaghc")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("eajcgecgjh")),o=u(n("bfgbdiffgd")),i=n("djaachhgag");function u(e){return e&&e.__esModule?e:{default:e}}},eajjbbihhc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("cbfidcgebe"),i=(r=o)&&r.__esModule?r:{default:r};function u(e){var t=e.mimeType,n=e.url;return a.createElement("div",{className:i.default.container,"data-animate-attach-media":!0},a.createElement("div",{className:i.default.media},a.createElement("audio",{controls:!0,type:t,src:n})))}u.displayName="AttachMediaTypeAudio"},ebacbhahej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpiredLocationDrawerLoadable=t.LiveLocationDrawerLoadable=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.requireBundle=v;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=b(n("bfejacaeaj")),i=b(n("cbhegcchgg")),u=b(n("djcchigfih")),s=b(n("djbhiedbef")),l=n("dajffajabh"),c=b(l),f=b(n("dcjdgceiej")),d=b(n("cjedbjfabb")),p=b(n("bigicfbcdh")),h=n("cicgeajfge"),m=b(n("bdiiahhjbe"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(){return n.e(131).then(function(e){return{LiveLocationDrawer:n("dfjgigggff").default,ExpiredLocationDrawer:n("ddijbgcjdg").default}}.bind(null,n)).catch(n.oe)}var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onCancel=function(){r.context.uim.uie.requestDismiss()},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return a.createElement(u.default,null,a.createElement(c.default,{title:this.props.title,type:l.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onCancel}),a.createElement(s.default,null,this.props.error?a.createElement(p.default,{inactive:!0,svgName:"live-location-refresh",text:l10n.t(910),onClick:this.props.retry}):a.createElement(h.Loading,null)))}}]),t}();y.contextTypes={uim:o.default.instanceOf(f.default)},y.displayName="LoadingDrawer";t.LiveLocationDrawerLoadable=(0,i.default)({loader:function(){return v().then(function(e){return e.LiveLocationDrawer}).catch(function(e){throw m.default.assert(!1,"loadable:LiveLocationDrawer loading error")(e),e})},loading:e=>a.createElement(y,{title:l10n.t(619),error:Boolean(e.error),retry:e.retry}),delay:d.default.LOADABLE_DELAY}),t.ExpiredLocationDrawerLoadable=(0,i.default)({loader:function(){return v().then(function(e){return e.ExpiredLocationDrawer}).catch(function(e){throw m.default.assert(!1,"loadable:ExpiredLocationDrawer loading error")(e),e})},loading:e=>a.createElement(y,{title:l10n.t(595),error:Boolean(e.error),retry:e.retry}),delay:d.default.LOADABLE_DELAY})},ebacfjjdeb:function(e,t){e.exports={muted:"_2xDXX",metadataContainer:"ws2Cf",metadataText:"_2R0AT",metadataTitle:"_30aqP",metadataDesc:"_2oB8w",participantList:"Ni4TD",participantsTitle:"AgMOJ",participantsContainer:"Gwi7O",participantWrapper:"I_zKN",emptyContentContainer:"_111YX",participantsText:"VJRH_",contactsText:"_2DFcR",participantText:"_3mjJr",inviteExpiration:"_2CrtD",inviteExpirationIcon:"KYIjc"}},ebbeeceebe:function(e,t){e.exports={muted:"D9xkd",container:"_28v7x",section:"kY7yF",action:"_2qxdj",shortcut:"u6ytL",key:"_1Y3mw",plus:"_3fN5l"}},ebbfdafeec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=b(n("ieffcccfh")),i=b(n("gbfffciea")),u=b(n("eceadcicaf")),s=b(n("bagahaffif")),l=b(n("cgbfcjgjcf")),c=b(n("didfdhbecg")),f=b(n("bcifhbgija")),d=n("bgddggdhc"),p=n("bgjddhffji"),h=n("ejbdjaifi"),m=n("bheafeifce");function b(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));v.call(n),n.zoomIn=!0;var r=n.props,a=r.activeProductImage,o=r.productImageCollection;return n.state={activeImgIndex:o.toArray().indexOf(a),imgZoomed:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.listeners.add(window,"keydown",this.onKeyDown)}},{key:"componentDidMount",value:function(){this.zoomIn=!1,this.scrollToActive(),this.refThumbsContainer&&(0,f.default)(this.refThumbsContainer,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]});var e=this.props,t=e.product,n=e.sessionId;(0,p.logFullImageView)((0,m.unproxy)(t),n)}},{key:"componentDidUpdate",value:function(e,t){var n=e.product,r=e.sessionId;t.activeImgIndex!==this.state.activeImgIndex&&(this.scrollToActive(!0),(0,p.logFullImageView)((0,m.unproxy)(n),r))}},{key:"render",value:function(){var e=this.getThumbs(),t=this.props,n=t.product,r=t.productImageCollection,i=r.length,u=this.state.activeImgIndex,l=u>0?this.onPrev:null,f=u+1<i?this.onNext:null;return a.createElement("div",{className:this.state.imgZoomed?"img-zoomed-in":null},a.createElement("div",{className:o.default.thumbsContainer,ref:this.setRefThumbsContainer},a.createElement("div",{className:o.default.scrollContainer,dir:"ltr"},a.createElement(c.default,{className:o.default.viewerThumbs,ref:this.setRefThumbs,transitionName:"thumb-scale"},e))),a.createElement(s.default,{mediaData:r.toArray()[this.state.activeImgIndex].mediaData,onBack:this.endFlow,onExitAnimation:this.willEndFlow,onNext:f,onPrev:l,onImgZoomIn:this.onImgZoomIn,getZoomNode:this.props.getZoomNode,zoomIn:this.zoomIn,product:n}))}}]),t}(),v=function(){var e=this;this.onKeyDown=function(t){37===t.keyCode?e.onPrev():39===t.keyCode&&e.onNext()},this.onNext=function(t){if(t&&t.stopPropagation(),!e.state.imgZoomed){var n=e.props.productImageCollection.length,r=(e.state.activeImgIndex+1)%n;e.onSelectThumb(r)}},this.onPrev=function(t){if(t&&t.stopPropagation(),!e.state.imgZoomed){var n=e.props.productImageCollection.length,r=e.state.activeImgIndex,a=r-1<0?n-1:(r-1)%n;e.onSelectThumb(a)}},this.onImgZoomIn=function(t){e.setState({imgZoomed:t})},this.endFlow=function(){i.default.closeModalMedia()},this.willEndFlow=function(){e.refThumbsContainer&&(0,f.default)(e.refThumbsContainer,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})},this.onSelectThumb=function(t){if(t!==e.state.activeImgIndex){var n=e.props,r=n.product,a=n.sessionId;(0,p.logImageNavigate)((0,m.unproxy)(r),a)}e.setState({activeImgIndex:t})},this.scrollToActive=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.refThumbsContainer,r=(0,d.forbiddenFindDOMNode)(e.refThumbs),a=(0,d.forbiddenFindDOMNode)(e.refActiveThumb);if(n&&r&&a){var o=0;a instanceof HTMLElement&&(o=a.clientWidth/2-n.clientWidth/2),(0,f.default)(r,"stop");var i=0;t&&(i=300),(0,f.default)(a,"scroll",{duration:i,container:r,offset:o,axis:"x",easing:[.1,.82,.25,1]})}},this.setRefActiveThumb=function(t){return e.refActiveThumb=t},this.setRefThumbsContainer=function(t){return e.refThumbsContainer=t},this.setRefThumbs=function(t){return e.refThumbs=t},this.getThumbs=function(){var t=e.props.productImageCollection.toArray().map(function(t,n){var r=n===e.state.activeImgIndex;return a.createElement(l.default,{theme:"viewerFlow",active:r,ref:r?e.setRefActiveThumb:null,key:`product-image-${n}`,mediaData:t.mediaData,onClick:e.onSelectThumb.bind(e,n)})});return[a.createElement("div",{className:o.default.thumbPadding,key:"padding-left"}),t,a.createElement("div",{className:o.default.thumbPadding,key:"padding-right"})]}};g.displayName="ProductImageViewerFlow",t.default=(0,u.default)((0,h.hoc)(g))},ebbghebbdh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("ebjaejiaba"),o=_(n("djcchigfih")),i=_(n("djbhiedbef")),u=n("dajffajabh"),s=_(u),l=_(n("fifhbjiec")),c=_(n("dhfbfehaef")),f=_(n("fffdgbfji")),d=n("chcadgfgad"),p=_(d),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),m=_(n("cdjhjdcbeg")),b=_(n("dggeggcjcd")),g=_(n("cgfjebhhej")),v=_(n("bfdcadbbif")),y=_(n("dehfhdefdi"));function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.contactList,r=t.onSend,b=t.onBack,_=t.chat,E=void 0;switch(_.kind){case a.CHAT_KIND.CHAT:E=f.default.t(330,{chat:_.title(),count:f.default.n(n.length),_plural:n.length});break;case a.CHAT_KIND.GROUP:E=f.default.t(331,{chat:_.title(),count:f.default.n(n.length),_plural:n.length});break;case a.CHAT_KIND.BROADCAST:E=f.default.t(329,{chat:_.title(),count:f.default.n(n.length),_plural:n.length})}var j=E?h.createElement(l.default,{text:E,direction:"auto",titlify:!0,ellipsify:!0}):null;return h.createElement(p.default,{type:d.BoxModalType},h.createElement(o.default,null,h.createElement(s.default,{type:u.DRAWER_HEADER_TYPE.POPUP,onBack:b},j),h.createElement(i.default,null,h.createElement(c.default,null,h.createElement("div",{className:y.default.body},n.map(function(t,n){return e.renderVCard(g.default.fromContactModel(t),n.toString())})))),h.createElement("div",{className:y.default.btnContainer},h.createElement("div",{className:y.default.btnPosition},h.createElement(m.default,{large:!0,onClick:r},h.createElement(v.default,{name:"send-light",directional:!0}))))))}},{key:"renderVCard",value:function(e,t){var n=g.default.parse(e.vcard);return n?h.createElement("div",{key:t,className:y.default.vcardWrapper},h.createElement(b.default,{parsedVCard:n,thumbnail:g.default.thumbnail(e.vcard)})):null}}]),t}();E.displayName="VCardConfirmModal",t.default=E},ebbjbbjjg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n("cgcgbfbffj")),o=s(n("igjghefdb")),i=n("cbgjbaaigi"),u=s(n("jccfhaecf"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"_find",value:function(e){return!this.gadd(e).isUser||u.default.isServer(e)||u.default.isPSA(e)?Promise.resolve({id:e}):(0,i.subscribePresence)(e).then(function(){return{id:e}})}},{key:"clearAllPresence",value:function(){this.forEach(function(e){e.reset(),e.set({stale:!0,isSubscribed:!1})})}}]),t}();l.model=o.default,l.staleCollection=!0,t.default=new l},ebcagbhefg:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=n("cgcgbfbffj"),i=c(o),u=n("debjjaigad"),s=c(u),l=c(n("eadfaddcj"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"initializeFromCache",value:function(e){var t=e||[];this.add([{id:u.DEFAULT_PREFERENCE,wallpaperColor:l.default.DEFAULT_CHAT_WALLPAPER,saveToCameraRoll:!0}].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t)),{merge:!0})}},{key:"get",value:function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"get",this).call(this,e)||a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"get",this).call(this,u.DEFAULT_PREFERENCE)}},{key:"delete",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.add({id:u.DEFAULT_PREFERENCE,wallpaperColor:l.default.DEFAULT_CHAT_WALLPAPER,saveToCameraRoll:!0})}}]),t}();f.model=s.default,f.cachePolicy={id:"chat_preference",policy:o.CACHE_POLICY.LOAD,delay:1e3},e.exports=new f},ebcfjdcbhh:function(e,t,n){"use strict";var r=window.matchMedia("\nonly screen and (max-width: 1024px)\n"),a={column:r.matches?2:3};r.addListener(function(e){var t=e.matches?2:3;if(a.column!==t){a.column=t;var n=document.createEvent("Event");n.initEvent("columnChange",!0,!0),window.dispatchEvent(n)}}),e.exports=a},ebfbbaecji:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/\//g,"_").replace(/\+/g,"-")}},ebffbebefe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unstarAllMessages=function(e,t){return function e(t,n){var d=n?n.promises:p.default.Chat.promises;var h=n?n.id:void 0;if(d.sendUnstarAll)return d.sendUnstarAll;var m=d.sendUnstarAll=(0,s.sendUnstarAll)(t,h);var b=new a.ActionType(l10n.t(108));var g=m.then(function(){return new a.ActionType(l10n.t(106))}).catch(i.ServerStatusCodeError,function(e){if(e.staus>=400)return new a.ActionType(l10n.t(103))}).catch(function(r){return u.default.error("models:chat:sendUnstarAll dropped")(r),new a.ActionType(l10n.t(103),l10n.t(152),function(){return e(t,n)})});o.default.openToast(r.createElement(a.ActionToast,{id:(0,a.genId)(),initialAction:b,pendingAction:g}));return m.then(function(){t.forEach(function(e){e.set("star",!1)}),n?(0,c.removeStarredMsgs)(t):(f.default.reset(),l.default.reset(),p.default.Chat.forEach(function(e){e.starredMsgs&&e.starredMsgs.reset()}))}).finally(function(){d.sendUnstarAll=null})}(e,t?(0,d.unproxy)(t):t)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("ccihhdchab"),o=h(n("gbfffciea")),i=n("ddjgcfjicj"),u=h(n("bdiiahhjbe")),s=n("eabhibhged"),l=h(n("dfgeejdaib")),c=n("djfhiceeje"),f=h(c),d=n("bheafeifce"),p=h(n("bhggeigghg"));function h(e){return e&&e.__esModule?e:{default:e}}},ebgbahdcjg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!1;var t=window.getSelection();if(1!==t.rangeCount)return!1;var n=t.getRangeAt(0);if(!n.collapsed||0!==n.startOffset)return!1;var r=n.startContainer;if(e===r)return!0;if(!e.contains(r))return!1;var a=r;do{if(a.previousSibling)return!1;a=a.parentNode}while(a!==e);return!0}},ebgedhejjf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=(p(n("eadfaddcj")),p(n("fifhbjiec"))),i=n("ejbdjaifi"),u=p(n("dbbbgjbbgf")),s=p(n("bceghabha")),l=p(n("geegjgjdg")),c=p(n("ihfccfgdf")),f=n("gaifbabbj"),d=p(n("cieaeggjg"));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.msg,t=e.paymentNoteMsg&&e.paymentNoteMsg.body,n=!t,r=null,i=void 0;if(t){var c=(e.isTrusted()?f.Configuration.TrustedConversation:f.Configuration.UntrustedConversation)({mentions:e.mentionMap(),links:e.getLinks()});r=a.createElement("div",{className:s.default.caption},a.createElement(u.default,{msg:e},a.createElement(o.default,{text:t,selectable:!0,formatters:c,dirMismatch:e.rtl!==l10n.isRTL(),direction:e.dir})))}else i=a.createElement("div",{className:s.default.meta},a.createElement(d.default,{msg:e}));return a.createElement(l.default,{displayAuthor:this.props.displayAuthor,displayType:this.props.displayType,hasCaption:!!r,msg:e,quotedMsg:this.props.quotedMsg,hideMeta:n},this.props.paymentInfo,i,r)}}]),t}();h.CONCERNS={msg:["rtl","dir","isGroupMsg","isPSA","isSentByMe","senderObj","paymentNoteMsg"]},h.displayName="SendOrRequestPaymentMessage",t.default=(0,c.default)((0,i.hoc)(h),h.CONCERNS)},ebgjhfacdb:function(e,t,n){"use strict";var r,a=n("chgaccicf"),o=(r=a)&&r.__esModule?r:{default:r};e.exports=(0,o.default)({FILTER:void 0,INACTIVE:void 0,ENTER:void 0,TAB:void 0,DOWN:void 0,UP:void 0,BACKSPACE:void 0})},ebhdjgicgg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=v(n("ihfccfgdf")),i=n("ejbdjaifi"),u=n("bheafeifce"),s=v(n("cehjjfagii")),l=n("caafgbfcba"),c=v(l),f=v(n("gbfffciea")),d=v(n("eiiicijcj")),p=v(n("eafjfadchb")),h=v(n("bffjfbgbg")),m=v(n("dffedieagi")),b=v(n("bfdcadbbif")),g=v(n("bcadhjihfb"));v(n("eadfaddcj"));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showMediaMissing=function(){f.default.openModal(a.createElement(d.default,{msg:n.props.msg}))},n.downloadMedia=function(){n.props.msg.forceDownloadMedia(!0)},n.cancelDownload=function(){n.props.msg.cancelDownload()},n.cancelUpload=function(){n.props.msg.cancelUpload()},n.resumeUpload=function(){n.props.msg.resumeUpload()},n.resumeRemoteUpload=function(){n.props.msg.resumeRemoteUpload()},n.downloadUnsupportedToDesktop=function(e){e&&e.stopPropagation(),f.default.openModal(a.createElement(p.default,{msg:(0,u.unproxy)(n.props.msg)}))},n.handleTimeUpdate=function(e){n.setState({currentTime:e})},n.handlePlayingUpdate=function(e){n.setState({autoPlay:!1,playing:e})},n.state={currentTime:0,playing:!1,autoPlay:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.msg.downloadMedia()}},{key:"render",value:function(){var e=this.props.msg,t=this.props.mediaData,n=void 0,r=this.state.playing?this.state.currentTime:t.duration;switch(t.mediaStage){case h.default.STAGE.RESOLVED:n=a.createElement(c.default,{url:t.renderableUrl,duration:r,playing:this.state.playing,played:!0,autoPlay:!1,onPlayingUpdate:this.handlePlayingUpdate,onTimeUpdate:this.handleTimeUpdate,outgoingMsg:e.isSentByMe,displayType:this.props.displayType});break;case h.default.STAGE.NEED_POKE:n=a.createElement(l.AudioPlayerFrame,{icon:a.createElement(b.default,{name:"audio-download"}),outgoingMsg:e.isSentByMe,action:this.downloadMedia});break;case h.default.STAGE.NEED_UPLOAD:n=a.createElement(l.AudioPlayerFrame,{icon:a.createElement(b.default,{name:"audio-upload"}),outgoingMsg:e.isSentByMe,action:this.resumeUpload});break;case h.default.STAGE.REMOTE_NEED_UPLOAD:n=a.createElement(l.AudioPlayerFrame,{icon:a.createElement(b.default,{name:"audio-upload"}),outgoingMsg:e.isSentByMe,action:this.resumeRemoteUpload});break;case h.default.STAGE.ERROR_MISSING:n=a.createElement(l.AudioPlayerFrame,{icon:a.createElement(b.default,{name:"audio-play",directional:!0}),outgoingMsg:e.isSentByMe,action:this.showMediaMissing});break;default:n=a.createElement(l.AudioPlayerFrame,{outgoingMsg:e.isSentByMe,spinner:!0})}var o=a.createElement("div",{className:g.default.icon},a.createElement(b.default,{name:"audio-file"})),i=this.props.displayAuthor&&!e.isSentByMe&&e.isGroupMsg?a.createElement(s.default,{msg:e,contact:e.senderObj}):null;return a.createElement(m.default,{msg:e,quotedMsg:this.props.quotedMsg,author:i,player:n,avatar:o,displayType:this.props.displayType})}}]),t}();y.CONCERNS={msg:["ack","isSentByMe","isGroupMsg","senderObj"],mediaData:["duration","type","mediaStage","renderableUrl"]},y.displayName="Audio",t.default=(0,o.default)((0,i.hoc)(y),y.CONCERNS)},ebhfgcddae:function(e,t){e.exports={muted:"_11Epw",body:"_3yE2x",icon:"_3FWXq",wrapper:"_1KmPi",container:"_287WJ",focusBorder:"_27JTh",preview:"_2x9yi"}},ebibecaibi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=O(n("hhegggegb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=j(n("ddhijeejag")),i=O(n("gbfffciea")),u=O(n("eadfaddcj")),s=j(n("cajijabhgb")),l=O(n("eceadcicaf")),c=n("ejbdjaifi"),f=O(n("bdiiahhjbe")),d=O(n("bffjfbgbg")),p=O(n("cifjfjfegc")),h=O(n("dcfaachegb")),m=O(n("bfbggcdbfb")),b=O(n("bjbedjfe")),g=n("bgddggdhc"),v=O(n("becfabjeeg")),y=O(n("bcifhbgija")),_=O(n("dcfijghjic")),E=O(n("cahfddcdga"));function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));w.call(n),n.zoomIn=!0,n.prevScrollWidth=null;var a=n.props.msg;return n.mediaMsgs=a.chat.constructMediaMsgs(a),n.handleScroll=(0,r.default)(n._handleScroll,100),a.type===u.default.MSG_TYPE.IMAGE&&(n.uiActionEvent=new m.default.UiAction({uiActionType:m.default.UI_ACTION_TYPE.IMAGE_OPEN,uiActionPreloaded:a.mediaData.mediaStage===d.default.STAGE.RESOLVED})),n.state={activeMsg:a,imgZoomed:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.listeners.add(window,"keydown",this.onKeyDown)}},{key:"componentDidMount",value:function(){var e=this;this.zoomIn=!1;var t=this.props.listeners;t.uiIdle(function(){e.mediaMsgs.loadMoreAroundIfNeeded(e.state.activeMsg)}),t.add(this.mediaMsgs,"remove reset",function(t,n,r){if(e.mediaMsgs.includes(t)||e.state.activeMsg!==t)e.forceUpdate();else{var a=r.index;0===e.mediaMsgs.length?e.endFlow():e.mediaMsgs.length===a?e.onSelectThumb(e.mediaMsgs.at(a-1)):e.onSelectThumb(e.mediaMsgs.at(a))}}),t.add(this.mediaMsgs,"query_media_after"),t.add(this.mediaMsgs,"query_media_before",function(){var t=(0,g.forbiddenFindDOMNode)(e.refThumbs);t&&t instanceof HTMLElement&&(e.prevScrollWidth=t.scrollWidth,e.forceUpdate())}),this.scrollToActive(),this.refThumbsContainer&&(0,y.default)(this.refThumbsContainer,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]})}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"componentDidUpdate",value:function(e,t){if(t.activeMsg!==this.state.activeMsg)this.scrollToActive(!0);else{var n=(0,g.forbiddenFindDOMNode)(this.refThumbs);if(!n||null==this.prevScrollWidth||0===this.prevScrollWidth)return;n instanceof HTMLElement&&(n.scrollLeft+=n.scrollWidth-this.prevScrollWidth),this.prevScrollWidth=null}}},{key:"render",value:function(){var e=this.mediaMsgs.last(),t=this.mediaMsgs.hasMediaAfter||this.state.activeMsg!==e?this.onNext:null,n=this.mediaMsgs.head(),r=this.mediaMsgs.hasMediaBefore||this.state.activeMsg!==n?this.onPrev:null,a=this.getThumbs(),i=this.onScroll;return o.createElement("div",{className:this.state.imgZoomed?"img-zoomed-in":null},o.createElement("div",{className:_.default.thumbsContainer,ref:this.setRefThumbsContainer},o.createElement("div",{className:_.default.scrollContainer,dir:"ltr"},o.createElement("div",{onScroll:i,className:_.default.viewerThumbs,ref:this.setRefThumbs},a))),o.createElement(h.default,{msg:this.state.activeMsg,mediaData:this.state.activeMsg.mediaData,onBack:this.endFlow,onExitAnimation:this.willEndFlow,onNext:t,onPrev:r,onImgZoomIn:this.onImgZoomIn,getZoomNode:this.props.getZoomNode,startTime:this.props.startTime,zoomIn:this.zoomIn,onImageLoad:this.uiActionEvent?this.onImageLoad:null}))}}]),t}(),w=function(){var e=this;this.onKeyDown=function(t){37===t.keyCode?e.onPrev():39===t.keyCode&&e.onNext()},this.onImageLoad=function(){e.uiActionEvent&&(e.uiActionEvent.markUiActionT(),e.uiActionEvent.commit(),delete e.uiActionEvent)},this.onScroll=function(t){e.handleScroll(t.currentTarget)},this._handleScroll=function(t){if(0!==e.mediaMsgs.length){if(e.mediaMsgs.hasMediaBefore&&t.scrollLeft<t.clientWidth){var n=(0,E.default)(e.mediaMsgs.head());e.props.listeners.uiIdle(function(){e.mediaMsgs.queryMedia(n.chat,n),e.forceUpdate()})}if(e.mediaMsgs.hasMediaAfter&&t.scrollLeft+u.default.SCROLL_FUDGE>t.scrollWidth-2*t.clientWidth){var r=(0,E.default)(e.mediaMsgs.last());e.props.listeners.uiIdle(function(){e.mediaMsgs.queryMedia(r.chat,r,"after"),e.forceUpdate()})}}},this.onNext=function(t){if(t&&t.stopPropagation(),!e.state.imgZoomed){var n=e.state.activeMsg,r=e.mediaMsgs.getAfter(n);r?e.onSelectThumb(r):e.mediaMsgs.hasMediaAfter&&(e._queryMediaAfter||(e._queryMediaAfter=e.mediaMsgs.queryMedia(n.chat,n,"after").checkpoint(e.props.rejectOnUnmount()).then(function(t){"number"==typeof t.length&&t.length>0&&e.state.activeMsg===n&&e.onNext()}).catch(s.Unmount,function(){}).catch(function(e){f.default.error("query media msgs error: ",e)()}).finally(function(){e._queryMediaAfter=null})))}},this.onPrev=function(t){if(t&&t.stopPropagation(),!e.state.imgZoomed){var n=e.state.activeMsg,r=e.mediaMsgs.getBefore(n);r?e.onSelectThumb(r):e.mediaMsgs.hasMediaBefore&&(e._queryMediaBefore||(e._queryMediaBefore=e.mediaMsgs.queryMedia(n.chat,n,"before").checkpoint(e.props.rejectOnUnmount()).then(function(t){"number"==typeof t.length&&t.length>0&&e.state.activeMsg===n&&e.onPrev()}).catch(s.Unmount,function(){}).catch(function(e){f.default.error("query media msgs error: ",e)()}).finally(function(){e._queryMediaBefore=null})))}},this.onImgZoomIn=function(t){e.setState({imgZoomed:t})},this.endFlow=function(){i.default.closeModalMedia()},this.willEndFlow=function(){e.refThumbsContainer&&(0,y.default)(e.refThumbsContainer,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})},this.onSelectThumb=function(t){e.props.listeners.uiIdle(function(){e.mediaMsgs.loadMoreAroundIfNeeded(t)}),e.setState({activeMsg:t})},this.scrollToActive=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.refThumbsContainer,r=(0,g.forbiddenFindDOMNode)(e.refThumbs),a=(0,g.forbiddenFindDOMNode)(e.refActiveThumb);if(n&&r&&a){var o=0;a instanceof HTMLElement&&(o=a.clientWidth/2-n.clientWidth/2),(0,y.default)(r,"stop");var i=0;t&&(i=300),(0,y.default)(a,"scroll",{duration:i,container:r,offset:o,axis:"x",easing:[.1,.82,.25,1]})}},this.setRefActiveThumb=function(t){return e.refActiveThumb=t},this.setRefThumbsContainer=function(t){return e.refThumbsContainer=t},this.setRefThumbs=function(t){return e.refThumbs=t},this.getThumbs=function(){var t=[];return e.mediaMsgs.forEach(function(n){if(null!=n.mediaData)t.push(o.createElement(p.default,{theme:"viewerFlow",active:n===e.state.activeMsg,msg:n,ref:n===e.state.activeMsg?e.setRefActiveThumb:null,key:`media-${n.id.id}`,onClick:e.onSelectThumb.bind(e,n)}));else{var r=e.props.msg;f.default.errorVerbose(`MediaViewerFlow: attempted to render a msg without mediaData: ${JSON.stringify({type:n.type,isMedia:n.isMedia,startMsgType:r.type,startMsgIsMedia:r.isMedia})}`)()}}),t.push(o.createElement("div",{className:_.default.mediaThumb,key:"spinner-right"},e.mediaMsgs.queryMediaAfter?o.createElement(v.default,{stroke:6,size:24}):null)),t.unshift(o.createElement("div",{className:_.default.mediaThumb,key:"spinner-left"},e.mediaMsgs.queryMediaBefore?o.createElement(v.default,{stroke:6,size:24}):null)),t.push(o.createElement("div",{className:_.default.thumbPadding,key:"padding-right"})),t.unshift(o.createElement("div",{className:_.default.thumbPadding,key:"padding-left"})),t}};S.displayName="MediaViewerFlow",t.default=(0,b.default)((0,l.default)((0,c.hoc)(S)))},ebidfedahj:function(e,t,n){"use strict";e.exports={Action:"keyboard_action",Event:"keyboard_event",Events:{LOGGED_IN:"logged_in",LOGGED_OUT:"logged_out",ARCHIVE:"archived",MUTE:"muted",READ:"read",READ_ONLY:"read_only",CHAT_KIND:"chat_kind",ZOOM:"zoom",LAUNCH:"launch",BATCH_RENDER:"batch_render"}}},ebiehcaghg:function(e,t){e.exports={muted:"MZ83E",app:"_3fUe9","app-enter":"_19rFe",appEnter:"_19rFe",noAnimation:"_1frXk",drawerManager:"_37f_5",paneTwo:"_2rI9W",pane:"_3HZor",paneThree:"_1C9rS",paneOne:"_3kF8H",showroomButton:"fzQrB"}},ebiheagbje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function a(e,t,n){for(var r=e.format,a=[],o=function(e){var t=e,n=[];do{t.mutator&&n.push(t.mutator)}while(t.parent&&(t=t.parent));return n}(n),i=0;i<t.length;++i)(r||t[i][0].compatibility)&&(o.includes(t[i][0])||a.push(t[i]));return a}t.default=function(e,t,o){for(var i={children:[]},u=0,s=i,l=0,c=0;c<t.length;++c){for(var f=t[c],d=r(f,2),p=d[0],h=d[1];s.parent&&p>(l=s.match[2]);){if(u<=l&&s.children.push({type:"text",value:e.substring(u,l+1)}),u=s.match[3]+1,s.mutator.fragment){var m=s.parent.children;m.pop(),m.push.apply(m,s.children)}l!==s.match[3]&&s.parent.children.push({type:"delimiter",value:e.substring(l+1,u)}),s=s.parent}u<p&&s.children.push({type:"text",value:e.substring(u,p)});var b=r(o[f[4]],2),g=b[0],v=b[1],y=g.mutates;u=h,p!==h&&s.children.push({type:"delimiter",value:e.substring(p,h)});var _={children:[],match:f,mutator:g,opts:v,parent:s};if(y){var E=e.substring(f[1],f[2]+1),j=g.mutate(E,f[5]),O=a(g,o,_),S=n("dfgcaedggj")._parse,w=S(j,O);_.children=w.children,u=f[2]+1}s.children.push(_),s=_}do{if(s.match){var P=r(s.match,4),M=P[2],C=P[3];if(u<=M&&s.children.push({type:"text",value:e.substring(u,M+1)}),u=C+1,s.mutator.fragment){var T=s.parent.children;T.pop(),T.push.apply(T,s.children)}M!==C&&s.parent.children.push({type:"delimiter",value:e.substring(M+1,u)})}}while(s.parent&&(s=s.parent)&&s.parent);u!==e.length&&s.children.push({type:"text",value:e.substring(u)});return i}},ebijaadcje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("ceffhbhahb")),i=c(n("eadfaddcj")),u=c(n("bcdgdcghdi")),s=c(n("bfdcadbbif")),l=c(n("cbhhfeaigc"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={hover:!1},r._onMouseEnter=function(){r.setState({hover:!0})},r._onMouseLeave=function(){r.setState({hover:!1})},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=(0,o.default)(l.default.container,{[l.default.compact]:this.props.displayType===i.default.DISP_TYPE.MSG_INFO});return a.createElement("div",{className:e,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},this.state.hover?a.createElement(u.default,null,this.props.tooltip):null,a.createElement("div",{className:l.default.error,onClick:this.props.onClick,role:"button"},a.createElement(s.default,{name:"error"})))}}]),t}();d.displayName="FailIcon",t.default=d},ebjaejiaba:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHAT_KIND=t.KIND=void 0;var r=_e(n("cjjebecgeb")),a=_e(n("ddgaeajhag")),o=_e(n("diibgbjaeh")),i=_e(n("eicihhaba")),u=_e(n("hajciceai")),s=_e(n("bhdddbafig")),l=_e(n("bgejacgfdg")),c=_e(n("bcdejiigcg")),f=_e(n("ddfeabiaci")),d=_e(n("begjbhhee")),p=_e(n("iidhbgeed")),h=_e(n("dbafiicfja")),m=_e(n("bebajedcaf")),b=_e(n("djfhiaaehb")),g=_e(n("ddjgcdciii")),v=_e(n("chihjdheic")),y=_e(n("eaaagccfda")),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},j=ye(n("ddhijeejag")),O=n("ccihhdchab"),S=n("dcaifjegcg"),w=_e(n("bbehjhfdfe")),P=_e(n("bdiiibjcij")),M=_e(n("caedaejadb")),C=_e(n("diajeiidei")),T=_e(n("dbfjecijha")),A=_e(n("chbjajaddg")),N=_e(n("bjebjijbfc")),k=_e(n("gbfffciea")),I=_e(n("eadfaddcj")),R=_e(n("bjigbaghc")),L=_e(n("beecadabde")),D=_e(n("ccbihadedf")),x=n("ddjgcfjicj"),U=_e(n("cijheiibhg")),G=ye(n("cajijabhgb")),F=_e(n("ccaaiecfib")),B=_e(n("ecjehifjdd")),$=_e(n("bdiiahhjbe")),V=_e(n("edjgaiicj")),H=n("ddgbhifaji"),W=_e(n("bfbggcdbfb")),Y=_e(n("cbcbdjdah")),K=_e(n("biecbbiiee")),q=n("eahbfdfee"),z=_e(n("ccgjijjbbj")),Q=n("ccbagdhfbb"),J=_e(n("dagdiahdfi")),Z=n("bcjidabgad"),X=_e(n("cahfddcdga")),ee=n("icbibjcg"),te=_e(n("dhefcajhhb")),ne=ye(n("ebggjhghhi")),re=_e(n("cfejjfjhca")),ae=n("cgddafdgie"),oe=n("dcbafbaejf"),ie=n("eabhibhged"),ue=n("djfhiceeje"),se=_e(ue),le=_e(n("bhggeigghg")),ce=_e(n("ccehadbeci")),fe=_e(n("bgabgddgch")),de=n("bhjegffigh"),pe=n("dcjbdhhjge"),he=_e(n("egjjcjcg")),me=_e(n("cgfjebhhej")),be=_e(n("bihdhbjih")),ge=_e(n("jccfhaecf")),ve=_e(n("eaaehfdjdg"));function ye(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _e(e){return e&&e.__esModule?e:{default:e}}function Ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var je=t.KIND={GROUP:"group",BROADCAST:"broadcast",CHAT:"chat"};t.CHAT_KIND=je;var Oe=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=Ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,S.prop)(),r.t=(0,S.prop)(),r.unreadCount=(0,S.prop)(0),r.archive=(0,S.prop)(),r.isReadOnly=(0,S.prop)(),r.isAnnounceGrpRestrict=(0,S.prop)(),r.modifyTag=(0,S.prop)(),r.muteExpiration=(0,S.prop)(0),r.name=(0,S.prop)(),r.notSpam=(0,S.prop)(),r.pin=(0,S.prop)(),r.changeNumberOldJid=(0,S.prop)(),r.changeNumberNewJid=(0,S.prop)(),r.lastReceivedKey=(0,S.prop)(),r.createdLocally=(0,S.session)(),r.pendingAction=(0,S.session)(),r.formattedTitle=(0,S.session)(),r.active=(0,S.session)(),r.pausedTimerId=(0,S.session)(),r.presenceResendTimerId=(0,S.session)(),r.recording=(0,S.session)(),r.typing=(0,S.session)(),r.colors=(0,S.session)(),r.composeContents=(0,S.session)(function(){return{}}),r.composeAttachMediaContents=(0,S.session)(),r.squelch=(0,S.session)(),r.pendingSeenCount=(0,S.session)(0),r.unreadMsgAnchor=(0,S.session)(),r.markedUnread=(0,S.session)(),r.trusted=(0,S.session)(),r.canSend=(0,S.session)(),r.promises=(0,S.session)(function(){return{}}),r.ftsCache=(0,S.session)(function(){return{}}),r.composeQuotedMsg=(0,S.session)(),r.composeQuotedMsgRemoteJid=(0,S.session)(),r.quotedMsgAdminGroupJid=(0,S.session)(),r.groupMetadata=(0,S.session)(),r.presence=(0,S.session)(),r.mute=(0,S.session)(),r.contact=(0,S.session)(),r.liveLocation=(0,S.session)(),r.liveLocationQueried=(0,S.session)(!1),r.ackedProps=(0,S.session)(function(){return{}}),r.mediaCount=(0,S.session)(0),r.linkCount=(0,S.session)(0),r.docCount=(0,S.session)(0),r.vcardDismissed=(0,S.session)(!1),r.kind=(0,S.derived)(r._kind),r.isUser=(0,S.derived)(r._isUser),r.isPSA=(0,S.derived)(r._isPSA),r.isGroup=(0,S.derived)(r._isGroup),r.isBroadcast=(0,S.derived)(r._isBroadcast),r.hasUnread=(0,S.derived)(r._hasUnread,["unreadCount"]),r.shouldShowUnreadDivider=(0,S.derived)(r._shouldShowUnreadDivider,["unreadCount","unreadMsgAnchor"]),r.isVisible=(0,S.derived)(r._isVisible,["createdLocally","msgs","msgsLength"]),r.previewMessage=(0,S.derived)(r._previewMessage,["msgs","msgsChanged"]),r.showChangeNumberNotification=(0,S.derived)(r._showChangeNumberNotification,["changeNumberOldJid","changeNumberNewJid","id","isUser"]),Ee(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,ce.default),_(t,[{key:"initialize",value:function(){var e=this;E(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this._addQueue=new B.default,this._sendQueue=new B.default,this._promises=null,this.msgs.msgLoadState.contextLoaded=!0,this.isVisible||($.default.logVerbose(`Setting noEarlierMsgs on chat ${String(this.id)} to true because !chat.isVisible\n${(new Error).stack}`)(),this.msgs.msgLoadState.noEarlierMsgs=!0),this.addChild("presence",le.default.Presence.gadd(this.id));var n=J.default.get(this.id);if(n?this.addChild("mute",n):this.addChild("mute",J.default.gadd({id:this.id,expiration:this.muteExpiration})),this.listenTo(this.mute,"change:expiration",this.updateMuteExpiration),this.addChild("contact",le.default.Contact.gadd(this.id)),this.name&&!this.contact.name){var r={name:this.name};(0,pe.updateLocal)(this.contact.id,r).then(function(){e.contact.set(r)})}if(this.listenTo(this.contact,"change:name",this.updateTitle),this.listenTo(this.contact,"change:isContactBlocked",this.updateCanSend),this.isGroup&&(this.trusted=!0),this.isGroup||this.isBroadcast){var a=void 0;this.isBroadcast&&!le.default.GroupMetadata.get(this.id)&&(a=!0),this.addChild("groupMetadata",le.default.GroupMetadata.gadd(this.id)),this.listenTo(this.groupMetadata,"change:stale change:announce",this.updateIsAnnounceGrpRestrict),this.listenTo(this.groupMetadata.participants,"change:isAdmin add remove",this.updateIsAnnounceGrpRestrict),this.listenTo(this.groupMetadata,"change:trusted change:stale",this.isTrusted),this.listenTo(this.groupMetadata,"change:participants change:stale",this.updateReadOnly),this.listenTo(this.groupMetadata.participants,"change:contact.formattedShortName",this.updateTitle),this.updateReadOnly(),this.updateIsAnnounceGrpRestrict();var o=this.id;this.listenTo(this,"change:isReadOnly",function(){this.isTrusted(),this.updateCanSend(),te.default.update(o).catch(x.WapDrop,function(){}),le.default.GroupMetadata.update(o).catch(x.WapDrop,function(){})}),this.listenTo(this,"change:isAnnounceGrpRestrict",this.updateCanSend),a&&le.default.GroupMetadata.update(o).catch(x.WapDrop,function(){})}else this.listenTo(this.presence,"change:isOnline",function(){return(0,ee.presenceOnlineChanged)(e)}),this.listenTo(this.contact,"change:isMyContact",this.isTrusted);var i=this.getCollection();i.notSpam[this.id]&&!this.notSpam&&(0,oe.sendNotSpam)(this).catch(function(){}),i.notSpam[this.id]=!!this.notSpam,this.notSpam||this.listenTo(this,"change:notSpam",this.onNotSpamChange),this.updateTitle(),this.isTrusted(),this.updateCanSend(),this.listenTo(this.msgs,"add",this.onNewMsg),this.listenTo(this.msgs,"update_sort_time",this.updateSortTime),this.listenTo(this.msgs,"bulk_add",this.addMediaMsgs),this.listenTo(this,"change:msgs",this.resetMediaMsgs),this._saveAssignedColors=(0,y.default)(this.saveAssignedColors,1e3),this.listenTo(this,"change:active",this.onActiveUpdate),this.pendingAction=0,this.listenTo(this,"change:t change:modifyTag",this._clearFtsCache)}},{key:"_kind",value:function(){return ge.default.isGroup(this.id)?je.GROUP:ge.default.isBroadcast(this.id)?je.BROADCAST:ge.default.isUser(this.id)?je.CHAT:void $.default.log(`chat:unknown kind id:${this.id.toString()}`)()}},{key:"_isUser",value:function(){return ge.default.isUser(this.id)}},{key:"_isPSA",value:function(){return ge.default.isPSA(this.id)}},{key:"_isGroup",value:function(){return ge.default.isGroup(this.id)}},{key:"_isBroadcast",value:function(){return ge.default.isBroadcast(this.id)}},{key:"_hasUnread",value:function(){return 0!==this.unreadCount}},{key:"_shouldShowUnreadDivider",value:function(){if(0===this.unreadCount)return!1;if(this.unreadMsgAnchor){var e=this.unreadMsgAnchor.msgChunk.getModelsArray();return this.unreadMsgAnchor!==(0,v.default)(e,{isUnreadType:!0})}return!this.msgs.msgLoadState.noEarlierMsgs||this.msgs.filter(function(e){return e.isUnreadType}).length!==this.unreadCount}},{key:"_isVisible",value:function(){if(this._isVisibleLatched)return!0;if(ge.default.isStatusV3(this.id))return!1;var e=this.msgs.length>0&&this.msgs.some(function(e){var t=e.from===R.default.me&&e.type===I.default.MSG_TYPE.GROUPS_V4_INVITE,n=e.type===I.default.MSG_TYPE.E2E_NOTIFICATION;return!t&&!n});return this._isVisibleLatched=!this.createdLocally||e,this._isVisibleLatched}},{key:"_previewMessage",value:function(){for(var e=this.msgs.length-1;e>=0;e--){var t=this.msgs.at(e);if(t&&t.type!==I.default.MSG_TYPE.E2E_NOTIFICATION)return t}return this.msgs.last()}},{key:"_showChangeNumberNotification",value:function(){if(!F.default.supportsFeature(F.default.F.CHANGE_NUMBER_V_2))return!1;var e=this.changeNumberOldJid,t=this.changeNumberNewJid,n=this.id;if(!this.isUser)return!1;if(!e&&!t)return!1;var r=t||n,a=le.default.Contact.get(r);return!a||!a.isMyContact}},{key:"set",value:function(e,n,r){return"string"==typeof e?"muteExpiration"===e&&this.mute&&this.mute.setMute(n):e.hasOwnProperty("muteExpiration")&&this.mute&&this.mute.setMute(e.muteExpiration),E(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"set",this).call(this,e,n,r)}},{key:"addPendingAction",value:function(e){var t=this;if(e.isPending()){var n=function(){t.decPending()};e.then(n,n),this.pendingAction++}}},{key:"decPending",value:function(){this.pendingAction>0?this.pendingAction--:($.default.log("chat:onPendingActionUpdate pendingAction value is invalid")(),this.pendingAction=0)}},{key:"onActiveUpdate",value:function(){this.isGroup&&this.active&&(this.squelch=-1),this.presence.chatActive=this.active}},{key:"onPendingActionUpdate",value:function(){this.pendingAction<0&&($.default.log("chat:onPendingActionUpdate pendingAction value is invalid")(),this.pendingAction=0)}},{key:"onNotSpamChange",value:function(){this.getCollection().notSpam[this.id]=this.notSpam,this.isTrusted(),this.notSpam&&this.stopListening(this,"change:notSpam")}},{key:"hasMaybeSentMsgToChat",value:function(){return(0,g.default)(this.getAllMsgs(),function(e){return e.isSentByMe})}},{key:"isTrusted",value:function(){var e=!1;return this.isGroup?e=this.isReadOnly||this.notSpam||this.groupMetadata.isTrusted():this.isBroadcast?e=!0:this.isUser&&(e=this.notSpam||this.contact.isMyContact),!e&&this.hasMaybeSentMsgToChat()&&(e=!0),this.trusted=e}},{key:"updateMuteExpiration",value:function(){var e=this,t=Number(this.mute.expiration);(0,de.updateLocal)(this.id,{muteExpiration:t}).then(function(){return e.muteExpiration=t})}},{key:"updateTitle",value:function(){this.isBroadcast?this.formattedTitle=this.contact.name||this.groupMetadata.participants.map(function(e){return e.contact.formattedShortName}).join(", "):this.isUser?this.formattedTitle=this.contact.getFormattedUser()||"":this.isGroup&&(this.formattedTitle=this.contact.name)}},{key:"title",value:function(){return this.isGroup?this.formattedTitle||l10n.t(1029):this.formattedTitle}},{key:"updateCanSend",value:function(){return this.isReadOnly||this.isAnnounceGrpRestrict?this.canSend=!1:this.isUser?this.canSend=!(this.contact.isContactBlocked||this.isPSA):this.canSend=!0}},{key:"delete",value:function(){E(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.getCollection().remove(this.id),this.cancelPendingPromises(),this.presence.delete(),this.liveLocation&&this.liveLocation.delete(),k.default.clearChat(this),this.groupMetadata&&this.groupMetadata.delete(),this.mediaMsgs&&this.mediaMsgs.delete(),this.linkMsgs&&this.linkMsgs.delete(),this.docMsgs&&this.docMsgs.delete();var e=this.starredMsgs;e&&(e.delete(),e.stopListening(),e.reset()),this.receivedVCardMsgs&&this.receivedVCardMsgs.delete(),he.default.deleteComposeContents(this.id)}},{key:"isDirty",value:function(){return 0!==this.unreadCount}},{key:"resetMediaMsgs",value:function(){var e=this.mediaMsgs,t=this.linkMsgs,n=this.docMsgs;e&&(e.delete(),e.queryMedia(this)),t&&(t.delete(),t.queryLinks(this)),n&&(n.delete(),n.queryDocs(this))}},{key:"addMediaMsgs",value:function(e,t){if(e){var n=Array.isArray(e)?e:[e],r=[],a=[],o=[];n.forEach(function(e){e.isMedia&&r.push(e),e.isDoc&&o.push(e),e.linkPreview&&a.push(e)}),this.mediaMsgs&&r.length&&this.mediaMsgs.add(r,t),this.linkMsgs&&a.length&&this.linkMsgs.add(a,t),this.docMsgs&&o.length&&this.docMsgs.add(o,t)}}},{key:"onNewMsg",value:function(e){var t=this;if(e){var n=Promise.resolve();e.isSentByMe&&!this.notSpam&&(n=(0,de.updateLocal)(this.id,{notSpam:!0}).then(function(){return t.notSpam=!0})),"i"!==e.eventType&&n.then(function(){var n={};return n.t=e.t,t.promises.updateSortTime&&t.promises.updateSortTime.cancel(),t.updateMediasCountOnMsg(e),t.archive&&(n.archive=!1),t.promises.setArchive&&t.promises.setArchive.cancel(),e.isSentByMe?t.markedUnread=!1:((0,w.default)({id:t.id,participant:e.author,type:"paused"}),"a"!==e.eventType&&"d"!==e.eventType||(n.unreadCount=t.unreadCount+1||1)),(0,de.updateLocal)(t.id,n).then(function(){return n})}).then(function(n){e.isSentByMeFromWeb&&e.promises.sendPromise?t.setAndKeepPrevious(n,e.promises.sendPromise):t.set(n);var r=D.default.get(t.id);if(r&&(r.timestamp=N.default.globalUnixTime()),"gp2"!==e.type||"add"!==e.subtype&&"create"!==e.subtype||le.default.GroupMetadata.trigger(`group_participant_change_${R.default.me.toString()}`,t.id),!e.isSentByMe){switch(e.eventType){case"d":case"a":"d"===e.eventType&&k.default.alertNewMsg(e),t.msgs.length<I.default.MSG_PRELOAD_THRESHOLD&&t.loadEarlierMsgs(void 0,W.default.WEBC_QUERY_TRIGGER_TYPE.NEW_MESSAGE_PREFETCH).catch(x.E404,function(){}).catch(function(e){$.default.log("chat:onNewMsg failed")(),$.default.log(e)()});break;case"s":if("gp2"===e.type&&"add"===e.subtype&&R.default.me.equals((0,b.default)(e.recipients))&&!t.contact.name)return;k.default.alertNewMsg(e),le.default.GroupMetadata.trigger(`group_participant_change_${R.default.me.toString()}`,t.id)}var a=e.mediaData;!a||"image"!==a.type&&"video"!==a.type||k.default.newMediaMsg(e)}})}}},{key:"canPin",value:function(){if(this.archive)return!1;var e=this.promises&&this.promises.setArchive;return(!e||!e.archive)&&F.default.supportsFeature(F.default.F.PIN)}},{key:"canArchive",value:function(){return!this.isBroadcast||F.default.supportsFeature(F.default.F.ARCHIVE_BROADCAST)}},{key:"sendDismissChangeNumber",value:function(){var e=this;if(this.promises.sendDismissChangeNumber)return this.promises.sendDismissChangeNumber;var t=be.default.sendConversationDismissChangeNumber(this.id);this.promises.sendDismissChangeNumber=t;var n=new O.ActionType(l10n.t(23)),r=t.then(function(e){return 200===e.status?new O.ActionType(l10n.t(22)):e.status>=400?new O.ActionType(l10n.t(21)):void 0}).catch(function(t){return $.default.error("models:chat:sendDismissChangeNumber dropped")(t),new O.ActionType(l10n.t(21),l10n.t(152),e.sendDismissChangeNumber.bind(e))});return k.default.openToast(j.createElement(O.ActionToast,{id:(0,O.genId)(),initialAction:n,pendingAction:r})),t.then(function(t){if(200===t.status&&!t._duplicate)return(0,de.updateLocal)(e.id,{changeNumberNewJid:void 0,changeNumberOldJid:void 0}).then(function(){e.changeNumberOldJid=e.changeNumberNewJid=void 0})}).finally(function(){e.promises.sendDismissChangeNumber=null})}},{key:"setComposeContents",value:function(e){this.composeContents=e}},{key:"getSessionPersistedComposeContents",value:function(){return he.default.getComposeContents(this.id)}},{key:"getComposeContents",value:function(){return(0,m.default)(this.composeContents)?this.getSessionPersistedComposeContents()||{}:this.composeContents}},{key:"setComposeAttachMediaContents",value:function(e){this.composeAttachMediaContents=e}},{key:"preload",value:function(){1===this.msgs.length&&this.loadEarlierMsgs().catch(x.E404,function(){}).catch(function(e){$.default.log("chat:preload failed")(),$.default.log(e)()})}},{key:"onEmptyMRM",value:function(){$.default.log("models:Chat:removeMsg 0 messages left, querying...")(),this.loadEarlierMsgs().catch(x.E404,function(){}).catch(function(e){$.default.log("chat:onEmptyMRM failed")(),$.default.log(e)()})}},{key:"loadEarlierMsgs",value:function(e,t){var n=this,r=e,a=null!=t?t:W.default.WEBC_QUERY_TRIGGER_TYPE.USER_SCROLL;return r||(r=this.msgs),r.msgLoadState.noEarlierMsgs?Promise.resolve():r.msgLoadState.isLoadingEarlierMsgs?r.loadEarlierPromise:this._loadMsgs("before",r,a).then(function(e){return r&&Array.isArray(e)&&e.length<I.default.PAGE_SIZE&&(r.msgLoadState.noEarlierMsgs=!0),r&&n.isMostRecentCMC(r)&&n.trigger("msgs:loadEarlier"),e})}},{key:"isMostRecentCMC",value:function(e){return this.msgs===e}},{key:"loadRecentMsgs",value:function(e){var t=e;return t||(t=this.msgs),this.isMostRecentCMC(t)?Promise.resolve():t.msgLoadState.isLoadingRecentMsgs?t.loadRecentPromise:this._loadMsgs("after",t,W.default.WEBC_QUERY_TRIGGER_TYPE.USER_SCROLL)}},{key:"_loadMsgs",value:function(e,t,n){var r=void 0,a={};(r="after"===e?t.last():t.head())?a=r.id.clone():a.remote=this.id,a.count=I.default.PAGE_SIZE,a.direction=e;var o=(0,q.newMessageQueryEvent)(n);return this._loadMsgsPromiseLoop(r,t,K.default.findQuery.bind(K.default,a,{logOnSend:function(e){o.webcResponseBytes+=e.binarySize}}),e,o)}},{key:"_updateMsgLoadState",value:function(e,t,n){var r=e&&e.msgChunk&&e.msgChunk!==t;t.msgLoadState.contextLoaded=!0,e&&r&&(e.msgChunk.msgLoadState.contextLoaded=!0),"after"===n?t.msgLoadState.isLoadingRecentMsgs=!1:"before"===n?t.msgLoadState.isLoadingEarlierMsgs=!1:"around"===n&&(t.msgLoadState.isLoadingAroundMsgs=!1)}},{key:"_loadMsgsPromiseLoop",value:function(e,t,n,r,a){var o=this,i=performance.now();"after"===r?(t.msgLoadState.isLoadingRecentMsgs=!0,a.webcMessageQueryType=W.default.WEBC_MESSAGE_QUERY_DIRECTION.LOAD_NEXT):"before"===r?(t.msgLoadState.isLoadingEarlierMsgs=!0,a.webcMessageQueryType=W.default.WEBC_MESSAGE_QUERY_DIRECTION.LOAD_PREV):"around"===r&&(t.msgLoadState.isLoadingAroundMsgs=!0,a.webcMessageQueryType=W.default.WEBC_MESSAGE_QUERY_DIRECTION.LOAD_AROUND),a.webcBrowserNetworkType=(0,Z.getEffectiveNetworkType)(),a.webcChatType=this.getWebcChatType(),"number"==typeof this.initialIndex&&(a.webcChatPosition=this.initialIndex);var u=Promise.loop(function(u,s,l){var c=Promise.delay(fe.default.expBackoff(l,12e4,1e3,.1));return("CONNECTED"===ve.default.stream?Promise.resolve():ne.waitForBBEvent(ve.default,"change:stream",function(){return"CONNECTED"===ve.default.stream})).then(function(){return o.regCancellablePromise(n()).then(function(n){a.webcQueryT=Math.ceil(performance.now()-i);var s=void 0;Array.isArray(n[0])?(s=n[0][0],n.forEach(function(e){return(0,q.logMessageCounts)(a,e)})):(s=n[0],(0,q.logMessageCounts)(a,n)),s&&(a.webcEarliestMessageT=s.t,s.msgChunk===o.msgs&&(a.webcEarliestMessageIndex=o.msgs.length-1)),(0,U.default)().then(function(e){e&&(a.webcBrowserStorageQuotaBytes=e.quota,a.webcBrowserStorageQuotaUsedBytes=e.usage)}).finally(function(){return a.commit()}),o._updateMsgLoadState(e,t,r),u(n)})}).catch(function(e){return!(e instanceof Promise.CancellationError)},function(n){return l>3||404===n?(o._updateMsgLoadState(e,t,r),$.default.error("chat:loadMsgs:error "+String(n))(),404===n?Promise.reject(new x.E404):Promise.reject(new G.GaveUpRetry(`Gave up msg fetch after ${l} tries`))):c})},0);return"after"===r?t.loadRecentPromise=u:"before"===r?t.loadEarlierPromise=u:"around"===r&&(t.loadAroundPromise=u),u}},{key:"getSearchContext",value:function(e,t){var n=this,r=void 0,a=void 0;e instanceof Y.default?r=e:e instanceof z.default&&(a=e);var o=r?r.msgChunk:void 0,i=Math.trunc(I.default.PAGE_SIZE/3*2);if(!o||!o.msgLoadState.contextLoaded){o||(o=new T.default,this.msgChunks.push(o),r&&o.add(r));var u=r?r.id.clone():a.clone();u.count=i;var s=function(){if(r)return r.msgChunk;var e=K.default.get(a);return e&&e.msgChunk?e.msgChunk:o},l=(0,q.newMessageQueryEvent)(W.default.WEBC_QUERY_TRIGGER_TYPE.SEARCH_RESULT_CLICK);this._loadMsgsPromiseLoop(r,o,K.default.getContext.bind(K.default,u,s,function(e){l.webcResponseBytes+=e.binarySize}),"around",l).then(function(e){var t=s();t&&o&&t!==o&&n.notifyMsgCollectionMerge(t,o,t);var u=e[0],l=a?K.default.get(a):r;l&&Array.isArray(u)&&u.length<i&&(l.msgChunk.msgLoadState.noEarlierMsgs=!0,o&&l.msgChunk!==o&&(o.msgLoadState.noEarlierMsgs=!0))}).catch(function(){t&&(t.isQuotedMsgAvailable=!1)})}return{collection:o,msg:r,key:a,highlightMsg:!0}}},{key:"sendStarMsgs",value:function(e,t){var n=this;return this.promises.sendStarMsgs?this.promises.sendStarMsgs:this.promises.sendStarMsgs=(0,ie.sendStarMsgs)(this.id,e,t).then(function(){e.forEach(function(e){e.set("star",t)}),t?(0,ue.addStarredMsgs)(e):(0,ue.removeStarredMsgs)(e)}).finally(function(){n.promises.sendStarMsgs=null})}},{key:"sendRevokeMsgs",value:function(e,t){var n=this;return this.promises.sendRevokeMsgs?this.promises.sendRevokeMsgs:this.promises.sendRevokeMsgs=Promise.all(e.map(function(e){return e.sendRevoke(t)})).finally(function(){n.promises.sendRevokeMsgs=null})}},{key:"sendDeleteMsgs",value:function(e,t){var n=this;return this.promises.sendDeleteMsgs?this.promises.sendDeleteMsgs:this.promises.sendDeleteMsgs=be.default.sendMessageDelete(this.id,(0,h.default)(e,function(e){return e.id}),t).then(function(t){var n=[];return 200===t.status?(e.forEach(function(e){e.delete()}),e.length):(t.status>=400&&(n=(0,p.default)(e,function(e){return-1===e.ack&&(e.delete(),!0)})),n.length)}).finally(function(){n.promises.sendDeleteMsgs=null})}},{key:"deleteMsgs",value:function(e,t){this.deleteMsgsBeforeMsgInclusive(void 0,!e,t)}},{key:"deleteMsgsOlderThan",value:function(e,t,n){var r=this.msgs,a=r.head();if(a&&!(a.t>=e))if((a=r.last())&&a.t<e)this.deleteMsgs(t,n);else{this.deleteMsgsPartial(function(r,a,o){return r&&(n&&!(0,Q.msgMatchesType)(r,n)||r.star&&!t||r.t>=e||r.isPersistent)})}}},{key:"deleteMsgsBeforeMsgInclusive",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2],r=void 0;if(e){if(!this.msgs.get(e.id))return;r=this.msgs.indexOf(e)}else r=this.msgs.length;this.deleteMsgsPartial(function(e,a,o){return n&&!(0,Q.msgMatchesType)(e,n)||e.msgChunk===this.msgs&&a>r||t&&e.star||e.isPersistent&&t},!0)}},{key:"deleteMsgsPartial",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.unreadCount;if(this.getAllCMCs().forEach(function(r){var a=r.filter(function(n,r,a){return!e.apply(t,[n,r,a])});r.remove(a,void 0,n),a.forEach(function(e){e.delete()})}),(0,d.default)(this.msgChunks).forEach(function(e){0===e.length&&t.removeMsgsCollection(e)}),this.msgs.length>0){var a=r>this.msgs.length?this.msgs.length:r;(0,de.updateLocal)(this.id,{unreadCount:a}).then(function(){t.unreadCount=a,t.msgs.msgLoadState.noEarlierMsgs=!0})}}},{key:"getFirstMsgWithStatus",value:function(){return(0,v.default)(this.msgs.getModelsArray(),function(e){return!e.isNotification&&(e.isSentByMe||e.type===I.default.MSG_TYPE.PTT)})}},{key:"getLastReceivedMsg",value:function(){for(var e=this.msgs.length-1;e>=0;e--){var t=this.msgs.at(e);if(t&&(!t.local||t.ack>0))return t}}},{key:"getLastMsgKeyForAction",value:function(){var e=this.msgs.last(),t=void 0;if(e&&(t=!this.lastReceivedKey||e.id.fromMe&&e.local&&0===e.ack?e.id:this.lastReceivedKey),t){var n=this.msgs.get(t);if(!n||n.type!==I.default.MSG_TYPE.E2E_NOTIFICATION)return t}}},{key:"getLastTimestampMsg",value:function(){for(var e=this.msgs.length-1;e>=0;e--){var t=this.msgs.at(e);if(t&&"i"!==t.eventTypeFromMsgType())return t}}},{key:"getWebcChatType",value:function(){switch(this.kind){case je.CHAT:return W.default.WEBC_CHAT_TYPE.INDIVIDUAL;case je.GROUP:return W.default.WEBC_CHAT_TYPE.GROUP;case je.BROADCAST:return W.default.WEBC_CHAT_TYPE.BROADCAST_LIST;default:throw new TypeError(`Invalid Chat.kind ${String(this.kind)}`)}}},{key:"sendContact",value:function(e,t){var n=t&&t.msgContextInfo(this.id),r=(0,f.default)({ack:0,body:me.default.fromContactModel(e).vcard,from:R.default.me,id:new z.default({from:R.default.me,to:this.id,id:(0,re.default)(),participant:void 0,selfDir:"out"}),local:!0,self:"out",subtype:e.formattedName,t:N.default.globalUnixTime(),to:this.id,type:"vcard",isNewMsg:!0},n||{});(0,ae.addAndSendMsgToChat)(this,r)}},{key:"sendGroupInviteMessage",value:function(e,t,n,r,a,o){var i=(0,f.default)({ack:0,from:R.default.me,id:new z.default({from:R.default.me,to:this.id,id:(0,re.default)(),participant:void 0,selfDir:"out"}),local:!0,self:"out",t:N.default.globalUnixTime(),to:this.id,type:"groups_v4_invite",isNewMsg:!0,inviteGrpJpegThum:o,inviteCode:n,inviteCodeExp:r,inviteGrp:e,inviteGrpName:t,comment:a},{});return(0,ae.addAndSendMsgToChat)(this,i)[1]}},{key:"sendContactList",value:function(e,t){var n=e.map(me.default.fromContactModel,me.default),r=t&&t.msgContextInfo(this.id),a=(0,f.default)({ack:0,from:R.default.me,id:new z.default({from:R.default.me,to:this.id,id:(0,re.default)(),participant:void 0,selfDir:"out"}),local:!0,self:"out",t:N.default.globalUnixTime(),to:this.id,type:"multi_vcard",vcardList:n,isNewMsg:!0},r||{});(0,ae.addAndSendMsgToChat)(this,a)}},{key:"forwardMessages",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.id,a=this.contact;if(a.isUser&&a.isBlocked())return Promise.reject(new L.default("Forwarded to contact is blocked",a));var o=[];return Promise.each(e,function(e){if(e.isMMS)return(0,H.forwardMediaMsg)(e,t,n);var a=e.quotedMsg&&e.quotedMsg.type===I.default.MSG_TYPE.PRODUCT?e.toJSON():(0,c.default)(e.toJSON(),["quotedMsg","quotedParticipant","quotedRemoteJid","quotedStanzaID","footer","buttons","caption","broadcast"]),o=new z.default({from:R.default.me,to:r,id:(0,re.default)(),participant:void 0,selfDir:"out"});Object.assign(a,{id:o,from:R.default.me,t:N.default.globalUnixTime(),to:r,ack:0,participant:void 0,local:!0,self:"out",isNewMsg:!0,star:!1,isForwarded:e.isForwarded||!e.isSentByMe,forwardingScore:e.getForwardingScoreWhenForwarded(),multicast:n}),(0,ae.addAndSendMsgToChat)(t,a)}).then(function(){return o})}},{key:"updateReadOnly",value:function(){var e=this,t=Promise.resolve();if(this.isGroup&&!this.groupMetadata.stale){var n;n=!this.groupMetadata.participants.get(R.default.me),t=(0,de.updateLocal)(this.id,{isReadOnly:n}).then(function(){return e.isReadOnly=n})}t.then(function(){e.isBroadcast&&e.updateTitle()})}},{key:"updateIsAnnounceGrpRestrict",value:function(){var e=this;if(this.isGroup&&!this.groupMetadata.stale){var t=this.groupMetadata.participants.get(R.default.me),n=t&&!t.isAdmin&&this.groupMetadata.announce;(0,de.updateLocal)(this.id,{isAnnounceGrpRestrict:n}).then(function(){return e.isAnnounceGrpRestrict=n})}}},{key:"sortMsgs",value:function(e){var t=e.map(function(e){var t=e.msgChunk;return{msg:e,chunkT:(0,X.default)(t.at(0)).t,index:t.indexOf(e)}});return(0,l.default)(t,["chunkT","index"]).map(function(e){return e.msg})}},{key:"_updateAssignedColor",value:function(){if(this.colors){var e=this.groupMetadata.participants,t=this.colors,n=(0,s.default)((0,u.default)(t),e.map(function(e){return e.id.toString()}).map(V.default));n.forEach(function(e){delete t[e]}),n.length&&this._saveAssignedColors()}}},{key:"loadAssignedColors",value:function(){return this.groupMetadata&&this.listenTo(this.groupMetadata.participants,"remove reset",this._updateAssignedColor),he.default.getGroupParticipantAssignedColor(this.id)||{}}},{key:"saveAssignedColors",value:function(){var e=this.colors;e&&he.default.setGroupParticipantAssignedColor(this.id,e)}},{key:"assignedColor",value:function(e){var t=this.colors||(this.colors=this.loadAssignedColors()),n=void 0,r=(0,V.default)(e.toString());if(n=t[r])return n;var a={};(0,i.default)(t,function(e,t){a[e]?a[e].push(t):a[e]=[t]});for(var o=Number.POSITIVE_INFINITY,u=1;u<I.default.NUM_COLORS;u++){if(!a[u]){n=u;break}a[u].length<o&&(o=a[u].length,n=u)}return t[r]=n,this._saveAssignedColors(),n}},{key:"unstarAll",value:function(){var e=this.getAllMsgs();e.forEach(function(e){e&&(e.star=!1)}),(0,ue.removeStarredMsgs)(e)}},{key:"constructMediaMsgs",value:function(e){if(!e)return this.getMediaMsgs();var t=void 0;return this.getMediaMsgs().contains(e)||e.msgChunk===this.msgs?(t=this.getMediaMsgs()).hasMediaAfter=!1:t=new C.default,t.contains(e)||(e.msgChunk?t.add(e.msgChunk.filter(function(e){return e.isMedia})):t.add(e)),t}},{key:"fts",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments[2];if(1===n){var a=this.ftsCache[e];if(a)return a;var i=K.default.search(e,n,r,this.id);this.ftsCache[e]=i;var u=function(){t.ftsCache[e]=null};return(0,o.default)(u,3e5),i.catch(u),i}return K.default.search(e,n,r,this.id)}},{key:"_clearFtsCache",value:function(){this.ftsCache={}}},{key:"updateSortTime",value:function(){var e=this;this.promises.updateSortTime||(this.promises.updateSortTime=this.regCancellablePromise(Promise.delay(0)).then(function(){var t=e.getLastTimestampMsg();return t?(e.t=t.t,Promise.resolve()):e.msgs.msgLoadState.noEarlierMsgs?Promise.resolve():e.pendingMsgs?Promise.resolve():e.loadEarlierMsgs()}).then(function(t){if(t){var n=e.getLastTimestampMsg();e.t=n?n.t:void 0}}).catch(function(){}).finally(function(){e.promises.updateSortTime=void 0}))}},{key:"removeFromCollection",value:function(e){e.star&&(0,ue.removeStarredMsgs)([e]),e.isMedia&&this.mediaMsgs?this.mediaMsgs.remove(e):e.getLinks().length&&this.linkMsgs?this.linkMsgs.remove(e):e.isDoc&&this.docMsgs&&this.docMsgs.remove(e),this.updateMediasCountOnMsg(e,!0)}},{key:"getMediaMsgs",value:function(){return this.mediaMsgs||(this.mediaMsgs=new C.default),this.mediaMsgs}},{key:"getLinkMsgs",value:function(){return this.linkMsgs||(this.linkMsgs=new M.default),this.linkMsgs}},{key:"getDocMsgs",value:function(){return this.docMsgs||(this.docMsgs=new P.default),this.docMsgs}},{key:"getReceivedVCardMsgs",value:function(){return this.contact.isMyContact||!this.contact.isUser?null:(this.receivedVCardMsgs||(this.receivedVCardMsgs=new A.default,this.receivedVCardMsgs.parent=this),this.receivedVCardMsgs)}},{key:"dismissVCard",value:function(){this.vcardDismissed=!0}},{key:"updateMediasCountOnMsg",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(F.default.supportsFeature(F.default.F.MEDIAS_COUNT)){var n=t?-1:1;e.isMedia&&(this.mediaCount+=n);var r=e.getLinks().length;if(r){var a=n*r;this.linkCount+=a}e.isDoc&&(this.docCount+=n)}}},{key:"resetMediasCount",value:function(e){F.default.supportsFeature(F.default.F.MEDIAS_COUNT)&&(null!=e.mediaCount&&(this.mediaCount=e.mediaCount),null!=e.linkCount&&(this.linkCount=e.linkCount),null!=e.docCount&&(this.docCount=e.docCount))}},{key:"getStarredMsgs",value:function(){var e=this,t=this.starredMsgs;return t||(this.starredMsgs=t=new ue.StarredMsgCollection,this.starredMsgs.add(se.default.filter(function(t){return t.chat===e}))),t}},{key:"setAndKeepPrevious",value:function(e,t){var n=this,r=Object.keys(e);r.forEach(function(e){e in n.ackedProps||(n.ackedProps[e]=n[e])}),t.finally(function(){r.forEach(function(e){delete n.ackedProps[e]})}),this.set(e)}},{key:"getAckedPhoneProps",value:function(){return{wid:this.id,mute:this.mute.expiration,active:this.active,isReadOnly:this.isReadOnly,modifyTag:this.modifyTag,unreadCount:this.unreadCount,changeNumberOldJid:this.changeNumberOldJid,changeNumberNewJid:this.changeNumberNewJid,archive:"archive"in this.ackedProps?this.ackedProps.archive:this.archive,notSpam:"notSpam"in this.ackedProps?this.ackedProps.notSpam:this.notSpam,pin:"pin"in this.ackedProps?this.ackedProps.pin:this.pin}}},{key:"regCancellablePromise",value:function(e){var t=this;return this._promises||(this._promises=[]),this._promises.push(e),e.cancellable().finally(function(){t._promises=(0,a.default)(t._promises,e),t._promises&&0===t._promises.length&&(t._promises=null)})}},{key:"cancelPendingPromises",value:function(){this._promises&&this._promises.length>0&&(this._promises.forEach(function(e){e.cancel()}),this._promises=null)}},{key:"matchFilter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!(0,m.default)(e)||(e.label?(0,r.default)(this.labels,e.label):e.kind===I.default.SMB_SEARCH_FILTERS.UNREAD?!!this.hasUnread:e.kind===this.kind)}}]),t}();Oe.Collection="Chat",Oe.Proxy="chat",Oe.idClass=ge.default,t.default=(0,S.defineModel)(Oe)},ecabefjaea:function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.exports=function(e,t){var n=e.reduce(function(e,t){var n=t.handlers;return n?(Object.keys(n).forEach(function(r){e[r]||(e[r]=[]);var a=n[r];null!=a&&e[r].push([t,a])}),e):e},{});return Object.keys(n).reduce(function(e,a){var o=n[a];return e[a]=function(e,t){return function(n){e.some(function(e){var a=r(e,2),o=a[0],i=a[1],u=i.call(o,n,t);return!!n.defaultPrevented||!0===u&&(n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),!0)})}}(o,t),e},{})}},ecadbdfdef:function(e,t,n){"use strict";e.exports={cache:{},delete:function(){this.cache={}}}},ecahagbbfh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=v(n("ddhijeejag")),o=v(n("cajijabhgb")),i=v(n("dcecgegjfc")),u=g(n("efjajjbaf")),s=g(n("gbfffciea")),l=g(n("cfghbhcedd")),c=n("ffchhcfdj"),f=g(c),d=g(n("bjbedjfe")),p=g(n("bfdcadbbif")),h=n("ejbdjaifi"),m=n("bhfdfhefca"),b=n("bheafeifce");function g(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._handleClick=function(e){r._checkForDrawerMid(e)},r._handleDropdownCaptureClick=function(){r._openCaptureFlow()},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"_checkForDrawerMid",value:function(e){s.default.existsDrawerMid(function(t){t&&e.preventDefault()})}},{key:"_openCaptureFlow",value:function(){var e=this,t=this.props.chat,n=i.start("camera");Promise.race([n,this.props.rejectOnUnmount()]).checkpoint(this.props.rejectOnUnmount()).then(function(n){n&&s.default.openDrawerMid(a.createElement(l.default,{chat:(0,b.unproxy)(t),stream:n}),"slide-up",e.context.uim,{noFocus:!0})}).catch(o.Unmount,function(){n.then(function(e){return i.stop(e)}).catch(function(){})}).catch(o.GUM.NotAllowedError,function(){s.default.openModal(a.createElement(f.default,{messaging:c.Messaging.CAMERA_FAIL,type:f.default.TYPE.GUIDE_UNBLOCK}))}).catch(o.GUM.GUMError,function(){s.default.openModal(a.createElement(f.default,{messaging:c.Messaging.CAMERA_MISSING,type:f.default.TYPE.GUIDE_NONE}))})}},{key:"render",value:function(){return a.createElement(m.MenuBarItem,{a8nText:"conversation-clip",icon:a.createElement(p.default,{name:"clip"}),title:l10n.t(668),transitionName:"menu",onClick:this._handleClick},a.createElement(u.default,{chat:this.props.chat,onCaptureClick:this._handleDropdownCaptureClick,getComposeContents:this.props.getComposeContents,onMenuComplete:this.props.onMenuComplete}))}}]),t}();_.displayName="AttachMenuBarItem",t.default=(0,d.default)((0,h.hoc)(_))},ecbacgcajj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.auth,n=e.directPath,u=e.encFilehash,s=e.hostname,l=e.type;return n&&t?function(e){var t=e.auth,n=e.directPath,r=e.encFilehash,i=e.hostname,u=e.query,s=new URL(n,`https://${i}`),l=s.searchParams||new a.default(s.search);return l.set("auth",t),l.set("hash",(0,o.default)(r)),Object.keys(u).forEach(function(e){var t=u[e];l.set(e,t)}),`https://${s.host}${s.pathname}?${l.toString()}`}({auth:t,encFilehash:u,hostname:s,directPath:n,query:{[i.MMS_URL_MEDIA_TYPE_SEARCH_PARAM]:l,[i.IS_MMS_URL_SEARCH_PARAM]:""}}):(0,r.default)({hostname:s,type:l,encFilehash:u,query:{[i.IS_MMS_URL_SEARCH_PARAM]:""}})};var r=u(n("hefjgabce")),a=u(n("ddfjdghbjb")),o=u(n("ebfbbaecji")),i=n("ficfhgacf");function u(e){return e&&e.__esModule?e:{default:e}}},ecbafeecfe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("dhhhjaejje")),o=i(n("bcdafjgefj"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),t}();function l(e){return e.reduce(function(e,t,n){var a=`jsx-child-${n}`;return void 0===t?e:[].concat(u(e),"string"==typeof t?[t]:[r.cloneElement(t,{key:a})])},[])}s.onText=o.default,s.onDelimiter=function(e){},s.onRoot=function(e){return l(e)},s.onMutator=function(e,t,n,r){return e.jsx(l(t),n,r)},t.default=s},ecbgbhdahb:function(e,t){e.exports={muted:"_38_dR",sender:"_2I4wO"}},ecbgeejjjh:function(e,t){e.exports={muted:"_25Rew",fullWidthShade:"_1_XHS",stripHeightShade:"_1y_mQ",lowerShade:"_3ieM9",upperShade:"_3Asgg",fullHeightShade:"_5yx6d",roundedCorners:"_3nuhn"}},ecbjchafdg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=p(n("gbfffciea")),u=p(n("biddiiafgd")),s=p(n("eadfaddcj")),l=p(n("bcjcbbafcj")),c=n("ddjfcdfihc"),f=p(n("dieejegcge")),d=p(n("ebbeeceebe"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=[[l10n.t(796),(0,c.getWebKey)(f.default.OPEN_NEW_CHAT)],[l10n.t(797),(0,c.getWebKey)(f.default.OPEN_NEW_GROUP)],[l10n.t(798),(0,c.getWebKey)(f.default.OPEN_PROFILE)],[l10n.t(665),(0,c.getWebKey)(f.default.OPEN_SETTINGS)],[l10n.t(760),(0,c.getWebKey)(f.default.SEARCH)],[l10n.t(771),(0,c.getWebKey)(f.default.SEARCH_IN_CHAT)],[l10n.t(728),(0,c.getWebKey)(f.default.TOGGLE_ARCHIVE)],[l10n.t(795),(0,c.getWebKey)(f.default.TOGGLE_MUTE)],[l10n.t(738),(0,c.getWebKey)(f.default.TOGGLE_UNREAD)],[l10n.t(732),(0,c.getWebKey)(f.default.DELETE_OR_EXIT_CHAT)],[l10n.t(769),(0,c.getWebKey)(f.default.GO_TO_NEXT_CHAT)],[l10n.t(770),(0,c.getWebKey)(f.default.GO_TO_PREV_CHAT)]],b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onClose=function(){i.default.closeModal()},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=m.map(function(e){var t=r(e,2),n=t[0],a=t[1];if(a){var i=void 0;return i=-1===a.indexOf("Shift+")?o.createElement("span",{className:d.default.key},a):o.createElement(o.Fragment,null,o.createElement("span",{className:d.default.key},"Shift"),o.createElement("span",{className:d.default.plus},"+"),o.createElement("span",{className:d.default.key},a.substr("Shift+".length))),o.createElement("div",{key:`shortcut-${a}`,className:d.default.section},o.createElement("div",{className:d.default.action},n),o.createElement("div",{className:d.default.shortcut},o.createElement("span",{className:d.default.key},l.default.os===s.default.OS_TYPE.MAC?"Cmd":"Alt"),o.createElement("span",{className:d.default.plus},"+"),o.createElement("span",{className:d.default.key},"Ctrl"),o.createElement("span",{className:d.default.plus},"+"),i))}});return o.createElement(u.default,{onOK:this.onClose,okText:l10n.t(1225),title:l10n.t(582)},o.createElement("div",{className:d.default.container},e))}}]),t}();b.displayName="KeyboardShortcutsPopup",t.default=b},eccjbdjafd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseInput=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=g(n("daffbcegjj")),u=g(n("ihhfhbadh")),s=g(n("ebgbahdcjg")),l=g(n("fffdgbfji")),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),f=g(n("effbcehec")),d=g(n("dhfbfehaef")),p=g(n("babbeaeffj")),h=n("chhhffajfi"),m=n("eagfdbhhhh"),b=g(n("fchcjedjf"));function g(e){return e&&e.__esModule?e:{default:e}}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=n("digcccheca"),O=n("dcjhajfghf"),S=n("ddajbaceej"),w=n("debfbiicee"),P=n("ecabefjaea"),M=n("djfbibifah"),C=n("caeigadddg"),T=n("ceffhbhahb"),A=n("ddeihcgfbg"),N=n("ceeggdegaf"),k=13,I=t.BaseInput=function(e){function t(){var e,n,r;y(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),R.call(r),_(r,n)}return E(t,c.Component),o(t,[{key:"serialize",value:function(e){var t=e||this.state.value;return this.plugins.reduce(function(e,t){var n=a(e,2),r=n[0],o=n[1];return t.serialize?t.serialize(r,o):[r,o]},[t,{}])}},{key:"replaceSelection",value:function(e){if(!this.props.readOnly){var t=this.refInput;this._hasFocus(t)||(S.focus(t),this.selection&&this.restoreSelection(this.selection));var n=this.trimToFit(e);if(n.length){this.props.multiline||(n=n.replace(/\r?\n/g,""));var r,a,o,i,u=window.getSelection().getRangeAt(0);r=u,a=this.refInput,o=r.startOffset,i=r.startContainer,0===o&&i!==a&&i&&i.previousSibling&&"\n"===i.previousSibling.textContent.slice(-1)&&(n=`\n${n}`),u.deleteContents();var s=t||{},l=s.scrollTop,c=s.scrollHeight;if(document.execCommand("insertHTML",!1,N(n,this.plugins)),this.onSelect(),t){var f=t.scrollHeight;if(f<=t.clientHeight)return;t.scrollTop=(l||0)+(f-c)}}}}},{key:"restoreSelection",value:function(e){var t=this.refInput;if(t){var n=e.anchorIndex,r=e.focusIndex,a=e.anchorOffset,o=e.focusOffset,i=t.childNodes,u=-1===n?t:i[n],s=-1===r?t:i[r];if(u&&s)try{if(u===s&&a>o){var l=[o,a];a=l[0],o=l[1]}var c=document.createRange();c.setStart(u,a),c.setEnd(s,o);var f=window.getSelection();f.removeAllRanges(),f.addRange(c);try{var d=document.createRange();d.setStart(s,o),d.setEnd(s,o);var p=d.getBoundingClientRect(),h=p.bottom,m=p.top,b=this.refInput&&this.refInput.getBoundingClientRect()||{},g=b.bottom,v=b.top;if(m>=v&&h<=g)return;this.refInput&&(this.refInput.scrollTop+=h<v?m-v:h-g)}catch(e){}}catch(e){this.focus(!0)}}}},{key:"getSelection",value:function(){var e=this.refInput;if(!e||document.activeElement!==e)return null;for(var t=window.getSelection(),n=t.anchorNode,r=t.anchorOffset,a=t.focusNode,o=t.focusOffset,i=e.childNodes,u=-1,s=-1,l=0,c=void 0;(u<0||s<0)&&(c=i[l++]);)n===c&&(u=l-1),a===c&&(s=l-1);return{anchorIndex:u,anchorOffset:r,focusIndex:s,focusOffset:o}}},{key:"trimToFit",value:function(e){var t=this.props.maxLength;if(!t)return e;var n=t+this.selectionLength-this.length;return n<=0?"":(0,h.substring)(String(e),0,n)}},{key:"cursorAtEnd",value:function(){return!(!this.state.focused||""!==this.state.value)||(0,u.default)(this.refInput)}},{key:"cursorAtStart",value:function(){return!(!this.state.focused||""!==this.state.value)||(0,s.default)(this.refInput)}},{key:"isFocused",value:function(){return this.state.focused}},{key:"render",value:function(){var e=this.props.placeholder,t=this.state,n=t.value,a=t.direction,o=n.length?"hidden":"visible",i=T(b.default.input,{[b.default.compose]:"compose"===this.props.theme,[b.default.default]:"default"===this.props.theme||"media-caption"===this.props.theme,[b.default.large]:"large"===this.props.theme,[b.default.media]:"media-caption"===this.props.theme,[b.default.invite]:"v4-invite-caption"===this.props.theme,[b.default.small]:"small"===this.props.theme,[b.default.status]:"status-reply"===this.props.theme});return c.createElement(d.default,{className:i,handlers:this.hotKeyMap,onRef:this.setRefContainer},c.createElement("div",{"data-a8n":f.default.key("pluggable-input-placeholder"),className:b.default.placeholder,ref:this.setRefPlaceholder,style:{visibility:o}},e),c.createElement("div",r({},this.handlerMap,{"data-a8n":f.default.key("pluggable-input-body"),className:T(b.default.body,m.SELECTABLE_INPUT_CSS_CLASS),contentEditable:!this.props.readOnly,dangerouslySetInnerHTML:{__html:N(n,this.plugins)},"data-tab":this.props.readOnly?null:1,dir:a,ref:this.setRefInput,spellCheck:this.props.spellCheck})))}},{key:"value",get:function(){return this.state.value}},{key:"selectionLength",get:function(){if(this.props.readOnly)return 0;this._hasFocus(this.refInput)||S.focus(this.refInput);var e=window.getSelection();return e.rangeCount?(0,h.numCodepoints)(A(e.getRangeAt(0).cloneContents(),this.plugins)):0}},{key:"length",get:function(){return(0,h.numCodepoints)(this.state.value)}},{key:"isComposing",get:function(){return this.__isComposing}}]),t}(),R=function(){var e=this;this.__changeDueToReset=!1,this.__isMounted=!0,this.__isComposing=!1,this.containerRef=null,this.selection=this.props.initialSelection,this.state={direction:D(this.props.initialValue||""),focused:!1,value:this.props.initialValue||""},this.trigger=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.hookMap[t];r&&r.apply(void 0,v(n))},this.serializeNode=function(t){return A(t,e.plugins)},this.serializeTextBeforeCursor=function(){return(0,p.default)(e.refInput||document.createElement("span"),window.getSelection())},this._hasFocus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.refInput;if(!t)return!1;var n=document.activeElement;return!!n&&(n===t||t.contains(n))},this.forceFocus=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e.props.readOnly&&e.__isMounted){var n=e.refInput;if(n){var r=e._hasFocus(n);if(!r||t)if(r||S.focus(n),!t&&e.selection)e.restoreSelection(e.selection);else{var a=window.getSelection();a&&a.rangeCount&&(a.selectAllChildren(n),a.collapseToEnd())}}}},this.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];setTimeout(function(){e.forceFocus(t)},0)},this.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.__changeDueToReset=!0,e.selection=null,e._setValue(t)},this._setValue=function(t){if(t!==e.state.value){var n=t||"";e.setState({value:n,direction:D(n)},function(){e.trigger(w.CHANGE,[n]),e.props.onChange&&e.props.onChange(n)})}},this.onSelect=function(){e.selection=e.getSelection(),e.props.onSelect&&e.props.onSelect(e.selection)},this.shouldComponentUpdate=function(t,n){var r=n.value,a=n.focused,o=n.direction;if(a!==e.state.focused&&e.containerRef&&(a?e.containerRef.classList.add("focused"):e.containerRef.classList.remove("focused")),o!==e.state.direction&&e.refInput&&e.refInput.setAttribute("dir",o),e.__changeDueToReset){e.__changeDueToReset=!1;var i=N(r,e.plugins);e.refInput&&(e.refInput.innerHTML=i)}var u=!r.length&&!!e.state.value.length,s=!!r.length&&!e.state.value.length;if(!s&&!u)return!1;var l=s?"hidden":"visible";return e.refPlaceholder&&e.refPlaceholder.setAttribute("style",`visibility: ${l}`),u&&e.refInput&&(e.refInput.innerHTML=""),!1},this.UNSAFE_componentWillReceiveProps=function(t){var n,r,a;(n=e.props,r=t,a={},["readOnly"].forEach(function(e){return a[e]=n[e]!==r[e]}),a).readOnly&&e.refInput&&e.refInput.setAttribute("contentEditable",String(!t.readOnly))},this.componentWillUnmount=function(){e.__isMounted=!1,e.refInput&&(e.refInput.restoreFocus=null)},this.onInput=function(t){var n=null,r=e.refInput;r&&(n=A(r,e.plugins));var a="\n"===n?"":n||"",o=e.props.maxLength;if(o>0&&(0,h.numCodepoints)(a)>o){var i=e.selection;return r&&(r.innerHTML=N(e.state.value,e.plugins)),void(i&&e.restoreSelection(i))}e.trigger(w.INPUT),e._setValue(a)},this.onPaste=function(t){t.preventDefault(),t.stopPropagation();var n=new O(t.clipboardData),r=e.props,a=r.onFiles,o=r.onTextPaste;n.hasFiles()&&a&&a(n)||n.hasText()&&n.getText(e.props.textPasteMimePriority).then(function(t){if(t&&(!o||!o(t))){if(e.length-e.selectionLength+(0,h.numCodepoints)(t)>e.props.maxLength){var n=e.props.onMaxPasteExceeded;return n&&n()}e.replaceSelection(t)}})},this.onBeforeInput=function(t){if(e.props.readOnly)return!0;var n=e.props.maxLength;if(!n)return!1;var r=t.data.charCodeAt(0);if(8===r||127===r)return!1;var a=n+e.selectionLength-e.length;return(0,h.numCodepoints)(t.data)>a},this.onKeyDown=function(t){return!(!e.props.onKeyDown||!e.props.onKeyDown(t))||t.which===k&&((!e.props.multiline||!function(e){return e.which===k&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}(t))&&(e.props.onEnter&&e.props.onEnter(t),!0))},this.componentDidMount=function(){e.refInput&&(e.refInput.restoreFocus=e.focus),e.trigger(w.MOUNT)},this.onBlur=function(t){e.setState({focused:!1}),e.props.onBlur&&e.props.onBlur(t)},this.onFocus=function(t){e.setState({focused:!0}),e.props.onFocus&&e.props.onFocus(t)},this.onCompositionStart=function(t){return!(e.__isComposing=!0)},this.onCompositionEnd=function(){return e.__isComposing=!1},this.setRefContainer=function(t){e.containerRef=t},this.setRefPlaceholder=function(t){e.refPlaceholder=t},this.setRefInput=function(t){e.refInput=t}};I.displayName="BaseInput",t.default=function(e){return function(t){function n(){var t,r,a,o,i,u;y(this,n);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return r=a=_(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(l))),a.plugins=[].concat(v(e.map(function(e){return e instanceof j&&e.initialize(a),e})),[(u=a,{handlers:(o=u,i=L,i.reduce(function(e,t){return Array.isArray(t)?e[t[0]]=o[t[1]]:e[t]=o[t],e},{}))})]),a.handlerMap=P(a.plugins,a),a.hookMap=M(a.plugins,a),a.hotKeyMap=C(a.plugins,a),_(a,r)}return E(n,I),n}()};var L=["onBeforeInput","onBlur","onCompositionEnd","onCompositionStart","onFocus","onInput","onKeyDown","onPaste","onSelect"];function D(e){return i.default.dir(e)||l.default.LR("ltr","rtl")}},eccjjjfhdj:function(e,t){e.exports={muted:"_2cOuW",container:"r7sRK"}},ecdffdifib:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default,n=null,r=function(r){return null!=n&&t(n.params,r)?n.params=r:n={params:r,result:e.call(this,r)},n.result};return r.clear=function(){n=null},r};var r,a=n("cdbddjfbcd"),o=(r=a)&&r.__esModule?r:{default:r}},ecdifdiid:function(e,t){e.exports={muted:"_3qrRK",container:"_1HpUW",gridContainer:"_3a12b",lastColumn:"_3W3rd",shrinkUp:"_1J9DT","container-animateShrinkUp":"_5vpXV",containerAnimateShrinkUp:"_5vpXV",numberText:"_1Lq_-"}},ecdjdjeihf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("dbhbjbfadb");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},eceejifaac:function(e,t){e.exports={muted:"_1X-LW",mentionsResult:"_1Yz8K",selected:"XSeqj",resultImage:"_3xRlR",mediaCaption:"_1oocP",textContact:"_1B_hp",textPushname:"_3SW-z"}},ecejfgiega:function(e,t){e.exports={prefixHash:"4742377b4ae743abd4f117e58c6c829b"}},ecfbchagde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.hasText=function(){return ce};var a=oe(n("ddhijeejag")),o=ae(n("effbcehec")),i=ae(n("dcggjjdeaj")),u=ae(n("bgfcjjddjf")),s=ae(n("gbfffciea")),l=n("dehacgjjde"),c=ae(l),f=ae(n("cchefegdjj")),d=ae(n("biddiiafgd")),p=ae(n("bjigbaghc")),h=ae(n("eadfaddcj")),m=ae(n("ccegbieicj")),b=ae(n("ceffhbhahb")),g=oe(n("cajijabhgb")),v=n("cgffhfegce"),y=ae(n("ccaaiecfib")),_=n("dhfbfehaef"),E=ae(_),j=ae(n("dgjacfgggf")),O=oe(n("dbcedfihd")),S=ae(n("cfhehaefih")),w=ae(n("ifeefbdg")),P=ae(n("bdiiahhjbe")),M=ae(n("eceadcicaf")),C=ae(n("bjdjbcefcc")),T=n("bgiachiigg"),A=ae(n("ddcbhjdfdg")),N=ae(n("dgcbhjfhad")),k=ae(n("jjbcbhhjh")),I=ae(n("hichbacjh")),R=n("bgddggdhc"),L=ae(n("ceddibdhdb")),D=ae(n("cbcgbajadc")),x=ae(n("ihfccfgdf")),U=n("bheafeifce"),G=ae(n("bfdcadbbif")),F=n("bfjajhbdf"),B=ae(F),$=ae(n("caffijjhc")),V=ae(n("edbaidcaf")),H=ae(n("bjieiiccce")),W=ae(n("fbjjefaic")),Y=n("ejbdjaifi"),K=n("dacicgjcai"),q=n("cebdcdcgja"),z=ae(n("cfdejhjab")),Q=ae(n("bbegbfcgh")),J=ae(n("bfifafibjc")),Z=n("biiiheaiih"),X=n("ddjgcfjicj"),ee=n("dbbhhgjjbg"),te=n("icbibjcg"),ne=ae(n("cbedjffdai")),re=n("bfbggcdbfb");function ae(e){return e&&e.__esModule?e:{default:e}}function oe(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function se(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var le=/^https?:\/\/media\.giphy\.com\/media\/([a-zA-Z0-9]+)/,ce=!1;var fe=parseInt(z.default["-overlay-border-left"].replace(/px$/,""),10),de=function(e){function t(e){ie(this,t);var n=ue(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));pe.call(n);var r=e.chat.getComposeContents();return n.text=r.text||"",n.selection=r.selection,n.preview=n.omittedURL=r.omittedURL,n.saveComposeContentDebounced=n.props.debounce(n.saveComposeContent,200),n.state={hasText:!!n.text,recording:!1,linkPreview:null,selectedPanelId:null,textsize:ne.default.get().textsize,width:null},n}return se(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.listeners,n=e.chat;if(this.props.listeners.add(u.default,"add remove reset"),y.default.supportsFeature(y.default.F.INDEX_RECEIVED_VCARD)){var r=n.getReceivedVCardMsgs();r&&t.add(r,"add remove reset")}this.height=(0,R.forbiddenAssertDOMNode)(this.refComposeBlock).clientHeight,this.scanForLinksTimer.debounceAndCap(50,50)}},{key:"componentWillUnmount",value:function(){this.scanForLinksTimer.cancel(),this.restoreFocusTimer.cancel(),this.saveComposeContent(),this.removeEmojisFromTouchBar()}},{key:"_setSelectedPanelId",value:function(e){var t=null==this.state.selectedPanelId&&null!=e;this.setState({selectedPanelId:e,width:t&&null!=this.refComposeBlock?this.refComposeBlock.offsetWidth-fe:this.state.width})}},{key:"render",value:function(){return a.createElement($.default,{displayName:"ComposeBox",ref:this.setRefContainer,state:$.default.State.PASSIVE,requestFocus:this.restoreFocus},a.createElement(E.default,{component:"footer",handlers:{pagedown:this.onPageUpDown,pageup:this.onPageUpDown},className:z.default.footer,onMouseDown:this.preventBlur,onContextMenu:this.preventBlur},a.createElement(m.default,{className:(0,b.default)(z.default.blockCompose,ge(this.state.textsize)),onRef:this.setRefComposeBlock},a.createElement("div",{style:{willChange:"width"},className:z.default.childPadding},a.createElement(f.default,{selectedPanelId:this.state.selectedPanelId,onChange:this.handlePanelChange})),a.createElement(E.default,{ref:this.setRefInputHotkey,className:(0,b.default)(z.default.inputContainer,{[z.default.disabled]:this.state.recording}),handlers:{tab:this.handleTab,"shift+tab":this.handleTab},onFocus:this.onInputFocus,onBlur:this.onInputBlur},a.createElement(C.default,{placeholder:l10n.t(1023),readOnly:this.state.recording,ref:this.setRefInput,initialValue:this.text,initialSelection:this.selection,spellCheck:!0,multiline:!0,maxLength:h.default.MAX_TXT_MSG_SIZE,onMaxPasteExceeded:this.onMaxPasteExceeded,onEnter:this.onEnter,onFiles:this.onFiles,onTextPaste:this.onTextPaste,onChange:this.onChange,onSelect:this.onSelectionChange,textPasteMimePriority:[q.APP_TEXT_MIMETYPE,"text/plain"],theme:"compose"})),a.createElement("div",{className:z.default.childPadding},this.renderSendButton())),this.renderPopupPanel(),a.createElement(C.default.EmojiSuggestions,{chat:(0,U.unproxy)(this.props.chat)}),a.createElement(me,{key:this.props.chat.id.toString(),parent:this,chatId:this.props.chat.id}),a.createElement(C.default.Suggestions,{chat:(0,U.unproxy)(this.props.chat)}),p.default.isSMB&&y.default.supportsFeature(y.default.F.QUICK_REPLIES_QUERY)&&a.createElement(C.default.QuickRepliesSuggestions,{chat:(0,U.unproxy)(this.props.chat)})))}}]),t}();de.CONCERNS={chat:["id","trusted","composeContents","composeQuotedMsg","isPSA","isVisible","presence","contact","composeAttachMediaContents","quotedMsgAdminGroupJid","receivedVCardMsgs","vcardDismissed","composeQuotedMsgRemoteJid"]};var pe=function(){var e=this;this.height=0,this.pendingLinkPreviewPromises=[],this.pasteTriggeredOnChange=!1,this._wasCleared=!1,this.dismissVCardPanel=function(){(0,U.unproxy)(e.props.chat).dismissVCard()},this.saveComposeContent=function(){e.props.chat.setComposeContents({text:e.text,selection:e.selection,omittedURL:e.omittedURL})},this.onTextSizeChange=function(t){e.setState({textsize:t})},this.pasteEmojiInput=function(t){if(" "===t&&!e.hasText())return s.default.scrollMessages();e.refInput&&(e.refInput.focus(!0),e.refInput&&e.refInput.replaceSelection(t))},this.handleRoutedPaste=function(t){e.refInput&&(e.refInput.focus(!0),e.refInput&&e.refInput.onPaste(t))},this.onMaxPasteExceeded=function(){s.default.openModal(a.createElement(d.default,{title:l10n.t(689),onOK:function(){s.default.closeModal()},okText:l10n.t(1225)},l10n.t(688)))},this.restoreFocus=function(){e.refInput&&e.refInput.focus()},this.clearLinkPreview=function(){e.preview=null,e.omitLinkPreview()},this.cancelPendingLinkPreviews=function(){e.pendingLinkPreviewPromises.forEach(function(e){return e.cancel()}),e.pendingLinkPreviewPromises=[]},this.omitLinkPreview=function(t){!0!==t&&e.state.linkPreview&&(e.omittedURL=e.preview,e.setState({linkPreview:null}))},this.omitQuotedPreview=function(t){!0!==t&&(e.props.chat.composeQuotedMsg=null)},this.omitQuotedMsgAdminGroupNamePreview=function(t){!0!==t&&(e.props.chat.quotedMsgAdminGroupJid=null)},this._findFirstWebLink=function(){var t=(0,K.removeCodeBlocks)(e.text);return O.findLinks(t,!0)[0]},this.scanForLinksTimer=new L.default(function(){if(e.state.hasText){var t=e._findFirstWebLink();if(t){var n=t.url;if(!e.preview||e.preview!==n){e.preview=n,e.omittedURL=null;var r=(0,w.default)(n).cancellable().tap(function(t){t&&e.preview&&e.preview===t.url&&t.data&&(t.data.title||t.data.description)&&e.setState({linkPreview:t})});e.pendingLinkPreviewPromises.push(r),r.catch(g.Unmount,X.WapDrop,Promise.CancellationError,function(){})}}else e.clearLinkPreview()}else e.clearLinkPreview()}),this.onInputFocus=function(){e.indicateFocus(),e.addEmojisToTouchBar()},this.onInputBlur=function(t){e.removeEmojisFromTouchBar()},this.indicateFocus=function(){var t=e.refContainer;t&&t.activate(),(0,_.indicateFocus)(e.refInputHotkey,["#FFFFFF","#D9F3FF"],void 0,{borderColor:["#FFFFFF","#CBE4EF"]}),e.refInput&&e.refInput.focus(!1)},this.addEmojisToTouchBar=function(){},this.removeEmojisFromTouchBar=function(){},this.onPageUpDown=function(t){e.props.onPageUpDown&&(t.stopPropagation(),e.props.onPageUpDown(t),t.persist(),e.restoreFocusTimer.debounce(0))},this.restoreFocusTimer=new L.default(function(){e.refInput&&e.refInput.focus(!1)}),this.handleEmoji=function(t){e.refInput&&e.refInput.replaceSelection(t)},this.handleGif=function(t,n){var r=H.default.get(t,H.default.RESP_TYPE.BLOB,{Accept:"video/mp4"}).then(function(e){if(200!==e.status)throw P.default.error(`failed loading gif (status: ${e.status})`)(),new g.MediaFileFailedLoad;var t=e.response;return j.default.generateVideoThumbAndDuration(t,h.default.IMG_THUMB_MAX_EDGE).then(function(e){var r=e.thumb,a=e.duration,o={width:r.fullWidth,height:r.fullHeight};return{file:t,mimetype:t.type,isGif:!0,gifAttribution:n,fullPreview:window.URL.createObjectURL(t),fullPreviewSize:o,preview:V.default.parseDataURL(r.url).data,duration:a}})});return e.saveComposeContentDebounced.flush(),s.default.attachMediaDrawer({chat:e.props.chat,files:[r],initCaption:e.getCurrentComposeContent(),fileOrigin:re.MEDIA_PICKER_ORIGIN_TYPE.CHAT_GIF_INAPP,onComplete:function(t,n){e.updateTextAfterMediaDrawerClose(t,!!n),t&&e.closeEmojiPanel()}}),r.catch(function(){}),r},this.setRefPanels=function(t){e.refPanels=t},this.handlePanelsDisplayCache=function(t){e.panelsDisplayCache=t},this.handlePanelsGif=function(t,n){e.handleGif(t,n)},this.handlePanelsSticker=function(t){t.sendToChat((0,U.unproxy)(e.props.chat))},this.handlePanelsFocusRelease=function(){(0,_.shouldIndicateFocus)(),e.restoreFocus()},this.openEmojiPanel=function(){e._setSelectedPanelId(l.PANELS.EMOJI)},this.closeEmojiPanel=function(){e._setSelectedPanelId(null),e.restoreFocus()},this.onPTTRecState=function(t){e.setState({recording:t})},this.preventBlur=function(t){var n=t.target,r=(0,R.forbiddenAssertDOMNode)(e.refInput),a=(0,R.forbiddenAssertDOMNode)(e.refContainer);do{if(n===r)return}while(n!==a&&n instanceof HTMLElement&&(n=n.parentNode));be(t),e.refInput&&e.refInput.focus(!1)},this.onChange=function(t){var n=(0,R.forbiddenAssertDOMNode)(e.refComposeBlock).clientHeight,r=n-e.height;r&&e.props.onComposeHeightChange({input:r},!1),e.height=n;var a=e.hasText();e.text=t||"",""===t&&(e._wasCleared=!0);var o=e.hasText();o!==a&&e.setState({hasText:o}),o?(e.props.chat.presence.subscribe().catch(X.WapDrop,function(){}),(0,te.markComposing)(e.props.chat)):(0,te.markPaused)(e.props.chat);var i=e._findFirstWebLink();(!i&&e.preview||i&&i.url!==e.preview)&&e.clearLinkPreview(),e.pasteTriggeredOnChange?e.scanForLinksTimer.onOrBefore(1):e.scanForLinksTimer.debounce(700),e.pasteTriggeredOnChange=!1,e.saveComposeContentDebounced()},this.renderSendButton=function(){var t=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&window.AudioContext;if(e.state.hasText||!t)return a.createElement("button",{"data-a8n":o.default.key("compose-btn-send"),className:z.default.btnSend,onClick:e.onSendText,disabled:!e.hasText},a.createElement(G.default,{name:"send",directional:!0}));var n=e.props.chat;return a.createElement(A.default,{key:"ptt",chat:n,onRecState:e.onPTTRecState})},this.renderPopupPanel=function(){var t=void 0;if(e.state.linkPreview){var n=e.state.linkPreview.data,r=n.title,o=n.canonicalUrl,s=n.description,l=n.thumbnail;t=a.createElement($.default,{displayName:"ComposeBoxLinkPreview",escapable:!0,requestDismiss:e.omitLinkPreview},a.createElement(N.default,{onOmit:e.omitLinkPreview},a.createElement(S.default,{title:r,compose:!0,canonicalUrl:o,description:s,thumbnailJpeg:l})))}var f=e.props.chat.composeQuotedMsg,d=e.props.chat.quotedMsgAdminGroupJid,p=e.props.chat.composeQuotedMsgRemoteJid,h=void 0;f?h=a.createElement($.default,{displayName:"ComposeBoxQuotedMsg",escapable:!0,requestFocus:e.restoreFocus,requestDismiss:e.omitQuotedPreview},a.createElement(N.default,{onOmit:e.omitQuotedPreview},a.createElement(k.default,{msg:f,composeQuotedMsgRemoteJid:p,theme:"composeBox",key:f.id.toString(),chat:f.chat}))):d&&(h=a.createElement($.default,{displayName:"QuotedMsgAdminGroupName",escapable:!0,requestFocus:e.restoreFocus,requestDismiss:e.omitQuotedPreview},a.createElement(N.default,{onOmit:e.omitQuotedMsgAdminGroupNamePreview},a.createElement(I.default,{isComposePreview:!0,quotedGroupJid:d,key:d.toString()}))));var m=(0,U.unproxy)(e.props.chat),b=!m.isPSA&&m.isVisible&&m.msgs&&m.msgs.length>0,g=null;if(b){var v=u.default.get(m.id),y=m.getReceivedVCardMsgs(),_=!v&&y&&y.length&&!m.vcardDismissed;null!=_&&0!==_&&(g=a.createElement(Q.default,{chat:m,dismissVCardPanel:e.dismissVCardPanel}))}var E=null;!m.trusted&&b&&null==g&&(E=a.createElement(D.default,{chat:m,contact:m.contact}));var j=null;return e.state.selectedPanelId&&null!=e.state.width&&(j=a.createElement(J.default,{onResize:e._handleResize},a.createElement(c.default,{displayCache:e.panelsDisplayCache,width:e.state.width,onDisplayCache:e.handlePanelsDisplayCache,onEmoji:e.handleEmoji,onFocusRelease:e.handlePanelsFocusRelease,onGif:e.handlePanelsGif,onPanelChange:e.handlePanelChange,onSticker:e.handlePanelsSticker,requestDismiss:e.closeEmojiPanel,ref:e.setRefPanels,selectedPanelId:e.state.selectedPanelId}))),a.createElement("div",{className:z.default.positioningContainer},a.createElement("div",{className:z.default.overlayContainer},a.createElement(i.default,{onHeightChange:e.onHeightChange},E,g,j,h,t)))},this.onHeightChange=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.props.onComposeHeightChange({overlay:t},n)},this.onFiles=function(t){var n=t.getFiles().filter(function(e){var t=(0,v.typeFromMimetype)(e.type);return"image"===t||"video"===t});if(t.hasType("text/html")){var r=t.getData("text/html");if(r){if(r.includes("<meta name=ProgId content=PowerPoint.Slide>"))return!1;var a=r.includes("urn:schemas-microsoft-com:office"),o=r.includes("urn:schemas-microsoft-com:office:excel");if(a&&!o)return!1}}if(n.length)return e.saveComposeContentDebounced.flush(),s.default.attachMediaDrawer({chat:e.props.chat,files:n,fileOrigin:re.MEDIA_PICKER_ORIGIN_TYPE.PASTE,initCaption:e.getCurrentComposeContent(),onComplete:e.updateTextAfterMediaDrawerClose}),!0},this.updateTextAfterMediaDrawerClose=function(t,n){t&&n&&e.refInput&&e.refInput.reset()},this.getCurrentComposeContent=function(){return e.props.chat.getComposeContents()},this.onTextPaste=function(t){var n=le.exec(t);if(n){var r=`https://media.giphy.com/media/${n[1]}/200w.mp4`;return e.handleGif(r,T.VIDEO_MESSAGE_ATTRIBUTION.GIPHY).catch(function(n){s.default.closeDrawerMid(),e.refInput&&(e.refInput.focus(!0),e.refInput&&e.refInput.replaceSelection(t)),s.default.openToast(a.createElement(B.default,{msg:l10n.t(648),id:(0,F.genId)()}))}),!0}return e.pasteTriggeredOnChange=!0,!1},this.onSelectionChange=function(t){e.selection=t},this.hasText=function(){return ce=e.text.trim().length>0},this.onEnter=function(t){t&&t.repeat||e.onSendText()},this.onSendText=function(){(0,Z.reconnect)();var t=e.refInput,n=e.props.chat;if(t){var r=t.serialize(),a=[r[0].trim(),r[1]],o=a[0],i=a[1];if(o.length){e.cancelPendingLinkPreviews();var u=n.composeQuotedMsg,s=n.quotedMsgAdminGroupJid,l=e.state.linkPreview&&e.state.linkPreview.data,c=i.mentionedJidList||[],f=e._wasCleared;e._setSelectedPanelId(null),e.setState({hasText:!1,linkPreview:null},function(){if(f){var t=(0,U.unproxy)(n);t.urlText&&(t.urlText=void 0)}(0,ee.sendTextMsgToChat)(n,o,{linkPreview:l,quotedMsg:u,mentionedJidList:c,quotedMsgAdminGroupJid:s}),e._wasCleared=!1}),n.composeQuotedMsg=null,n.quotedMsgAdminGroupJid=null,n.composeQuotedMsgRemoteJid=null,n.setComposeContents({}),t.reset(),e.text="",e.hasText()}}},this.handlePanelChange=function(t){e._setSelectedPanelId(t)},this.handleTab=function(t){e.state.selectedPanelId&&(e.refPanels&&e.refPanels.restoreFocus(!0),be(t))},this.setRefContainer=function(t){e.refContainer=t},this.setRefComposeBlock=function(t){e.refComposeBlock=t},this.setRefInputHotkey=function(t){e.refInputHotkey=t},this.setRefInput=function(t){e.refInput=t},this._handleResize=function(t){var n=t.width;e.state.width!==n&&e.setState({width:n})}};de.displayName="ComposeBox",t.default=(0,W.default)((0,M.default)((0,x.default)((0,Y.hoc)(de),de.CONCERNS)));var he=function(e){function t(){var e,n,r;ie(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=ue(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.restoreFocus=function(){r.props.parent.restoreFocus()},r.pasteEmojiInput=function(e){r.props.parent.pasteEmojiInput(e)},r.handleRoutedPaste=function(e){r.props.parent.handleRoutedPaste(e)},r.onSendText=function(){r.props.parent.onSendText()},r.onTextSizeChange=function(e){r.props.parent.onTextSizeChange(e)},ue(r,n)}return se(t,a.PureComponent),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.chatId,n=e.listeners;n.add(s.default,`focus_chat_text_input_${t.toString()}`,this.restoreFocus),n.add(s.default,`paste_chat_text_input_${t.toString()}`,this.pasteEmojiInput),n.add(s.default,`send_paste_to_compose_${t.toString()}`,this.handleRoutedPaste),n.add(s.default,`enter_chat_text_input_${t.toString()}`,this.onSendText),n.add(s.default,"focus_chat_text_input",this.restoreFocus),n.add(s.default,"textsize_change",this.onTextSizeChange)}},{key:"render",value:function(){return null}}]),t}();he.displayName="ComposeBoxCmd";var me=(0,M.default)((0,Y.hoc)(he));function be(e){e&&(e.preventDefault(),e.stopPropagation())}function ge(e){for(var t=h.default.TEXTSIZE_CLASS_MAP,n=0;n<t.length;n++)if(t[n].scale===e)return t[n].classname}},ecfbhafded:function(e,t){e.exports={"-width-picture-bubble-inner":"330px",widthPictureBubbleInner:"330px","-padding-picture-bubble":"3px",paddingPictureBubble:"3px",muted:"_1lVvZ",bubble:"_2iEEP",vendor:"_2AMkE",meta:"_3hsuL",hasCaption:"_3pGIB",author:"_13lcO",forwarded:"_1o9Eg",forwardedIndicator:"_1T9rN",hasAuthor:"_1p_x4",quote:"_7RgFD",thumb:"_3KBs6",caption:"_2PQ0u",isPSA:"KfOVJ",isPsa:"KfOVJ",thumbVideo:"_16iRL",thumbImage:"_3zi7t",isGallery:"_2ye2k",isInfo:"_3PBoC"}},ecffadehg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.markExited=function(e){if(o.default.supportsFeature(o.default.F.MODEL_STORAGE))return r.default.merge(e.toString(),{isReadOnly:!0});return Promise.resolve()},t.sendExitGroup=function(e){var t=void 0;if(o.default.supportsFeature(o.default.F.MD_BACKEND))return Promise.reject(new Error("sendExitGroup: not supported when not build with MD_BACKEND"));t=i.default.leaveGroup(e).then(function(e){return 200!==e.status?Promise.reject(new a.ServerStatusCodeError(e.status)):{_duplicate:e._duplicate}});return t};var r=u(n("begbbgieee")),a=n("ddjgcfjicj"),o=u(n("ccaaiecfib")),i=u(n("bihdhbjih"));function u(e){return e&&e.__esModule?e:{default:e}}},ecfgejfiia:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n("gcfidijgh")),a=v(n("chdchcgfaf")),o=v(n("cajgdeffge")),i=v(n("eaaagccfda")),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),c=v(n("gbfffciea")),f=v(n("dbdjchfgia")),d=v(n("eceadcicaf")),p=n("ejbdjaifi"),h=n("hjbbdjjdf"),m=v(n("bdiiahhjbe")),b=v(n("egjjcjcg")),g=v(n("eadfaddcj"));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=(0,i.default)(function(e){b.default.setVideoVolumeSetting(e)},500),O=(0,i.default)(function(e){b.default.setVideoMutedSetting(e)},500),S={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},w={width:"100%",height:"100%",playerVars:{cc_load_policy:1,iv_load_policy:3,controls:0,playsinline:1,rel:0,modestbranding:0,autoplay:0}},P=function(e){function t(){var e,n,r;y(this,t);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=r=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.updateInterval=null,r.player=void 0,r.currentTime=0,r.videoLoadedFraction=0,r.getPlayerState=function(){return r.player?r.player.getPlayerState():void 0},r.setStartTime=function(){r.player&&(0,h.isNumber)(r.props.startTime)&&r.player.seekTo(r.props.startTime,!0)},r.onOtherPlaying=function(e){e!==r&&r.player&&r.player.pauseVideo()},r.onReady=function(e){r.player=e.target;var t=r.player,n=b.default.getVideoVolumeSettings(),i=void 0,u=void 0;n&&((0,o.default)(n.volume)&&(i=n.volume),(0,a.default)(n.muted)&&(u=n.muted));var s=t.getDuration(),l=null!=i?i:.01*t.getVolume(),c=null!=u?u:t.isMuted(),f=t.getIframe().getBoundingClientRect(),d=f.width,p=f.height;r.videoTagMetadata={duration:s,volume:l,muted:c,videoWidth:d,videoHeight:p},r.props.onLoadedMetadata(r.videoTagMetadata),r.currentTime=t.getCurrentTime(),r.updateInterval=setInterval(r.update,250),null!=r.props.startTime&&r.setStartTime(),null!=i&&r.setVolume(i),null!=u&&r.setMuted(u)},r.update=function(){var e=r.player;if(e){var t=e.getCurrentTime();t!==r.currentTime&&(r.currentTime=t,r.props.onTimeUpdate(t));var n=e.getVideoLoadedFraction();if(n!==r.videoLoadedFraction){r.videoLoadedFraction=n;var a=r.videoTagMetadata?r.videoTagMetadata.duration*n:0;r.props.onProgress([[0,a]])}var o=r.videoTagMetadata;if(o){var i=.01*e.getVolume(),s=e.isMuted();i===o.volume&&s===o.muted||(r.videoTagMetadata=u({},o,{volume:i,muted:s}),r.props.onVolumeChange({volume:i,muted:s}))}}},r.onPlay=function(e){c.default.mediaPlaying(r),r.props.onPlaying()},r.onPause=function(e){r.props.onPause()},r.onEnd=function(e){r.props.onEnded();var t=r.player;t&&(t.playVideo(),t.pauseVideo())},r.onError=function(e){m.default.assert(!1,"YouTube Video Player Error",`error code: ${"number"==typeof e.data?e.data:""}`)(),r.props.onError()},r.onStateChange=function(e){e.target.getPlayerState()!==S.PLAYING&&r.props.onPause()},r.play=function(){r.player&&r.player.playVideo()},r.pause=function(){r.player&&r.player.pauseVideo()},r.getPaused=function(){return!r.player||r.getPlayerState()!==S.PLAYING},r.getCurrentTime=function(){return r.player?r.player.getCurrentTime():0},r.setCurrentTime=function(e){r.player&&r.player.seekTo(e,!0)},r.getDuration=function(){return r.player?r.player.getDuration():0},r.getVolume=function(){return r.player?.01*r.player.getVolume():0},r.setVolume=function(e){r.player&&(r.player.setVolume(100*e),j(e))},r.getMuted=function(){return!!r.player&&r.player.isMuted()},r.setMuted=function(e){var t=r.player;t&&(e?t.mute():t.unMute(),O(e))},_(r,n)}return E(t,l.PureComponent),s(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.listeners.add(c.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(c.default,"pttRecording",this.pause)}},{key:"componentWillUnmount",value:function(){this.updateInterval&&clearInterval(this.updateInterval)}},{key:"componentDidUpdate",value:function(e){e.startTime!==this.props.startTime&&this.setStartTime()}},{key:"render",value:function(){var e=(0,r.default)({},w,{playerVars:{autoplay:this.props.autoPlay?1:0,widget_referrer:g.default.WHATSAPP_ORIGIN,origin:window.location.origin}});return l.createElement(f.default,{videoId:this.props.youtubeVideoId,opts:e,onReady:this.onReady,onPlay:this.onPlay,onPause:this.onPause,onEnd:this.onEnd,onError:this.onError,onStateChange:this.onStateChange})}}]),t}();P.displayName="YoutubeVideoTag";var M=(0,d.default)((0,p.hoc)(P)),C=function(e){function t(){var e,n,r;y(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.play=function(){r.getComponent().play()},r.pause=function(){r.getComponent().pause()},r.getPaused=function(){return r.getComponent().getPaused()},r.getCurrentTime=function(){return r.getComponent().getCurrentTime()},r.setCurrentTime=function(e){r.getComponent().setCurrentTime(e)},r.getDuration=function(){return r.getComponent().getDuration()},r.getVolume=function(){return r.getComponent().getVolume()},r.setVolume=function(e){r.getComponent().setVolume(e)},r.getMuted=function(){return r.getComponent().getMuted()},r.setMuted=function(e){r.getComponent().setMuted(e)},_(r,n)}return E(t,M),t}();t.default=C},ecgeiijacj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("cbiciaafaf")),o=i(n("effbcehec"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.children;return r.createElement("div",{"data-a8n":o.default.key("tooltip"),className:a.default.tooltip},t)};u.displayName="Tooltip",t.default=u},ecgfaicjah:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("bifahbdaeg")),i=s(n("ihfccfgdf")),u=n("ejbdjaifi");function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.msg;return a.createElement(o.default,{msg:e,chat:e.chat,author:this.props.contact.formattedShortName,searchText:this.props.searchText,onClick:this.props.onClick,active:this.props.active,key:e.id.toString()})}}]),t}();l.CONCERNS={msg:["id","chat"],contact:["formattedShortName"]},l.displayName="MessageWithAuthorClass",t.default=(0,i.default)((0,u.hoc)(l),l.CONCERNS)},ecgfheibgg:function(e,t){e.exports={muted:"_2DHGI",wrapper:"_3cNlM",icon:"_3C_ON",verifiedText:"_36_SM",divider:"_3F9pD"}},echbdbadad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("effbcehec")),i=n("ebjaejiaba"),u=m(n("gbfffciea")),s=m(n("ccaaiecfib")),l=n("dacdidjdfi"),c=m(l),f=m(n("fifhbjiec")),d=m(n("biddiiafgd")),p=m(n("dhcejciehh")),h=n("cjciachhej");function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={keepStarred:!0},r.onCancel=function(){u.default.closeModal()},r.onClear=function(){var e=r.props.chat;e.pendingAction++,(0,h.sendClear)(e,s.default.supportsFeature(s.default.F.CHAT_CLEAR_STARRED)&&r.state.keepStarred).finally(function(){e.pendingAction--}),u.default.closeModal()},r.onToggleStarred=function(){r.setState({keepStarred:!r.state.keepStarred})},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"getText",value:function(){var e=this.props.chat;switch(e.kind){case i.CHAT_KIND.GROUP:return l10n.t(302,{name:e.title()});case i.CHAT_KIND.CHAT:return l10n.t(301,{name:e.title()});case i.CHAT_KIND.BROADCAST:return l10n.t(300);default:return""}}},{key:"render",value:function(){var e=void 0;return s.default.supportsFeature(s.default.F.CHAT_CLEAR_STARRED)&&(e=a.createElement("div",{className:p.default.section,onClick:this.onToggleStarred},a.createElement("div",{"data-a8n":o.default.key("menu-icon-clear-chat"),className:p.default.control},a.createElement(c.default,{onChange:this.onToggleStarred,checked:this.state.keepStarred?l.CHECKBOX_STATE.CHECKED:l.CHECKBOX_STATE.UNCHECKED})),a.createElement("div",{className:p.default.label},l10n.t(581)))),a.createElement(d.default,{onOK:this.onClear,okText:l10n.t(297),onCancel:this.onCancel},a.createElement("div",null,a.createElement(f.default,{text:this.getText()}),e))}}]),t}();g.displayName="ClearChatPopup",t.default=g},ecibddhig:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pending=l,t.PendingCancel=c,t.Download=function(e){var t=e.filesize,n=void 0===t?0:t,o=e.onClick;return n>0?r.createElement("div",{className:u.default.controls},r.createElement("button",{className:(0,a.default)(u.default.btnMeta,u.default.cursorPointer),onClick:o},r.createElement(i.default,{name:"media-download",className:u.default.iconMeta}),r.createElement("span",null,l10n.filesize(n)))):r.createElement("div",{className:u.default.controls},r.createElement("button",{className:(0,a.default)(u.default.button,u.default.cursorPointer),onClick:o},r.createElement(i.default,{name:"media-download"})))},t.Upload=function(e){var t=e.filesize,n=void 0===t?0:t;return n>0?r.createElement("div",{className:u.default.controls},r.createElement("button",{className:(0,a.default)(u.default.btnMeta,u.default.cursorPointer)},r.createElement(i.default,{name:"media-upload",className:u.default.iconMeta}),r.createElement("span",null,l10n.filesize(n)))):r.createElement("div",{className:u.default.controls},r.createElement("div",{className:u.default.button},r.createElement(i.default,{name:"media-upload"})))},t.Play=f,t.GifIcon=d;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=s(n("ceffhbhahb")),o=s(n("becfabjeeg")),i=s(n("bfdcadbbif")),u=s(n("daeidjcaja"));function s(e){return e&&e.__esModule?e:{default:e}}function l(){return r.createElement("div",{className:u.default.controls},r.createElement("div",{className:(0,a.default)(u.default.icon,u.default.cursorPointer)},r.createElement("div",{className:u.default.spinner},r.createElement(o.default,{size:50,stroke:3,color:"white"})),r.createElement("div",{className:u.default.cancel},r.createElement(i.default,{name:"media-disabled"}))))}function c(){return r.createElement("div",{className:u.default.controls},r.createElement("div",{className:(0,a.default)(u.default.icon,u.default.cursorPointer)},r.createElement("div",{className:u.default.spinner},r.createElement(o.default,{size:50,stroke:3,color:"white"})),r.createElement("div",{className:u.default.cancel},r.createElement(i.default,{name:"media-cancel"}))))}function f(){return r.createElement("div",{className:u.default.controls},r.createElement("div",{className:u.default.button},r.createElement(i.default,{name:"media-play",className:u.default.play})))}function d(e){var t=e.onClick;return r.createElement("div",{className:u.default.controls,onClick:t},r.createElement("div",{className:u.default.button},r.createElement(i.default,{name:"media-gif"})))}l.displayName="Pending",c.displayName="PendingCancel",f.displayName="Play",d.displayName="GifIcon"},ecidgeifdi:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=i(n("bdiiahhjbe")),o=i(n("ccaaiecfib"));function i(e){return e&&e.__esModule?e:{default:e}}var u={queryStickerPacks:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return new Promise(function(r,i){var u={type:o.default.isThirdPartyStickersEnabled()?"sticker_pack_v2":"sticker_pack",page:t.toString(),count:n.toString()},s=e.queryNode(u,void 0);e.binSend("sendEphemeral",s,i,{onSend:e.binWrap(function(t){e.BinaryProtocol.read(t).then(function(t){var n={};if(a.default.logColor("green","bin-recv: response,sticker_pack",t)(),"response"===e.N.tag(t)&&"sticker_pack"===e.N.attr("type",t)){var o=parseInt(e.N.attr("code",t),10)||200;n.status=o,n.data=[],n.checksum=e.N.attr("checksum",t);var i=e.N.attr("count",t);n.count=null==i?null:parseInt(i);var u=e.N.children(t);if(Array.isArray(u))for(var s=0;s<u.length;s++){var l=e.parseStickerPack(u[s]);l&&n.data.push(l)}}r(n)}).catch(i)},r),onDrop:e.wrap(i)},{debugString:"query,sticker_pack",metricName:"QUERY_STICKER_PACKS"})})},queryStickersInStickerPack:function(e){return this.queryStickers({id:e})},queryStickers:function(e){var t=this;return new Promise(function(n,o){var i=r({type:"sticker"},e),u=t.queryNode(i,void 0);t.binSend("sendEphemeral",u,o,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r={};if(a.default.logColor("green","bin-recv: response,sticker",e)(),"response"===t.N.tag(e)&&"sticker"===t.N.attr("type",e)){var o=parseInt(t.N.attr("code",e),10)||200;r.status=o,r.data=[];var i=t.N.children(e);if(Array.isArray(i))for(var u=0;u<i.length;u++){var s=t.parseSticker(i[u]);s&&r.data.push(s)}}n(r)}).catch(o)},n),onDrop:t.wrap(o)},{debugString:`query,sticker,${e.id}`,metricName:"QUERY_STICKERS"})})},parseSticker:function(e){if("sticker"===this.N.tag(e)){var t={url:this.N.attr("url",e),directPath:this.N.attr("direct_path",e),mediaKey:this.N.attr("media_key",e),filehash:this.N.attr("filehash",e),encFilehash:this.N.attr("enc_filehash",e),mimetype:this.N.attr("mimetype",e),width:parseInt(this.N.attr("width",e)||125,10),height:parseInt(this.N.attr("height",e)||125,10),size:parseInt(this.N.attr("size",e)||0,10)||null};return t.filehash?t:void 0}},parseStickerPack:function(e){if("sticker_pack"===this.N.tag(e)){var t={id:this.N.attr("id",e),name:this.N.attr("name",e),url:this.N.attr("url",e),directPath:this.N.attr("direct_path",e),mediaKey:this.N.attr("media_key",e),filehash:this.N.attr("filehash",e),encFilehash:this.N.attr("enc_filehash",e),mimetype:this.N.attr("mimetype",e)};return t.id?t:void 0}},parseStickerPackUpdate:function(e){if("sticker_pack"===this.N.tag(e)){var t=this.N.attr("type",e),n={type:t},r=[!t];return this.dropIfConditionMet(r,n)}}};e.exports=u},ecidjifge:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag"));e.exports=function(e,t){var n,i;return i=n=function(n){function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,o.Component),a(i,[{key:"render",value:function(){return o.createElement(e,r({},this.props,t))}}]),i}(),n.displayName=`Wrapper(${e.displayName||e.name})`,i}},eciicfcjdi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=s(a),i=s(n("cjcghajbag")),u=s(n("jccfhaecf"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,a.prop)(),r.afterCursor=(0,a.prop)(),r.index=(0,a.prop)(),r.fetchedFromServer=(0,a.session)(),r._products=(0,a.session)(),r._msgs=(0,a.session)(),l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"initialize",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.productCollection=new i.default,this.msgProductCollection=new i.default,this.listenTo(this,"change:_products",this.triggerProductUpdate),this.listenTo(this,"change:_msgs",this.triggerMsgUpdate),this.triggerProductUpdate(),this.triggerMsgUpdate()}},{key:"triggerProductUpdate",value:function(){this._products&&this.productCollection.add(this._products,{merge:!0}),this._products=void 0}},{key:"triggerMsgUpdate",value:function(){this._msgs&&this.msgProductCollection.add(this._msgs,{merge:!0}),this._msgs=void 0}},{key:"markProductCollectionOld",value:function(){this.productCollection.forEach(function(e){return e.markOld()})}}]),t}();c.Collection="Catalog",c.Proxy="catalog",c.idClass=u.default,t.default=(0,a.defineModel)(c)},ecjegjabde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!=r&&(t[n]=e[n]),t},{})}},edgfejedb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.handleVideoStreamingRequest=function(e){var t=e.action,r=e.message;switch(t){case o.default.REQUEST_STREAMING_INFO:return function(e){var t=u.default.get(e);return t?(0,c.videoStreamingInfo)(t):null}(r.key);case o.default.EXP_BACKOFF:var a=n("bgabgddgch");return a.expDelaySec(r.generation,60).then(function(){return s.default.waitIfOffline({signal:(new l.default).signal})});case o.default.REQUEST_RMR:return function(e){var t=u.default.get(e.key);return t?t.forceDownloadMedia().then(function(){return Promise.reject("downloaded media instead of streaming")}):null}(r);case o.default.SEND_STREAMING_CHUNK:var i=r.msgKey,f=u.default.get(i);if(!f)return void delete p[i.toString()];var h=void 0;p.hasOwnProperty(i)?h=p[i.toString()]:p[i.toString()]=h=new d(f.size),h.push(r.data),h.isComplete()&&((0,c.manuallySetMedia)(f,h.serialize()),delete p[i.toString()]);break;default:return Promise.reject("Invalid Video Streaming Action")}};var o=f(n("bbaibbdgdj")),i=f(n("bdiiahhjbe")),u=f(n("biecbbiiee")),s=f(n("deiciccchg")),l=f(n("cgeedcdffb")),c=n("ddgbhifaji");function f(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ranges=[],this.buffer=[],this.size=t,t||i.default.error(`video buffer falsy size: ${t}`)()}return a(e,[{key:"push",value:function(e){this.buffer.push(e),this.add(e.start,e.end)}},{key:"add",value:function(e,t){for(var n=e,a=this.ranges,o=0;o<a.length;o++){var i=r(a[o],2),u=i[0],s=i[1];if(!(n>s+1)){if(t+1<u)return a.splice(o,0,[n,t]);for(;o+1<a.length;){var l=r(a[o+1],2),c=l[0],f=l[1];if(t+1<c)break;n=Math.min(n,u),a.splice(o,1),u=c,s=f}return void(a[o]=[Math.min(n,u),Math.max(t,s)])}}return a.push([n,t])}},{key:"isComplete",value:function(){var e=this.ranges,t=this.size;return!!t&&(1===e.length&&0===e[0][0]&&e[0][1]===t-1)}},{key:"serialize",value:function(){for(var e=new Uint8Array(this.size),t=this.buffer,n=0;n<t.length;n++){var r=t[n],a=r.start,o=r.buffer;e.set(new Uint8Array(o),a)}return e}}]),e}();var p={}},edjfhjcce:function(e,t){e.exports={muted:"_1PYzr",container:"_7YAGC"}},eecehffbj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SKIN_TONE_VARIATIONS=void 0;var r,a=n("djegeegcbf"),o=(r=a)&&r.__esModule?r:{default:r};t.SKIN_TONE_VARIATIONS=[""].concat(o.default.skinToneVariations)},eedjbihej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.theme?o.default[e.theme]:null,n=e.color?o.default[e.color]:null,i=(0,a.default)(t,n,e.className);return e.block?r.createElement("div",{className:i},e.children):r.createElement("span",{className:i},e.children)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("ceffhbhahb")),o=i(n("dbahdjadcb"));function i(e){return e&&e.__esModule?e:{default:e}}},eeghcebdh:function(e,t){e.exports={muted:"_3VPR7",bubble:"_1YfLQ",productInfo:"_2_fsu",author:"_1y-BH",title:"_1ypng",subtitle:"_38osG",thumb:"Il57F",productContainer:"dfwro",productCta:"_3k2jA"}},eehjjeabe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("dbaedajgf");Object.defineProperty(t,"BoldFirstWord",{enumerable:!0,get:function(){return b(r).default}});var a=n("bfifighhia");Object.defineProperty(t,"Bold",{enumerable:!0,get:function(){return b(a).default}});var o=n("dacicgjcai");Object.defineProperty(t,"Code",{enumerable:!0,get:function(){return b(o).default}});var i=n("idgifdccc");Object.defineProperty(t,"Emoji",{enumerable:!0,get:function(){return b(i).default}});var u=n("beagfhhiea");Object.defineProperty(t,"Emoticon",{enumerable:!0,get:function(){return b(u).default}});var s=n("bedcejaea");Object.defineProperty(t,"Highlight",{enumerable:!0,get:function(){return b(s).default}});var l=n("dbbfeecced");Object.defineProperty(t,"Intern",{enumerable:!0,get:function(){return b(l).default}});var c=n("dfehedcfdb");Object.defineProperty(t,"Italic",{enumerable:!0,get:function(){return b(c).default}});var f=n("bbeifbebhh");Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return b(f).default}});var d=n("cbhbjajgac");Object.defineProperty(t,"Mention",{enumerable:!0,get:function(){return b(d).default}});var p=n("ccfjghjbdi");Object.defineProperty(t,"RawMention",{enumerable:!0,get:function(){return b(p).default}});var h=n("dfaebdhdda");Object.defineProperty(t,"Strikethrough",{enumerable:!0,get:function(){return b(h).default}});var m=n("bbacdcchfi");function b(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"TextMention",{enumerable:!0,get:function(){return b(m).default}})},efgfgjab:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=u(n("bebjeaagc")),i=u(n("jccfhaecf"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={isBusy:o.default.isBusy()},r.onIdle=function(){r.setState({isBusy:!1})},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.waitIdle&&(this.idleTaskId=o.default.enqueue(this.onIdle))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(!i.default.equals(this.props.id,e.id)||!e.waitIdle){this.state.isBusy&&o.default.dequeue(this.idleTaskId);var t=o.default.isBusy();t&&e.waitIdle&&(this.idleTaskId=o.default.enqueue(this.onIdle)),this.setState({isBusy:t})}}},{key:"componentWillUnmount",value:function(){this.props.waitIdle&&o.default.dequeue(this.idleTaskId)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.onComplex,r=e.waitIdle;return this.state.isBusy&&r?a.createElement(a.Fragment,null,t):n()}}]),t}();l.displayName="IdleComponent",t.default=l},efgideggi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3MsgNotFound=t.StatusV3LoadingError=t.InvalidStatusV3Iterator=void 0;var r=d(n("dbahhcabjf")),a=d(n("cfjdfebffb")),o=d(n("bfhjejbhhd")),i=d(n("dbafiicfja")),u=d(n("chihjdheic")),s=d(n("bgcdajbhif")),l=d(n("iffjgahba")),c=d(n("bdiiahhjbe")),f=d(n("bgabgddgch"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=t.InvalidStatusV3Iterator=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,(0,l.default)("InvalidStatusV3Iterator")),t}(),g=t.StatusV3LoadingError=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,(0,l.default)("StatusV3LoadingError")),t}(),v=t.StatusV3MsgNotFound=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,(0,l.default)("StatusV3MsgNotFound")),t}(),y=function(){var e=this;this.printInfo=function(){e.statuses.forEach(function(e){c.default.log(`Total count: ${e.totalCount}, unread count: ${e.unreadCount}, msgs length: ${e.msgs.length}`)()})},this.getFirstUnread=function(t,n,r){var a=(0,o.default)(e.statuses,{statusV3:t});if(-1!==a){var i=e.statuses[a],u=i.readMsgKeys,s=void 0;return r?(s=(0,o.default)(i.msgs,function(e){return r&&e.id.toString()===r.toString()}))>=0?Promise.resolve({msgIdx:s,statusIdx:a}):Promise.reject(new b):-1===(s=(0,o.default)(i.msgs,function(e){return!u.includes(e.id.toString())}))&&t.msgs.msgLoadState.noEarlierMsgs?(s=n?0:i.msgs.length-1,Promise.resolve({msgIdx:s,statusIdx:a})):-1!==s?Promise.resolve({msgIdx:s,statusIdx:a}):0===i.unreadCount&&n&&i.msgs.length>0?Promise.resolve({msgIdx:0,statusIdx:a}):e.fetchMore(t).then(function(){return e.getFirstUnread(t,n,r)}).catch(function(e){return c.default.error(`error while getting first unread status: ${String(e)}`)(),Promise.reject(new b)})}return Promise.reject(new b)},this.hasNext=function(t){var n=e.statuses[t.statusIdx];return t.msgIdx+1<n.totalCount||t.statusIdx+1<e.statuses.length},this.getNext=function(t){var n=e.statuses[t.statusIdx],r=n.statusV3;if(t.msgIdx+1<n.totalCount&&t.msgIdx+1<n.msgs.length)return Promise.resolve({msgIdx:t.msgIdx+1,statusIdx:t.statusIdx});if(t.msgIdx+1<n.totalCount)return r.msgs.msgLoadState.noEarlierMsgs?(c.default.error(`Loaded ${n.msgs.length} messages with total count ${n.totalCount}, but noEarlierMsgs set`)(),Promise.reject(new b)):e.fetchMore(r).then(function(){return e.getNext(t)}).catch(function(n){if(c.default.error(`error while loading more status msgs: ${String(n)}`)(),t.statusIdx+1<e.statuses.length){var r=e.statuses[t.statusIdx+1].statusV3;return e.getFirstUnread(r,!0)}return Promise.reject(new b)});if(t.statusIdx+1<e.statuses.length){var a=e.statuses[t.statusIdx+1].statusV3;return e.getFirstUnread(a,!0)}return Promise.reject(new b)},this.hasPrev=function(e){return e.msgIdx>0||e.statusIdx>0},this.getPrev=function(t){if(t.msgIdx>0)return Promise.resolve({msgIdx:t.msgIdx-1,statusIdx:t.statusIdx});if(t.statusIdx>0){var n=e.statuses[t.statusIdx-1].statusV3;return e.getFirstUnread(n,!1)}return Promise.reject(new b)},this.statusAt=function(t,n){var r=e.statuses[t.statusIdx],a=r.statusV3;return n<r.msgs.length?Promise.resolve({msgIdx:n,statusIdx:t.statusIdx}):a.msgs.msgLoadState.noEarlierMsgs?Promise.reject(new b):e.fetchMore(a).then(function(){return e.statusAt(t,n)}).catch(function(e){return c.default.error(`error while loading more status msgs: ${String(e)}`)(),Promise.reject(new b)})},this.fetchMore=function(t){return Promise.loop(function(n,u,s){var l=Promise.delay(f.default.expBackoff(s,12e4,1e3,.1));return t.loadMore().then(function(){var u=(0,o.default)(e.statuses,{statusV3:t});if(-1!==u){var c=e.statuses[u],f=c.totalCount,d=c.unreadCount,p=t.msgs.getModelsArray().slice(0,f),h=f-d,m=p.slice(0,h),b=(0,i.default)(m,function(e){return e.id.toString()});c.msgs=p,c.readMsgKeys=(0,a.default)((0,r.default)(c.readMsgKeys,b)),n(!0)}else{if(!(s>=4))return l;n(!1)}}).catch(function(e){if(!(s>=4))return l;n(!1)})}).then(function(e){if(!e)throw new g})}};t.default=function e(t,n){if(p(this,e),y.call(this),n){var r=(0,u.default)(t.msgs.getModelsArray(),function(e){return n&&e.id.toString()===n.toString()});if(!r)throw new v;this.statuses=[{statusV3:t,totalCount:1,unreadCount:0,msgs:[r],readMsgKeys:[r.id.toString()]}]}else if(t.unreadCount>0&&!t.contact.isMe&&!t.contact.statusMute){var a=s.default.getUnexpired(!0),o=[];a.forEach(function(e){if(!e.contact.statusMute){var t=e.msgs.getModelsArray(),n=e.totalCount-e.unreadCount,r=t.slice(0,n),a=(0,i.default)(r,function(e){return e.id.toString()});o.push({statusV3:e,totalCount:e.totalCount,unreadCount:e.unreadCount,msgs:t,readMsgKeys:a})}}),this.statuses=o}else{var l=t.msgs.getModelsArray(),c=t.totalCount-t.unreadCount,f=l.slice(0,c),d=(0,i.default)(f,function(e){return e.id.toString()}),h=[{statusV3:t,totalCount:t.totalCount,unreadCount:t.unreadCount,msgs:l,readMsgKeys:d}];this.statuses=h}this.printInfo()}},efhjefegg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("cicgeajfge"),o=v(n("dbdfbgehgj")),i=v(n("dhigahgdjb")),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),s=v(n("beijddaacj")),l=v(n("dgjddffcfg")),c=n("dhfbfehaef"),f=v(c),d=n("bbhhbdicgc"),p=v(d),h=v(n("cbgeijgefb")),m=n("bfjajhbdf"),b=v(m),g=v(n("gbfffciea"));function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=n("ccaaiecfib"),j=n("fffdgbfji"),O={SEC_FREQUENT_CONTACTS:"SEC_FREQUENT_CONTACTS",SEC_CHATS:"SEC_CHATS",SEC_CONTACTS:"SEC_CONTACTS"},S={ROW_FREQUENT_CONTACTS:"ROW_FREQUENT_CONTACTS",ROW_CHATS:"ROW_CHATS",ROW_CONTACTS:"ROW_CONTACTS"},w=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.setSearch=function(e){return r.search=e},r.setList=function(e){return r.list=e},r.state={filteredData:r.calculateFilteredData(r.props.searchText)},r.renderItem=function(e){switch(e.type){case O.SEC_FREQUENT_CONTACTS:return u.createElement(h.default,{header:j.t(1134)});case O.SEC_CHATS:return u.createElement(h.default,{header:j.t(1272)});case O.SEC_CONTACTS:return u.createElement(h.default,{header:j.t(1226)});case S.ROW_FREQUENT_CONTACTS:case S.ROW_CHATS:case S.ROW_CONTACTS:var t=e.data,n=!1,a=void 0;return r.props.hasFrequentlyForwarded&&t.groupMetadata&&t.groupMetadata.noFrequentlyForwarded&&(n=!0,a=j.t(436)),u.createElement(s.default,{key:t.id.toString(),chat:t,active:r.props.activeChat,selections:r.props.selectedChats,onSelect:r.handleSelect,disabled:n,customSecondaryText:a});default:throw new d.UnknownDataError(e)}},r.handleSelect=function(e,t,n){var a=r.props,o=a.selectedChats,i=a.maxChats,s=a.activeChat,l=a.onSelectionChanged,c=a.hasFrequentlyForwarded;if(t&&"number"==typeof i&&o.getSelected().length>=i){var f=c?j.t(431,{count:i,_plural:i}):j.t(430,{count:i,_plural:i});g.default.openToast(u.createElement(b.default,{id:(0,m.genId)(),msg:f}))}else o.setVal(e,t,n),s.setVal(e,n),l&&l(e,t)},r.onCancelSelection=function(){r.props.selectedChats.unsetAll()},r.onFocusList=function(e){e.preventDefault(),e.stopPropagation(),(0,c.shouldIndicateFocus)(),r.props.activeChat.setFirst(!0),r.list&&r.list.scrollIntoViewIfNeeded(r.props.activeChat.index)},r.onNext=function(e){e.preventDefault(),e.stopPropagation(),r.props.activeChat.setNext(!0),r.list&&r.list.scrollIntoViewIfNeeded(r.props.activeChat.index)},r.onPrev=function(e){e.stopPropagation(),e.preventDefault(),r.props.activeChat.prev()>-1?(r.props.activeChat.setPrev(!0),r.list&&r.list.scrollIntoViewIfNeeded(r.props.activeChat.index)):r.props.onLeaveList&&(r.props.onLeaveList(e),r.props.activeChat.unset())},_(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.props.activeChat.init(this.flattenData(this.state.filteredData)),this.props.getInitialItems&&this.props.getInitialItems().forEach(function(t){return e.props.selectedChats.setVal(t,!0)})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.searchText!==this.props.searchText){var t=this.calculateFilteredData(e.searchText);this.setState({filteredData:t}),this.props.activeChat.init(this.flattenData(t))}}},{key:"calculateFrequentContacts",value:function(e){var t=this.props,n=t.msgType,r=t.excludeChat;return e||!E.supportsFeature(E.F.FREQUENT_CONTACTS)?[]:i.default.frequentContacts(n,r)}},{key:"calculateFilteredChats",value:function(e){var t=e;if(t){t=j.accentFold(t);var n=l.default.numberSearch(t);return o.default.filter(function(e){return e.canSend&&e.isVisible&&e.contact.searchMatch(t,n)})}return o.default.filter(function(e){return e.canSend&&e.isVisible})}},{key:"calculateFilteredContacts",value:function(e){var t=e,n=i.default.getFilteredContacts();if(!t)return n;t=j.accentFold(e);var r=l.default.numberSearch(t);return n.filter(function(e){return e.searchMatch(t,r)})}},{key:"calculateFilteredData",value:function(e){var t={};return{frequentContacts:this.calculateFrequentContacts(e).map(function(e){var n=e.isGroup?o.default.get(e.id):e;return n&&(t[n.id]=!0),n}).filter(Boolean),chats:this.calculateFilteredChats(e).map(function(e){var n=e.isGroup?e:e.contact;return t[n.id]?null:(t[n.id]=!0,n)}).filter(Boolean),contacts:this.calculateFilteredContacts(e).map(function(e){return t[e.id]?null:e}).filter(Boolean)}}},{key:"flattenData",value:function(e){var t=e.frequentContacts,n=e.chats,r=e.contacts;return t.concat(n,r)}},{key:"isEmpty",value:function(){var e=this.state.filteredData,t=e.frequentContacts,n=e.chats,r=e.contacts;return!t.length&&!n.length&&!r.length}},{key:"getData",value:function(){var e=[],t=this.state.filteredData,n=t.frequentContacts,r=t.chats,a=t.contacts;return n.length&&(e.push({itemKey:O.SEC_FREQUENT_CONTACTS,type:O.SEC_FREQUENT_CONTACTS}),e.push.apply(e,y(n.map(function(e){return{itemKey:e.id.toString(),type:S.ROW_FREQUENT_CONTACTS,data:e}})))),r.length&&(e.push({itemKey:O.SEC_CHATS,type:O.SEC_CHATS}),e.push.apply(e,y(r.map(function(e){return{itemKey:e.id.toString(),type:S.ROW_CHATS,data:e}})))),a.length&&(e.push({itemKey:O.SEC_CONTACTS,type:O.SEC_CONTACTS}),e.push.apply(e,y(a.map(function(e){return{itemKey:e.id.toString(),type:S.ROW_CONTACTS,data:e}})))),e}},{key:"toggleFirst",value:function(e){var t=this.state.filteredData,n=t.frequentContacts,r=t.chats,a=t.contacts,o=void 0;if(n.length)o=n[0];else if(r.length)o=r[0];else{if(!a.length)return;o=a[0]}var i=!this.props.selectedChats.isSelected(o);this.handleSelect(o,i,e)}},{key:"getList",value:function(){return this.isEmpty()?null:u.createElement(p.default,{ref:this.setList,flatListController:this.props.flatListController,forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem})}},{key:"render",value:function(){var e=this.getList();e||(e=this.props.searchText?u.createElement(a.Search,null):u.createElement(a.ListChats,null));var t={down:this.onNext,up:this.onPrev};return u.createElement(f.default,{handlers:t},e)}}]),t}();w.displayName="MultiSelectChatList",t.default=w},efjajjbaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=M(n("eaeajdggge")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=M(n("bfejacaeaj")),i=P(n("ddhijeejag")),u=P(n("cajijabhgb")),s=M(n("cfigdibdj")),l=M(n("gbfffciea")),c=M(n("eadfaddcj")),f=M(n("biddiiafgd")),d=M(n("dbgdaechch")),p=M(n("bhhdeihhhf")),h=M(n("fifhbjiec")),m=M(n("cieccfhhib")),b=M(n("ccaaiecfib")),g=M(n("cieaaiahhf")),v=M(n("behbjhhbg")),y=M(n("bfgbdiffgd")),_=M(n("decebhabae")),E=M(n("bfdcadbbif")),j=M(n("ecgeiijacj")),O=M(n("dcjdgceiej")),S=n("bfbggcdbfb"),w=n("cgffhfegce");function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function M(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,c=Array(o),d=0;d<o;d++)c[d]=arguments[d];return n=a=C(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.setDocPicker=function(e){return a.docPicker=e},a.setMediaPicker=function(e){return a.mediaPicker=e},a.onDocumentPick=function(e){if(e){e.stopPropagation();var t=(0,r.default)(e.target.files);if(a.dismiss(),t.length){var n=t.map(function(e){return{file:e,type:w.FILETYPE.DOCUMENT}});a.canSendDocument()?l.default.attachMediaDrawer({chat:a.props.chat,files:n,fileOrigin:S.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY}):a.showCantSendDocument()}}else a.dismiss()},a.onMediaPick=function(e){if(e){e.stopPropagation();var t=(0,r.default)(e.target.files);a.dismiss(),t.length&&l.default.attachMediaDrawer({chat:a.props.chat,files:t,fileOrigin:S.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,initCaption:a.props.getComposeContents&&a.props.getComposeContents(),onComplete:function(e,t){a.props.onMenuComplete&&a.props.onMenuComplete(e,t)}})}else a.dismiss()},a.onMediaClick=function(e){if(e.preventDefault(),a.mediaPicker)return a.mediaPicker.open(),!1},a.onDocumentClick=function(e){if(e.preventDefault(),a.canSendDocument()&&a.docPicker)return a.docPicker.open(),!1;a.showCantSendDocument()},a.onContactClick=function(e){e.preventDefault(),l.default.openModal(i.createElement(s.default,{chat:a.props.chat}))},a.showCantSendDocument=function(e){var t=void 0;if(e instanceof u.InvalidMediaFileType)t=l10n.t(265);else if(e instanceof g.default)t=l10n.t(675,{maxSize:l10n.filesize(y.default.media)});else{var n=a.props.chat;t=n.isUser?l10n.t(263,{contact:n.title()}):l10n.t(264,{group:n.title()})}l.default.openModal(i.createElement(f.default,{key:"doc_cant_send",onOK:function(){return l.default.closeModal()}},i.createElement(h.default,{text:t})))},C(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"canSendDocument",value:function(){return b.default.supportsFeature(b.default.F.ENC_DOC)}},{key:"dismiss",value:function(){var e=this.context.uim;e&&e.uie.requestDismiss()}},{key:"renderAttachDocDropdownItem",value:function(){return b.default.supportsFeature(b.default.F.ENC_DOC)?i.createElement(p.default,{type:"icon",tooltip:i.createElement(j.default,null,l10n.t(185)),a8n:"mi-attach-document",action:this.onDocumentClick},i.createElement("button",{className:_.default.iconsItem,"data-animate-menu-icons-item":!0},i.createElement(E.default,{name:"document"}),i.createElement(m.default,{ref:this.setDocPicker,mimes:v.default.DOC_MIMES,onChange:this.onDocumentPick}))):null}},{key:"render",value:function(){return i.createElement("div",{className:_.default.attachMenuContainer},i.createElement(d.default,{type:"menu",key:"AttachMenuDropdown"},i.createElement(p.default,{type:"icon",tooltip:i.createElement(j.default,null,l10n.t(188)),a8n:"mi-attach-media",action:this.onMediaClick},i.createElement("button",{className:_.default.iconsItem,"data-animate-menu-icons-item":!0},i.createElement(E.default,{name:"image"}),i.createElement(m.default,{ref:this.setMediaPicker,mimes:[c.default.IMAGE_MIMES,c.default.VIDEO_MIMES].join(","),onChange:this.onMediaPick}))),i.createElement(p.default,{type:"icon",tooltip:i.createElement(j.default,null,l10n.t(183)),a8n:"mi-attach-camera",action:this.props.onCaptureClick,disabled:!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)},i.createElement("button",{className:_.default.iconsItem,"data-animate-menu-icons-item":!0},i.createElement(E.default,{name:"camera"}))),this.renderAttachDocDropdownItem(),i.createElement(p.default,{type:"icon",tooltip:i.createElement(j.default,null,l10n.t(189)),a8n:"mi-attach-contact",action:this.onContactClick},i.createElement("button",{className:_.default.iconsItem,"data-animate-menu-icons-item":!0},i.createElement(E.default,{name:"contact"})))))}}]),t}();T.contextTypes={uim:o.default.instanceOf(O.default)},T.displayName="AttachMenuDropdown",t.default=T},egfffcbhi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n("ddjgcdciii")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=p(n("eceadcicaf")),u=n("ejbdjaifi"),s=p(n("fffdgbfji")),l=p(n("bgcdajbhif")),c=p(n("cdebbfjhbf")),f=p(n("gbfffciea")),d=p(n("bfdcadbbif"));function p(e){return e&&e.__esModule?e:{default:e}}var h=n("bhfdfhefca").MenuBarItem,m=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));b.call(e);var n=(0,r.default)(l.default.getUnexpired(!0),function(e){return e.unreadCount>0&&!e.contact.statusMute});return e.state={hasUnread:n},e.lastViewerTimestamps={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.listeners.add(l.default,"add remove change:unreadCount change:t",this.onUnreadChange)}},{key:"render",value:function(){var e=this.state.hasUnread?o.createElement(d.default,{name:"status-v3-unread",directional:!0}):o.createElement(d.default,{name:"status-v3"});return o.createElement(h,{a8nText:"menu-bar-status",icon:e,title:s.default.t(1205),onClick:this.onStatus})}}]),t}();m.CONCERNS={statusV3:["unreadCount"]};var b=function(){var e=this;this.onUnreadChange=function(){var t=(0,r.default)(l.default.getUnexpired(!0),function(t){var n=e.lastViewerTimestamps[t.id.toString()],r=!n||t.t>n;return!t.contact.statusMute&&t.unreadCount>0&&r});t!==e.state.hasUnread&&e.setState({hasUnread:t})},this.updateViewerTimestamps=function(){l.default.getUnexpired(!0).forEach(function(t){e.lastViewerTimestamps[t.id.toString()]=t.t})},this.onFlowEnd=function(){e.updateViewerTimestamps(),e.setState({hasUnread:!1})},this.onStatus=function(t){t.preventDefault(),f.default.openModalMedia(o.createElement(c.default,{onFlowEnd:e.onFlowEnd,removeTopDrawer:!1}),{transition:"status-v3-modal"})}};m.displayName="StatusV3MenuBarItem",t.default=(0,i.default)((0,u.hoc)(m))},egibbfjcd:function(e,t){e.exports={muted:"_12Ocw",action:"_3gGZl"}},ehaaiddhe:function(e,t){e.exports={muted:"eSAR4",addLabelBtContainer:"_2kvFV"}},ehfgacedb:function(e,t,n){"use strict";var r=m(n("ddfeabiaci")),a=m(n("dbafiicfja")),o=m(n("begjbhhee")),i=m(n("gcfidijgh")),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=m(n("bjigbaghc")),l=m(n("bdiiahhjbe")),c=m(n("ccgjijjbbj")),f=m(n("eaaehfdjdg")),d=m(n("jccfhaecf")),p=n("hjbbdjjdf"),h=n("bffjfbgbg");function m(e){return e&&e.__esModule?e:{default:e}}var b=n("hgjcbccfg"),g=n("dgdjiicfdg"),v=n("djafcfdghc"),y=n("edbaidcaf"),_=n("cbebjghfgg"),E={version:"09",BinaryProtocol:null,N:null,M:{DEBUG_LOG:1,QUERY_RESUME:2,QUERY_RECEIPT:3,QUERY_MEDIA:4,QUERY_CHAT:5,QUERY_CONTACTS:6,QUERY_MESSAGES:7,PRESENCE:8,PRESENCE_SUBSCRIBE:9,GROUP:10,READ:11,CHAT:12,RECEIVED:13,PIC:14,STATUS:15,MESSAGE:16,QUERY_ACTIONS:17,BLOCK:18,QUERY_GROUP:19,QUERY_PREVIEW:20,QUERY_EMOJI:21,QUERY_MESSAGE_INFO:22,SPAM:23,QUERY_SEARCH:24,QUERY_IDENTITY:25,QUERY_URL:26,PROFILE:27,CONTACT:28},addContact:function(e){var t=this;return new Promise(function(n,r){var a=t.actionNode("set",[["contacts",{type:"add"},e]]);t.binSend("send",a,r,{clientCacheable:!0,onSend:t.binWrap(n,n),onDrop:t.wrap(r)},{debugString:"action,contact,add",metricName:"CONTACT",ackRequest:!0})})},addParticipants:function(e,t){return this.setGroupParticipants("add",e,t)},changeSubject:function(e,t){var n=this;return new Promise(function(r,a){var o=f.default.tag(),i=n.wrap(r);i.tag=o;var u=["group",{id:o,jid:e,type:"subject",author:s.default.me,subject:t},void 0],l=n.actionNode("set",[u]);n.binSend("send",l,a,{clientCacheable:!0,onSend:i,onDrop:n.wrap(a)},{debugString:"action,group,subject",metricName:"GROUP",ackRequest:!1,expires:g().unix()})})},chatFindQuery:function(e,t){var n=this;return new Promise(function(r,a){var o={type:"chat"};"boolean"==typeof e&&e?o.kind="retry":"string"==typeof e&&(o.jid=e);var i=n.queryNode(o,void 0);n.binSend("sendEphemeral",i,a,{onSend:n.binWrap(function(e){n.BinaryProtocol.read(e).then(function(e){var t=[],a=n.N.children(e);if("response"===n.N.tag(e)&&"chat"===n.N.attr("type",e))if("true"===n.N.attr("duplicate",e))t="preempted";else if(Array.isArray(a)){var o=void 0,i=a.length;for(o=0;o<i;o++){var u=n.parseChat(a[o]);u&&t.push(u)}}r(t)}).catch(a)},r),logOnSend:t,onDrop:n.wrap(a)},{debugString:["query","chat",e].join(),metricName:"QUERY_CHAT",ackRequest:!1})})},contactFindQuery:function(e,t){var n=this;return new Promise(function(r,a){var o=n.queryNode({type:"contacts",kind:e?"retry":void 0},void 0);n.binSend("send",o,a,{onSend:n.binWrap(function(e){n.BinaryProtocol.read(e).then(function(e){var t=[],a=n.N.children(e);if("response"===n.N.tag(e)&&"contacts"===n.N.attr("type",e))if("true"===n.N.attr("duplicate",e))t="preempted";else if(Array.isArray(a)){var o=void 0,i=a.length;for(o=0;o<i;o++){var u=n.parseContact(a[o]);u&&t.push(u)}}r({checksum:n.N.attr("checksum",e),data:t})}).catch(a)},r),logOnSend:t,onDrop:n.wrap(a)},{debugString:"query,contacts, "+String(e),metricName:"QUERY_CONTACTS",ackRequest:!1})})},createGroup:function(e,t){var n=this;return new Promise(function(r,a){var o=f.default.tag(),i=n.wrap(r);i.tag=o;var u=t.map(function(e){return["participant",{jid:e},void 0]});l.default.log("create group tag",o)();var c=["group",{id:o,type:"create",author:s.default.me,subject:e},u],d=n.actionNode("set",[c]);n.binSend("send",d,a,{clientCacheable:!0,onSend:i,onDrop:n.wrap(a)},{debugString:"action,group,create",metricName:"GROUP",ackRequest:!1,expires:g().unix()})})},deletePicture:function(e){var t=this;return new Promise(function(n,r){var a=f.default.tag(),o=t.wrap(n);o.tag=a;var i=["picture",{id:a,jid:e,type:"delete"},void 0],u=t.actionNode("set",[i]);t.binSend("send",u,r,{clientCacheable:!0,onSend:o,onDrop:t.wrap(r)},{debugString:"action,delete_pic,"+e,metricName:"PIC",ackRequest:!1,expires:g().unix()})})},groupMetadataFindFromPhone:function(e){var t=this;return new Promise(function(n,r){var a=t.queryNode({type:"group",jid:e},[]);t.binSend("sendEphemeral",a,r,{onSend:t.binWrap(function(a){t.BinaryProtocol.read(a).then(function(r){if("response"===t.N.tag(r)&&"group"===t.N.attr("type",r)){var a=t.N.children(r),o=a&&a[0];if(o)if("missing"!==t.N.attr("type")){var i=[],u=void 0,s=t.N.children(o);Array.isArray(s)&&s.forEach(function(e){switch(t.N.tag(e)){case"participant":i.push({id:t.N.attr("jid",e),isAdmin:"admin"===t.N.attr("type",e)});break;case"description":u=t.N.dataStr(e)}}),n({status:"ok",data:{id:e,owner:t.N.attr("creator",o),creation:parseInt(t.N.attr("create",o),10)||void 0,participants:i,desc:u}})}else n({status:"missing"});else n({status:"error",info:"bad format: no group node"})}else n({status:"error",info:"bad format: response incorrect"})}).catch(r)},n),onDrop:t.wrap(r)},{debugString:"query,group,"+e,metricName:"QUERY_GROUP",ackRequest:!1})})},leaveGroup:function(e){var t=this;return new Promise(function(n,r){var a=f.default.tag(),o=t.wrap(n);o.tag=a;var i=["group",{id:a,jid:e,type:"leave",author:s.default.me},void 0],u=t.actionNode("set",[i]);t.binSend("send",u,r,{clientCacheable:!0,onSend:o,onDrop:t.wrap(r)},{debugString:"action,group,delete",metricName:"GROUP",ackRequest:!1,expires:g().unix()})})},msgCreateRecord:function(e,t){var n=this;return new Promise(function(r,a){var o=e.id.id,s=void 0,c=void 0;if("chat"===e.type){var f=[["body",void 0,e.body]];"url"===e.subtype&&f.push(["media",{type:"url",title:e.title,description:e.description,"canonical-url":e.canonicalUrl,"matched-text":e.matchedText,preview:e.richPreviewType,encoding:"raw"},e.thumbnail?b.decode(e.thumbnail):void 0]),c=Promise.resolve(["message",{type:"text",to:e.to,id:e.id.id,t:e.t.toString()},f])}else if("location"===e.type)s=e.body?b.decode(e.body):void 0,c=Promise.resolve(["message",{type:"media",to:e.to,id:e.id.id,t:e.t.toString()},[["media",{type:"location",latitude:e.lat||void 0,longitude:e.lng||void 0,name:e.loc&&e.clientUrl?e.loc:void 0,url:e.loc&&e.clientUrl?e.clientUrl:void 0,encoding:e.body?"raw":void 0},s]]]);else if("vcard"===e.type){var d=["vcard",{name:e.subtype},e.body];c=Promise.resolve(["message",{type:"media",to:e.to,id:e.id.id,t:e.t.toString()},[["media",{type:"vcard"},[d]]]])}else{var p=e.mediaKey;s=e.body?b.decode(e.body):void 0;var h="ptt"===e.type?"audio":e.type,m={};c=(t&&!p?n.sendMedia(e.avparams):Promise.resolve((0,i.default)({status:200,type:h},e.avparams))).then(function(t){if(200===t.status)return Promise.resolve(["message",u({type:"media",to:e.to,id:e.id.id,t:e.t.toString()},m),[["media",{encoding:e.body?"raw":void 0,origin:"ptt"===e.type?"live":void 0,seconds:"ptt"===e.type&&e.duration?e.duration.toString():void 0,type:t.type,mimetype:e.mimetype||t.mimetype||void 0,size:e.size?e.size.toString():void 0,filehash:t.filehash,url:t.url,duration:t.duration?t.duration.toString():void 0,vcodec:t.vcodec||void 0,width:t.width?t.width.toString():void 0,height:t.height?t.height.toString():void 0,fps:t.fps?t.fps.toString():void 0,vbitrate:t.vbitrate?t.vbitrate.toString():void 0,acodec:t.acodec||void 0,asampfreq:t.asampfreq?t.asampfreq.toString():void 0,asampfmt:t.asampfmt||void 0,abitrate:t.abitrate?t.abitrate.toString():void 0,caption:"video"!==e.type&&"image"!==e.type&&"document"!==e.type||!e.caption?void 0:e.caption,page_count:"number"!=typeof e.pageCount||isNaN(e.pageCount)?void 0:e.pageCount.toString(),media_key:p,filename:t.filename},s]]]);var n=`wap:msgCreateRecord:sendMedia error ${t.status}`;return l.default.error(n)(),Promise.reject(n)}).catch(function(){return l.default.error("wap:msgCreateRecord:sendMedia dropped")(),Promise.reject("wap:msgCreateRecord:sendMedia dropped")})}c.then(function(t){var i=n.actionNode("relay",[t]),u=n.wrap(r);u.tag=o,u.meta={type:"message",key:e.id},n.binSend("send",i,a,{onSend:u,onDrop:n.wrap(a)},{debugString:["action","message",e.type,e.subtype].join(),metricName:"MESSAGE",ackRequest:!1})}).catch(function(){l.default.error("wap:msgCreateRecord mPromise error")(),a("wap:msgCreateRecord mPromise error")})})},msgFindQuery:function(e,t,n){var r=this,a=e;return new Promise(function(e,o){var i=void 0,u="";switch(a){case"after":t.id||(a="before");case"before":i={type:"message",kind:a,jid:t.remote,count:t.count.toString(),index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},u=[t.toString(),t.count].join();break;case"search":i={type:"search",search:t.searchTerm,page:t.page.toString(),count:t.count.toString()},u=["search",t.page,t.count].join();break;case"star":i={type:"star",chat:t.chat,count:t.count.toString(),jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},u="starred";break;case"media":i={type:"media_message",count:t.count.toString(),kind:t.direction,jid:t.remote,index:t.id,owner:void 0===t.fromMe?void 0:t.fromMe.toString(),participant:t.participant},u="media"}var s=r.queryNode(i,void 0);r.binSend("sendEphemeral",s,o,{onSend:r.binWrap(function(t){r.BinaryProtocol.read(t).then(function(t){var n=[],o=r.N.children(t);if(l.default.logColor("green","bin-recv: response,msg",t)(),"response"===r.N.tag(t)&&("message"===r.N.attr("type",t)||"star"===r.N.attr("type",t)||"search"===r.N.attr("type",t)||"media_message"===r.N.attr("type",t))){if(Array.isArray(o)){var i=void 0,u=o.length;for(i=0;i<u;i++){var s=r.parseMsg(o[i],"response");s&&n.push(s)}}"search"===r.N.attr("type",t)?n={eof:"true"===r.N.attr("last",t),messages:n}:"media"===a&&(n={messages:n})}e(n)}).catch(o)},e),onDrop:r.wrap(o),logOnSend:n},{debugString:"query,message,"+u,metricName:"search"===a?"QUERY_SEARCH":"QUERY_MESSAGES",ackRequest:!1})})},parseAck:function(e){if("received"===this.N.tag(e)){var t=this.N.attr("type",e),n=this.N.attr("id",e),r=this.N.attr("to",e),a=void 0;switch(t){case"message":a=2;break;case"read":a=3;break;case"played":a=4;break;case"error":a=-1;break;case"pending":default:a=0}var o={cmd:"ack",id:n,ack:a,from:s.default.me,to:r},i=[!n,!r,"message"!==t&&"read"!==t&&"played"!==t&&"error"!==t&&"pending"!==t];return this.dropIfConditionMet(i,o)}l.default.assert(!1,"wap-unexpected-tag",`expected tag: received, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseBattery:function(e){if("battery"===this.N.tag(e)){var t=Math.min(parseInt(this.N.attr("value",e),10)||-1,100),n=this.N.attr("live",e),r={battery:t<0?void 0:t,plugged:n?"true"===n:void 0},a=[t<0&&!n];return this.dropIfConditionMet(a,r)}l.default.assert(!1,"wap-unexpected-tag",`expected tag: battery, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseBCUpdate:function(e){if("broadcast"===this.N.tag(e)&&"modify"===this.N.attr("type",e)){var t=this.N.attr("jid",e),n=this.N.children(e),r=[];if(Array.isArray(n)){var a=n.length,o=void 0,i=void 0,u=void 0;for(o=0;o<a;o++)i=n[o],u=this.N.attr("jid",i),"recipient"===this.N.tag(i)&&u&&d.default.isUser(u)&&r.push({id:u})}var s={id:t,participants:r},c=[!t,!d.default.isBroadcast(t),0===r.length];return this.dropIfConditionMet(c,s)}l.default.assert(!1,"wap-unexpected-tag",`expected tag: broadcast, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseChat:function(e){if("chat"===this.N.tag(e)){var t=this.N.attr("kind",e),n=this.N.attr("type",e),r=this.N.attr("jid",e),a=parseInt(this.N.attr("t",e),10)||void 0,o=parseInt(this.N.attr("mute",e),10),i=parseInt(this.N.attr("before",e),10)||void 0,u="true"===this.N.attr("archive",e),s="true"===this.N.attr("read_only",e),c=parseInt(this.N.attr("modify_tag",e),10)||void 0,f=this.N.attr("name",e)||void 0,d=this.safeParseInt(e,"count"),p="true"===this.N.attr("message",e),h="true"===this.N.attr("star",e),m="false"===this.N.attr("spam",e),b=parseInt(this.N.attr("pin",e),10)||0,g=this.N.attr("old_jid",e),v=this.N.attr("new_jid",e);switch(t){case"text":case"image":case"video":case"gif":case"audio":case"ptt":case"document":case"location":case"vcard":case"url":case"sticker":break;default:t=void 0}"ahead"===n&&(n="clear");var y=this.N.children(e),_=void 0,E=void 0;if(Array.isArray(y)){_=[],E=[];var j=void 0,O=void 0,S=y.length;for(j=0;j<S;j++)if(O=y[j],"item"===this.N.tag(O)){var w=this.N.attr("index",O);w&&_.push([w,"true"===this.N.attr("owner",O),this.N.attr("participant",O)])}else if("label"===this.N.tag(O)){var P=this.N.attr("id",O);P&&E.push(P)}else{var M=this.parseMsgMessage(O,"response");M&&_.push(M)}}var C={id:r,t:a,type:n,kind:t,keys:_,before:i,archive:u,isReadOnly:s,unreadCount:d,muteExpiration:isNaN(o)?void 0:o,modifyTag:c,name:f,pendingMsgs:p,star:h,notSpam:m,pin:b,changeNumberOldJid:g,changeNumberNewJid:v,labels:E};this.pruneUndefinedProps(C);var T=[n&&"delete"!==n&&"clear"!==n&&"archive"!==n&&"unarchive"!==n&&"mute"!==n&&"star"!==n&&"unstar"!==n&&"spam"!==n&&"modify_tag"!==n&&"pin"!==n&&"modify"!==n,!n&&!r,u&&n&&"clear"!==n,"clear"!==n&&i&&i>0,"clear"!==n&&"star"!==n&&"unstar"!==n&&_&&_.length>0];return this.dropIfConditionMet(T,C)}l.default.assert(!1,"wap-unexpected-tag",`expected tag: chat, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseMsg:function(e,t){switch(this.N.tag(e)){case"message":return this.parseMsgMessage(e,t);case"groups_v2":return this.parseMsgGp2(e);case"broadcast":return this.parseMsgBroadcast(e);case"notification":return this.parseMsgNotification(e);case"call_log":return this.parseMsgCallLog(e);case"security":return this.parseMsgSecurity(e);default:return void l.default.assert(!1,"wap-unknown-tag",`received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()}},parseMsgBroadcast:function(e){if("broadcast"===this.N.tag(e)){var t=this.N.attr("type",e),n=this.N.attr("id",e),r=parseInt(this.N.attr("t",e),10)||0,a=this.N.attr("jid",e),o="true"===this.N.attr("owner",e),i=this.N.attr("participant",e),u=void 0,f=void 0;switch(t){case"create":u=""+(parseInt(this.N.attr("count",e),10)||0);break;case"add":case"remove":(f=this.N.child("participant",e))&&(u=this.N.attr("jid",f))}var p=void 0;try{p=new c.default({fromMe:o,remote:a,id:n,participant:i})}catch(e){return void l.default.error("drop: cannot create MsgKey: "+e.stack)()}var h={id:p,t:r,participant:i,type:"broadcast_notification",subtype:t,from:o?s.default.me:a,to:o?a:s.default.me,body:u||void 0},m=[!n,!r,!a,!d.default.isBroadcast(a),"create"!==t&&"add"!==t&&"remove"!==t,("add"===t||"remove"===t)&&!d.default.isWid(u)];return this.dropIfConditionMet(m,h)}l.default.assert(!1,"wap-unexpected-tag",`expected tag: broadcast, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseMsgCallLog:function(e){if("call_log"===this.N.tag(e)){var t=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("id",e),r=this.N.attr("jid",e),a="true"===this.N.attr("owner",e),o=this.N.attr("participant",e),i=this.N.attr("type",e);i;var u=void 0;try{u=new c.default({fromMe:a,remote:r,id:n,participant:o})}catch(e){return void l.default.error("drop: cannot create MsgKey: "+e.stack)()}var f={id:u,t:t,participant:o,type:"call_log",subtype:i,from:a?s.default.me:r,to:a?r:s.default.me},d=[!n,!t,!r,"miss"!==i];return this.dropIfConditionMet(d,f)}},parseMsgGp2:function(e){if("groups_v2"===this.N.tag(e)){var t=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("id",e),r=this.N.attr("jid",e),a="invis"===this.N.attr("web",e),o="true"===this.N.attr("owner",e),i=this.N.attr("type",e),u=this.N.attr("author",e),f=this.N.children(e),p=this.N.attr("participant",e),h=[],m=void 0;switch(i){case"create":case"subject":m=this.N.attr("subject",e);break;case"picture":m=this.N.attr("picture",e)}if(Array.isArray(f)){var b=void 0,g=f.length;for(b=0;b<g;b++){var v=f[b],y=this.N.attr("jid",v);"participant"===this.N.tag(v)&&y&&h.push(y)}}var _=void 0;try{_=new c.default({fromMe:o,remote:r,id:n,participant:p})}catch(e){return void l.default.error("drop: cannot create MsgKey: "+e.stack)()}var E={t:t,id:_,from:o?s.default.me:r,to:o?r:s.default.me,author:u,participant:p,body:m?m.toString():void 0,type:"gp2",subtype:i,invis:a,recipients:h},j=[!n,!t,"subject"!==i&&"add"!==i&&"invite"!==i&&"remove"!==i&&"leave"!==i&&"picture"!==i&&"modify"!==i&&"create"!==i&&"delete"!==i&&"promote"!==i&&"demote"!==i&&"revoke_invite"!==i,"subject"===i&&!m,("add"===i||"invite"===i||"remove"===i||"leave"===i||"promote"===i||"demote"===i||"modify"===i)&&0===h.length,!r,!d.default.isGroup(r)];return this.dropIfConditionMet(j,E)}l.default.assert(!1,"wap-unexpected-tag",`expected tag: groups_v2, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseMsgMessage:function(e,t){if("message"===this.N.tag(e)){var n=void 0;s.default.me.equals(this.N.attr("from",e))&&!this.N.attr("to",e)?n="in":s.default.me.equals(this.N.attr("to",e))&&!this.N.attr("from",e)&&(n="out");var r=this.N.attr("id",e),a=parseInt(this.N.attr("t",e),10)||0,o=this.N.attr("to",e)||s.default.me,u=this.N.attr("from",e)||s.default.me,f=d.default.isBroadcast(u),m=this.N.attr("participant",e),b=f?m:u,g=f?void 0:m,v=!f&&(this.N.child("broadcast",e)&&s.default.me.equals(u)),y="invis"===this.N.attr("web",e),_=this.N.attr("notify",e)||"",E=parseInt(this.N.attr("status",e))||0,j=[],O=this.N.child("broadcast",e),S="true"===this.N.attr("star",e),w=void 0;if("broadcast"!==o){var P=void 0;try{P=new c.default({from:b,to:o,id:r,participant:m,selfDir:n})}catch(e){return void l.default.error("drop: cannot create MsgKey: "+e.stack)()}switch(t){case"fresh":w=1;break;default:w=E>=-1&&E<=4?E:1}if(Array.isArray(O)){var M=void 0,C=O.length;for(M=0;M<C;M++){var T=O[M],A=this.N.attr("jid",T);"to"===this.N.tag(T)&&A&&j.push(A)}}var N=void 0,k=[],I=this.N.attr("type",e);switch(I){case"ciphertext":case"unknown":N={id:P,type:I,t:a,notifyName:_,from:b,to:o,self:n,author:g,participant:m,invis:y,ack:w,broadcast:v,recipients:j,star:S},k=[!r,!a,!b,!o];break;case"text":N={id:P,body:this.N.dataStr(this.N.child("body",e))||"",type:"chat",t:a,notifyName:_,from:b,to:o,self:n,author:g,participant:m,invis:y,ack:w,broadcast:v,recipients:j,star:S};var R=this.N.child("media",e);R&&"url"===this.N.attr("type",R)&&(0,i.default)(N,{subtype:"url",title:this.N.attr("title",R),description:this.N.attr("description",R),canonicalUrl:this.N.attr("canonical-url",R),matchedText:this.N.attr("matched-text",R),thumbnail:this.thumbFromMediaXml(R),richPreviewType:this.N.attr("preview",R)}),k=[!r,!a,!b,!o];break;case"media":var L=this.N.child("media",e),D=this.N.attr("type",L),x=this.N.attr("media_key",L),U=this.N.attr("mimetype",L),G=void 0,F=void 0,B=void 0,$=void 0,V=void 0;if("retry"===this.N.attr("reason",L))return;switch(D){case"image":case"video":case"document":var H=parseInt(this.N.attr("page_count",L),10)||0,W=(0,h.cleanIncomingFilename)(this.N.attr("filename",L));V=(0,h.cleanIncomingFilename)(this.N.attr("caption",L)),G=this.thumbFromMediaXml(L),F=this.N.attr("url",L),F=(0,p.isString)(F)&&F.indexOf("/u/")>0?void 0:F,B=this.N.attr("filehash",L),$=parseInt(this.N.attr("size",L),10)||0,N={id:P,body:G,type:D,t:a,notifyName:_,from:b,to:o,self:n,author:g,participant:m,invis:y,ack:w,clientUrl:F,duration:this.N.attr("seconds",L),broadcast:v,recipients:j,filehash:B,size:$,caption:V,mediaKey:x,star:S,pageCount:H,mimetype:U,filename:W},k=[!r,!a,!b,!o];break;case"location":var Y=this.N.attr("latitude",L),K=this.N.attr("longitude",L),q=this.N.attr("name",L);N={id:P,body:G=this.thumbFromMediaXml(L),type:D,t:a,notifyName:_,from:b,to:o,self:n,author:g,participant:m,invis:y,ack:w,clientUrl:F=this.N.attr("url",L),loc:q,lat:Y,lng:K,broadcast:v,recipients:j,star:S},k=[!r,!a,!b,!o,!Y||!K];break;case"audio":var z="live"===this.N.attr("origin",L)?"ptt":D;F=this.N.attr("url",L),F=(0,p.isString)(F)&&F.indexOf("/u/")>0?void 0:F,B=this.N.attr("filehash",L),$=parseInt(this.N.attr("size",L),10)||0,N={id:P,type:z,t:a,notifyName:_,from:b,to:o,self:n,author:g,participant:m,invis:y,ack:w,clientUrl:F,duration:this.N.attr("seconds",L),broadcast:v,recipients:j,filehash:B,size:$,star:S,mediaKey:x,mimetype:U},k=[!r,!a,!b,!o];break;case"vcard":var Q=this.N.child("vcard",L),J=this.N.dataStr(Q),Z=this.N.attr("name",Q);N={id:P,body:J,type:D,subtype:Z,t:a,notifyName:_,from:b,to:o,self:n,author:g,participant:m,invis:y,ack:w,broadcast:v,recipients:j,star:S},k=[!r,!a,!b,!o,!J,!Z];break;default:l.default.error("wap:parseMsgMessage unknown media type: "+this.N.toString(e),e)()}break;default:l.default.error("wap:parseMsgMessage unknown message type: "+this.N.toString(e),e)()}return this.dropIfConditionMet(k,N)}}else l.default.assert(!1,"wap-unexpected-tag",`expected tag: message, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseMsgNotification:function(e){if("notification"===this.N.tag(e)){var t=this.N.attr("id",e),n=parseInt(this.N.attr("t",e),10)||0,r=this.N.attr("jid",e),a=this.N.attr("participant",e),o="invis"===this.N.attr("web",e),i=this.N.dataStr(e),u="true"===this.N.attr("owner",e),f=void 0;try{f=new c.default({fromMe:u,remote:r,id:t,participant:a})}catch(e){return void l.default.error("drop: cannot create MsgKey: "+e.stack)()}var d={id:f,type:"notification",t:n,invis:o,from:u?s.default.me:r,to:u?r:s.default.me,participant:a,body:i},p=[!t,!n,!r];return this.dropIfConditionMet(p,d)}l.default.assert(!1,"wap-unexpected-tag",`expected tag: notification, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseMsgSecurity:function(e){if("security"===this.N.tag(e)){var t=parseInt(this.N.attr("t",e),10)||0,n=this.N.attr("id",e),r=this.N.attr("jid",e),a="true"===this.N.attr("owner",e),o=this.N.attr("participant",e),i=this.N.attr("type",e),u=void 0;switch(i){case"identity":var f=this.N.child("participant",e);f&&(u=this.N.attr("jid",f))}var d=void 0;try{d=new c.default({fromMe:a,remote:r,id:n,participant:o})}catch(e){return void l.default.error("drop: cannot create MsgKey: "+e.stack)()}var p={id:d,t:t,participant:o,type:"e2e_notification",subtype:i,from:a?s.default.me:r,to:a?r:s.default.me,body:u},h=[!n,!t,!r,"identity"!==i&&"encrypt"!==i,"identity"===i&&!u];return this.dropIfConditionMet(h,p)}},parseCmd:function(e){switch(this.N.tag(e)){case"read":var t=this.N.attr("jid",e),n={type:"false"===this.N.attr("type",e)?"unread":"read",jid:t},r=[!t];return this.dropIfConditionMet(r,n);case"identity":var a=this.parseIdentity(e);return a?(a.type="identity",a):void 0;default:return}},parseContact:function(e){if("user"===this.N.tag(e)){var t=this.N.attr("jid",e),n=this.N.attr("name",e),r=this.N.attr("short",e)||void 0,a=this.N.attr("type",e)||"in",o={id:t,name:n,type:a,shortName:r},i=[!t,"in"!==a&&"out"!==a&&!!a];return this.dropIfConditionMet(i,o)}l.default.assert(!1,"wap-unexpected-tag",`expected tag: user, received tag: ${this.N.tag(e)}, tag id: ${this.N.attr("id",e)}`)()},parseIdentity:function(e){var t=this.N.child("raw",e),n=this.N.child("text",e);if(t&&n&&this.N.children(t)instanceof ArrayBuffer&&this.N.dataStr(n))return{jid:this.N.attr("jid",e),binary:this.N.children(t),string:this.N.dataStr(n)}},profilePicFindThumbFromPhone:function(e,t,n){var r=this;return new Promise(function(a,o){var i={type:"preview",jid:e};t&&t.tag&&t.raw&&(i.id=t.tag),n&&(i.kind="status");var u=r.queryNode(i,[]);r.binSend("sendEphemeral",u,o,{onSend:r.binWrap(function(n){r.BinaryProtocol.read(n).then(function(n){"response"===r.N.tag(n)&&"preview"===r.N.attr("type",n)||o("Not response or preview");var i=r.N.children(n),u=i&&i[0];if(u||o("Missing preview node"),"missing"===r.N.attr("type",u))a({id:e,tag:void 0,raw:void 0});else{var s=r.N.attr("id",u),l=void 0;if(t&&s===t.tag&&t.raw)l=t.raw;else{var c=r.N.children(u);l=c?b.encode(c):void 0}a({id:e,tag:s,raw:l})}}).catch(o)},a),onDrop:r.wrap(o)},{debugString:"query,thumb,"+e,metricName:"QUERY_PREVIEW",ackRequest:!1})})},promoteParticipants:function(e,t){return this.setGroupParticipants("promote",e,t)},queryIdentity:function(e){var t=this;return new Promise(function(n,r){var a=t.queryNode({type:"identity",jid:e},void 0);t.binSend("sendEphemeral",a,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r=void 0;l.default.logColor("green","bin-recv: response,identity",e)(),"response"===t.N.tag(e)&&"identity"===t.N.attr("type",e)&&(r=t.parseIdentity(e)),n(r)}).catch(r)},n),onDrop:t.wrap(r)},{debugString:`query,identity,${e}`,metricName:"QUERY_IDENTITY",ackRequest:!1})})},queryLinkPreview:function(e){var t=this;return new Promise(function(n,r){var a=t.queryNode({type:"url",url:e},void 0);t.binSend("sendEphemeral",a,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r=void 0;if(l.default.logColor("green","bin-recv: response,url",e)(),"response"===t.N.tag(e)&&"url"===t.N.attr("type",e)){var a=t.N.children(e);r={title:t.N.attr("title",e),description:t.N.attr("description",e),canonicalUrl:t.N.attr("canonical-url",e),matchedText:t.N.attr("matched-text",e),preview:t.N.attr("preview",e),thumbnail:a?b.encode(a):void 0}}n(r)}).catch(r)},n),onDrop:t.wrap(r)},{debugString:"query,url",metricName:"QUERY_URL",ackRequest:!1})})},queryMsgInfo:function(e){var t=this,n=function(e){var n=void 0,r=void 0,a=[];if(Array.isArray(e)){n=e.length;for(var o=0;o<n;o++)r=e[o],"item"===t.N.tag(r)&&t.N.attr("jid",r)&&t.N.attr("t",r)&&a.push({id:t.N.attr("jid",r),t:parseInt(t.N.attr("t",r),10)||0})}return a};return new Promise(function(r,a){var o=t.queryNode({type:"message_info",index:e.id,jid:e.remote},void 0);t.binSend("sendEphemeral",o,a,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var a={played:[],playedRemaining:0,read:[],readRemaining:0,delivery:[],deliveryRemaining:0};if(l.default.logColor("green","bin-recv: response,msg,info",e)(),"response"===t.N.tag(e)&&"message_info"===t.N.attr("type",e)){var o=t.N.child("played",e),i=t.N.child("read",e),u=t.N.child("delivery",e),s=t.N.children(o),c=t.N.children(i),f=t.N.children(u),d=parseInt(t.N.attr("count",e),10)||0;a.played=n(s),a.read=n(c),a.delivery=n(f);var p=d-a.played.length,h=d-a.played.length-a.read.length,m=d-a.played.length-a.read.length-a.delivery.length;a.playedRemaining=p<0?0:p,a.readRemaining=h<0?0:h,a.deliveryRemaining=m<0?0:m}r(a)}).catch(a)},r),onDrop:t.wrap(a)},{debugString:["query,msg,info",e.id,e.remote,e.fromMe].join(),metricName:"QUERY_MESSAGE_INFO",ackRequest:!1})})},queryReceivedActions:function(e){var t=this;return new Promise(function(n,r){var a=e.map(function(e){return["item",{id:e},void 0]}),o=t.queryNode({type:"action"},a);t.binSend("sendEphemeral",o,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r=[],a=t.N.children(e);if(l.default.logColor("green","bin-recv: response,actions",e)(),"response"===t.N.tag(e)&&"action"===t.N.attr("type",e))if(Array.isArray(a)){var o=void 0,i=a.length;for(o=0;o<i;o++){var u=a[o],s=t.N.attr("id",u),c=parseInt(t.N.attr("code",u),10)||0;"item"===t.N.tag(u)&&s&&0!==c&&r.push({id:s,code:c})}}else"true"===t.N.attr("replaced",e)&&(r="replaced");n(r)}).catch(r)},n),onDrop:t.wrap(r)},{debugString:"query,actions",metricName:"QUERY_ACTIONS",ackRequest:!1})})},recentEmojiQuery:function(e){var t=this;return new Promise(function(n,r){var a=Array.isArray(e)?e.map(function(e){return["item",{code:e.id,value:e.weight.toString()},void 0]}):void 0,o=t.queryNode({type:"emoji"},a);t.binSend("sendEphemeral",o,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r=[],a=t.N.children(e);if(l.default.logColor("green","bin-recv: response,emoji",e)(),"response"===t.N.tag(e)&&"emoji"===t.N.attr("type",e)&&Array.isArray(a)){var o=void 0,i=a.length;for(o=0;o<i;o++){var u=a[o],s=t.N.attr("code",u),c=parseFloat(t.N.attr("value",u))||0;"item"===t.N.tag(u)&&s&&c&&!isNaN(c)&&r.push({id:s,weight:c})}}n(r)}).catch(r)},n),onDrop:t.wrap(r)},{debugString:"query,emoji",metricName:"QUERY_EMOJI",ackRequest:!1})})},removeParticipants:function(e,t){return this.setGroupParticipants("remove",e,t)},requestMediaReupload:function(e){var t=this;return new Promise(function(n,r){var a=e.id,o=t.queryNode({type:"media",index:a.id,jid:a.remote,owner:a.fromMe.toString(),participant:a.participant},void 0);t.binSend("sendEphemeral",o,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r=void 0;if(l.default.logColor("green","bin-recv: response,media",e)(),"response"===t.N.tag(e)&&"media"===t.N.attr("type",e)){var a=parseInt(t.N.attr("code",e))||400,o=t.N.attr("url",e);a>=500&&502!==a?(l.default.error("wap:requestMediaReupload:error "+a)(),r={status:a}):200===a&&o?r={status:200,url:o,mediaKey:t.N.attr("media_key",e)}:200!==a||o?(l.default.error("wap:requestMediaReupload:error "+a)(),r={status:a}):r={status:400}}else l.default.error("wap:requestMediaReupload:malformed")(),r={status:400};n(r)}).catch(r)},n),onDrop:t.wrap(r)},{debugString:"query,media",metricName:"QUERY_MEDIA",ackRequest:!1})})},resyncMessages:function(e){var t=this;return new v(function(n,r){var a=e.map(function(e){var t={jid:e.wid,index:e.id,owner:e.fromMe,participant:e.participant,archive:(!!e.archive).toString(),spam:(!e.notSpam).toString(),old_jid:e.changeNumberOldJid,new_jid:e.changeNumberNewJid};return e.mute&&(t.mute=e.mute.toString()),e.active&&(t.active="true"),d.default.isGroup(e.wid)&&(t.read_only=(!!e.isReadOnly).toString()),e.modifyTag&&(t.modify_tag=e.modifyTag.toString()),e.unreadCount&&(t.count=e.unreadCount.toString()),e.pin&&(t.pin=e.pin.toString()),["last",t,void 0]}),o=t.queryNode({type:"resume"},a);t.binSend("sendEphemeral",o,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r=[],a=t.N.children(e);if(l.default.logColor("green","bin-recv: response,resume",e)(),"response"===t.N.tag(e)&&"resume"===t.N.attr("type",e)&&Array.isArray(a)){var o=void 0,i=a.length;for(o=0;o<i;o++){var u=t.parseChat(a[o]);u&&r.push(u)}}n({checksum:t.N.attr("checksum",e),statusChecksum:t.N.attr("status",e),labelsChecksum:t.N.attr("label",e),quickRepliesChecksum:t.N.attr("quick_reply",e),stickerPackChecksum:t.N.attr("sticker_pack",e),recentStickersChecksum:t.N.attr("recent_stickers",e),data:r})}).catch(r)},n),onDrop:t.wrap(r)},{debugString:"query,resume",metricName:"QUERY_RESUME",ackRequest:!1})})},resyncReceipts:function(e){var t=this;return new Promise(function(n,r){var a=e.map(function(e){return["last",{jid:e.remote,index:e.id,owner:e.fromMe.toString(),participant:e.participant,t:e.t.toString(),pay_t:e.payT&&e.payT.toString()},void 0]}),o=t.queryNode({type:"receipt"},a);t.binSend("sendEphemeral",o,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r=[],a=t.N.children(e);if(l.default.logColor("green","bin-recv: response,receipt",e)(),"response"===t.N.tag(e)&&"receipt"===t.N.attr("type",e)&&Array.isArray(a)){var o=void 0,i=void 0,u=void 0,s=a.length;for(o=0;o<s;o++){i=a[o],u=t.N.children(i);var c=t.N.attr("jid",i),f=t.N.attr("t",i),d=t.N.attr("pay_t",i);if("receipt"===t.N.tag(i)&&c&&(f||d)&&Array.isArray(u)){var p=void 0,h=[],m=[],b=u.length;for(p=0;p<b;p++){var g=u[p];if("item"===t.N.tag(g)){var v=t.N.attr("index",g),y="true"===t.N.attr("owner",g),_=parseInt(t.N.attr("status",g),10)||0,E=t.N.attr("participant",g);v&&0!==_&&_<=4&&h.push([v,y,E,_])}else if("message"===t.N.tag(g)){var j=t.parseMsgMessage(g);j&&m.push(j)}}h.length>0&&r.push({id:c,t:f&&parseInt(f,10),payT:d&&parseInt(d,10),acks:h,msgs:m})}}}n(r)}).catch(r)},n),onDrop:t.wrap(r)},{debugString:"query,receipt",metricName:"QUERY_RECEIPT",ackRequest:!1})})},sendChatstateUpdate:function(e,t){var n=this;if(["composing","paused","recording"].includes(e))return new Promise(function(r,a){var o=r,i=n.actionNode("set",[["presence",{type:e,to:t},void 0]],!0);n.binSend("sendEphemeralIgnore",i,a,{onSend:o,onDrop:a,epochIneligible:!0},{debugString:"action,chatstate,"+e,metricName:"PRESENCE",skipOffline:!0,ackRequest:!1})})},sendConversationArchive:function(e,t,n){return this.sendConversationOpWithKey(t?"archive":"unarchive",e,n)},sendConversationClear:function(e,t,n){return this.sendConversationOpWithKey("clear",e,t,n)},sendConversationDelete:function(e,t){return this.sendConversationOpWithKey("delete",e,t)},sendConversationMute:function(e,t,n){var r=this;return new Promise(function(a,o){var i=t?t.toString():void 0,u=n?n.toString():void 0,s=r.actionNode("set",[["chat",{type:"mute",mute:i,previous:u,jid:e},void 0]]);r.binSend("send",s,o,{clientCacheable:!0,onSend:r.wrap(a),onDrop:r.wrap(o)},{debugString:"action,chat,"+e+", "+(i?"mute,"+i:"unmute"),metricName:"CHAT",ackRequest:!0})})},sendConversationNotSpam:function(e){return this.sendConversationOpWithKey("spam",e,void 0,!1)},sendConversationOpWithKey:function(e,t,n,r){var a=this;return new Promise(function(o,i){var u=void 0,s=void 0;switch(e){case"clear":u=(!!r).toString();break;case"spam":s=(!!r).toString()}var l=a.actionNode("set",[["chat",{type:e,jid:t,index:n?n.id:void 0,owner:n?n.fromMe.toString():void 0,participant:n?n.participant:void 0,star:void 0!==u?u:void 0,spam:void 0!==s?s:void 0},void 0]]);a.binSend("send",l,i,{clientCacheable:!0,onSend:a.wrap(o),onDrop:a.wrap(i)},{debugString:"action,chat,"+[e,n,r].join(),metricName:"CHAT",ackRequest:!0})})},sendConversationSeen:function(e,t,n){var r=this;return new Promise(function(a,o){var i=r.actionNode("set",[["read",{jid:e,index:t?t.id:void 0,owner:t?t.fromMe.toString():void 0,participant:t?t.participant:void 0,count:n&&t?n.toString():void 0},void 0]]);r.binSend("send",i,o,{clientCacheable:!0,onSend:r.wrap(a),onDrop:r.wrap(o)},{debugString:"action,chat,read,"+JSON.stringify(t)+","+n,metricName:"READ",ackRequest:!0})})},sendConversationUnseen:function(e,t){return this.sendConversationSeen(e,t,-2)},sendMedia:function(e){var t=this;return new Promise(function(n,r){var a=(0,o.default)(e);f.default.send({data:["query","sendMedia",a.url],onSend:t.wrap02(function(e){n((0,i.default)(a,e))}),onDrop:r})})},sendMessageDelete:function(e,t,n){var r=this;return new Promise(function(a,o){var i=t.map(function(e){return["item",{index:e.id,owner:e.fromMe.toString(),participant:e.participant},void 0]}),u=r.actionNode("set",[["chat",{type:"clear",jid:e,media:n.toString()},i]]);r.binSend("send",u,o,{clientCacheable:!0,onSend:r.wrap(a),onDrop:r.wrap(o)},{debugString:"action,msgs,delete,"+[e,n,t.length].join(),metricName:"CHAT",ackRequest:!0})})},sendMessagePlayed:function(e){var t=this;return new Promise(function(n,r){var a=t.wrap(n),o=t.actionNode("set",[["received",{type:"played",index:e.id,from:e.remote,participant:e.participant},void 0]]);t.binSend("send",o,r,{onSend:a,onDrop:t.wrap(r)},{debugString:"action,played,"+e.toString(),metricName:"RECEIVED",ackRequest:!0})})},sendMessageStarred:function(e,t,n){var r=this;return new Promise(function(a,o){var i=t.map(function(e){return["item",{index:e.id,owner:e.fromMe.toString(),participant:e.participant},void 0]}),u=r.actionNode("set",[["chat",{type:n?"star":"unstar",jid:e},i]]);r.binSend("send",u,o,{clientCacheable:!0,onSend:r.wrap(a),onDrop:r.wrap(o)},{debugString:"action,msgs,star,"+[e,n,t.length].join(),metrics:"CHAT",ackRequest:!0})})},sendPresenceUpdate:function(e){var t=this;if(["available","unavailable"].includes(e))return new Promise(function(n,r){var a="available"===e,o=t.actionNode("set",[["presence",{type:e},void 0]],!a),i=a?"sendEphemeral":"sendEphemeralIgnore";t.binSend(i,o,r,{onSend:a?t.wrap(n):n,onDrop:a?t.wrap(r):n,epochIneligible:!a},{debugString:"action,presence,"+e,metricName:"PRESENCE",available:"available"===e,ackRequest:a})})},sendSetBlock:function(e,t){var n=this;return new Promise(function(r,o){var i=t.map(function(e){return["user",{jid:e.jid},void 0]}),u=["block",{type:e?"add":"remove"},i],s=n.actionNode("set",[u]);n.binSend("send",s,o,{clientCacheable:!0,onSend:n.wrap(r),onDrop:n.wrap(o)},{debugString:"action,block,"+e+","+(0,a.default)(t,"jid").join(","),metricName:"BLOCK",ackRequest:!1,expires:g().unix()})})},sendSetPicture:function(e,t,n){var r=this;return new Promise(function(a,o){var i=y.parseDataURL(t).data,u=y.parseDataURL(n).data,s=b.decode(i),l=b.decode(u),c=f.default.tag(),d=r.wrap(a);d.tag=c;var p=["picture",{id:c,jid:e,type:"set"},[["image",void 0,l],["preview",void 0,s]]],h=r.actionNode("set",[p]);r.binSend("send",h,o,{clientCacheable:!0,onSend:d,onDrop:r.wrap(o)},{debugString:"action,set_pic,"+e,metricName:"PIC",ackRequest:!1,expires:g().unix()})})},sendSetStatus:function(e){var t=this;return new Promise(function(n,r){var a=t.wrap(n),o=t.actionNode("set",[["status",void 0,e]]);t.binSend("send",o,r,{clientCacheable:!0,onSend:a,onDrop:t.wrap(r)},{debugString:"action,status,set",metricName:"STATUS",ackRequest:!1,expires:g().unix()})})},sendSpamReport:function(e){var t=this;return new Promise(function(n,r){var a=t.actionNode("set",[["spam",{jid:e},void 0]]);t.binSend("send",a,r,{onSend:t.wrap(n),onDrop:t.wrap(r)},{debugString:"action,spam,"+e,metricName:"SPAM",ackRequest:!1,expires:g().unix()})})},sendUnstarAll:function(e){var t=this;return new Promise(function(n,r){var a=t.actionNode("set",[["chat",{type:"unstar",jid:e||void 0},void 0]]);t.binSend("send",a,r,{clientCacheable:!0,onSend:t.binWrap(n,n),onDrop:t.wrap(r)},{debugString:"action,unstar,all,"+e,metrics:"CHAT",ackRequest:!0,expires:g().unix()})})},setGroupParticipants:function(e,t,n){var r=this;return new Promise(function(a,o){var i=f.default.tag(),u=r.wrap(a),l=n.map(function(e){return["participant",{jid:e},void 0]}),c=["group",{id:i,jid:t,type:e,author:s.default.me},l],d=r.actionNode("set",[c]);r.binSend("send",d,o,{tag:i,clientCacheable:!0,onSend:u,onDrop:r.wrap(o)},{debugString:["action,group,participant",e,t].concat(n).join(),metricName:"GROUP",ackRequest:!1,expires:g().unix()})})},setPushname:function(e){var t=this;return new Promise(function(n,r){var a=t.actionNode("set",[["profile",{name:e},void 0]]);t.binSend("send",a,r,{onSend:t.binWrap(n,n),onDrop:t.wrap(r)},{debugString:"action,pushname",metricName:"PROFILE",ackRequest:!1})})}};e.exports=(0,r.default)(E,_)},ehjcaiibe:function(e,t){e.exports={"-total-search-height":"62px",totalSearchHeight:"62px","-scrollbar-width":"6px",scrollbarWidth:"6px","-windows-scrollbar-width":"8px",windowsScrollbarWidth:"8px","-section-bottom-margin":"12px",sectionBottomMargin:"12px","-title-height":"27px",titleHeight:"27px",muted:"_2TCvs",container:"_1mJO-",title:"_2lKjK"}},eifaagjjg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaEntryList=t.MediaEntry=void 0;var r=d(n("chihjdheic")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),i=d(n("hgjcbccfg")),u=d(n("bdiiahhjbe")),s=d(n("ecbacgcajj")),l=d(n("ecdjdjeihf")),c=d(n("cadedacjj")),f=d(n("dfjfejdjjh"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h={PROBABLY_ON_SERVER:"PROBABLY_ON_SERVER",PROBABLY_OFF_SERVER:"PROBABLY_OFF_SERVER",UNKNOWN:"UNKNOWN"},m=t.MediaEntry=function(){function e(t,n,r,a,o,i){p(this,e),this.useBackupUrl=!1,this._uploadHashPromise=null,this.mmsUrl=t,this.mediaKey=n,this.uploadHash=r,this.serverStatus=h.UNKNOWN,this.sidecar=o,this.directPath=i,this.type=a}return a(e,[{key:"getUploadHash",value:function(){var e=this;if(this._uploadHashPromise)return this._uploadHashPromise;if(this.uploadHash)return this._uploadHashPromise=Promise.resolve(this.uploadHash);var t=f.default.headRetry(this.mmsUrl).then(function(t){if(200!==t.status)throw e.serverStatus=h.PROBABLY_OFF_SERVER,new o.MediaNeedsReupload;var n=t.getResponseHeader("X-WA-Metadata"),r=/\bfilehash=([A-Za-z0-9+\/]+=?=?)(?:;|$)/.exec(n||"");if(r)return e.serverStatus=h.PROBABLY_ON_SERVER,e.uploadHash=r[1];throw u.default.assert(!1,"wa-metadata-header-missing",`HEAD ${e.mmsUrl} got ${t.status} (header=${n})`)(),e.serverStatus=h.PROBABLY_OFF_SERVER,new o.MediaNeedsReupload});return t.catch(function(){e._uploadHashPromise=null}),this._uploadHashPromise=t}},{key:"url",value:function(e){var t=this,n=e||{},r=n.useFallback,a=n.forceHashUrl,o=this.uploadHash;if(!o)throw new Error("encFilehash is required");return l.default.getHostsInfo({operation:c.default.DOWNLOAD,encFilehash:o,type:this.type}).then(function(e){var n=e.auth,i=e.selectedHost,u=e.fallbackHost,l=r&&u?u:i;return(0,s.default)({auth:n,directPath:a?null:t.directPath,encFilehash:o,hostname:l.hostname,type:t.type})})}},{key:"markWhetherOnServer",value:function(e){this.serverStatus=e?h.PROBABLY_ON_SERVER:h.PROBABLY_OFF_SERVER}}]),e}();t.MediaEntryList=function(){function e(){p(this,e),this.entries=[]}return a(e,[{key:"_findEntry",value:function(e){return(0,r.default)(this.entries,function(t){return t.mmsUrl===e})}},{key:"_updateEntry",value:function(e,t,n,r,a,o,s){n&&!i.default.equal(n,e.mediaKey)&&u.default.assert(!1,"media-fault","mismatched decryption key")(),r&&(u.default.assert(!e.uploadHash||i.default.equal(e.uploadHash,r),"media-fault","same entry has multiple upload hashes")(),e.uploadHash=r),o&&(e.sidecar=o),!s&&e.directPath&&(e.directPath=null)}},{key:"updateEntry",value:function(e,t,n,r,a,o){var i=this._findEntry(e);if(i)return this._updateEntry(i,e,t,n,r,a,o),i}},{key:"addEntry",value:function(e,t,n,r,a,o){var i=this.entries,u=this._findEntry(e);if(u)return this._updateEntry(u,e,t,n,r,a,o),u;if(!t)return null;var s=new m(e,t,n,r,a,o);return i.push(s),s}},{key:"knowsUrl",value:function(e){return!!this.getEntryFromUrl(e)}},{key:"getEntryFromUrl",value:function(e){for(var t=this.entries,n=0;n<t.length;n++)if(t[n].mmsUrl===e)return t[n];return null}},{key:"getUploadEntry",value:function(){return b(this),this.entries[0]||null}},{key:"getDownloadEntry",value:function(){b(this);var e=this.entries[0];return e&&e.serverStatus!==h.PROBABLY_OFF_SERVER?e:null}}]),e}();function b(e){e.entries.sort(function(e,t){return g(t)-g(e)})}function g(e){var t=0;switch(e.serverStatus){case h.PROBABLY_ON_SERVER:t+=200;break;case h.PROBABLY_OFF_SERVER:break;case h.UNKNOWN:t+=100}return e.uploadHash?t+=20:e._uploadHashPromise&&(t+=10),t}},eigdejjai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n("cgcgbfbffj")),o=h(n("eadfaddcj")),i=h(n("bdiiahhjbe")),u=h(n("bdhgicebce")),s=h(n("ccgjijjbbj")),l=h(n("bhggeigghg")),c=h(n("bihdhbjih")),f=h(n("jccfhaecf")),d=n("eaaehfdjdg"),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"_initializeStaleCollection",value:function(){var e=this;this.listenTo(p.default,"change:stream",function(){p.default.stream===d.STREAM.DISCONNECTED&&e.forEach(function(e){e.settled||e.set("stale",!0)})})}},{key:"_find",value:function(e){var t=l.default.Msg.get(e);return t?t.isSentByMe?c.default.queryMsgInfo(t.id).then(function(e){return e.status>=400?(i.default.log("model:MsgInfo:findQuery error "+e.status)(),Promise.reject(e.status)):(e.id=t.id,e.isPTT=t.type===o.default.MSG_TYPE.PTT,Promise.resolve(e))}):Promise.reject("message not sent by me"):Promise.reject(`No message found for id: ${e}`)}},{key:"updateInfo",value:function(e,t,n,r,a,o){var i=new s.default({from:t,to:n,id:e,participant:a}),u=new s.default({from:t,to:n,id:e}),l=this.get(i)||this.get(u);if(l){if(!f.default.isUser(u.remote)){if(2!==r){var c=l.delivery.get(a);c&&l.delivery.remove(c)}if(3!==r){var d=l.read.get(a);d&&l.read.remove(d)}if(4!==r){var p=l.played.get(a);p&&l.played.remove(p)}}4===r?(l.played.get(a)||(l.playedRemaining-=1),l.played.add({id:a,t:o})):3===r?(l.delivery.get(a)||(l.readRemaining-=1),l.read.add({id:a,t:o})):2===r&&(l.delivery.get(a)||(l.deliveryRemaining-=1),l.delivery.add({id:a,t:o}))}}},{key:"handle",value:function(e){var t=this,n=e.shift();switch(n.cmd){case"ack":this.updateInfo(n.id,n.from,n.to,n.ack,n.participant,n.t);break;case"acks":n.id.forEach(function(e){t.updateInfo(e,n.from,n.to,n.ack,n.participant,n.t)})}}}]),t}();m.model=u.default,m.staleCollection=!0,t.default=new m},eighdgacb:function(e,t){e.exports={muted:"_1eyhI",revoked:"pST37",last:"_1Wn_k"}},eihchghee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendCreateGroup=function(e,t,n,i,u,s){var l=void 0;if(a.default.supportsFeature(a.default.F.MD_BACKEND))return Promise.reject(new Error("queryGroupInvite: not supported when not build with MD_BACKEND"));l=o.default.createGroup(e,t,n,i,u,s).then(function(e){return 200===e.status?e:Promise.reject(new r.ServerStatusCodeError(e.status))});return l};var r=n("ddjgcfjicj"),a=i(n("ccaaiecfib")),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}},eihefeaje:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParticipantsList=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("eceadcicaf")),i=c(n("ceddibdhdb")),u=c(n("ihfccfgdf")),s=n("ejbdjaifi"),l=c(n("bjdfbiahbi"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h="sort remove reset add",m=function(e){function t(e){f(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onParticipantsUpdate=function(){n.recalculateParticipantsTimer.debounce(100)},n.recalculateParticipantsTimer=new i.default(function(){n.setState({participants:v(n.props.groupMetadata.participants)})});var r=e.listeners,a=e.groupMetadata.participants;return n.state={participants:v(a)},r.add(a,h,n.onParticipantsUpdate),n}return p(t,a.PureComponent),r(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.groupMetadata.participants,n=e.groupMetadata.participants;if(n!==t){var r=e.listeners;r.remove(t,h,this.onParticipantsUpdate),r.add(n,h,this.onParticipantsUpdate),this.recalculateParticipantsTimer.cancel(),this.setState({participants:v(n)})}}},{key:"componentWillUnmount",value:function(){this.recalculateParticipantsTimer.cancel()}},{key:"render",value:function(){var e=this.props.overridingText||this.state.participants.join(l10n.t(413))||this.props.placeholder;return e?a.createElement(l.default,{text:e,location:this.props.location}):null}}]),t}();m.CONCERNS={groupMetadata:["participants"]},m.displayName="ParticipantsListClass";var b=t.ParticipantsList=(0,o.default)((0,u.default)((0,s.hoc)(m),m.CONCERNS)),g=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.presence.withholdDisplay?e.placeholder:e.presence.getFormattedString();return a.createElement(b,{groupMetadata:e.groupMetadata,overridingText:t,placeholder:e.placeholder,location:e.location})}}]),t}();function v(e){return e.map(function(e){return e.contact.formattedShortNameWithNonBreakingSpaces})}g.CONCERNS={chatstate:["id","type","deny","t"],groupMetadata:["announce","participants"],presence:["forceDisplay","withholdDisplay"]},g.displayName="GroupSubtitle",t.default=(0,u.default)((0,s.hoc)(g),g.CONCERNS)},eiiicijcj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("gbfffciea")),i=f(n("biddiiafgd")),u=f(n("fffdgbfji")),s=f(n("ihfccfgdf")),l=n("ejbdjaifi"),c=f(n("eadfaddcj"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=void 0,t=void 0;switch(this.props.msg.type){case c.default.MSG_TYPE.VIDEO:this.props.msg.isGif?(e=u.default.t(699),t=u.default.t(698)):(e=u.default.t(709),t=u.default.t(708));break;case c.default.MSG_TYPE.AUDIO:e=u.default.t(693),t=u.default.t(692);break;case c.default.MSG_TYPE.IMAGE:e=u.default.t(704),t=u.default.t(703);break;case c.default.MSG_TYPE.DOCUMENT:e=u.default.t(696),t=u.default.t(695);break;case c.default.MSG_TYPE.STICKER:e=u.default.t(706),t=u.default.t(705)}return a.createElement(i.default,{title:e,onOK:function(){o.default.closeModal()},okText:u.default.t(1225)},t)}}]),t}();d.CONCERNS={msg:["type","isGif"]},d.displayName="MediaMissingModal",t.default=(0,s.default)((0,l.hoc)(d),d.CONCERNS)},ejdjhbacj:function(e,t){e.exports={muted:"nUu7e",container:"_3qPa0",section:"_2vOyW",sectionWide:"_2RCUQ",control:"_3231I",label:"lz4Mo",disabled:"_26EsD",select:"Fzl83"}},ejeehdija:function(e,t){e.exports={muted:"nPkUR",container:"MCTeI",body:"_3BYwr",imageContainer:"BIM-V",lazyLoadRetry:"_2Zvyc",defaultIcon:"_3tZTj"}},ejegihaeh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},o=f(n("cgcgbfbffj")),i=f(n("eciicfcjdi")),u=f(n("ccaaiecfib")),s=n("eaibdijehg"),l=n("hjbbdjjdf"),c=n("dcbdjheea");function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"addMsgAsproduct",value:function(e){u.default.supportsFeature(u.default.F.CATALOG)||Promise.reject("Not supported");var n=e.businessOwnerJid&&(0,c.createWid)(e.businessOwnerJid);if(n){var r=this.get(n),o=r&&e.productId&&r.msgProductCollection.get(e.productId),i=r&&e.productId&&r.productCollection.get(e.productId);if(!(i&&i.t&&i.t>=e.t||o&&o.fetchedFromServer)){var s={id:e.productId,url:e.url,name:e.title,description:e.description,imageCdnUrl:{rawUrl:e.mediaData.renderableUrl},catalogWid:n,reviewStatus:"",currency:e.currencyCode,priceAmount1000:e.priceAmount1000,retailerId:e.retailerId,productMsgMediaData:e.mediaData,imageCount:null!=e.productImageCount&&0!==e.productImageCount?e.productImageCount:1,fetchedFromServer:!1,t:e.t};return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,{id:n,afterCursor:void 0,_msgs:[s],stale:!0,fetchedFromServer:!!i},{merge:!0})}}}},{key:"_queryProduct",value:function(e,n){var r=this;return(0,s.queryProduct)(e,n).then(function(n){if(!n.data)return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",r).call(r,{id:e,afterCursor:void 0});var o=n.data;if(!o.image_cdn_urls||o.image_cdn_urls[0].value.includes("https://static.whatsapp.net"))return Promise.reject(new Error(`CatalogCollection:findProduct:_queryProduct ${o.image_cdn_urls?"Product image contains static image":"Could not find image_cdn_urls for product"}`));var i=[{id:o.id,url:o.url,name:o.name,description:o.description,additionalImageCdnUrl:o.additional_image_cdn_urls.map(function(e){return{rawUrl:e[1].value}}),imageCdnUrl:{rawUrl:o.image_cdn_urls[1].value},catalogWid:e,reviewStatus:o.capability_to_review_status.length&&o.capability_to_review_status[0].value,currency:o.currency,priceAmount1000:o.price?10*o.price:null,retailerId:o.retailer_id,productMsgMediaData:null,imageCount:o.additional_image_cdn_urls.length+1,fetchedFromServer:!0,t:Date.now()/1e3}];return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",r).call(r,{id:e,afterCursor:void 0,_products:i,_msgs:i,fetchedFromServer:!0},{merge:!0})})}},{key:"findProduct",value:function(e,t){return u.default.supportsFeature(u.default.F.CATALOG)||Promise.reject(new Error("Catalog not supported")),t?this._queryProduct(e,t):Promise.reject(new Error(`CatalogCollection:findProduct Received productId type ${void 0===t?"undefined":"null"}`))}},{key:"_queryCatalog",value:function(e,t,n){var r=e?e.index:0;return(0,s.queryCatalog)(t,n,10).then(function(e){if(!e.data.length)return{id:t,afterCursor:void 0};var n=[];return e.data.forEach(function(e,a){e.image_cdn_urls&&!e.image_cdn_urls[0].value.includes("https://static.whatsapp.net")&&n.push({id:e.id,url:e.url,name:e.name,description:e.description,additionalImageCdnUrl:e.additional_image_cdn_urls.map(function(e){return{rawUrl:e[1].value}}),imageCdnUrl:{rawUrl:e.image_cdn_urls[1].value},catalogWid:t,reviewStatus:e.capability_to_review_status.length?e.capability_to_review_status[0].value:null,currency:e.currency,priceAmount1000:e.price?10*e.price:null,retailerId:e.retailer_id,productMsgMediaData:null,imageCount:e.additional_image_cdn_urls.length+1,fetchedFromServer:!0,t:Date.now()/1e3,old:!1,index:r+a})}),{id:t,afterCursor:e.paging.cursors.after,_products:n,fetchedFromServer:!0,index:r+n.length}})}},{key:"_findQuery",value:function(e){u.default.supportsFeature(u.default.F.CATALOG)||Promise.reject(new Error("Catalog not supported"));var t=this.get(e),n=t&&!t.stale?t.afterCursor:void 0;return this._queryCatalog(t,e,n)}},{key:"_find",value:function(e){return u.default.supportsFeature(u.default.F.CATALOG)||Promise.reject(new Error("Catalog not supported")),this._findQuery(e)}},{key:"findCarouselCatalog",value:function(e){var n=this,r=this.get(e),o=(0,l.isString)(e)?(0,c.createWid)(e):e;return r&&r.set({index:0}),this._queryCatalog(r,o,void 0).then(function(e){return r&&r.markProductCollectionOld(),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",n).call(n,e,{merge:!0})})}}]),t}();d.model=i.default,d.staleCollection=!0,t.default=new d},ejeidfcga:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("dbgdaechch"),i=s(o),u=s(n("ddchcbhaia"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.onSelectMessages;return a.createElement(i.default,{type:"dropdown_menu",key:"BroadcastMenuDropdown",flipOnRTL:!0,dirX:o.DirX.LEFT},u.default.broadcast(t,n))}}]),t}();l.displayName="BroadcastMenuDropdown",t.default=l},ejiicdbii:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BusinessProfileCollection=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=h(n("cgcgbfbffj")),i=n("defecifdhg"),u=h(i),s=n("bechdajic"),l=h(n("ejegihaeh")),c=h(n("dhigahgdjb")),f=h(n("ccaaiecfib")),d=h(n("bdiiahhjbe")),p=h(n("bihdhbjih"));function h(e){return e&&e.__esModule?e:{default:e}}var m=t.BusinessProfileCollection=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"parseBusinessHours",value:function(e){var t=e.config,n={};return t.forEach(function(e){var t=e.day_of_week,r=e.mode;if(r===s.BUSINESS_HOUR_MODES.SPECIFIC_HOURS){var a=e.open_time,o=e.close_time;n[t]||(n[t]={mode:r,hours:[]}),null!=a&&null!=o&&n[t].hours&&n[t].hours.push([a,o])}else n[t]={mode:r}}),{config:n}}},{key:"_find",value:function(e){var t=this,n=this.gadd(e);return p.default.queryBusinessProfile([{wid:n.id,tag:n.tag}]).then(function(n){if(!Array.isArray(n))return d.default.error("Received invalid business profile response")(n),null;if(0===n.length)return d.default.info(`Store:BusinessProfile:find No businessProfile found for ${String(e)}`)(),{id:e};var r=n[0],a={id:r.wid,tag:r.tag},o=r.profile;if(o){var u=o.business_hours,s=o.catalog_status;u&&(o.business_hours=void 0,o.businessHours=t.parseBusinessHours(u)),f.default.supportsFeature(f.default.F.CATALOG)&&s&&"catalog_exists"===s&&(o.catalog_status=void 0,o.catalogStatus=s,l.default.findCarouselCatalog(e).then(function(t){var n=Array.isArray(t)?t[0]:t;c.default.assertGet(e).businessCatalog=n}).catch(function(e){return d.default.warn("Store:BusinessProfile:missing catalog")(e)})),Object.assign(a,i.DEFAULTS,o)}return a})}},{key:"onResume",value:function(){var e=this;this.filter(function(e){return e.stale&&e.hasObservers()}).map(function(t){return e.find(t.id)})}},{key:"handle",value:function(e){var t=r(e,1)[0];t&&null!=t.tag||d.default.error("Store:BusinessProfile:handle Received invalid update from server")(t);var n=this.gadd(t.wid);t.tag!==n.tag&&n.markStale()}}]),t}();m.model=u.default,m.staleCollection=!0,t.default=new m},fabajdgab:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getImageWidthHeight=A,t.getImageWidthHeightNoOpaque=N,t.opaqueDataToArrayBuffer=k,t.decodeWebpToRGBA=I,t.decodeWebpToRGBANoOpaque=R,t.getWebpAnimationDuration=L,t.getWebpAnimationDurationNoOpaque=D,t.videoWidthHeightDuration=x,t.transcode=U,t.processRawImage=function(e){var t=e._forceToBlob();return f.default.rotateAndResize(t,S.default.imageMaxEdge,f.default.BLOB|f.default.CANVAS).then(function(e){var t=e.width,n=e.height,r=e.images,a=r.blob,i=r.canvas;return f.default.rotateAndResize(i,o.default.IMG_THUMB_MAX_EDGE,f.default.DATA_URL).then(function(e){var r=e.images.dataUrl;return{blob:a,width:t,height:n,preview:b.default.parseDataURL(r).data}})})},t.processRawAudioVideo=function(e,t,n,a,i,u){var s=e._forceToBlob();return d.default.checkAndRepair(s,!!a).then(function(e){if(!e)return c.default.error(`processRawAudioVideo bad video file ${s.type}`)(s),Promise.reject(new l.InvalidMediaFileType);var u=e.type,d=e.file,p=a||e.isGif;switch((0,_.typeFromMimetype)(u)){case _.FILETYPE.VIDEO:if(t)return c.default.assert(!1,"media-fault","ptt became video")(),Promise.reject(new l.InvalidMediaFileType);var h={type:v.OUTWARD_TYPES.VIDEO,mediaBlob:d,mimetype:u,isGif:p,gifAttribution:p?i||0:void 0};return n&&null!=n.duration&&null!=n.fullHeight&&0!==n.fullHeight&&null!=n.fullWidth&&0!==n.fullWidth&&n.preview?Promise.resolve(r({},h,{fullWidth:n.fullWidth,fullHeight:n.fullHeight,preview:n.preview,duration:n.duration.toString()})):f.default.generateVideoThumbAndDuration(d,o.default.IMG_THUMB_MAX_EDGE).then(function(e){var t=e.thumb,n=e.duration;return r({},h,{fullWidth:t.fullWidth,fullHeight:t.fullHeight,preview:b.default.parseDataURL(t.url).data,duration:n.toString()})});case _.FILETYPE.AUDIO:return(n&&null!=n.duration?Promise.resolve(n.duration):(0,_.getAudioDuration)(d)).then(function(e){return{type:t?v.OUTWARD_TYPES.PTT:v.OUTWARD_TYPES.AUDIO,mediaBlob:d,mimetype:u,duration:e.toString()}});default:throw c.default.assert(!1,"media-fault","audio/video became other")(),new Error(`audio/video became ${u}`)}})},t.processRawDocument=function(e,t){var n=e._forceToBlob(),r=n.type,a=n.name||void 0;a=(0,p.cleanFilename)(a);var o=void 0;if(r){if("*"!==O.default.DOC_MIMES&&!O.default.DOC_MIMES.includes(r))return Promise.reject(new l.InvalidMediaFileType(`disallowed mimetype ${r}`));o=Promise.resolve(r)}else o=(0,_.blobToArrayBuffer)(n).then(function(e){var t=(0,j.default)(new Uint8Array(e,0,Math.min(262,e.byteLength)));if(t&&t.mime){var r=O.default.isAllowedDocumentMimetype(t.mime,a,!0);if(r)return r}else if(a){var o=(0,_.getMimeTypeForFilepath)(a);if(o)return o}return Promise.reject(new l.InvalidMediaFileType(`type: ${String(n.type)} name: ${String(a)}`))});return o.then(function(e){return E.enrich(n,e).then(function(t){return{type:v.OUTWARD_TYPES.DOCUMENT,mediaBlob:n,mimetype:e,filename:a||void 0,documentPreview:t,preview:t&&b.default.parseDataURL(t.thumbUrl).data,pageCount:t&&t.pdfPages}})})},t.fetchMedia=function(e){return w.getResponseIfOnline(e,"GET",null,g.default.RESP_TYPE.ARRAY_BUFFER).then(function(e){return e?Promise.resolve({result:e.response,status:e.status}):Promise.resolve(null)})},t.canPlayOgg=function(){return!!h.default.canPlayOgg},t.gatherAndSetMetadata=function(e,t){t.retain();var n=Promise.resolve().then(function(){t.autoreleaseWhenPromiseCompletes(n);var r=void 0;switch(e.type){case v.TYPE.IMAGE:r=A(t).then(function(e){return{mediaBlob:t,renderableUrl:t.url(),fullWidth:e.width,fullHeight:e.height}});break;case v.TYPE.STICKER:r=(0,u.default)().then(function(e){return e?Promise.props({widthHeight:A(t),animationDuration:L(t)}).then(function(e){return{mediaBlob:t,renderableUrl:t.url(),fullWidth:e.widthHeight.width,fullHeight:e.widthHeight.height,animationDuration:e.animationDuration}}):L(t).then(function(e){return e>0?{animationDuration:e,mediaBlob:t,renderableUrl:t.url()}:I(t).then(function(n){return{animationDuration:e,mediaBlob:t,renderableUrl:t.url(),rgbaBuffer:n.rgbaBuffer,rgbaWidth:n.width,rgbaHeight:n.height}})})});break;case v.TYPE.VIDEO:r=x(t).then(function(e){return{mediaBlob:t,renderableUrl:t.url(),fullWidth:e.width,fullHeight:e.height,duration:void 0!==e.duration?`${Math.ceil(e.duration)}`:void 0,durationFloat:e.duration}});break;case v.TYPE.AUDIO:r=U(t).then(function(e){return e.retain(),e.autoreleaseWhenPromiseCompletes(n),{mediaBlob:e,renderableUrl:e.url()}});break;default:r=Promise.resolve({mediaBlob:t,renderableUrl:t.url()})}return r.catch(l.MediaUnsupportedError,function(){e.consolidate({mediaBlob:t,renderableUrl:t.url()})}),r}).then(function(t){e.consolidate(t)});return n},t.gatherAndSetMetadataNoOpaque=function(e,t){return Promise.resolve().then(function(){switch(e.type){case v.TYPE.IMAGE:return N(t).then(function(e){return{fullWidth:e.width,fullHeight:e.height,size:t.size}});case v.TYPE.STICKER:return(0,u.default)().then(function(e){return e?Promise.props({widthHeight:N(t),animationDuration:D(t)}).then(function(e){return{fullWidth:e.widthHeight.width,fullHeight:e.widthHeight.height,animationDuration:e.animationDuration,size:t.size}}):D(t).then(function(e){return e>0?{animationDuration:e,size:t.size}:R(t).then(function(n){return{animationDuration:e,rgbaBuffer:n.rgbaBuffer,rgbaWidth:n.width,rgbaHeight:n.height,size:t.size}})})});default:return{}}}).catch(l.MediaUnsupportedError,function(t){throw e.consolidate({}),t}).then(function(t){e.consolidate(t)})},t.shouldUseMediaCache=function(e){return P.default.supportsFeature(P.default.F.REPLACE_MEDIABLOB)&&(e===y.default.STICKER||e===y.default.IMAGE||e===y.default.PRODUCT)},t.shouldUseLruMediaStore=function(e){return P.default.supportsFeature(P.default.F.LRU_MEDIA_STORE)&&(e===y.default.STICKER||e===y.default.IMAGE)&&M.default.getRememberMe()};var a=T(n("hgjcbccfg")),o=T(n("eadfaddcj")),i=T(n("bffbhdadij")),u=T(n("dcaiaeaebb")),s=T(n("eahceeffa")),l=C(n("cajijabhgb")),c=T(n("bdiiahhjbe")),f=T(n("dgjacfgggf")),d=T(n("jahgaeib")),p=n("bffjfbgbg"),h=T(n("baffhfhhda")),m=T(n("beeieigghj")),b=T(n("edbaidcaf")),g=T(n("bjieiiccce")),v=n("daichdjff"),y=T(n("gbjefdbgb")),_=n("cgffhfegce"),E=C(n("dhgbabghaf")),j=T(n("ddeicfhhch")),O=T(n("behbjhhbg")),S=T(n("bfgbdiffgd")),w=C(n("ebggjhghhi")),P=T(n("ccaaiecfib")),M=T(n("egjjcjcg"));function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}function A(e){return G(function(t){t(e);var n=void 0;return new Promise(function(t,r){(n=new Image).onload=t,n.onabort=function(){r(new Error("getImageWidthHeight onabort"))},n.onerror=function(){r(new Error("getImageWidthHeight onerror"))},n.src=e.url()}).then(function(){return{width:n.naturalWidth,height:n.naturalHeight}})})}function N(e){return new Promise(function(t,n){var r=new Image,a=window.URL.createObjectURL(e);r.onload=function(){var e={width:r.naturalWidth,height:r.naturalHeight};window.URL.revokeObjectURL(a),t(e)},r.onabort=function(){window.URL.revokeObjectURL(a),n(new Error("getImageWidthHeight onabort"))},r.onerror=function(){window.URL.revokeObjectURL(a),n(new Error("getImageWidthHeight onerror"))},r.src=a})}function k(e){return G(function(t){t(e);var n=e._blob;if(n)return(0,_.blobToArrayBuffer)(n);var r=e._b64;return a.default.decode(r)})}function I(e){return G(function(t){return t(e),k(e).then(function(e){return(0,i.default)(e)})})}function R(e){return(0,_.blobToArrayBuffer)(e).then(function(e){return(0,i.default)(e)})}function L(e){return G(function(t){return t(e),k(e).then(s.default)})}function D(e){return(0,_.blobToArrayBuffer)(e).then(s.default)}function x(e){return G(function(t){return t(e),h.default.videoWidthHeightDuration(e._forceToBlob())})}function U(e,t){return G(function(n){return n(e),h.default.transcode(e._forceToBlob(),t).then(function(e){return m.default.createFromData(e,e.type)}).then(function(e){return n(e),e.autorelease(),e})})}function G(e){var t=[];return Promise.callSynchronously(e,null,function(e){e.retain(),t.push(e)}).finally(function(){for(var e=0;e<t.length;e++)t[e].autorelease()})}},fabjefgai:function(e,t){e.exports={muted:"_2K8rw",icon:"_1ZMSM",archived:"_2WwbV"}},faeabghda:function(e,t){e.exports={muted:"_3Qodk",container:"jkZx4"}},faeabjacf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,s,l){var c=e.msg,f=e.date,d=e.unread,p=e.album,h=[],m=0,b=void 0;for(m=0;!b&&m<t.length;m++)b=t[m];m--;var g=!1,v=!1,y=b?(0,r.default)(b):0,_=0,E=m;for(;b;){v||h.push(f(b,_++)),b===s&&d&&h.push(d(l));for(var j=void 0,O=m+1;!j&&O<t.length;O++)j=t[O];var S=void 0,w=void 0,P=void 0,M=[],C=!1,T=!1;if(u.default.supportsFeature(u.default.F.GROUPED_STICKERS)&&b.isValidGroupedSticker){M.push(b),T=b===n;var A=t[E=m+1];A&&A.isValidGroupedSticker&&(0,i.canBeGroupedAsAlbum)(b,A)&&A!==s&&(M.push(A),j=t[E+1],C=!0,A===n&&(T=!0))}if(u.default.supportsFeature(u.default.F.ALBUMS)&&b.isValidAlbumAsset){M.push(b);var N=b,k=void 0;for(T=b===n,E=m;E<t.length-1&&M.length<a.default.ALBUM_MAX_SIZE&&(N=t[E],(k=t[E+1])&&k.isValidAlbumAsset&&(0,i.canBeGroupedAsAlbum)(N,k)&&k!==s);E++)M.push(k),k===n&&(T=!0);M.length>=a.default.ALBUM_MIN_SIZE&&(C=!0,j=t[E+1])}if(j?(P=(0,r.default)(j),S=(w=P===y)&&(0,i.canBeGroupedWithNext)(b,j)):(S=!1,w=!1,P=0),C){var I=(0,o.default)();h.push(p(M,I,g,S,T)),b=t[m=E+1],g=S,v=w,y=P}else h.push(c(b,b===n,g,S)),m++,g=S,v=w,y=P,b=j}return h};var r=s(n("djgaefehgg")),a=s(n("eadfaddcj")),o=s(n("cfejjfjhca")),i=n("dejbbcaghh"),u=s(n("ccaaiecfib"));function s(e){return e&&e.__esModule?e:{default:e}}},faeadiehh:function(e,t){e.exports={muted:"_24E3J",hasText:"_2U4vq",noText:"_30g2M",quote:"bXSaQ",hasAuthor:"_2VXAV",forwarded:"_3ZlHZ"}},fagbfehid:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PAGE_FETCH_STATE=t.PAGE_SIZE=void 0;var r=f(n("dfacahcafg")),a=f(n("ccjgiajgj")),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=f(n("cgcgbfbffj")),s=f(n("bdiiahhjbe")),l=f(n("cdaedfafjc")),c=f(n("bihdhbjih"));function f(e){return e&&e.__esModule?e:{default:e}}var d=t.PAGE_SIZE=9,p=t.PAGE_FETCH_STATE={PENDING:"PENDING",SUCCESS:"SUCCESS",ERROR:"ERROR"},h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.checksum=null,e._pageFetchPromises={},e.pageFetchStates={},e._handleChecksumChange=function(t){Object.keys(e.pageFetchStates).forEach(function(t){return e._resetFetchPageStateAndPromise(parseInt(t,10))}),e._resetRangeWithPlaceholders(0,e.length),e.fetchAt(0,!1,!0)},e.listenTo(e,"change:checksum",e._handleChecksumChange),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),i(t,[{key:"createPlaceholder",value:function(e){return t.createPlaceholder(e)}},{key:"fetchAt",value:function(e,t,n){this._fetchPageWithIndex(e,Boolean(t),Boolean(n))}},{key:"hasFetchedData",value:function(){var e=this;return Object.keys(this.pageFetchStates).some(function(t){return e.pageFetchStates[parseInt(t,10)]===p.SUCCESS})}},{key:"isFetchingData",value:function(){var e=this;return Object.keys(this.pageFetchStates).some(function(t){return e.pageFetchStates[parseInt(t,10)]===p.PENDING})}},{key:"pageWithIndex",value:function(e){return t.pageWithIndex(e)}},{key:"reset",value:function(){var e=this;return this.setChecksum(null,{silent:!0}),Object.keys(this.pageFetchStates).forEach(function(t){return e._resetFetchPageStateAndPromise(parseInt(t,10))}),function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"sync",value:function(e){this.setChecksum(e)}},{key:"setChecksum",value:function(e,t){return this.checksum!==e&&(this.checksum=e,t&&t.silent||this.trigger("change:checksum",e),!0)}},{key:"_fetchPageWithIndex",value:function(e,t,n){var r=this.pageWithIndex(e);return this._fetchPage(r,t,n)}},{key:"_fetchPage",value:function(e,t,n){var r=this,a=this.pageFetchStates[e],o=void 0;if(t&&a!==p.PENDING&&(o=this._pageFetchPromises[e])&&(o.cancel(),delete this._pageFetchPromises[e]),o=this._pageFetchPromises[e])return o;var i=this.length;return this._insertPagePlaceholders(e),this._setFetchPageState(e,p.PENDING),this._pageFetchPromises[e]=c.default.queryStickerPacks(e,d).cancellable().then(function(t){var a=r._parseStickerPacksRes(e,t),o=n||r.setChecksum(t.checksum,{silent:!0}),u=(e-1)*d,s=(e+0)*d;r._resetRange(u,s,a),o&&(r._resetRangeWithPlaceholders(0,u),r._resetRangeWithPlaceholders(Math.min(u+a.length,s),t.count));var l=r.length;i!==l&&r.trigger("change:length",l),r._setFetchPageState(e,p.SUCCESS)}).catch(function(t){if(t instanceof Promise.CancellationError)return s.default.log("StickerPack page fetch promise cancelled: "+e)(),void r._unsetFetchPageStateAndPromise(e);r._setFetchPageState(e,p.ERROR)}),this._pageFetchPromises[e]}},{key:"_insertPagePlaceholders",value:function(e){var t=e-1;this._resetRangeWithPlaceholders(t*d,(t+1)*d)}},{key:"_parseStickerPacksRes",value:function(e,t){if(200!==t.status||!t.data)throw new Error("sticker packs query error");return t.data.map(function(t,n){return o({},(0,a.default)(t,["id","mimetype","name","url","mediaKey","filehash","directPath"]),{uploadhash:t.encFilehash,page:e,index:(e-1)*d+n})})}},{key:"_resetRangeWithPlaceholders",value:function(e,n){this._resetRange(e,n,(0,r.default)(n-e,function(n){return t.createPlaceholder(e+n)}))}},{key:"_resetRange",value:function(e,t,n){var r=this;this._forEachInRange(e,t,function(t,a){var o=n[a-e];if(t)if(o)t.id===o.id?(r.remove(t,{silent:!0}),r.add(o)):(r.remove(t),r.add(o));else for(var i=t;i;)r.remove(i),i=r.at(a);else o&&r.add(o)})}},{key:"_forEachInRange",value:function(e,t,n){for(var r=e;r<t;r++){n(this.at(r),r)}}},{key:"_resetFetchPageStateAndPromise",value:function(e){e in this.pageFetchStates&&(this.pageFetchStates[e]===p.PENDING?this._pageFetchPromises[e].cancel():this._unsetFetchPageStateAndPromise(e))}},{key:"_setFetchPageState",value:function(e,t){this.pageFetchStates[e]!==t&&(this.pageFetchStates[e]=t,this.trigger("change:pageFetchStates",e,t))}},{key:"_unsetFetchPageState",value:function(e){e in this.pageFetchStates&&(delete this.pageFetchStates[e],this.trigger("change:pageFetchStates",e))}},{key:"_unsetFetchPageStateAndPromise",value:function(e){delete this._pageFetchPromises[e],this._unsetFetchPageState(e)}}]),t}();h.model=l.default,h.comparator=function(e,t){return e.index<t.index?-1:e.index>t.index?1:0},h.createPlaceholder=function(e){return l.default.createPlaceholder({index:e,page:this.pageWithIndex(e)})},h.pageWithIndex=function(e){return Math.floor(e/d)+1},t.default=new h},fahgabfbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("eagfdbhhhh");function o(e){var t=e.children,n=e.selectable;return r.createElement(a.SelectableCode,{selectable:n,appTextTemplate:"```${appText}```"},t)}o.displayName="Code",o.defaultProps={children:""},t.default=o},fbdhjahjj:function(e,t){e.exports={muted:"_22XNs",animation:"_3XqhJ","play-ltr":"_1GxgH",playLtr:"_1GxgH","play-rtl":"bB2Q8",playRtl:"bB2Q8",version:"_357v7"}},fccahhfch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=O(n("dbdfbgehgj")),i=O(n("dhigahgdjb")),u=O(n("gbfffciea")),s=O(n("biddiiafgd")),l=O(n("eadfaddcj")),c=O(n("diegbjcafg")),f=O(n("fifhbjiec")),d=n("bidfjbaebi"),p=O(n("dgjddffcfg")),h=O(n("bhcdbgbbad")),m=O(n("ihfccfgdf")),b=n("ejbdjaifi"),g=n("bheafeifce"),v=O(n("bfdcadbbif")),y=O(n("gbgcehdj")),_=O(n("iabebjcej")),E=O(n("djbfhebjhe")),j=O(n("jccfhaecf"));function O(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.msg,t=void 0,n=void 0,r=void 0,m=void 0;switch(e.type){case l.default.MSG_TYPE.NOTIFICATION:n=e.body;break;case l.default.MSG_TYPE.GP2:case l.default.MSG_TYPE.GROUP_NOTIFICATION:return a.createElement(h.default,{msg:e,clickable:!0});case l.default.MSG_TYPE.BROADCAST_NOTIFICATION:return a.createElement(_.default,{msg:e,clickable:!0});case l.default.MSG_TYPE.E2E_NOTIFICATION:n=p.default.formatE2ENotification((0,g.unproxy)(e));var b=e.subtype,O=e.body,S=e.id.remote;m=function(){!function(e,t,n){u.default.openModal(a.createElement(c.default,{e2eSubtype:e,jid:t,chatId:n}))}(b,O,S)};break;case l.default.MSG_TYPE.CALL_LOG:t="miss_video"===e.subtype||"miss_group_video"===e.subtype?a.createElement(v.default,{name:"miss_video"}):a.createElement(v.default,{name:"miss"}),t=a.createElement("div",{className:y.default.icon},t),n=p.default.formatCallLog((0,g.unproxy)(e),!0);break;case l.default.MSG_TYPE.NOTIFICATION_TEMPLATE:if("change_number"===e.subtype){var w=e.templateParams[0],P=e.templateParams[1],M=i.default.get(w),C=M&&M.isMyContact?M.formattedName:(0,E.default)(w),T=j.default.equals(e.chat.id,w);n=T?l10n.t(273,{name:C}):l10n.t(271,{name:C}),T&&(m=function(){return function(e){var t=o.default.gadd(e);u.default.openChatFromUnread(t).then(function(e){e&&u.default.focusChatTextInput(t)})}(P)})}else if(n=p.default.formatNotificationTemplateText((0,g.unproxy)(e)),r=p.default.formatNotificationTemplateOnClickText((0,g.unproxy)(e))){var A=p.default.notificationTemplateFAQ(e.subtype);m=function(){!function(e,t){var n;n=a.createElement("a",{target:"_blank",href:"#",onClick:function(e){e.preventDefault(),u.default.closeModal("none"),setTimeout(function(){return(0,d.openExternalLink)(t)},10)}},l10n.t(588));var r=a.createElement(s.default,{onOK:function(){return u.default.closeModal()},okText:l10n.t(1225)},e,"  ",n);u.default.openModal(r)}(r,A)}}}var N=a.createElement("span",null,t,a.createElement(f.default,{direction:l10n.isRTL()?"rtl":"ltr",text:n}));return m?a.createElement("div",{role:"button",onClick:m},N):a.createElement("span",null,N)}}]),t}();S.CONCERNS={contact:["isEnterprise","verifiedLevel","verifiedName"],msg:["id","body","chat","type","subtype","templateParams"]},S.displayName="Notification",t.default=(0,m.default)((0,b.hoc)(S),S.CONCERNS)},fcedgihic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n("cccehdaiaf")),i=u(n("bdiiahhjbe"));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.parent&&(r.parent=n.parent);var a=r.constructor,o=a.model,i=a.comparator;if(!o)throw new Error("Collection initialized without model!");return r._model=o,i&&(r._comparator=i),r._reset(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"add",value:function(e,t){var n=void 0;return n=Array.isArray(e)?e.slice():e?[e]:[],this.set(n,r({merge:!1,add:!0,remove:!1},t))}},{key:"set",value:function(e,t){if(!e)return i.default.error("collection:set called with no models")(),[];for(var n=r({add:!0,remove:!0,merge:!0},t),a=void 0,o=void 0,u=void 0,s=void 0,l=this._comparator&&!1!==n.sort,c=[],f=[],d={},p=n.add,h=n.at,m=n.merge,b=n.remove,g=!(l||!p||!b)&&[],v=0,y=e.length;v<y;v++)if(s=e[v],this.isModel(s)&&(o=s),a=s.id){if(u=this.get(a))b&&(d[u.id.toString()]=!0),m&&(s=o&&s===o?o.attributes:s,u.set(s,n)),e[v]=u;else if(p){if(!(o=e[v]=this._prepareModel(s,n)))continue;c.push(o),this._addReference(o)}(o=u||o)&&(!g||o.id&&d[o.id.toString()]||g.push(o),d[o.id.toString()]=!0)}else i.default.error("collection:set model has no id")();if(b){for(var _=0,E=this.length;_<E;_++)d[(o=this._models[_]).id.toString()]||f.push(o);f.length&&this.remove(f,n)}var j,O=void 0;if(c.length||g&&g.length)if(l&&(O=!0),"number"==typeof h)(j=this._models).splice.apply(j,[h,0].concat(c));else for(var S=g||c,w=0,P=S.length;w<P;w++)this._models.push(S[w]);if(O&&this.sort({silent:!0}),!n.silent){for(var M=0,C=c.length;M<C;M++)(o=c[M]).trigger?o.trigger("add",o,this,n):this.trigger("add",o,this,n);(O||g&&g.length)&&this.trigger("sort",this,n)}return e}},{key:"remove",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0,r=void 0,a=void 0,o=void 0,i=Array.isArray(e)?e.slice():[e],u=[],s=0,l=i.length;s<l;s++)(o=i[s])&&(a=o instanceof this._model?o.id:o,(n=u[s]=this.get(a))&&(this._deIndex(n),r=this._models.indexOf(n),this._models.splice(r,1),t.silent||(t.index=r,n.trigger?n.trigger("remove",n,this,t):this.trigger("remove",n,this,t)),this._removeReference(n)));return u}},{key:"reset",value:function(){for(var e=0,t=this._models.length;e<t;e++)this._removeReference(this._models[e]);this._reset(),this.trigger("reset",this)}},{key:"sort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._comparator)throw new Error("Cannot sort without comparator");return this._models.sort(this._comparator.bind(this)),e.silent||this.trigger("sort",this,e),this}},{key:"replaceId",value:function(e,t){var n=this.get(e);n&&(this._removeFromIndex(e),n.set({id:t}),this._addIndex(n))}},{key:"get",value:function(e){return this._index[e]}},{key:"assertGet",value:function(e){var t=this._index[e];if(!t){var n=this._model.prototype.Collection||"Unknown";i.default.assert(!1,`${n}Collection:assertGet`)()}return t}},{key:"at",value:function(e){return this._models[e]}},{key:"serialize",value:function(){return this.map(function(e){return e.toJSON()})}},{key:"toJSON",value:function(){return this.serialize()}},{key:"isModel",value:function(e){return e instanceof this._model}},{key:"includes",value:function(e,t){return this._models.includes(e,t)}},{key:"indexOf",value:function(e,t){return this._models.indexOf(e,t)}},{key:"lastIndexOf",value:function(e,t){return this._models.lastIndexOf(e,t)}},{key:"every",value:function(e){return this._models.every(e)}},{key:"some",value:function(e){return this._models.some(e)}},{key:"forEach",value:function(e){this._models.forEach(e)}},{key:"map",value:function(e){return this._models.map(e)}},{key:"filter",value:function(e){return this._models.filter(e)}},{key:"reduce",value:function(e,t){return this._models.reduce(e,t)}},{key:"slice",value:function(e,t){return this._models.slice(e,t)}},{key:"where",value:function(e){return this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})}},{key:"head",value:function(){return this._models[0]}},{key:"last",value:function(){return this._models[this._models.length-1]}},{key:"toArray",value:function(){return this._models.slice()}},{key:"getModelsArray",value:function(){return this._models}},{key:"_reset",value:function(){this._models=[],this._index={}}},{key:"_prepareModel",value:function(e,t){if(this.isModel(e))return e.collection||(e.collection=this),e;var n=r({},t,{collection:this});try{return new this._model(e,n)}catch(e){return void i.default.error("collection:_prepareModel exception: ",e.stack)()}}},{key:"_addReference",value:function(e){this._addIndex(e),e.collection||(e.collection=this),e.on&&e.on("all",this._onModelEvent,this)}},{key:"_removeReference",value:function(e){this===e.collection&&delete e.collection,this._deIndex(e),e.off&&e.off("all",this._onModelEvent,this)}},{key:"_addIndex",value:function(e){this._index[e.id]=e}},{key:"_deIndex",value:function(e){delete this._index[e.id]}},{key:"_removeFromIndex",value:function(e){this.get(e)&&delete this._index[e]}},{key:"_onModelEvent",value:function(e,t,n,r){var a=e.indexOf(":"),o=-1===a?e:e.slice(0,a);("add"!==o&&"remove"!==o||n===this)&&("destroy"===o&&this.remove(t,r),this.trigger.apply(this,arguments))}},{key:"length",get:function(){return this._models.length}},{key:"isCollection",get:function(){return!0}},{key:"models",get:function(){return this._models}}]),t}();t.default=s},fcfchiagj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=m(a),i=m(n("eadfaddcj")),u=m(n("bjigbaghc")),s=m(n("dhigahgdjb")),l=m(n("ccaaiecfib")),c=m(n("bdiiahhjbe")),f=m(n("dfhgffbdig")),d=m(n("dhhbbaegif")),p=m(n("bihdhbjih")),h=m(n("jccfhaecf"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.participants=(0,a.collection)(f.default),r.pendingParticipants=(0,a.collection)(d.default),r.id=(0,a.prop)(),r.creation=(0,a.prop)(),r.owner=(0,a.prop)(),r.desc=(0,a.prop)(),r.descId=(0,a.prop)(),r.descTime=(0,a.prop)(),r.descOwner=(0,a.prop)(),r.restrict=(0,a.prop)(),r.announce=(0,a.prop)(),r.noFrequentlyForwarded=(0,a.prop)(),r.size=(0,a.prop)(),r.stale=(0,a.session)(!0),r.trusted=(0,a.session)(!0),r.inviteCode=(0,a.session)(),r.groupInviteCodePromise=(0,a.session)(),r.revokeGroupInvitePromise=(0,a.session)(),r.revokeGroupV4AddInvitePromise=(0,a.session)(),r.groupInviteLink=(0,a.derived)(r._groupInviteLink,["inviteCode"]),b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"_groupInviteLink",value:function(){return this.inviteCode?`${i.default.GROUP_INVITE_LINK_URL}${this.inviteCode}`:null}},{key:"delete",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.getCollection().remove(this.id),this.participants.delete()}},{key:"canSetSubject",value:function(){return!!this.participants.iAmMember()&&(!!this.participants.iAmAdmin()||(!l.default.supportsFeature(l.default.F.GROUPS_V_3)||!0!==this.restrict))}},{key:"canSetDescription",value:function(){return!!l.default.supportsFeature(l.default.F.GROUPS_V_3)&&!(!this.participants.iAmMember()||!this.participants.iAmAdmin()&&this.restrict)}},{key:"canSetGroupProperty",value:function(){return!!l.default.supportsFeature(l.default.F.GROUPS_V_3)&&!!this.participants.iAmAdmin()}},{key:"initialize",value:function(){o.default.prototype.initialize.call(this),this.listenTo(this.participants,"change:isAdmin change:isSuperAdmin change:contact.isMyContact sort remove reset",this.isTrusted),this.listenTo(this.participants,"add remove reset",this.triggerParticipantsChange),this.listenTo(this,"change:owner",this.isTrusted),this.isTrusted()}},{key:"triggerParticipantsChange",value:function(){this.trigger("change:participants")}},{key:"isTrusted",value:function(){if(this.stale)return this.trusted;if(!this.owner)return this.trusted=!1;if(h.default.equals(this.owner,u.default.me))return this.trusted=!0;var e=s.default.get(this.owner);if(e&&e.isMyContact)return this.trusted=!0;for(var t=this.participants.toArray(),n=0,r=t.length;n<r;++n){var a=t[n];if(a.isAdmin&&(!h.default.equals(a.id,u.default.me)&&a.contact.isMyContact))return this.trusted=!0}return this.trusted=!1}},{key:"revokeGroupV4AddInvite",value:function(e){var t=this;if(this.revokeGroupV4AddInvitePromise)return this.revokeGroupV4AddInvitePromise;var n=this.id.toString(),r=u.default.me.toString();return this.revokeGroupV4AddInvitePromise=p.default.revokeGroupV4Invite(e,n,r).then(function(e){return e.status}).catch(function(e){c.default.error("models:groupMetadata:participantCollection:revokeGroupV4AddInvite failed")(e)}).finally(function(){t.revokeGroupV4AddInvitePromise=null})}},{key:"queryGroupV4PendingInvite",value:function(){var e=this,t=u.default.me.toString(),n=this.id.toString();return p.default.findGroupPendingInvitesFromPhone(t,n).then(function(t){e.collection&&e.collection.add({id:e.id,pendingParticipants:t.participants},{merge:!0})})}}]),t}();g.Collection="GroupMetadata",g.Proxy="groupMetadata",g.idClass=h.default,t.default=(0,a.defineModel)(g)},fchcjedjf:function(e,t){e.exports={muted:"_23JL6",input:"_3FeAD",placeholder:"wjdTm",body:"_3u328",default:"_2YgjU",compose:"_1PRhq",large:"_3jJ43",status:"_2nW8k",media:"_1pSqv",invite:"_2uNpC",small:"_3HUPQ"}},fciifhbdb:function(e,t){e.exports={muted:"LP3KG",pane:"_1_keJ",selectable:"_2AqZl",empty:"_3-kxx",incoming:"_3KRbU",ffFix:"_3sLGI",unread:"_1KNhm"}},fdcfhecbj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("ceffhbhahb")),o=i(n("cjjjgbhjif"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e){return r.createElement("div",{className:(0,a.default)(o.default.icon,{[o.default.transparent]:e.theme&&"transparent"===e.theme})},e.children)}u.displayName="RoundIcon"},fdghiidhc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("cgijjjgici");Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return s(r).default}});var a=n("cdadhagibj");Object.defineProperty(t,"HttpInvalidResponseError",{enumerable:!0,get:function(){return s(a).default}});var o=n("cddgaecgia");Object.defineProperty(t,"HttpNetworkError",{enumerable:!0,get:function(){return s(o).default}});var i=n("iiegbbgja");Object.defineProperty(t,"HttpStatusCodeError",{enumerable:!0,get:function(){return s(i).default}});var u=n("bciccjdabc");function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"HttpTimedOutError",{enumerable:!0,get:function(){return s(u).default}})},fdhajffgc:function(e,t,n){e.exports=function(){return new Worker(n.p+"opus.923c2c419d2a5774ba0f.js")}},feacbgeaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=function(e){return(0,i.default)(e,{[u.default.AUDIO]:function(){return"WhatsApp Audio Keys"},[u.default.DOCUMENT]:function(){return"WhatsApp Document Keys"},[u.default.GIF]:function(){return"WhatsApp Video Keys"},[u.default.IMAGE]:function(){return"WhatsApp Image Keys"},[u.default.PPIC]:function(){throw new Error("Cannot create media keys for profile pics")},[u.default.PRODUCT]:function(){return"WhatsApp Image Keys"},[u.default.PTT]:function(){return"WhatsApp Audio Keys"},[u.default.STICKER]:function(){return"WhatsApp Image Keys"},[u.default.VIDEO]:function(){return"WhatsApp Video Keys"},[u.default.TEMPLATE]:function(){return"WhatsApp Template Keys"}})}(e);if(!t||!n)throw new r.MediaEncryptionError(`createKeys fail: !!mediakey: ${!!t} info: ${n} type: ${e}`);return o.default.extractAndExpand(a.default.decode(t),n,112).then(function(e){if(!e||e.byteLength<112)throw new r.MediaEncryptionError("computeMediaKeys: hkdf error");return{iv:e.slice(0,16),encKey:e.slice(16,48),macKey:e.slice(48,80),refKey:e.slice(80,112)}})};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cajijabhgb")),a=s(n("hgjcbccfg")),o=s(n("bbccjbfjfe")),i=s(n("cgabfhdfbj")),u=s(n("gbjefdbgb"));function s(e){return e&&e.__esModule?e:{default:e}}},febicjijd:function(e,t){e.exports={muted:"_5p6PF",panelContainer:"_3LFRS"}},fehbggfdh:function(e,t){e.exports={muted:"_2bcYV",textInput:"_7w-84",labelText:"_1wt6r",hideFloatingLabel:"_3vTVM",float:"_2orhV",spacer:"_3Xs1j",noPlaceholder:"_-3Ijj",wrapper:"_3hnO5",locked:"_3K9Sw",textError:"oCQ29",errorText:"_3q759",textActive:"_3Hgym",iconMainContainer:"_2xHOS",iconsEditContainer:"_3F9q9",invite:"_1N6NG",emojiBtn:"_2asZk",charCounter:"_3Yulp",iconMain:"_30prC",iconSpinner:"_3CfRk",infoStrip:"_3YmEG",inputLarge:"_2daOi",active:"_5UNoc",emptyValPlaceholder:"_1be_K",more:"_3THW4",emojiText:"_5KVVe",groupInfoName:"_1jo6p",small:"liawM"}},ffchhcfdj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messaging=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("ceffhbhahb")),i=m(n("eadfaddcj")),u=m(n("biddiiafgd")),s=m(n("chcadgfgad")),l=m(n("gbfffciea")),c=m(n("bcjcbbafcj")),f=m(n("daiaacfgce")),d=m(n("djhbegbdaf")),p=m(n("bfdcadbbif")),h=m(n("cfaiaibca"));function m(e){return e&&e.__esModule?e:{default:e}}t.Messaging={NOTIFICATIONS:"NOTIFICATIONS",CAMERA_FAIL:"CAMERA_FAIL",CAMERA_MISSING:"CAMERA_MISSING",MIC_FAIL:"MIC_FAIL",MIC_MISSING:"MIC_MISSING",CAMERA:"CAMERA",MIC:"MIC"};var b={GUIDE_ALLOW:"guide-allow",GUIDE_UNBLOCK:"guide-unblock",GUIDE_NONE:"guide-none"},g={CHROME_MEDIA_ERROR:"chrome_media_error",FIREFOX_LOCK:"firefox_lock",OPERA_MEDIA:"opera_media"},v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.onCancel,r=e.onConfirm,l=e.messaging,d=a.createElement(_,{messaging:l});if(t===b.GUIDE_ALLOW){var m=void 0;switch(c.default.browser){case i.default.BROWSER_TYPE.CHROME:case i.default.BROWSER_TYPE.FIREFOX:m=f.default.topLeft;break;case i.default.BROWSER_TYPE.EDGE:m=f.default.bottomCenter;break;default:m=f.default.topCenter}return a.createElement(s.default,{type:"guide"},a.createElement("div",{className:(0,o.default)(f.default.containerAllow,m)},a.createElement("div",{className:f.default.icon},a.createElement(p.default,{name:"back-light"})),a.createElement("div",{className:f.default.title},a.createElement(y,{messaging:l})),a.createElement("div",{className:f.default.description},d),a.createElement("div",{className:f.default.controls},a.createElement(h.default,{onClick:r,type:"primary"},l10n.t(825)))))}return a.createElement(u.default,{title:a.createElement(y,{messaging:l}),onOK:r,okText:l10n.t(825),onCancel:n,cancelText:n?l10n.t(588):void 0},a.createElement("div",{className:f.default.description},d))}}]),t}();function y(e){var t=e.messaging;switch(t){case"NOTIFICATIONS":return a.createElement(d.default,{id:551});case"CAMERA_FAIL":return a.createElement(d.default,{id:537});case"CAMERA_MISSING":return a.createElement(d.default,{id:536});case"MIC_MISSING":return a.createElement(d.default,{id:546});case"CAMERA":return a.createElement(d.default,{id:537});case"MIC_FAIL":case"MIC":return a.createElement(d.default,{id:547});default:throw new Error(`Invalid messaging: ${t}`)}}function _(e){var t=e.messaging,n=c.default.browser,r={[g.CHROME_MEDIA_ERROR]:a.createElement("span",{className:"chrome-media-icon"}),[g.FIREFOX_LOCK]:a.createElement("span",{className:"firefox-lock-icon"}),[g.OPERA_MEDIA]:a.createElement("span",{className:"opera-media-icon"})};switch(t){case"NOTIFICATIONS":return"edge"===n?a.createElement(d.default,{id:549,params:r}):"firefox"===n?a.createElement(d.default,{id:550,params:r}):a.createElement(d.default,{id:548,params:r});case"CAMERA_FAIL":return"edge"===n?a.createElement(d.default,{id:531,params:r}):"firefox"===n?a.createElement(d.default,{id:532,params:r}):"safari"===n?a.createElement(d.default,{id:534,params:r}):"opera"===n?a.createElement(d.default,{id:533,params:r}):a.createElement(d.default,{id:530,params:r});case"CAMERA_MISSING":return a.createElement(d.default,{id:535,params:r});case"MIC_FAIL":return"edge"===n?a.createElement(d.default,{id:541,params:r}):"firefox"===n?a.createElement(d.default,{id:542,params:r}):"safari"===n?a.createElement(d.default,{id:544,params:r}):"opera"===n?a.createElement(d.default,{id:543,params:r}):a.createElement(d.default,{id:540,params:r});case"MIC_MISSING":return a.createElement(d.default,{id:545,params:r});case"CAMERA":return"edge"===n?a.createElement(d.default,{id:529,params:r}):a.createElement(d.default,{id:528,params:r});case"MIC":return"edge"===n?a.createElement(d.default,{id:539,params:r}):a.createElement(d.default,{id:538,params:r});default:throw new Error(`Invalid messaging type: ${t}`)}}v.TYPE=b,v.defaultProps={type:b.GUIDE_NONE,onConfirm:function(){return l.default.closeModal()}},v.displayName="GuidePopup",t.default=v},ffebdchi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("dgijhbdidg");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},ffgjgcghi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3GifController=t.StatusV3CountdownController=void 0;var r=l(n("bebajedcaf")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.setupStatusV3Controller=function(e,t){if(e){if(e.type===i.default.TYPE.IMAGE){var n=f;return(0,r.default)(t.caption)||(n+=d*Math.min(t.caption.length/150,1)),new m(n)}return e.type===i.default.TYPE.VIDEO?t.isGif?new v:new s.default:new m(p)}if(t.type===u.default.MSG_TYPE.CHAT){var a=h+60*Math.min(t.body.length,1e3);return new m(a)}return new m(p)};var o=l(n("bdiiahhjbe")),i=l(n("bffjfbgbg")),u=l(n("eadfaddcj")),s=l(n("deijdcaadj"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=4500,d=2e3,p=3e3,h=2e3,m=t.StatusV3CountdownController=function(){function e(t){var n=this;c(this,e),this.addListeners=function(e,t,r){n._onStart=e,n._onPause=t,n._onEnded=r},this.removeListeners=function(){n._onStart=void 0,n._onPause=void 0,n._onEnded=void 0},this.play=function(){if(n._timer)o.default.info("Duplicate timer start")();else{n._timer=setTimeout(n._onTimeup,n._timeout),n._start=(new Date).getTime();var e=n._onStart;e&&e(n._timeout,n._duration)}},this.stop=function(){if(n._timer){clearTimeout(n._timer),n._timer=null;var e=(new Date).getTime();n._timeout-=e-n._start;var t=n._onPause;t&&t()}else o.default.info("Timer stop called on stopped timer")()},this.resume=function(){n.play()},this.pause=function(){n.stop()},this._onTimeup=function(){var e=n._onEnded;e&&e()},this._duration=t,this._timeout=this._duration,this._start=0}return a(e,[{key:"duration",get:function(){return this._duration}}]),e}(),b=6e3,g=3,v=t.StatusV3GifController=function(){function e(){var t=this;c(this,e),this.removeListeners=function(){t._onStart=void 0,t._onPause=void 0,t._onEnded=void 0,t._videoController.removeListeners(),t._countdownController.removeListeners()},this.setVideo=function(e,n){t._video=e,null!=n&&(t._duration=n),t._videoController.setVideo(e)},this._onVideoStartHandler=function(){var e=t._onStart,n=t._video.duration||t._duration,r=Math.max(g*n*1e3,b);e&&e(r-1e3*n*t._playCounter-1e3*t._video.currentTime,r)},this._onVideoPauseHandler=function(){var e=t._onPause;e&&e()},this._onVideoEndedHandler=function(){t._playCounter++;var e=t._onEnded;t._playCounter===g&&(t._videoEnded=!0,t._timerEnded&&e&&e()),t._video.currentTime=0,t._videoEnded&&t._timerEnded||setTimeout(function(){t._videoController.play()},0)},this._onTimerEndedHandler=function(){var e=t._onEnded;t._timerEnded=!0,e&&t._videoEnded&&e()},this.play=function(){t._videoController.play(),t._countdownController.play()},this.stop=function(){t._videoController.stop(),t._countdownController.stop()},this.resume=function(){t._videoController.resume(),t._countdownController.resume()},this.pause=function(){t._videoController.pause(),t._countdownController.pause()},this._playCounter=0,this._timerEnded=!1,this._videoEnded=!1,this._videoController=new s.default,this._countdownController=new m(b),this._videoController.addListeners(this._onVideoStartHandler,this._onVideoPauseHandler,this._onVideoEndedHandler),this._countdownController.addListeners(void 0,void 0,this._onTimerEndedHandler)}return a(e,[{key:"addListeners",value:function(e,t,n){this._onStart=e,this._onPause=t,this._onEnded=n}},{key:"duration",get:function(){return Math.max(g*(this._video.duration||this._duration)*1e3,b)}}]),e}()},ffhghhcgf:function(e,t){e.exports={muted:"_1zkwj",bubble:"_2Zgm-",hasAuthor:"_7U2w9",forwardedIndicator:"_1EYt6",hasQuote:"nINd1",meta:"J26d7",bubbleOut:"_2R63d",bubbleIn:"_2g0bm",body:"_1-4qJ",player:"wJW7M",avatar:"TMd-Z",status:"_3l9hL",author:"_11ZKc",isForwarded:"qJm9j",quote:"_1PNK0",isGallery:"asmex"}},ffhhggjcj:function(e,t){e.exports={muted:"_3182g",container:"_3Durm",preview:"Q5IMh",caption:"_2_Q45",img:"_1lU4-"}},fgeddfbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MMSThrottleError=t.MMSForbiddenError=t.MMSUnauthorizedError=t.MediaInvalidError=t.MediaTooLargeError=t.MediaNotFoundError=t.HttpStatusCodeError=t.HttpInvalidResponseError=t.HttpNetworkError=t.AbortError=t.NoMediaHostsError=void 0;var r=n("beifdajhid");Object.defineProperty(t,"NoMediaHostsError",{enumerable:!0,get:function(){return r.NoMediaHostsError}});var a=n("fdghiidhc");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"AbortError",{enumerable:!0,get:function(){return a.AbortError}}),Object.defineProperty(t,"HttpNetworkError",{enumerable:!0,get:function(){return a.HttpNetworkError}}),Object.defineProperty(t,"HttpInvalidResponseError",{enumerable:!0,get:function(){return a.HttpInvalidResponseError}}),Object.defineProperty(t,"HttpStatusCodeError",{enumerable:!0,get:function(){return a.HttpStatusCodeError}});t.MediaNotFoundError=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,404,e,n));return r.name="MediaNotFoundError",r}return u(t,a.HttpStatusCodeError),t}(),t.MediaTooLargeError=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,413,e,n));return r.name="MediaTooLargeError",r}return u(t,a.HttpStatusCodeError),t}(),t.MediaInvalidError=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,415,e,n));return r.name="MediaInvalidError",r}return u(t,a.HttpStatusCodeError),t}(),t.MMSUnauthorizedError=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,401,e,n));return r.name="MMSUnauthorizedError",r}return u(t,a.HttpStatusCodeError),t}(),t.MMSForbiddenError=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,403,e,n));return r.name="MMSForbiddenError",r}return u(t,a.HttpStatusCodeError),t}(),t.MMSThrottleError=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,507,e,n));return r.name="MMSThrottleError",r}return u(t,a.HttpStatusCodeError),t}()},fhdffdech:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.fullPreview,n=e.fullPreviewSize,s=e.pdfPages,l=e.mimeType,c=e.filename;if(t&&n&&null!=s&&s>0){var f=l10n.t(186,{count:s,_plural:s});return r.createElement("div",{className:u.default.container,"data-js-attach-preview":!0},r.createElement("div",{className:u.default.preview},r.createElement(o.default,{type:a.FIT_TYPE.SCALE_DOWN,size:n},r.createElement("img",{src:t,className:u.default.img}))),r.createElement("div",{className:u.default.caption},f))}return r.createElement(i.default,{mimeType:l,filename:c})};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("dgfecega"),o=s(a),i=s(n("becegcbegb")),u=s(n("ffhhggjcj"));function s(e){return e&&e.__esModule?e:{default:e}}},fibdihid:function(e,t){e.exports={muted:"ygVAO",container:"_1ikwU",status:"YDD6v",caption:"_3IJiH",linkPreview:"BWe1v",expired:"_3D6Pq",noCaption:"_2tpON",meta:"_1SFZJ"}},ficfhgacf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.IS_MMS_URL_SEARCH_PARAM="__wa-mms",t.MMS_URL_MEDIA_TYPE_SEARCH_PARAM="mms-type"},fidbefhib:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=v(n("biddiiafgd")),i=v(n("gbfffciea")),u=v(n("dhfbfehaef")),s=v(n("hfhhcchgj")),l=v(n("fffdgbfji")),c=n("icghcjegh"),f=v(n("bffbahfgga")),d=v(n("bijffg")),p=v(n("becfabjeeg")),h=v(n("eadfaddcj")),m=n("bbjjjbicfb"),b=n("bddhdheedf"),g=v(n("bfbggcdbfb"));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.labelModel=null,n.onOk=function(){(0,b.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.CLICK_POSITIVE,1,n.props.onAddLabel?g.default.LABEL_TARGETS.ADD_LABEL_DIALOG:g.default.LABEL_TARGETS.EDIT_LABEL_DIALOG);var e=n.state,t=e.labelName,r=e.labelColor;if(!e.labelNameError){var a=t&&t.trim(),o=n.validateLabelName(a||"");o.passed?(n.props.labelId&&n.props.onUpdateLabel?n.props.onUpdateLabel(n.props.labelId,r,t):n.props.onAddLabel&&n.props.onAddLabel(t||"",r),n.props.onCancel?n.props.onCancel():i.default.closeModal()):n.setState({labelNameError:o.error})}},n.onCancel=function(){(0,b.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.CLICK_NEGATIVE,1,n.props.onAddLabel?g.default.LABEL_TARGETS.ADD_LABEL_DIALOG:g.default.LABEL_TARGETS.EDIT_LABEL_DIALOG),n.props.onCancel?n.props.onCancel():i.default.closeModal()},n.onLabelNameChange=function(e){var t=n.validateLabelName(e);n.setState({labelName:e,labelNameError:t.passed?void 0:t.error})},n.validateLabelName=function(e){var t=!0,r=null;return e&&""!==e.trim()||(t=!1),n.labelModel&&n.labelModel.name===e||0===d.default.where({name:e}).length||(t=!1,r=l.default.t(167)),{passed:t,error:r}},n.stopPropagation=function(e){e.stopPropagation()},n.props.labelId&&(n.labelModel=d.default.assertGet(n.props.labelId)),n.state={labelColor:n.labelModel&&n.labelModel.color||void 0,labelName:n.labelModel&&n.labelModel.name||"",labelNameError:void 0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;this.props.onAddLabel?(d.default.getNewLabelColor().then(function(t){e.setState({labelColor:t||h.default.DEFAULT_SMB__NEW_LABEL_COLOR})}),(0,b.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.VIEW,1,g.default.LABEL_TARGETS.ADD_LABEL_DIALOG)):this.props.onUpdateLabel&&(0,b.logLabelOperationEvent)(g.default.LABEL_OPERATIONS.VIEW,1,g.default.LABEL_TARGETS.EDIT_LABEL_DIALOG)}},{key:"render",value:function(){var e={enter:this.stopPropagation},t=!this.validateLabelName(this.state.labelName.trim()).passed;return a.createElement(o.default,{title:this.props.onUpdateLabel?l.default.t(399):l.default.t(171),okText:l.default.t(1225),onOK:this.onOk,okDisabled:t,onCancel:this.onCancel},a.createElement("div",{className:f.default.inputContainer},a.createElement("div",{className:f.default.label},this.state.labelColor?(0,c.renderLabelSvg)((0,m.intColorToHex)(this.state.labelColor)):a.createElement(p.default,{stroke:5,size:20})),a.createElement("div",{className:f.default.input},a.createElement(u.default,{handlers:e},a.createElement(s.default,{hideFloatingLabel:!0,showRemaining:!0,supportsEmoji:!0,value:this.state.labelName,error:this.state.labelNameError,maxLength:h.default.SMB_LABELS.MAX_LABEL_LENGTH,onChange:this.onLabelNameChange,placeholder:l.default.t(170)})))))}}]),t}();y.displayName="AddOrEditLabelPopup",t.default=y},fifhbjiec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMOJI_SIZE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=_(n("gbfffciea")),o=_(n("ceffhbhahb")),i=_(n("daabecicc")),u=n("gaifbabbj"),s=_(n("eceadcicaf")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),c=n("bgddggdhc"),f=_(n("eagfdbhhhh")),d=_(n("fbjjefaic")),p=n("bcjcbbafcj"),h=n("cdejbeiiha"),m=_(n("cecdfacjga")),b=_(n("djegeegcbf")),g=_(n("daffbcegjj")),v=n("ejbdjaifi"),y=_(n("bhcdgaheib"));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=t.EMOJI_SIZE={SMALL:"SMALL",LARGE:"LARGE"},w=4096,P=function(e){function t(){var e,n,r;E(this,t);for(var s=arguments.length,d=Array(s),v=0;v<s;v++)d[v]=arguments[v];return n=r=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),r.state={text:(0,m.default)(r.props.text||""),ellipsified:null},r.registeredListener=!1,r.registerResizeListener=function(){r.registeredListener||(r.registeredListener=!0,r.props.listeners.add(window,"resize",r.recompute),r.props.listeners.add(a.default,"resize",r.recompute))},r.unregisterResizeListener=function(){r.registeredListener&&(r.registeredListener=!1,r.props.listeners.remove(window,"resize",r.recompute),r.props.listeners.remove(a.default,"resize",r.recompute))},r.containsEmoji=function(){return b.default.containsEmoji((r.state.text||"").substring(0,w))},r.recompute=r.props.debounce(function(){r.setState({ellipsified:null},r.ellipsify)},10),r.ellipsifyCheck=function(){return r.containsEmoji()&&r.ellipsify()},r.ellipsify=function(){var e=(0,c.forbiddenFindDOMNode)(r);if(e){var t=e.querySelectorAll("img");if(t.length){var n=void 0,a=0;if(n=e.clientWidth){if(n===e.scrollWidth)return;a=0}else{var o=e.parentNode;if(o.clientWidth===o.scrollWidth)return;a=function(e,t){for(var n=0,r=e.childNodes,a=0;a<r.length;a++){var o=r[a];if(o===t)break;n+=o.clientWidth}return n}(o,e),n=o.clientWidth-a}var i=l10n.isRTL()===r.props.dirMismatch,u=T(t,i?n-8:8,i?a:0),s=void 0;if(u>=0)s=t[u];else{var l=T(t,i?n:0,i?a:0);if(l<0)return;s=t[l]}r.setState({ellipsified:C(e,s)})}}},r.buildBidiModel=function(e){return e.reduce(function(e,t){if("string"==typeof t){var n=t.split(/(\r?\n|\r)/g).map(function(e,t){return{dir:g.default.dir(e),content:e}});return e.concat(n)}return e.push({content:t}),e},[])},r.explodeOutputByLines=function(e){for(var t=r.props.direction,n=[],a=r.buildBidiModel(e),o=[],i=null,u=function(e){var r=null==i||null==t||i===t,a=r?null:i,u=!r||"rtl"===i!==l10n.isRTL()?y.default.dirMismatch:null;n.push(l.createElement("span",{key:e,dir:a,className:u},o))},s=0;s<a.length;s++){var c=a[s];i!==c.dir&&null!=i&&void 0!==c.dir&&(u(s),o=[]),void 0!==c.dir&&(i=c.dir),o.push(c.content)}return u(a.length),n},r.UNSAFE_componentWillMount=function(){p.isWebkit&&r.props.ellipsify&&r.containsEmoji()&&r.registerResizeListener()},r.componentDidMount=function(){p.isWebkit&&r.props.ellipsify&&r.props.listeners.uiIdle(r.ellipsifyCheck)},r.UNSAFE_componentWillReceiveProps=function(e){var t=e.text,n=(0,m.default)(t||"");r.setState({text:n});var a=r.props.ellipsify;if(p.isWebkit&&a&&n!==r.state.text){var o=(n||"").substring(0,w);b.default.containsEmoji(o)?(r.recompute(),r.registerResizeListener()):(r.setState({ellipsified:null}),r.unregisterResizeListener())}},r.render=function(){if(!r.state.text)return null;var e=r.props,t=e.onClick,n=e.ellipsify,a=e.dirMismatch,s=e.inferLinesDirection,c=e.inlineblock,d=e.direction,p=e.textLimit,m=r.state.ellipsified?r.state.ellipsified:r.state.text,b="inherit"===d?null:d||"auto",g=!!r.props.selectable,v=r.props.formatters||u.Configuration.EmojiOnly({selectable:g}),_=p||1/0;n&&m.length>w&&_>w&&(_=w);var E=a&&!s,j=(0,o.default)(r.props.className,{[y.default.ellipsify]:!!n,[y.default.inlineblock]:!!c,[y.default.clickable]:!!t,[y.default.dirMismatch]:E}),O=(0,i.default)(m,v,h.JSXSerializer,void 0,_),S=r.props.inferLinesDirection?r.explodeOutputByLines(O):O;return l.createElement(f.default,{className:j,dir:b,element:r.props.element,onClick:t,selectable:g,title:r.props.titlify?r.state.text:void 0,noInvisibleSpace:r.props.noInvisibleSpace},S,r.state.ellipsified||m.length>_?"":null)},j(r,n)}return O(t,l.PureComponent),r(t,[{key:"getWidth",value:function(){var e=(0,c.forbiddenFindDOMNode)(this);return e?e.getBoundingClientRect().width:0}}]),t}();P.defaultProps={element:"span",emojiSize:S.SMALL,textLimit:1/0};var M=function(e){function t(){return E(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,(0,s.default)((0,d.default)((0,v.hocWithDefaults)(P)))),r(t,[{key:"getWidth",value:function(){return function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).getWidth()}}]),t}();function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{found:!1};if(e===t)return n.found=!0,"";if(e instanceof HTMLImageElement)return e.alt;if(e.nodeType===Node.TEXT_NODE)return e.nodeValue;for(var r=function(e){switch(e.tagName){case"CODE":return"```";case"STRONG":return"*";case"EM":return"_";case"DEL":return"~";default:return""}}(e),a="",o=0;o<e.childNodes.length&&(a+=C(e.childNodes[o],t,n),!n.found);)o++;return r?`${r}${a}${r}`:a}function T(e,t,n){for(var r=0;r<e.length;r++){var a=e[r];if(a.offsetLeft-n>=t)break;if(a.offsetLeft-n+a.clientWidth>=t)return r}return-1}t.default=M},fijafegab:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("ceffhbhahb")),i=c(n("effbcehec")),u=c(n("bhifaggjcb")),s=c(n("eedjbihej")),l=c(n("bfjegcdcag"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.title,r=e.subtitle,c=e.titleOnClick,f=e.a8nText,d=e["data-list-scroll-offset"],p=e.theme,h=e.animation,m=p?l.default[p]:null,b=(0,o.default)(l.default.container,{[l.default.animate]:h},m),g=void 0;return n&&(g=a.createElement("div",{className:l.default.title,"data-a8n":i.default.key(f),role:c?"button":null,onClick:c},a.createElement(u.default,{side:r,ellipsify:!0},a.createElement(s.default,{theme:"section-title"},n)))),a.createElement("div",{className:b,"data-list-scroll-offset":d},g,t)}}]),t}();f.defaultProps={animation:!0},f.displayName="DrawerSection",t.default=f},fjeagagdf:function(e,t,n){"use strict";var r=_(n("chihjdheic")),a=_(n("djfhiaaehb")),o=_(n("bebajedcaf")),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),s=_(n("ejiicdbii")),l=_(n("ebcagbhefg")),c=_(n("dabbjcaadh")),f=_(n("cbdbcgchaj")),d=_(n("eadfaddcj")),p=_(n("biecbbiiee")),h=_(n("dcdiaahjj")),m=_(n("gbfffciea")),b=_(n("eceadcicaf")),g=_(n("fbjjefaic")),v=n("ejbdjaifi"),y=n("ddjgcfjicj");function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.msgCollectionChanged=function(t,n,r,a){var o=e.state.msgCollection;o!==t&&o!==n||e.setState({msgCollection:r,focusCtx:a&&(a.msg||a.collection)?a:e.state.focusCtx})},e.windowGainedFocus=function(){h.default.markAvailable();var t=e.state.chat;t&&t.isUser&&t.presence.subscribe().catch(y.WapDrop,function(){})},e.windowLostFocus=function(){h.default.markUnavailable(d.default.SEND_UNAVAILABLE_WAIT)},e.handleClearChat=function(t){e.state.chat===t&&e.setState({chat:void 0,msgCollection:void 0,focusCtx:void 0})},e.handleOpenChat=function(t,n,r){m.default.updateChatlistSelection(t);var a=e.openedChatInfo,o={},i=function(e){Object.assign(o,e)};e.state.chat!==t?e.setState({chat:t,msgCollection:n?n.collection:t.msgs,focusCtx:n,notifyChatRendered:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return r(e.newChatScrollInfo(a,n))}),updateOpenedChatInfo:i}):e.setState({msgCollection:n?n.collection:t.msgs,focusCtx:n,notifyChatRendered:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return r(e.newChatScrollInfo(a,n))}),updateOpenedChatInfo:i}),e.openedChatInfo=o},e.newChatScrollInfo=function(e,t){var n=t?t.msg||p.default.get(t.key):void 0;if(t&&n&&e){var i=e.chat,u=e.renderedMsgsInfo,s=e.visibleMsgOrder;if(i&&u&&s&&!(0,o.default)(u)&&!(0,o.default)(s)){var l=u[(0,a.default)(s).toString()],c=(0,r.default)(u,function(e,t){return t===n.id.toString()});if(c)return{wasVisible:!0,offset:c.offset};if(i===n.chat)return l&&n.t<l.t?{wasVisible:!1,alignAt:"top"}:{wasVisible:!1,alignAt:"bottom"}}}return{wasVisible:!1,alignAt:"center"}},e.state={chat:void 0,msgCollection:void 0,focusCtx:void 0},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),i(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.listeners.add(m.default,"open_chat",this.handleOpenChat),this.props.listeners.add(m.default,"clear_chat",this.handleClearChat),this.props.listeners.add(window,"focus",this.windowGainedFocus),this.props.listeners.add(window,"blur",this.windowLostFocus)}},{key:"shouldComponentUpdate",value:function(e,t){return t!==this.state||e.animate!==this.props.animate}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.chat,r=t.chat;if(n&&r!==n){if(this.props.listeners.add(n,"change:cmc:merge",this.msgCollectionChanged),r&&this.props.listeners.remove(r,"change:cmc:merge"),!n.contact.isBusiness)return;var a=s.default.get(n.id);a&&!a.stale||s.default.find(n.id)}}},{key:"render",value:function(){var e=this.state,t=e.chat,n=e.msgCollection,r=e.focusCtx;return t&&n?u.createElement(c.default,{chat:t,groupMetadata:t.groupMetadata,chatPreference:l.default.assertGet("defaultPreference"),focusCtx:r,msgCollection:n,notifyChatRendered:this.state.notifyChatRendered||function(){},updateOpenedChatInfo:this.state.updateOpenedChatInfo||function(){},key:t.id.toString()}):u.createElement(f.default,{animate:this.props.animate})}}]),t}();E.displayName="Conversation",e.exports=(0,b.default)((0,g.default)((0,v.hoc)(E)))},gabccaieg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n("cgcgbfbffj")),o=s(n("bjigbaghc")),i=s(n("ccicaaeiaa")),u=s(n("bjgdagjjci"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listenTo(e,"change:disabled",function(t){t.disabled&&e.removeParticipant(t)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"delete",value:function(){var e=this;this.forEach(function(t){return e.removeParticipant(t)})}},{key:"validLocations",value:function(){return this.filter(function(e){return e.valid})}},{key:"removeParticipant",value:function(e){this.remove(e),e.delete()}}]),t}();l.model=u.default,l.comparator=function(e,t){return e.contact.id.equals(o.default.me)?-1:t.contact.id.equals(o.default.me)?1:(0,i.default)(e.contact,t.contact)},t.default=l},gaffaajde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t){var n=r({},l,e),a=n.signal,i=n.timeoutIncludesTaskDuration,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["signal","timeoutIncludesTaskDuration"]),c=new u.default(s);return(0,o.default)({signal:a,timeoutIterator:c,timeoutIncludesTaskDuration:i},t)};var a=n("cajjjeihci"),o=s(a),i=n("cbcbeheajj"),u=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var l=r({},i.defaults,a.defaults)},gaifbabbj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Configuration=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("cehdgbej"));t.Configuration=r},gajigdged:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FooterType=void 0;var r=y(n("dbafiicfja")),a=y(n("bhdefefjjb")),o=y(n("bhdddbafig")),i=y(n("diifagijfe")),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),l=y(n("fifhbjiec")),c=y(n("fffdgbfji")),f=y(n("eceadcicaf")),d=n("ejbdjaifi"),p=y(n("didfdhbecg")),h=y(n("cdjhjdcbeg")),m=y(n("ebjaejiaba")),b=y(n("bfdcadbbif")),g=y(n("dgjdeicghc")),v=y(n("ceffhbhahb"));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=t.FooterType={MANAGE_ADMINS:"MANAGE_ADMINS"},S=function(e){function t(){var e,n,r;_(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleForwardClick=function(){r.forwardIsEnabled&&(r.forwardIsEnabled=!1,r.props.onForward())},E(r,n)}return j(t,s.Component),u(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.listeners.add(this.props.selections,"all"),this.firstRenderActive=this.props.startActive||!1,this.forwardIsEnabled=!0}},{key:"render",value:function(){var e=void 0,t=this.props.type,n=t===O.MANAGE_ADMINS?s.createElement(b.default,{name:"checkmark-light"}):s.createElement(b.default,{directional:!0,name:"send-light"});return(0,i.default)(this.props.selections.getSelected())>0?e=s.createElement("div",{className:(0,v.default)(g.default.controlsSummary,{[g.default.adminSetting]:t===O.MANAGE_ADMINS})},t!==O.MANAGE_ADMINS&&s.createElement(w,{chats:this.props.selections.getSelected()}),s.createElement("div",{"data-animate-btn":!0,className:this.firstRenderActive?g.default.btnActive:g.default.btnAction},s.createElement(h.default,{large:!0,onClick:this.handleForwardClick},n))):this.firstRenderActive=!1,s.createElement(p.default,{transitionName:"slide-up-down-footer",className:g.default.container},e)}}]),t}();S.displayName="ChatSelectorFooter",t.default=(0,f.default)((0,d.hoc)(S));var w=function(e){function t(e){_(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={chats:n.props.chats},n}return j(t,s.Component),u(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.state.chats,n=e.chats;t=(0,i.default)(n)>(0,i.default)(t)?t.concat((0,o.default)(n,t)):(0,a.default)(t,n),this.setState({chats:t})}},{key:"render",value:function(){for(var e=(0,r.default)(this.state.chats,function(e){return e instanceof m.default?e.formattedTitle:e.formattedShortNameWithNonBreakingSpaces}),t=[],n=e.length-1;n>=0;n--)t.push(s.createElement(l.default,{className:g.default.item,key:n,text:e[n]})),n>0&&t.push(s.createElement("span",{key:`comma-${n}`},c.default.t(413)));return s.createElement(p.default,{transitionName:"pop",className:g.default.summaryText},t)}}]),t}();w.displayName="SelectedChatsList"},gbbacfeci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n("cgcgbfbffj")),i=n("ddjgcfjicj"),u=f(n("dieafdcbjb")),s=n("bijjheifie"),l=f(n("jccfhaecf")),c=n("dcbdjheea");function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"onResume",value:function(){var e=this;this.filter(function(e){return e.hasObservers()}).forEach(function(t){e.find(t.id).catch(i.WapDrop,function(){})})}},{key:"_find",value:function(e){var t=e instanceof l.default?e:(0,c.createWid)(e);return(0,s.getStatus)(t)}},{key:"handle",value:function(e){var t=r(e,1)[0],n=this.get(t.id);n&&(n.status=t.status,n.stale=!1)}}]),t}();d.model=u.default,d.idClass=l.default,d.staleCollection=!0,d.resumeOnAvailable=!0,t.default=new d},gbfcbchfd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("dhhhjaejje"),o=(r=a)&&r.__esModule?r:{default:r};var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();i.onDelimiter=function(e){return e},i.onMutator=function(e,t){return t.join("")},i.onRoot=function(e){return e.join("")},i.onText=function(e){return e},t.default=i},gbgcehdj:function(e,t){e.exports={muted:"_3yz2E",icon:"_3-N0F"}},gbjefdbgb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MEDIA_TYPE_VALUES=t.MEDIA_TYPES_INVERTED=void 0;var r,a=n("cehcfaibji"),o=(r=a)&&r.__esModule?r:{default:r};t.castToV4=function(e){var t=void 0;if(null==e)t=u.DOCUMENT;else{if(!(e in u))throw new Error(`castToV4: unexpected mmsv3 type ${e}`);t=u[e]}return t},t.msgToMediaType=function(e){var t=e.type,n=e.isGif,r=e.subtype;switch(t){case i.MSG_TYPE.IMAGE:return u.IMAGE;case i.MSG_TYPE.VIDEO:return n?u.GIF:u.VIDEO;case i.MSG_TYPE.AUDIO:return u.AUDIO;case i.MSG_TYPE.PTT:return u.PTT;case i.MSG_TYPE.DOCUMENT:return u.DOCUMENT;case i.MSG_TYPE.STICKER:return u.STICKER;case i.MSG_TYPE.PRODUCT:return u.PRODUCT;case i.MSG_TYPE.TEMPLATE:switch(r){case"image":return u.IMAGE;case"video":return u.VIDEO;case"document":return u.DOCUMENT;default:throw new Error("template media msg is missing subtype")}default:throw new Error(`msg is not a media msg: ${t}, isGif=${String(n)}`)}};var i=n("eadfaddcj");var u=Object.freeze({AUDIO:"audio",DOCUMENT:"document",GIF:"gif",IMAGE:"image",PPIC:"ppic",PRODUCT:"product",PTT:"ptt",STICKER:"sticker",VIDEO:"video",TEMPLATE:"template"});t.default=u;t.MEDIA_TYPES_INVERTED=Object.freeze({audio:"AUDIO",document:"DOCUMENT",gif:"GIF",image:"IMAGE",ppic:"PPIC",product:"PRODUCT",ptt:"PTT",sticker:"STICKER",video:"VIDEO",template:"TEMPLATE"}),t.MEDIA_TYPE_VALUES=(0,o.default)(u)},gcbiehega:function(e,t,n){"use strict";var r=T(n("chihjdheic")),a=T(n("bfhjejbhhd")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=C(n("ddhijeejag")),u=T(n("didfdhbecg")),s=C(n("cajijabhgb")),l=T(n("dhfbfehaef")),c=T(n("bdiiahhjbe")),f=T(n("eadfaddcj")),d=T(n("ceffhbhahb")),p=T(n("hjbcfjaai")),h=n("efgideggi"),m=T(h),b=T(n("djifeiaaea")),g=T(n("bffjfbgbg")),v=T(n("becfabjeeg")),y=n("bfjajhbdf"),_=T(y),E=T(n("gbfffciea")),j=T(n("fffdgbfji")),O=T(n("bjbedjfe")),S=n("ejbdjaifi"),w=n("ddjgcfjicj"),P=T(n("bfdcadbbif")),M=T(n("cccjfjdgcj"));function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}var A=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));N.call(e);var n=e.props.initialStatusV3;if(e.props.quotedMsgKey){e.state={};var r=e.props.quotedMsgKey;if(-1!==(0,a.default)(n.msgs.getModelsArray(),function(e){return e.id.toString()===r.toString()}))e.statusV3Snapshot=new m.default(n,r),e.statusV3Snapshot.getFirstUnread(n,!0,r).checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({iterator:t,loading:!1})}).catch(s.Unmount,function(){}).catch(w.EphemeralDrop,function(){}).catch(h.InvalidStatusV3Iterator,function(){c.default.error("Invalid iterator while loading first unread msg")(),E.default.openToast(i.createElement(_.default,{msg:j.default.t(996),id:(0,y.genId)()})),e.props.closeStatusViewer()});else e.state={loading:!0},n.loadMore(n.totalCount).then(function(){(e.setState({loading:!1}),-1!==(0,a.default)(n.msgs.getModelsArray(),function(e){return e.id.toString()===r.toString()}))?(e.statusV3Snapshot=new m.default(n,r),e.statusV3Snapshot.getFirstUnread(n,!0,r).checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({iterator:t,loading:!1})}).catch(s.Unmount,function(){}).catch(w.EphemeralDrop,function(){}).catch(h.InvalidStatusV3Iterator,function(){c.default.error("Invalid iterator while loading first unread msg")(),E.default.openToast(i.createElement(_.default,{msg:j.default.t(996),id:(0,y.genId)()})),e.props.closeStatusViewer()})):(e.props.onMsgNotFound&&e.props.onMsgNotFound(),E.default.openToast(i.createElement(_.default,{msg:j.default.t(996),id:(0,y.genId)()})),e.props.closeStatusViewer())}).catch(function(){E.default.openToast(i.createElement(_.default,{msg:j.default.t(996),id:(0,y.genId)()})),e.props.closeStatusViewer()}).finally(function(){e.setState({loading:!1})})}else{var o=e.props.initialStatusMsg;e.statusV3Snapshot=new m.default(n);var u=e.statusV3Snapshot.getFirstUnread(n,!0,o&&o.id);u.isFulfilled()?e.state={}:e.state={loading:!0},u.checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({iterator:t,loading:!1})}).catch(s.Unmount,function(){}).catch(w.EphemeralDrop,function(){}).catch(h.InvalidStatusV3Iterator,function(){c.default.error("Invalid iterator while loading first unread msg")(),E.default.openToast(i.createElement(_.default,{msg:j.default.t(996),id:(0,y.genId)()})),e.props.closeStatusViewer()})}return e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){this.preloadNextStatus()}},{key:"componentDidUpdate",value:function(){this.preloadNextStatus()}},{key:"render",value:function(){var e=this,t=this.state.iterator,n=void 0,r=void 0,a=void 0,o=void 0,s=void 0,c=void 0,f=void 0,h=void 0;t&&(c=(s=this.statusV3Snapshot).statuses[t.statusIdx],f=c.statusV3,h=c.msgs[t.msgIdx],s.hasPrev(t)&&(a=i.createElement("div",{className:M.default.chevronLeft},i.createElement(P.default,{name:"chevron-left"})),o=i.createElement("div",{className:M.default.chevronLeftBg,onClick:this.onPrev})),s.hasNext(t)&&(n=i.createElement("div",{className:M.default.chevronRight},i.createElement(P.default,{name:"chevron-right"})),r=i.createElement("div",{className:M.default.chevronRightBg,onClick:function(){e.onNext(),e.markRead(f,h)}})));var m={left:this.onPrev,right:this.onNext},b=void 0;!this.state.transitioning&&!this.state.loading&&h&&t&&c&&f&&(b=i.createElement("div",{className:M.default.playerContainer,key:h.id},i.createElement(p.default,{key:h.id,statusV3:f,msg:h,mediaData:h.mediaData,msgIdx:t.msgIdx,totalMsgs:c.totalCount,markRead:this.markRead,closeStatusViewer:this.closeStatusViewer,onClickProgressBar:this.onClickProgressBar,onNext:this.onNext,onPrev:this.onPrev,sessionId:this.props.sessionId,rowIdx:this.props.rowIdx})));var g=(0,d.default)(M.default.v3X,{}),y=i.createElement("button",{className:g,onClick:function(){return e.props.closeStatusViewer(!0)}},i.createElement(P.default,{name:"status-v3-x"})),_=(0,d.default)(M.default.backIcon,{}),E=i.createElement("button",{className:_,onClick:function(){return e.props.closeStatusViewer()}},i.createElement(P.default,{name:"back-light",directional:!0})),j=void 0;return this.state.loading&&(j=i.createElement("div",{className:M.default.mediaStateControls},i.createElement("button",null,i.createElement(v.default,{size:50,stroke:4,color:"white"})))),i.createElement(l.default,{handlers:m},i.createElement("div",{className:M.default.viewer,"data-animate-status-v3-viewer":!0},y,E,o,a,r,n,j,i.createElement(u.default,{transitionName:"status-v3-player",transitionAppear:!0},b)))}}]),t}(),N=function(){var e=this;this.onClickProgressBar=function(t){var n=e.state.iterator;if((!n||t!==n.msgIdx)&&n){var r=e.statusV3Snapshot.statusAt(n,t);r.isFulfilled()||e.setState({loading:!0}),r.checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({iterator:t})}).catch(s.Unmount,function(){}).catch(w.EphemeralDrop,function(){}).catch(h.InvalidStatusV3Iterator,function(){c.default.error("Invalid iterator while getting next status msg")()}).catch(h.StatusV3LoadingError,function(){c.default.error("No more status v3 while preloading next status")()}).finally(function(){e.setState({loading:!1})})}},this.preloadNextStatus=function(){var t=e.state.iterator;t&&e.statusV3Snapshot.hasNext(t)&&e.statusV3Snapshot.getNext(t).checkpoint(e.props.rejectOnUnmount()).then(function(t){var n=e.statusV3Snapshot.statuses[t.statusIdx].msgs[t.msgIdx];if(!n)throw new h.StatusV3MsgNotFound;if(n.type===f.default.MSG_TYPE.CHAT)b.default.load(n.font).catch(function(){});else{var r=n.mediaData;r&&r.mediaStage!==g.default.STAGE.RESOLVED&&n.forceDownloadMedia()}}).catch(s.Unmount,function(){}).catch(w.EphemeralDrop,function(){}).catch(h.InvalidStatusV3Iterator,function(){c.default.error("Invalid iterator while preloading next status")()}).catch(h.StatusV3MsgNotFound,function(){c.default.error("Error finding next status while preloading next status")()}).catch(h.StatusV3LoadingError,function(){c.default.error("No more status v3 while preloading next status")()})},this.onPrev=function(){var t=e.state.iterator;if(t&&e.statusV3Snapshot.hasPrev(t)){var n=t.statusIdx;e.statusV3Snapshot.getPrev(t).checkpoint(e.props.rejectOnUnmount()).then(function(t){t.statusIdx===n?e.setState({iterator:t}):(e.setState({transitioning:!0}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then(function(){e.setState({iterator:t,transitioning:!1})}).catch(s.Unmount,function(){}))}).catch(s.Unmount,function(){}).catch(w.EphemeralDrop,function(){}).catch(h.InvalidStatusV3Iterator,function(){c.default.error("Invalid iterator while getting previous status msg")()}).catch(h.StatusV3LoadingError,function(){c.default.error("No more status v3 while preloading next status")()})}},this.onNext=function(){var t=e.state.iterator;if(t&&e.statusV3Snapshot.hasNext(t)){var n=t.statusIdx,r=e.statusV3Snapshot.getNext(t);r.isFulfilled()||e.setState({loading:!0}),r.checkpoint(e.props.rejectOnUnmount()).then(function(t){t.statusIdx===n?e.setState({iterator:t}):(e.setState({transitioning:!0,loading:!1}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then(function(){e.setState({iterator:t,transitioning:!1})}).catch(s.Unmount,function(){}))}).catch(s.Unmount,function(){}).catch(w.EphemeralDrop,function(){}).catch(h.InvalidStatusV3Iterator,function(){c.default.error("Invalid iterator while getting next status msg")(),e.closeStatusViewer()}).catch(h.StatusV3LoadingError,function(){c.default.error("No more status v3 while preloading next status")()}).finally(function(){e.setState({loading:!1})})}else e.closeStatusViewer()},this.markRead=function(t,n){if(n){var o=t.unreadCount,i=t.totalCount;(0,a.default)(t.msgs.getModelsArray(),n)>=i-o&&t.sendReadStatus(n.id,n.author);var u=(0,r.default)(e.statusV3Snapshot.statuses,{statusV3:t});u&&u.readMsgKeys.push(n.id.toString())}},this.closeStatusViewer=function(t){e.setState({transitioning:!0}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then(function(){e.props.closeStatusViewer(t)}).catch(s.Unmount,function(){})}};A.displayName="StatusV3Viewer",e.exports=(0,O.default)((0,S.hoc)(A))},gcdabficb:function(e,t){e.exports={muted:"_1mv2_",container:"_2U-0s",wallpaperColorCanvas:"_1FReI",wallpaperColorEmpty:"_2SFLd",canvasActive:"_3QlfT",canvasHover:"_3Mhyi"}},gcehifbbc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatRemoveResult=function(e,t){return u(e,f,d,p,t)},t.formatResult=u,t.formatParticipantActionString=s,t.formatGroupStatusReasonString=l,t.formatParticipantStatusReasonString=c,t.addSuccessString=function(e,t){return l10n.t(113,{participantNames:e,_plural:t})},t.addFailedString=function(e,t,n){return l10n.t(111,{participantNames:e,_plural:t})},t.addPartialFailedString=function(){return l10n.t(112)},t.removeSuccessString=f,t.removeFailedString=d,t.removePartialFailedString=p,t.promoteSuccessString=function(e,t){return l10n.t(127,{participantNames:e,_plural:t})},t.promoteFailedString=function(e,t,n){return l10n.t(125,{participantNames:e,_plural:t})},t.promotePartialFailedString=function(){return l10n.t(126)},t.demoteFailedString=function(e,t,n){switch(n){case 406:return l10n.t(116,{participant:e});default:return l10n.t(115,{participantNames:e,_plural:t})}},t.demoteSuccessString=function(e,t){return l10n.t(118,{participantNames:e,_plural:t})},t.demotePartialFailedString=function(){return l10n.t(117)};var r=i(n("dhigahgdjb")),a=i(n("ccaaiecfib")),o=i(n("jccfhaecf"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,i,u){var f=void 0;if(207===e.status){var d={};for(var p in e)if(o.default.isWid(p)){var h=e[p];if((403!==h||!a.default.supportsFeature(a.default.F.GROUPS_V_4_JOIN_PERMISSION))&&207!==h){d[h]||(d[h]=[]);var m=r.default.get(p);m&&d[h].push(m)}}var b=[];for(var g in d){var v=s(t,n,c,parseInt(g,10),d[g]);v&&b.push(v)}f=b.length>0?b.join("\n"):i()}else f=s(t,n,l,e.status,u);return f}function s(e,t,n,r,a){var o=a.map(function(e){return e.formattedShortName}).join(l10n.t(413)),i=200===r;return(i?e(o,a.length):t(o,a.length,r))+(i?"":n(r,a.length))}function l(e,t){var n="";switch(e){case 403:n=" "+l10n.t(66);break;case 408:n=" "+l10n.t(121);break;case 404:n=" "+l10n.t(67);break;case 429:n=" "+l10n.t(68)}return n}function c(e,t){var n="";switch(e){case 401:case 409:break;case 404:n=" "+l10n.t(120,{_plural:t});break;case 408:n=" "+l10n.t(121,{_plural:t});break;case 500:n=" "+l10n.t(122);break;default:n=" "+l10n.t(124)}return n}function f(e,t){return l10n.t(132,{participantNames:e,_plural:t})}function d(e,t,n){switch(n){case 406:return l10n.t(131,{participant:e});default:return l10n.t(129,{participantNames:e,_plural:t})}}function p(){return l10n.t(130)}},gchdabbf:function(e,t){e.exports={muted:"_1TD5e",multiControls:"_1hhkM",multiselectIcon:"_1wRbe",multiCount:"_11QIG",mediaGalleryTheme:"yrOIH"}},gddafccec:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("ccaaiecfib")),i=n("ejbdjaifi"),u=f(n("bghbcggigd")),s=f(n("bebbajcbbb")),l=f(n("ebgedhejjf")),c=f(n("ihfccfgdf"));f(n("eadfaddcj"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.displayAuthor,r=e.displayType,i=e.quotedMsg;if(!o.default.supportsFeature(o.default.F.PAYMENTS))return a.createElement(s.default,{msg:t,displayAuthor:n,displayType:r,quotedMsg:i});var c=null;switch(c=t.amount1000?a.createElement(u.default,{isGroupMsg:t.isGroupMsg,isSentByMe:t.isSentByMe,currency:t.currency,amount1000:t.amount1000,receiverJid:t.receiverJid,paymentStatus:t.paymentStatus,messageStubType:t.subtype,msg:t}):l10n.t(1238),t.subtype){case"ciphertext":return a.createElement(s.default,{msg:t,displayAuthor:n,displayType:r,quotedMsg:i,paymentInfo:c,placeholderText:l10n.t(1237)});case"futureproof":return a.createElement(s.default,{msg:t,displayAuthor:n,displayType:r,quotedMsg:i,paymentInfo:c,placeholderText:l10n.t(1239)});case"send":case"request":return a.createElement(l.default,{msg:t,displayAuthor:n,displayType:r,quotedMsg:i,paymentInfo:c});default:return a.createElement(s.default,{msg:t,displayAuthor:n,displayType:r,quotedMsg:i})}}}]),t}();d.CONCERNS={msg:["amount1000","currency","id","isGroupMsg","isSentByMe","paymentNoteMsg","paymentStatus","receiverJid","subtype"]},d.displayName="PaymentMessage",t.default=(0,c.default)((0,i.hoc)(d),d.CONCERNS)},gdeficihh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=(l(n("eadfaddcj")),l(n("dfjgaaeeeb"))),i=l(n("ihfccfgdf")),u=n("ejbdjaifi"),s=l(n("bbccbjiaeb"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.displayType,n=e.msg;return n.mediaData?a.createElement(o.default,{displayType:t,mediaData:n.mediaData,msg:n}):a.createElement(s.default,{msg:n,displayType:t})}}]),t}();c.CONCERNS={msg:["mediaData"]},c.displayName="MsgFailIcon",t.default=(0,i.default)((0,u.hoc)(c),c.CONCERNS)},gdhdegbhg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("ihfccfgdf")),i=n("ejbdjaifi"),u=f(n("bggdbeiaie")),s=n("hjbcfjaai"),l=f(n("cihhicgaca")),c=f(n("eadfaddcj"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.statusV3,r=t.contact,o=void 0,i=n.lastStatus;o=i&&i.type===c.default.MSG_TYPE.CHAT?a.createElement(b,{msg:i}):a.createElement(g,{renderedThumbnail:n.renderedThumbnail});var s=void 0;return r.statusMute||(s=a.createElement(u.default,{statusV3:n})),a.createElement("div",{className:l.default.container,role:this.props.role||"",onClickCapture:function(t){e.props.onClick&&e.props.onClick(),t.stopPropagation(),t.preventDefault()}},s,o)}}]),t}();m.CONCERNS={statusV3:["renderedThumbnail","lastStatus"],contact:["statusMute"]},m.displayName="StatusV3Thumbnail";var b=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.msg,t={backgroundColor:e.statusV3TextBg};return a.createElement("div",{className:l.default.statusImage,style:t},a.createElement("div",{className:l.default.textThumb},a.createElement(s.StatusV3Text,{msg:e,theme:"status-thumbnail"})))}}]),t}();b.displayName="StatusV3TextWrapper";var g=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,a.PureComponent),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.renderedThumbnail;e&&e.retain()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.renderedThumbnail,n=e.renderedThumbnail;t!==n&&(t&&t.autorelease(),n&&n.retain())}},{key:"componentWillUnmount",value:function(){var e=this.props.renderedThumbnail;e&&e.autorelease()}},{key:"render",value:function(){var e=this.props.renderedThumbnail,t={backgroundImage:e&&`url(${e.url()})`};return a.createElement("div",{className:l.default.statusImage,style:t})}}]),t}();g.displayName="StatusV3ImgWrapper",t.default=(0,o.default)((0,i.hoc)(m),m.CONCERNS)},geegjgjdg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=c(n("cehjjfagii")),o=c(n("eadfaddcj")),i=c(n("ceffhbhahb")),u=c(n("dfeecdfijg")),s=c(n("cieaeggjg")),l=c(n("bafjbifhgj"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=!1!==e.displayAuthor?!e.msg.isSentByMe&&e.msg.isGroupMsg:null,n=e.msg.showForwarded(),c=t?r.createElement("div",{className:l.default.author},r.createElement(a.default,{msg:e.msg,contact:e.msg.senderObj})):null,f=e.displayType===o.default.DISP_TYPE.GALLERY||e.hideMeta?null:r.createElement("div",{className:l.default.meta},r.createElement(s.default,{msg:e.msg})),d=n?r.createElement(u.default,{msg:e.msg,className:l.default.forwardedIndicator}):null,p=e.quotedMsg?r.createElement("div",{className:l.default.quote},e.quotedMsg):null,h=(0,i.default)(l.default.bubble,{[l.default.forwarded]:n,[l.default.hasAuthor]:t,[l.default.hasCaption]:e.hasCaption,[l.default.isPSA]:e.msg.isPSA});return r.createElement("div",{className:h},c,d,p,e.children,f)}f.displayName="MediaBubble"},gegihfgbf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("ceffhbhahb")),i=c(n("fifhbjiec")),u=c(n("ihfccfgdf")),s=c(n("bcjbggbah")),l=n("ejbdjaifi");function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.quickReply,n=t.shortcut,r=t.message,u=e.query,l=e.selected,c=e.onMouseDown,f=e.onMouseEnter,d=e.onMouseUp,p=n.slice(u.length);return a.createElement("div",{className:(0,o.default)(s.default.result,{[s.default.selected]:l}),onMouseDown:c,onMouseUp:d,onMouseEnter:f},a.createElement("span",{className:s.default.slash},"/"),a.createElement(i.default,{className:s.default.shortcutPrefix,text:u}),a.createElement(i.default,{className:s.default.shortcutSuffix,text:p}),a.createElement(i.default,{className:s.default.message,ellipsify:!0,text:r}))}}]),t}();f.CONCERNS={quickReply:["shortcut","message"]},f.displayName="Result",t.default=(0,u.default)((0,l.hoc)(f),f.CONCERNS)},geiiceahh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("eagfdbhhhh");function o(e){var t=e.children,n=e.selectable;return r.createElement(a.SelectableDel,{selectable:n,appTextTemplate:"~${appText}~"},t)}o.displayName="Strikethrough",o.defaultProps={children:""},t.default=o},gejffefga:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=E(n("echehdcaii")),a=E(n("dhgeffcgbg")),o=E(n("ccjgiajgj")),i=E(n("eaaagccfda")),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=_(n("ddhijeejag")),c=E(n("ceffhbhahb")),f=E(n("dhbjfhjgbc")),d=E(n("eceadcicaf")),p=E(n("bjbedjfe")),h=n("ejbdjaifi"),m=E(n("gbfffciea")),b=E(n("bcifhbgija")),g=n("bgddggdhc"),v=_(n("cajijabhgb")),y=E(n("ceddibdhdb"));function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var j=0,O=0,S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));w.call(n);var r=void 0;m.default.getConversationHeaderOffset(function(e){r=e.right});var a={resizeDirection:j,currentAction:O,resizeStartMousePosition:{x:0,y:0},resizeStartPiPStyle:{width:0,bottom:0,left:0},moveStartMousePosition:{x:0,y:0},moveStartPositionStyle:{left:0,bottom:0},previousWindowSize:{height:window.innerHeight,width:window.innerWidth},previousConvPanelRightBorder:r};return n.props.animationStartStyle?n.state=u({},a,n.props.animationStartStyle):n.state=u({},a,n.getInitialStyle()),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"componentWillUnmount",value:function(){this.setStateTimer.cancel(),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("resize",this.handleResize)}},{key:"componentDidMount",value:function(){var e=this;if(!this.props.animationStartStyle)return this.addListeners(),void this.handleResize();var t=this.props.animationStartStyle,n=this.getInitialStyle(),r=t.width/this.props.aspectRatio,a=t.height,o=a/r,i=(r-a)/2/o,s=u({},n,{height:n.width/this.props.aspectRatio,scaleY:[1,o],translateY:[0,i]}),l=(0,b.default)((0,g.forbiddenAssertDOMNode)(this),s,{easing:"easeInOutQuart",duration:400});this.initialAnimationPromise=Promise.race([l,this.props.rejectOnUnmount()]).checkpoint(this.props.rejectOnUnmount()).then(function(){e.initialAnimationPromise=null,e.setState(n),e.addListeners(),e.handleResize()}).catch(v.Unmount,function(){})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.aspectRatio!==this.props.aspectRatio&&e.initialStyle){if(this.initialAnimationPromise)return void this.setStateTimer.onOrAfter(400,e.initialStyle);var t=e.initialStyle.width,n=e.initialStyle.left+t-(this.state.width+this.state.left),r=e.initialStyle.bottom+t/e.aspectRatio-(this.state.bottom+this.state.width/this.props.aspectRatio);Math.abs(n)<.1&&Math.abs(r)<.1?this.setState(e.initialStyle):this.setState({width:t})}}},{key:"getDimensions",value:function(){return{width:this.state.width,height:this.state.width/this.props.aspectRatio}}},{key:"doOverlap",value:function(e,t){return!(e.right<=t.left||e.left>=t.right)&&!(e.bottom<=t.top||e.top>=t.bottom)}},{key:"escapeDistance",value:function(e,t){return{toLeftDistance:e.right-t.left,toBottomDistance:t.bottom-e.top,toRightDistance:t.right-e.left,toTopDistance:e.bottom-t.top}}},{key:"isTranslationOutOfBound",value:function(e,t){var n=window.innerWidth,r=window.innerHeight,a=this.state.left+e,o=this.state.bottom+t,i=this.state.width,u=i/this.props.aspectRatio,s=this.props.margin.x,l=n-i-this.props.margin.x,c=this.props.margin.y,f=r-u-this.props.margin.y;return c>o||o>f||(s>a||a>l)}},{key:"render",value:function(){var e=this.getDimensions(),t={width:e.width,height:e.height,bottom:this.state.bottom+"px",left:this.state.left+"px"};return l.createElement("div",{className:(0,c.default)(this.props.className,f.default.moveResizeComponentContainer),style:t},l.createElement("div",{className:(0,c.default)(f.default.topResizer,f.default.resizer,{[f.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(j)}),l.createElement("div",{className:(0,c.default)(f.default.bottomResizer,f.default.resizer,{[f.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(1)}),l.createElement("div",{className:(0,c.default)(f.default.leftResizer,f.default.resizer,{[f.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(2)}),l.createElement("div",{className:(0,c.default)(f.default.rightResizer,f.default.resizer,{[f.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(3)}),l.createElement("div",{className:(0,c.default)(f.default.topRightResizer,f.default.resizer,{[f.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(4)}),l.createElement("div",{className:(0,c.default)(f.default.topLeftResizer,f.default.resizer,{[f.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(5)}),l.createElement("div",{className:(0,c.default)(f.default.bottomRightResizer,f.default.resizer,{[f.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(6)}),l.createElement("div",{className:(0,c.default)(f.default.bottomLeftResizer,f.default.resizer,{[f.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.getResizerCallback(7)}),l.createElement("div",{className:(0,c.default)(f.default.moveable,{[f.default.defaultCursor]:1===this.state.currentAction}),onMouseDown:this.onMoveStart},this.props.children))}}]),t}(),w=function(){var e=this;this.setStateTimer=new y.default(function(t){e.setState(t)}),this.addListeners=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),window.addEventListener("resize",e.handleResize),e.props.listeners.add(m.default,"floater_escape_overlap",e.escapeOverlapMove)},this.getInitialStyle=function(){return e.props.initialStyle?{width:e.props.initialStyle.width,left:e.props.initialStyle.left,bottom:e.props.initialStyle.bottom}:{width:e.props.minWidth,left:e.props.margin.x,bottom:e.props.margin.y}},this.getResizerCallback=function(t){return function(n){0===n.button&&e.setState({resizeDirection:t,currentAction:1,resizeStartPiPStyle:{width:e.state.width,left:e.state.left,bottom:e.state.bottom},resizeStartMousePosition:{x:n.clientX,y:n.clientY}}),n.stopPropagation()}},this.onMoveStart=function(t){0===t.button&&e.setState({currentAction:2,moveStartPositionStyle:{left:e.state.left,bottom:e.state.bottom},moveStartMousePosition:{x:t.clientX,y:t.clientY}}),t.stopPropagation()},this.handleResize=(0,i.default)(function(){var t=window.innerHeight-2*e.props.margin.y,n=window.innerWidth-2*e.props.margin.x,r=e.state.width,i=r/e.props.aspectRatio,u=e.state.bottom,s=e.state.left;i>t&&(i=t,r=t*e.props.aspectRatio),r>n&&(i=n/e.props.aspectRatio,r=n),u+i>t+e.props.margin.y&&(u=t+e.props.margin.y-i),s+r>n+e.props.margin.x&&(s=n+e.props.margin.x-r),e.state.previousWindowSize.width<s+r+e.props.margin.x+3&&(s=n+e.props.margin.x-r),e.state.previousWindowSize.height<u+i+e.props.margin.y+3&&(u=t+e.props.margin.y-i);var l=null!=e.state.previousConvPanelRightBorder&&e.state.previousConvPanelRightBorder>0&&Math.abs(e.state.left+r+e.props.margin.x-e.state.previousConvPanelRightBorder)<3,c=void 0;m.default.getConversationHeaderOffset(function(e){c=e.right});var f=c&&c<window.innerWidth;l&&null!=c&&0!==c&&f&&(s=c-e.props.margin.x-r);var d={bottom:Math.max(e.props.margin.y,u),left:Math.max(e.props.margin.x,s),width:Math.max(e.props.minWidth,r),previousWindowSize:{height:window.innerHeight,width:window.innerWidth},previousConvPanelRightBorder:c},p=(0,o.default)(e.state,["bottom","left","width","previousWindowSize","previousConvPanelRightBorder"]);(0,a.default)(d,p)||e.setState(d)},50),this.validateMoveResize=function(t,n,a,o){var i=t,u=n,s=a,l=0,c=0,f=0;switch(o){case 1:l=e.state.resizeStartPiPStyle.width,c=e.state.resizeStartPiPStyle.left,f=e.state.resizeStartPiPStyle.bottom;break;case 2:l=e.state.width,c=e.state.moveStartPositionStyle.left,f=e.state.moveStartPositionStyle.bottom}var d=window.innerHeight,p=window.innerWidth,h=l+i,m=h/e.props.aspectRatio,b=f+s,g=(0,r.default)(b,2),v=c+u,y=(0,r.default)(v,2),_=e.props.minWidth,E=(0,r.default)(e.props.margin.y,2),j=(0,r.default)(d-m-e.props.margin.y,2),O=(0,r.default)(e.props.margin.x,2),S=(0,r.default)(p-h-e.props.margin.x,2);if(E>g||g>j)switch(o){case 1:s=0,u=0,i=0;break;case 2:s=0}if(O>y||y>S)switch(o){case 1:s=0,u=0,i=0;break;case 2:u=0}if(i&&b+m+e.props.margin.y>d)switch(o){case 1:s=0,u=0,i=0}if(i&&v+h+e.props.margin.x>p)switch(o){case 1:s=0,u=0,i=0}return(h<_||m+2*e.props.margin.y>d||h+2*e.props.margin.x>p)&&(s=0,u=0,i=0),{deltaWidth:i,deltaBottom:s,deltaLeft:u}},this.onMouseMove=function(t){var n=0,r=0,a=0,o=0,i=void 0;switch(e.state.currentAction){case O:return;case 1:switch(e.state.resizeDirection){case j:n=(r=e.state.resizeStartMousePosition.y-t.clientY)*e.props.aspectRatio;break;case 1:n=(r=t.clientY-e.state.resizeStartMousePosition.y)*e.props.aspectRatio,o=-r;break;case 3:o=-(r=(n=t.clientX-e.state.resizeStartMousePosition.x)/e.props.aspectRatio);break;case 2:o=-(r=(n=e.state.resizeStartMousePosition.x-t.clientX)/e.props.aspectRatio),a=-n;break;case 4:r=(n=Math.max(t.clientX-e.state.resizeStartMousePosition.x,e.props.aspectRatio*(e.state.resizeStartMousePosition.y-t.clientY)))/e.props.aspectRatio;break;case 5:r=(n=Math.max(e.state.resizeStartMousePosition.x-t.clientX,e.props.aspectRatio*(e.state.resizeStartMousePosition.y-t.clientY)))/e.props.aspectRatio,a=-n;break;case 6:o=-(r=(n=Math.max(t.clientX-e.state.resizeStartMousePosition.x,e.props.aspectRatio*(t.clientY-e.state.resizeStartMousePosition.y)))/e.props.aspectRatio);break;case 7:o=-(r=(n=Math.max(e.state.resizeStartMousePosition.x-t.clientX,e.props.aspectRatio*(t.clientY-e.state.resizeStartMousePosition.y)))/e.props.aspectRatio),a=-n}var u=0,s=0,l=0;if(0===(i=e.validateMoveResize(n,a,o,1)).deltaWidth&&0===i.deltaLeft&&0===i.deltaBottom){if(n<0)switch(e.state.resizeDirection){case j:case 4:n=e.props.minWidth-e.state.resizeStartPiPStyle.width,o=0,a=0;break;case 5:a=-(n=e.props.minWidth-e.state.resizeStartPiPStyle.width),o=0;break;case 1:case 3:case 6:o=-(r=(n=e.props.minWidth-e.state.resizeStartPiPStyle.width)/e.props.aspectRatio),a=0;break;case 2:case 7:o=-(r=(n=e.props.minWidth-e.state.resizeStartPiPStyle.width)/e.props.aspectRatio),a=-n}else if(n>0){var c=e.state.resizeStartPiPStyle.width/e.props.aspectRatio;switch(e.state.resizeDirection){case j:case 4:n=Math.min(window.innerWidth-e.props.margin.x-e.state.resizeStartPiPStyle.width-e.state.resizeStartPiPStyle.left,e.props.aspectRatio*(window.innerHeight-e.props.margin.y-c-e.state.resizeStartPiPStyle.bottom))-.1;break;case 5:r=(n=Math.min(e.state.resizeStartPiPStyle.left-e.props.margin.x,e.props.aspectRatio*(window.innerHeight-e.props.margin.y-c-e.state.resizeStartPiPStyle.bottom))-.1)/e.props.aspectRatio,a=-n;break;case 1:case 3:case 6:o=-(r=(n=Math.min(window.innerWidth-e.props.margin.x-e.state.resizeStartPiPStyle.width-e.state.resizeStartPiPStyle.left,e.props.aspectRatio*(e.state.resizeStartPiPStyle.bottom-e.props.margin.y))-.1)/e.props.aspectRatio);break;case 2:case 7:o=-(r=(n=Math.min(e.state.resizeStartPiPStyle.left-e.props.margin.x,e.props.aspectRatio*(e.state.resizeStartPiPStyle.bottom-e.props.margin.y))-.1)/e.props.aspectRatio),a=-n}}u=e.state.resizeStartPiPStyle.width+n,s=e.state.resizeStartPiPStyle.left+a,l=e.state.resizeStartPiPStyle.bottom+o,e.setState({width:u,left:s,bottom:l})}else u=e.state.resizeStartPiPStyle.width+i.deltaWidth,s=e.state.resizeStartPiPStyle.left+i.deltaLeft,l=e.state.resizeStartPiPStyle.bottom+i.deltaBottom,e.setState({width:u,left:s,bottom:l});e.props.onResize&&e.props.onResize(u,s,l);break;case 2:a=t.clientX-e.state.moveStartMousePosition.x,o=e.state.moveStartMousePosition.y-t.clientY,i=e.validateMoveResize(n,a,o,2);var f=0,d=0;f=0!==a&&0===i.deltaLeft?a>0?window.innerWidth-e.state.width-e.props.margin.x:e.props.margin.x:e.state.moveStartPositionStyle.left+i.deltaLeft,d=0!==o&&0===i.deltaBottom?o>0?window.innerHeight-e.state.width/e.props.aspectRatio-e.props.margin.y-.1:e.props.margin.y:e.state.moveStartPositionStyle.bottom+i.deltaBottom,e.setState({left:f,bottom:d}),e.props.onMove&&e.props.onMove(f,d)}},this.onMouseUp=function(t){e.setState({currentAction:O})},this.getRect=function(){return{top:window.innerHeight-e.state.bottom-e.state.width/e.props.aspectRatio,left:e.state.left,bottom:window.innerHeight-e.state.bottom,right:e.state.left+e.state.width}},this.escapeOverlapMove=function(t,n){var r=t.getBoundingClientRect(),a={left:r.left-n,top:r.top-n,right:r.right+n,bottom:r.bottom+n},o=e.getRect();if(e.doOverlap(o,a)){var i=e.escapeDistance(o,a),u=void 0,s=void 0;if(e.isTranslationOutOfBound(-i.toLeftDistance,0)||(void 0===u||i.toLeftDistance<u)&&(u=i.toLeftDistance,s=2),e.isTranslationOutOfBound(0,-i.toBottomDistance)||(void 0===u||i.toBottomDistance<u)&&(u=i.toBottomDistance,s=1),e.isTranslationOutOfBound(i.toRightDistance,0)||(void 0===u||i.toRightDistance<u)&&(u=i.toRightDistance,s=3),e.isTranslationOutOfBound(0,i.toTopDistance)||(void 0===u||i.toTopDistance<u)&&(u=i.toTopDistance,s=j),void 0!==u){var l={};switch(s){case 2:l={left:e.state.left-i.toLeftDistance};break;case 1:l={bottom:e.state.bottom-i.toBottomDistance};break;case 3:l={left:e.state.left+i.toRightDistance};break;case j:l={bottom:e.state.bottom+i.toTopDistance}}var c=(0,b.default)((0,g.forbiddenAssertDOMNode)(e),l,{duration:200});Promise.race([c,e.props.rejectOnUnmount()]).checkpoint(e.props.rejectOnUnmount()).then(function(){e.setState(l)}).catch(v.Unmount,function(){})}}}};S.displayName="MoveResizeComponent",t.default=(0,d.default)((0,p.default)((0,h.hoc)(S)))},gfgihaeab:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cccehdaiaf"),i=(r=o)&&r.__esModule?r:{default:r};var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.isSelectable=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"setSelectable",value:function(e){return this.isSelectable=e,this.trigger("update-selectable",e),this.isSelectable}}]),t}();t.default=u},gfhdfcfge:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(a.default.supportsFeature(a.default.F.MD_BACKEND)){Promise.resolve();return Promise.reject(new Error("should never get here: MD_BACKEND GK pass but pragma not defined."))}return o.default.setPushname(e).then(function(e){if(e.status&&200!==e.status)throw new r.ServerStatusCodeError(e.status);return{_duplicate:e._duplicate}})};var r=n("ddjgcfjicj"),a=i(n("ccaaiecfib")),o=i(n("bihdhbjih"));function i(e){return e&&e.__esModule?e:{default:e}}},ggfcffeaf:function(e,t){e.exports={"-color-bg-light":"#f8f8f8",colorBgLight:"#f8f8f8",muted:"_3-waT",panelBody:"_1Kstu",searchSpinner:"jqdrp",panelSearch:"a5vst"}},ghbbeafj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n("djfhiaaehb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=b(n("dbdfbgehgj")),u=n("cjcffhicea"),s=b(u),l=b(n("gbfffciea")),c=b(n("biddiiafgd")),f=b(n("eadfaddcj")),d=b(n("bihjahgcja")),p=b(n("bcbahjefec")),h=b(n("bfgbdiffgd")),m=b(n("dhgdjhdfdh"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=Array(u),f=0;f<u;f++)s[f]=arguments[f];return n=a=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.requestFocus=function(){var e=a.refUIE;if(e){var t=e.getRef();t&&t.onFocusList&&t.onFocusList()}},a.onForwardConfirmed=function(e){var t=a.props,n=t.msgs,o=t.onForward;i.default.forwardMessagesToChats(n,e).catch(d.default,function(e){a.showMediaSendError(e.reasons)}),a.end(),o&&o(n),l.default.openChatFromUnread((0,r.default)(e))},a.showMediaSendError=function(e){var t=e.map(function(e){var t=e.chat,n=e.reason;return o.createElement("p",{key:t.id.toString()},t.formattedTitle," : ",n)});l.default.openModal(o.createElement(c.default,{onOK:function(){return l.default.closeModal()},okText:l10n.t(1225)},t),void 0)},g(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.default),a(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.msgs,t=l10n.t(433,{_plural:e.length||1}),n=(0,r.default)(e),a=n&&n.chat,i=void 0;i="video"!==n.type&&"image"!==n.type?"message":n.type;var l=e.some(function(e){return e.isFrequentlyForwarded}),c=e.filter(function(e){return!e.isFrequentlyForwarded&&e.getForwardingScoreWhenForwarded()===f.default.FREQUENTLY_FORWARDED_SENTINEL}),d=void 0;h.default.frequentlyForwardedMessages&&c.length&&(d=o.createElement(m.default,{frequentlyForwardedCount:c.length,totalCount:e.length}));var p=h.default.frequentlyForwardedMessages&&l?h.default.frequentlyForwardedMax:h.default.multicastLimitGlobal;this.push(o.createElement(s.default,{onChat:this.onForwardConfirmed,maxItems:p,excludeChat:a,msgType:i,title:t,listType:u.ListType.CHAT_SELECT_MODAL,customHeader:d,hasFrequentlyForwarded:l}))}}]),t}();t.default=v},gicgagfjj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("gbfffciea")),i=h(n("bcbahjefec")),u=h(n("eahhieahd")),s=n("bfjajhbdf"),l=h(s),c=h(n("cjbicbfaej")),f=n("bgjddhffji"),d=n("bheafeifce"),p=h(n("bihdhbjih"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),h=0;h<i;h++)u[h]=arguments[h];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.submitReason=function(e){var t=r.props,n=t.product,a=t.sessionId;return(0,f.logReportProduct)((0,d.unproxy)(n),a),p.default.reportBusinessCatalogProduct(n.catalogWid.toString(),n.id.toString(),e)},r.onDelete=function(){r.end()},r.onReport=function(e){r.onShowSubmittedToast(e)},r.onTellUsMore=function(){r.push(a.createElement(c.default,{onTellUsMoreSubmit:r.onReport,onCancel:r.onCancel}),"none")},r.onPopupCancel=function(){r.end()},r.onCancel=function(){r.end()},r.onReportSubmitted=function(){r.end()},r.onShowSubmittedToast=function(e){r.submitReason(e).then(function(){o.default.openToast(a.createElement(l.default,{msg:`${l10n.t(869)}. ${l10n.t(902)}`,id:(0,s.genId)()}))}).catch(function(){}),r.onReportSubmitted()},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.push(a.createElement(u.default,{onTellUsMore:this.onTellUsMore,onReport:this.onReport,onPopupCancel:this.onPopupCancel,onCancel:this.onCancel}))}}]),t}();t.default=b},gigbjdedj:function(e,t){e.exports={muted:"_3kdFf",hover:"_1ySpe",quotedMsg:"_2aWeC",composeBoxQuotedMsg:"_3SwSG",msg:"OuwTy",colorBar:"_11Kl0",msgBody:"vuD1j"}},gigddihfd:function(e,t){e.exports={muted:"_11WnO",wrapper:"_2ks1A"}},gigfajjic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendConversationSeen=function(e,t,n){var o=void 0;o=a.default.supportsFeature(a.default.F.MD_BACKEND)?Promise.reject(new Error("Should not reach here")):i.default.sendConversationSeen(e.id,t,n).then(function(e){var t=e.status,n=e._duplicate;return 200!==t?Promise.reject(new r.ServerStatusCodeError(t)):{_duplicate:n}});return o},t.sendConversationUnseen=function(e,t){return a.default.supportsFeature(a.default.F.MD_BACKEND)?Promise.resolve():i.default.sendConversationUnseen(e,t).then(function(e){var t=e.status;if(200!==t)return Promise.reject(new r.ServerStatusCodeError(t))})},t.markConversationSeen=function(e,t){if(a.default.supportsFeature(a.default.F.MODEL_STORAGE))return o.Chat.merge(e.toString(),{unreadCount:t});return Promise.resolve()},t.markConversationUnseen=function(e){if(a.default.supportsFeature(a.default.F.MODEL_STORAGE))return o.Chat.merge(e.toString(),{unreadCount:-1});return Promise.resolve()};var r=n("ddjgcfjicj"),a=u(n("ccaaiecfib")),o=n("cefcddgdgg"),i=u(n("bihdhbjih"));function u(e){return e&&e.__esModule?e:{default:e}}},gigggciff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=y(n("eadfaddcj")),i=y(n("ihfccfgdf")),u=n("ejbdjaifi"),s=y(n("cehjjfagii")),l=n("caafgbfcba"),c=y(l),f=y(n("gbfffciea")),d=y(n("bffjfbgbg")),p=y(n("eiiicijcj")),h=y(n("dhhfaeacef")),m=y(n("dffedieagi")),b=y(n("bfdcadbbif")),g=y(n("ddadaeidcc")),v=n("cgbdcdhgig");function y(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showMediaMissing=function(){f.default.openModal(a.createElement(p.default,{msg:n.props.msg}))},n.downloadMedia=function(){n.props.msg.forceDownloadMedia(!0)},n.cancelDownload=function(){n.props.msg.cancelDownload()},n.cancelUpload=function(){n.props.msg.cancelUpload()},n.resumeUpload=function(){n.props.msg.resumeUpload()},n.resumeRemoteUpload=function(){n.props.msg.resumeRemoteUpload()},n.handleTimeUpdate=function(e){n.setState({currentTime:e})},n.handlePlayingUpdate=function(e){var t=n.props.msg;e&&(0,v.canMarkPlayed)(t)&&(0,v.markPlayed)(t),n.setState({autoPlay:!1,playing:e})},n.state={currentTime:0,playing:!1,autoPlay:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.msg.downloadMedia()}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.mediaData,r=t.ack===o.default.ACK_PLAYED,i=r?t.isSentByMe?"ptt-out-blue":"ptt-in-blue":t.isSentByMe?"ptt-out-gray":"ptt-in-green",u=a.createElement("div",{className:g.default.icon,key:"status"},a.createElement(b.default,{name:i})),f=void 0,p=this.state.playing?this.state.currentTime:n.duration;switch(n.mediaStage){case d.default.STAGE.RESOLVED:f=a.createElement(c.default,{autoPlay:this.state.autoPlay,duration:p,onPlayingUpdate:this.handlePlayingUpdate,onTimeUpdate:this.handleTimeUpdate,outgoingMsg:t.isSentByMe,playing:this.state.playing,played:r,displayType:this.props.displayType,url:n.renderableUrl,getSequentialMsg:this.props.getSequentialMsg,currMsgId:t.id});break;case d.default.STAGE.NEED_POKE:f=a.createElement(l.AudioPlayerFrame,{icon:a.createElement(b.default,{name:"audio-download"}),outgoingMsg:t.isSentByMe,action:this.downloadMedia});break;case d.default.STAGE.NEED_UPLOAD:f=a.createElement(l.AudioPlayerFrame,{icon:a.createElement(b.default,{name:"audio-upload"}),outgoingMsg:t.isSentByMe,action:this.resumeUpload});break;case d.default.STAGE.REMOTE_NEED_UPLOAD:f=a.createElement(l.AudioPlayerFrame,{icon:a.createElement(b.default,{name:"audio-upload"}),outgoingMsg:t.isSentByMe,action:this.resumeRemoteUpload});break;case d.default.STAGE.ERROR_MISSING:f=a.createElement(l.AudioPlayerFrame,{icon:a.createElement(b.default,{name:"audio-play",directional:!0}),outgoingMsg:t.isSentByMe,action:this.showMediaMissing});break;case d.default.STAGE.UPLOADING:case d.default.STAGE.SENDING:f=a.createElement(l.AudioPlayerFrame,{spinner:!0,outgoingMsg:t.isSentByMe,fileSize:n.size});break;default:f=a.createElement(l.AudioPlayerFrame,{spinner:!0,outgoingMsg:t.isSentByMe})}var v=this.props.displayAuthor&&!t.isSentByMe&&t.isGroupMsg?a.createElement(s.default,{msg:t,contact:t.senderObj}):null,y=a.createElement(h.default,{id:t.senderObj.id,size:55});return a.createElement(m.default,{msg:t,quotedMsg:this.props.quotedMsg,author:v,status:u,player:f,avatar:y,displayType:this.props.displayType})}}]),t}();_.CONCERNS={msg:["ack","isSentByMe","isGroupMsg","senderObj","id"],mediaData:["duration","type","mediaStage","renderableUrl","size"]},_.displayName="PTT",t.default=(0,i.default)((0,u.hoc)(_),_.CONCERNS)},gjcabeieb:function(e,t,n){"use strict";e.exports={singleByte:["quick_reply","sticker","pay_t","accept","reject","sticker_pack","invalid","canceled","missed","connected","result","audio","video","recent"]}},gjhhbhigc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cgeeeeddea"),i=(r=o)&&r.__esModule?r:{default:r};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,null,[{key:"match",value:function(e,t,n){(0,i.default)(!1,"Subclasses of `Mutator` must override `match()`")}},{key:"mutate",value:function(e,t,n){return e}}]),e}();u.nestable=!0,u.format=!0,u.fragment=!1,u.compatibility=!1,u.mutates=!1,t.default=u},habccggff:function(e,t){e.exports={muted:"_3KOEE",videoFloater:"_1p-0O",bgImg:"_20Y2q",bottomLayer:"_2MK_3"}},hadecdfeb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=n("eagfdbhhhh");function o(e){var t=e.children,n=e.selectable;return r.createElement(a.SelectableEm,{selectable:n,appTextTemplate:"_${appText}_"},t)}o.displayName="Italic",o.defaultProps={children:""},t.default=o},haehdhfbi:function(e,t){e.exports={muted:"_11kPC",verified:"_3ATTl",psa:"_3E_9T",icon:"ChMwW",hasLabels:"_3NWy8",labels:"_2Ol0p"}},haidjjcae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=p(n("bjebjijbfc")),u=p(n("dgdjiicfdg")),s=p(n("gbfffciea")),l=p(n("eceadcicaf")),c=n("ejbdjaifi"),f=n("caceaafdic"),d=p(n("fifhbjiec"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){var e,n,r;h(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={hide:!1},r.rerender=function(){r.forceUpdate()},m(r,n)}return b(t,o.PureComponent),a(t,[{key:"componentDidMount",value:function(){this.maybeRegMidnight()}},{key:"componentDidUpdate",value:function(){this.maybeRegMidnight()}},{key:"getTimestamp",value:function(){return this.props.timestamp}},{key:"hide",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){this.state.hide!==e&&this.setState({hide:e})})},{key:"maybeRegMidnight",value:function(){this.props.listeners.remove(s.default,"midnight",this.rerender);var e=(0,u.default)().startOf("day").subtract(7,"day");this.props.timestamp>=e.unix()&&this.props.listeners.add(s.default,"midnight",this.rerender)}},{key:"render",value:function(){var e=i.default.relativeDateStr(this.props.timestamp);return o.createElement(f.SystemBubble,{hidden:this.state.hide},o.createElement(d.default,{direction:"auto",text:e.toUpperCase()}))}}]),t}();g.displayName="DateMarker";var v=function(e){function t(){return h(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,(0,l.default)((0,c.hoc)(g))),a(t,[{key:"getTimestamp",value:function(){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).getTimestamp()}},{key:"hide",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getComponent",this).call(this).hide(e)})}]),t}();t.default=v},hbabifghf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=s(n("bcjcbbafcj")),i=s(n("bfdcadbbif")),u=s(n("ebhfgcddae"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setRefVideo=function(e){n._videoRef=e,n.synchronizeVideo()},n.synchronizeVideo=function(){var e=n._videoRef;e&&(n.state.animate?e.paused&&e.play():e.paused||(e.pause(),e.currentTime=0))},n.setShouldAnimate=function(e){n.state.animate===e&&n.state.show||n.setState({animate:e,show:!0},n.synchronizeVideo)},n.handleClick=function(){n.props.onSend(n.props.gif)},n.setRefHotKeys=function(e){n.messagePreviewRef=e},n.onFocus=function(e){e.preventDefault(),e.stopPropagation(),n.setState({focused:!0})},n.onBlur=function(e){e.preventDefault(),e.stopPropagation(),n.setState({focused:!1})},n._videoRef=null,n.state={animate:!1,show:!1,focused:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.gif,t=null;this.state.show&&(t=o.default.troublesWithLotsOfVideos&&e.nonVideoUrl?a.createElement("img",{className:u.default.body,onClick:this.handleClick,src:e.nonVideoUrl}):a.createElement("video",{className:u.default.body,onClick:this.handleClick,controls:!1,autoPlay:this.state.animate,loop:!0,muted:!0,ref:this.setRefVideo,src:e.previewUrl}));var n=void 0;return this.props.isStarred&&this.props.onUnstarMsg&&(n=a.createElement("button",{className:u.default.icon,onClick:this.props.onUnstarMsg},a.createElement(i.default,{name:"star-light"}))),a.createElement("div",{ref:this.setRefHotKeys,className:u.default.preview,tabIndex:"-1",onFocus:this.onFocus,onBlur:this.onBlur,style:{flexBasis:e.widthStr}},this.state.focused&&a.createElement("div",{style:{flexBasis:e.widthStr},className:u.default.focusBorder}),a.createElement("div",{style:{width:e.widthStr},className:u.default.wrapper},a.createElement("div",{style:{paddingBottom:e.ratioStr},className:u.default.container},t)),n)}}]),t}();l.displayName="GifPreview",t.default=l},hbciiabei:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=O(n("diifagijfe")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=O(n("djcchigfih")),u=n("dajffajabh"),s=O(u),l=O(n("djbhiedbef")),c=O(n("fffdgbfji")),f=O(n("eceadcicaf")),d=n("ejbdjaifi"),p=O(n("ehaaiddhe")),h=O(n("cdjhjdcbeg")),m=O(n("bfdcadbbif")),b=O(n("dceicchccd")),g=O(n("cbcfgjhjhj")),v=O(n("gbfffciea")),y=O(n("baiheeddah")),_=O(n("biddiiafgd")),E=n("bddhdheedf"),j=O(n("bfbggcdbfb"));function O(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onMultiSelect=function(){var t=(0,r.default)(e.multiSelection.getSelected());e.setState({selectedCount:t})},e.shouldScrollIntoViewAndSelect=function(e){return{shouldScrollIntoView:!0,shouldSelect:!1}},e.onDeleteLabel=function(t){v.default.closeModal(),e.multiSelection.unsetAll(),e.props.onDeleteLabel(t)},e.confirmDeleteSelectedLabels=function(){var t=e.multiSelection.getSelected();(0,E.logLabelOperationEvent)(j.default.LABEL_OPERATIONS.VIEW,t.length,j.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),v.default.openModal(o.createElement(_.default,{title:c.default.t(361,{_plural:t.length}),okText:c.default.t(1339),cancelText:c.default.t(1220),onCancel:function(){(0,E.logLabelOperationEvent)(j.default.LABEL_OPERATIONS.CLICK_NEGATIVE,1,j.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),v.default.closeModal()},onOK:function(){(0,E.logLabelOperationEvent)(j.default.LABEL_OPERATIONS.CLICK_POSITIVE,1,j.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),e.onDeleteLabel(t)}}))},e.onCancelSelection=function(){e.multiSelection.unsetAll(),e.setState({selectedCount:0})},e.state={selectedCount:0},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"UNSAFE_componentWillMount",value:function(){this.multiSelection=new b.default([],function(e){return e.id}),(0,E.logLabelOperationEvent)(j.default.LABEL_OPERATIONS.VIEW,void 0,j.default.LABEL_TARGETS.LABELS_SCREEN)}},{key:"render",value:function(){var e=null;return e=this.state.selectedCount>0?o.createElement(y.default,{selectedModels:this.multiSelection,onCancel:this.onCancelSelection,onDelete:this.confirmDeleteSelectedLabels,theme:"drawer-header"}):o.createElement(s.default,{title:c.default.t(587),onBack:this.props.onClose,type:u.DRAWER_HEADER_TYPE.LARGE}),o.createElement(i.default,{theme:"settings"},e,o.createElement(l.default,null,o.createElement(g.default,{shouldScrollIntoViewAndSelect:this.shouldScrollIntoViewAndSelect,selectedLabels:this.multiSelection,renderContex:"label-list",onMultiSelect:this.onMultiSelect,onLabelClick:this.props.onLabelClick})),o.createElement("div",{className:p.default.addLabelBtContainer},o.createElement(h.default,{large:!0,onClick:this.props.openAddLabel},o.createElement(m.default,{name:"plus-large"}))))}}]),t}();S.displayName="LabelDrawer",t.default=(0,f.default)((0,d.hoc)(S))},hbfbchadb:function(e,t){e.exports={muted:"_2_BKR",chatSubtitle:"_3Q3ui",chatSubtitleHeader:"i1XSV",chatSubtitleText:"_315-i"}},hbhjdibhf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n("jcfacighg"));t.findCommonGroups=function(e){var t=(0,i.unproxy)(e),n=t.commonGroups,l=t.id,c=t.promises;if(c.findCommonGroups)return c.findCommonGroups;if(n&&!n.stale)return Promise.resolve();return c.findCommonGroups=s.default.commonGroupsFind(l).then(function(e){if(200===e.status){var i=(0,r.default)(e.groups.map(function(e){return u.default.Chat.get(e)}));return n?(n.set(i),n.stale=!1):t.commonGroups=new a.default(i,l),!0}return o.default.error("models:Contact:findCommonGroups error: "+e.status)(),Promise.reject(new Error("models:Contact:findCommonGroups error: "+e.status))}).finally(function(){c.findCommonGroups=null})};var a=l(n("cjabddhidj")),o=l(n("bdiiahhjbe")),i=n("bheafeifce"),u=l(n("bhggeigghg")),s=l(n("bihdhbjih"));function l(e){return e&&e.__esModule?e:{default:e}}},hcfegac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e.__playPromise)return e.__playPromise;var t=new Promise(function(t,n){function r(n){e.removeEventListener("playing",r),e.removeEventListener("error",a),e.videoHeight&&e.videoWidth||r(n),delete e.__playPromise,t(n)}function a(t){e.removeEventListener("playing",r),e.removeEventListener("error",a),delete e.__playPromise,n(t)}e.addEventListener("playing",r),e.addEventListener("error",a);var o,i=e.play();(o=i)&&"function"==typeof o.then&&(e.removeEventListener("playing",r),e.removeEventListener("error",a),i.then(function(){delete e.__playPromise,t()}).catch(function(t){delete e.__playPromise,n(t)}))});return e.__playPromise=t,t}},hciaejfjd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return t&&t.length>0&&t.forEach(function(t){o.default.Label.gadd({id:t}).labeltemColleciton.gadd({id:i(e,t,n),labelId:t,parentId:e,parentType:n})}),[]},t.createLabelItemId=i,t.removeLabelFromCollection=function(e,t,n){var r=o.default.Label.get(t),a=i(e,t,n);r&&r.labeltemColleciton&&r.labeltemColleciton.remove(a)};var r,a=n("bhggeigghg"),o=(r=a)&&r.__esModule?r:{default:r};function i(e,t,n){return`${e}_${t}_${n}`}},hdccjfbbg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.FREQUENT_PREFIX=t.Type=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("bgddggdhc"),i=C(n("effbcehec")),u=C(n("ccfcjccjbg")),s=n("caijdggfg"),l=C(n("dgibicjjj")),c=C(n("dhhfaeacef")),f=C(n("ibeajfihb")),d=C(n("ihfccfgdf")),p=n("bheafeifce"),h=C(n("eceadcicaf")),m=n("ejbdjaifi"),b=C(n("ceffhbhahb")),g=C(n("fifhbjiec")),v=n("cgejchjdhj"),y=C(n("ddajbaceej")),_=C(n("bdiiahhjbe")),E=n("dhfbfehaef"),j=C(E),O=C(n("bhheahajjg")),S=C(n("bfdcadbbif")),w=C(n("bcifhbgija")),P=C(n("cedaiijige")),M=C(n("jccfhaecf"));function C(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=t.Type={SMALL:"SMALL",DEFAULT:"DEFAULT"},N=t.FREQUENT_PREFIX="freq_",k=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onSearch=function(){r.props.searchQuery?r.setState({searchText:r.props.searchQuery.trimmed}):_.default.error("Contact: prop searchQuery is undefined")()},r.onActiveChange=function(e,t){if("focus"===e){var n=(0,o.forbiddenAssertDOMNode)(r);y.default.focus(n),t&&(0,v.scrollIntoViewIfNeeded)(n)}r.setState({active:!!e})},r.onDelete=function(e){e.stopPropagation();var t=r.props.onDelete;t&&t(e,(0,p.unproxy)(r.props.contact))},r.onClick=function(e){var t=r.props,n=t.onClick,a=t.contact;n&&n(e,(0,p.unproxy)(a))},r.onMouseDown=function(e){0===e.button&&r.onClick(e)},r.onEnter=function(e){e.preventDefault(),e.stopPropagation(),r.onClick(e)},r.onContext=function(e){r.props.onContext&&r.props.onContext(e,r.props.contact)},r.indicateFocus=function(e){e.stopPropagation(),e.preventDefault(),(0,E.indicateFocus)(r.cell,["#e9eaeb","#cbdde7"],{complete:r.onBlur})},r.onBlur=function(e){var t=(0,o.forbiddenFindDOMNode)(r.cell);t&&((0,w.default)(t,"stop"),t.style.backgroundColor="")},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.setState({contextMenu:!1}),this.initListeners(this.props)}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.listenForAdminChange,r=t.listeners,a=t.participantCollection,o=t.contact;n&&a&&r.add(a,"change:isAdmin change:isSuperAdmin",function(t){M.default.equals(t.id,o.id)&&e.forceUpdate()})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.initListeners(e,this.props)}},{key:"initListeners",value:function(e,t){var n=e.listeners,r=e.active,a=e.contact,o=e.searchQuery,i=e.frequent;if(t&&t.searchQuery&&t.searchQuery!==o&&n.remove(t.searchQuery,s.SEARCH_EVENT,this.onSearch),!o||t&&o===t.searchQuery||n.add(o,s.SEARCH_EVENT,this.onSearch),(!t||!a.id.equals(t.contact.id))&&(t&&t.active&&n.remove(t.active,t.contact.id.toString(),this.onActiveChange),r)){var l=(i?N:"")+a.id.toString();n.add(r,l,this.onActiveChange)}var c=r&&r.value instanceof u.default&&a.isProxyOf(r.value);this.setState({searchText:o?o.trimmed:"",active:c})}},{key:"contextEnabled",value:function(){return!1}},{key:"render",value:function(){var e=this.props,t=e.contact,n=e.secondary,r=e.onContext,o=e.onDelete,u=e.contextEnabled,s=e.contextMenu,d=e.admin,p=e.showNotifyName,h=e.waitIdle,v=e.theme,y=e.useShortName,_=e.detail,E=e.listenForAdminChange,w=e.participantCollection,M=e.isPendingParticipant,C=this.state,T=C.active,N=C.searchText,k=(0,b.default)({[P.default.contactSmall]:this.props.type===A.SMALL}),I=void 0,R=void 0,L=void 0;if(!t.name&&p&&t.notifyName&&(L=a.createElement("span",{className:P.default.screenName},a.createElement(g.default,{direction:"auto",text:t.notifyName}))),(d||E&&w&&w.assertGet(t.id).isAdmin)&&(R=a.createElement("div",{className:P.default.markerAdmin},l10n.t(1136))),M&&(R=a.createElement("div",{className:P.default.markerInvited},l10n.t(524))),_)I=_;else if(o){var D=this.props.type===A.SMALL?"x-alt-small":"x-alt";I=a.createElement("div",{"data-a8n":i.default.key("chat-controls"),className:P.default.chatControls,role:"button",onClick:this.onDelete},a.createElement(S.default,{name:D}))}var x=n;x||(x=a.createElement(f.default,{id:t.id,waitIdle:h}));var U=void 0;r&&(U=this.onContext);var G=this.props.type===A.SMALL?26:null,F={enter:this.onEnter},B=this.props.mouseDownAsClick,$=a.createElement(O.default,{contact:t,useShortName:y,highlightText:N,showLabel:!0,titlify:!0,ellipsify:!0,you:!0}),V="list-names"!==v||o?v:"list-names-no-delete";return a.createElement(j.default,{handlers:F,onFocus:this.indicateFocus,onBlur:this.onBlur,className:k},a.createElement(l.default,{ref:(0,m.GetRef)("cell",this),theme:V,active:T,contextEnabled:u||this.contextEnabled,contextMenu:s,pendingAction:t.pendingAction,detail:I,image:a.createElement(c.default,{id:t.id,size:G,waitIdle:h}),primary:$,primaryDetail:R,secondary:x,secondaryDetail:L,onClick:B?null:this.onClick,onMouseDown:B?this.onMouseDown:null,onContext:U}))}}]),t}();k.CONCERNS={contact:["id","pendingAction","notifyName","name"]},k.displayName="Contact";t.Component=k;t.default=(0,h.default)((0,d.default)((0,m.hoc)(k),k.CONCERNS))},hddadiifa:function(e,t){e.exports={muted:"_1zNSq",container:"_26JG5",containerNoIcon:"_10L7G",containerListAligned:"pgYve",icon:"_1tyVr",bodyContainer:"_27Ie2",body:"_1SYAj"}},hddfjdhii:function(e,t,n){"use strict";e.exports={SMILEYS_PEOPLE:[1731,1734,1735,1732,1737,1736,1733,2085,79,1741,1738,1797,1798,1740,1743,1744,2261,1755,1754,1756,1757,1742,1758,1760,1759,2103,2101,2351,2034,1745,2102,2262,1746,1749,1761,1751,1762,1752,1796,78,1766,1753,1774,1772,2266,1765,1776,1767,1763,1764,2105,2108,1782,2264,2265,1780,1771,1779,1768,1750,2038,2035,2106,2104,2087,1785,1747,1748,1775,1799,1778,1769,1770,1777,1781,1783,2086,1773,1784,2031,2263,2084,2107,2100,1786,2033,2036,2032,2082,1739,1368,1357,1358,2083,1468,1359,1369,70,1366,1367,2037,624,1789,1787,1788,1790,1791,1792,1795,1794,1793,2121,952,1851,946,2069,934,940,916,153,2057,2063,2070,165,2076,2039,928,904,910,892,898,64,159,2051,1687,1699,922,2045,1469,1693,171,1881,2317,2311,1400,1434,890,2323,891,878,884,976,876,875,2482,1721,977,978,1333,985,2358,979,1117,2352,991,1225,1099,1219,1093,1292,1291,1237,1111,1231,1105,2370,1327,2364,1321,1303,1310,1309,2376,1272,1271,1340,1339,1383,1382,1661,1660,1123,997,1141,1015,1147,1021,1153,1027,1159,1033,1171,1045,1177,1051,1183,1057,1189,1063,1195,1069,1201,1075,1165,1039,1213,1087,1135,1009,1207,1081,1129,1003,1285,2139,1351,2133,2325,2324,2337,2336,2145,626,2419,2418,2467,2466,2443,2442,2481,2480,2479,2478,2455,2454,2431,2430,1360,2109,2115,1825,1824,1371,1370,1801,1800,1813,1812,1840,1839,2089,2088,2152,2151,1870,1869,1858,1857,1420,1419,1408,1407,2383,2382,1401,2127,1394,1676,1284,1283,1654,1975,1974,689,688,1268,1270,1269,1443,1444,1442,1439,1440,1438,1253,1255,1256,1254,1257,1263,1265,1266,1264,1267,1248,1250,1251,1249,1252,1258,1260,1261,1259,1262,1243,1245,1246,1244,1247,2504,2503,2487,2267,967,962,963,961,964,966,965,2270,973,974,975,971,972,2269,2488,2486,2485,662,2484,959,645,122,958,1436,970,968,969,1492,644,2501,960,1672,2268,497],ANIMALS_NATURE:[865,860,856,868,859,2281,870,871,851,858,2272,857,866,872,867,864,1836,1837,1838,829,831,850,849,847,846,848,2277,2276,2280,2278,869,834,863,2275,840,838,2282,823,841,839,2302,2294,1673,1674,2273,845,824,2285,2293,2292,836,2288,2287,2301,2271,844,843,842,855,862,822,2279,821,816,817,2290,2284,835,2298,2286,853,854,2289,2295,814,813,815,825,833,826,828,2296,827,2283,832,852,819,830,2274,2297,2299,2305,1622,818,2300,2304,812,811,874,2291,873,820,861,546,625,543,544,545,542,556,63,557,639,637,560,559,558,561,837,555,1441,548,550,2214,551,549,553,552,525,524,522,523,521,516,517,518,519,512,513,514,515,520,509,508,510,1475,209,526,183,110,58,1464,1596,535,503,54,529,118,530,55,531,532,119,534,533,186,57,117,537,1467,1466,1465,61,56,505,536],FOOD_DRINK:[572,571,573,567,568,569,566,564,576,565,575,574,2258,570,2250,2242,562,563,2230,2251,2257,2231,547,554,2234,2233,589,2229,2260,587,2235,2253,2348,2239,608,2243,2232,2254,580,579,2310,538,577,588,578,2255,2238,539,540,2236,2237,2256,586,585,607,584,592,606,2244,593,582,583,581,594,2245,2259,591,590,596,597,595,2252,2349,605,623,603,602,601,600,620,598,599,541,2241,604,2240,617,62,610,2249,611,615,616,2216,612,2217,613,614,619,2218,609,618,2248,2246,2247,2350],ACTIVITY:[115,685,720,116,2227,683,761,721,2228,670,764,803,763,762,2226,760,2219,130,804,656,2223,2224,682,2030,2028,134,2225,684,133,687,735,734,2189,2188,2164,2163,136,135,2187,2203,2202,747,746,714,2407,2406,701,700,723,722,2191,2190,1923,1922,2395,2394,1963,1962,1951,1950,713,2220,2221,2222,712,646,801,647,664,652,663,2176,2175,666,661,665,657,660,681,678,2215,676,679,677,680,671,92,668,672,667,669,2491],TRAVEL_PLACES:[1910,1908,1912,1899,1901,759,1906,1904,1905,1903,1913,1914,1915,2025,1948,2026,758,1938,1907,1900,1911,1909,1920,1919,1918,1890,1898,1917,1916,1891,1892,1895,1889,1893,1894,1897,1896,151,2021,2022,2020,1490,2023,1887,2029,1888,2027,132,1934,2019,2024,131,1921,102,148,1937,1936,1935,1902,1725,1730,1728,1727,793,792,776,654,655,653,129,128,767,774,773,506,127,765,1726,766,147,777,778,769,771,768,790,779,789,780,781,782,783,785,787,788,786,1445,772,126,1624,1625,1623,125,2018,2017,1729,643,775,500,499,527,633,632,502,501,770,498,507,504,496],OBJECTS:[27,1545,1546,1491,29,1706,1707,1708,1709,1675,1717,1493,1494,1495,1496,1556,1551,1552,1553,658,1557,651,1526,59,1527,1528,1554,1555,648,649,650,2495,39,40,38,1652,28,41,1529,1570,1571,1460,1597,1651,2497,2016,1488,1485,1484,1486,1487,1480,1483,1437,104,2498,1598,1599,101,2014,121,1600,106,2499,123,2500,1602,1462,2490,1601,1720,103,2015,1942,113,114,805,1605,1558,2513,1431,105,1604,1603,1653,1433,1432,2494,2303,2493,2492,528,2507,2508,2509,1992,1946,1994,2001,1995,2510,2511,2502,2009,1576,1718,1940,2006,2010,2007,2506,1710,2008,2013,622,634,641,621,636,635,640,791,642,2489,152,1537,1536,1535,1435,1533,1532,1534,802,1538,1539,1540,1541,1542,1543,1524,1499,1500,1513,2512,1506,1504,1505,1715,1716,1502,1501,1714,1503,1712,1724,1713,1507,1497,1498,1711,1719,1544,1515,1516,1514,1517,1519,1520,1521,1522,1518,1581,2505,1582,1510,1682,1512,1511,2496,1508,1509,149,1683,1684,178,1685,1686,1525,177,1572,1573,1574,1575,1577,1578],SYMBOLS:[195,2483,1454,1453,1452,1455,1705,1447,194,1448,1457,1446,1450,1449,1451,1456,1458,75,181,74,1621,77,182,1606,1626,76,73,2011,120,80,81,82,83,84,85,86,87,88,89,90,91,225,107,494,71,72,1548,1547,488,482,490,492,489,185,231,1478,493,214,213,486,487,491,484,217,218,221,222,219,229,188,210,2012,124,1523,1941,1479,1461,97,1986,1945,1949,1947,1589,1549,1943,193,192,190,191,15,16,1564,1565,212,109,1987,1608,108,1607,98,150,483,1489,187,184,189,511,1459,45,495,1463,784,1993,100,220,485,481,2002,2003,2004,2005,1988,1989,1991,1990,1944,659,1550,480,1594,18,1595,1592,1591,227,228,230,223,226,224,3,4,5,6,7,8,9,10,11,12,1590,1593,1,2,30,48,42,37,43,44,35,36,31,32,33,34,49,1619,1620,199,204,205,206,22,23,24,21,20,19,26,25,202,203,1559,1560,1561,1563,1562,674,675,196,197,198,180,99,1482,1481,17,13,14,877,1585,1584,1586,1588,1587,211,200,201,179,60,1583,111,112,1611,1612,1617,1618,1615,1616,1613,1614,1610,1609,46,47,53,52,51,50,207,208,1567,1566,1568,1569,1579,1580,1531,1530,1476,1477,1723,93,94,95,96,216,673,215,1627,1628,1629,1630,1631,1632,1633,1634,1635,1636,1637,1638,1639,1640,1641,1642,1643,1644,1645,1646,1647,1648,1649,1650],FLAGS:[794,796,797,686,1939,795,2514,461,234,246,237,292,242,232,239,236,240,235,241,238,245,244,243,247,263,254,250,249,266,251,267,256,258,264,260,248,265,262,337,468,259,253,252,255,348,277,268,331,282,261,355,271,444,276,278,284,269,279,350,272,270,275,280,274,328,281,283,285,286,289,288,290,291,293,295,439,319,297,294,299,300,303,305,302,301,306,311,405,445,307,316,310,287,313,314,320,315,309,318,323,322,312,317,324,325,329,327,326,330,340,336,332,339,338,333,335,334,341,343,345,638,342,344,356,346,349,474,354,347,357,366,358,363,362,367,360,364,365,378,374,372,386,388,385,375,383,373,380,381,384,476,387,304,370,369,377,371,382,368,389,376,390,399,398,396,391,401,395,392,394,400,393,352,379,397,402,408,415,413,403,406,416,404,407,411,409,414,412,417,418,419,421,422,473,433,438,423,434,420,425,432,428,440,431,430,321,424,435,477,353,437,298,361,257,429,351,359,410,466,426,436,442,427,273,441,457,448,458,447,450,446,449,453,455,452,454,451,443,456,469,460,459,233,308,798,799,800,462,463,464,471,465,467,470,472,296,475,478,479]}},hefjgabce:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.hostname,n=e.type,o=e.encFilehash,u=e.query,s=i[n],l=new URL(`https://${t}${s}/${(0,r.default)(o)}`),c=new a.default(u).toString();c&&(c=`?${c}`);return`https://${l.host}${l.pathname}${c}`};var r=o(n("ebfbbaecji")),a=o(n("ddfjdghbjb"));function o(e){return e&&e.__esModule?e:{default:e}}var i={audio:"/mms/audio",document:"/mms/document",gif:"/mms/gif",image:"/mms/image",ppic:"/pps/photo",product:"/mms/image",ptt:"/mms/ptt",sticker:"/mms/sticker",video:"/mms/video"}},hehdicceb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("dbgdaechch"),i=s(o),u=s(n("ddchcbhaia"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.chat,n=e.onSelectMessages;return a.createElement(i.default,{type:"dropdown_menu",key:"GroupMenuDropdown",flipOnRTL:!0,dirX:o.DirX.LEFT},u.default.group(t,n))}}]),t}();l.displayName="GroupMenuDropdown",t.default=l},hfcihgigj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("ejbdjaifi"),i=c(n("ihfccfgdf")),u=c(n("dgacgafafa")),s=c(n("bbjadhadbg")),l=c(n("ccaaiecfib"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._downloadMedia=function(){return r.props.stickerPack.downloadMedia()},r._renderStickerPackIcon=function(e){var t=r.props.stickerPack,n=t.id,o=t.name;return a.createElement(u.default,{id:n,name:o,url:e})},r._renderPlaceholder=function(){return r._renderStickerPackIcon(null)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){this._downloadMedia()}},{key:"render",value:function(){return l.default.supportsFeature(l.default.F.REPLACE_MEDIABLOB)?a.createElement(s.default,{mediaData:this.props.mediaData,placeholderRenderer:this._renderPlaceholder,downloadMedia:this._downloadMedia},this._renderStickerPackIcon):this._renderStickerPackIcon(this.props.mediaData.renderableUrl)}}]),t}();d.CONCERNS={stickerPack:["id","name"],mediaData:["renderableUrl","mediaStage"]},d.displayName="StickerPackIconThirdParty",t.default=(0,i.default)((0,o.hoc)(d),d.CONCERNS)},hfgahggjd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioSession=t.OUTPUT_DEVICES=t.AUDIO_EVENTS=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cccehdaiaf"),i=(r=o)&&r.__esModule?r:{default:r};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.AUDIO_EVENTS={OUTPUT_ROUTES_CHANGED:"OUTPUT_ROUTES_CHANGED"},t.OUTPUT_DEVICES={UNKNOWN:0,LINE_OUT:1,HEADPHONES:2,BLUETOOTH:3,INTERNAL_RECEIVER:4,INTERAL_SPEAKER:5,HDMI:6,REMOTE:7,BLUETOOTH_LE:8,BLUETOOTH_HANDS_FREE:9,USB:10,CAR:11},t.AudioSession=function(){function e(t){u(this,e)}return a(e,[{key:"startUse",value:function(){}},{key:"endUse",value:function(){}}]),e}();var s=function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"startAudioSession",value:function(e,t){}},{key:"isRoutingToOutput",value:function(e){return!1}},{key:"overrideOutputRoute",value:function(e){return Promise.resolve()}},{key:"isRoutingToSpeaker",get:function(){return null}},{key:"outputRoutes",get:function(){return[]}},{key:"isBluetoothInputAvailable",get:function(){return null}}]),t}();t.default=new s},hfhhcchgj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextInputCustomStyleThemes=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=j(n("ceffhbhahb")),o=j(n("dbjhghahdd")),i=j(n("bjbggbjed")),u=j(n("dhfbfehaef")),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),l=j(n("didfdhbecg")),c=j(n("becfabjeeg")),f=n("chhhffajfi"),d=j(n("caffijjhc")),p=j(n("dbjbhajgfd")),h=n("dbgdaechch"),m=n("ejbdjaifi"),b=j(n("bfdcadbbif")),g=j(n("fehbggfdh")),v=j(n("chgaccicf")),y=n("fifhbjiec"),_=j(y),E=n("cdheafhdbh");function j(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.TextInputCustomStyleThemes=(0,v.default)({groupInfoName:null});var S=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),l=0;l<a;l++)u[l]=arguments[l];return n=r=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={active:!1,locked:!!r.props.lockable,emojiPicker:null},r.emojiInputComponent=(0,o.default)(),r.isSkinTonePickerOpen=!1,r.onEmojiPicker=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=s.createElement(i.default,{onEmoji:r.onEmoji,onFocusNext:r.restoreFocus,onFocusPrev:r.restoreFocus});r.setState({emojiPicker:{menu:t,dirY:h.DirY.TOP,type:"emoji_picker",anchor:e.target}}),r.restoreFocus()},r.onEmojiPickerClose=function(){r.setState({emojiPicker:null})},r.onRestoreEmojiPickerFocus=function(){if(r.refEmojiPickerUIE){var e=r.refEmojiPickerUIE.getRef();if(e){var t=e.getElement();t&&t.restoreFocus()}}},r.onEmoji=function(e){r.inputLine&&r.inputLine.replaceSelection(e)},r.onEnter=function(e){r.props.lockable&&r.onSaveAndLock(),r.props.onEnter&&!r.props.multiline&&(e.persist(),r.props.onEnter(e))},r.onChange=function(e){r.props.onChange&&r.props.onChange(e)},r.restoreFocus=function(){r.inputLine&&r.inputLine.focus()},r.onBlur=function(e){r.isSkinTonePickerOpen||(r.state.active&&r.setState({active:!1}),r.props.onBlur&&r.props.onBlur(e))},r.onFocus=function(e){e.stopPropagation(),r.state.active||r.setState({active:!0}),r.props.onFocus&&r.props.onFocus(e)},r.onSkinTonePicker=function(e){r.isSkinTonePickerOpen=e},r.onUnlock=function(){r.props.onBeginEdit&&r.props.onBeginEdit(),r.setState({locked:!1})},r.onSaveAndLock=function(){var e=!(!r.props.lowProfile&&r.props.error);r.props.validate&&e&&(e=r.props.validate(r.props.value)),e?(r.props.onSave&&r.props.onSave(),r.setState({locked:!0})):r.props.onError&&r.props.onError()},r.onCancel=function(){r.props.onCancel&&r.props.onCancel(),r.setState({locked:!0})},r.setRefEmojiPickerUIE=function(e){r.refEmojiPickerUIE=e},r.showEmptyValuePlaceholder=function(){var e=r.props.value;return(!e||""===e)&&r.props.emptyValuePlaceholder&&r.state.locked},r.renderEmojiText=function(){var e=r.props,t=e.renderEmojiTextInLockMode,n=e.value;if(t&&n){var a=t.textLimit,o=t.readMoreText,i=t.onReadMore,u=t.formatters;return s.createElement("div",{className:g.default.emojiText},s.createElement(_.default,{text:n,selectable:!0,emojiSize:y.EMOJI_SIZE.SMALL,textLimit:a,formatters:u}),(0,f.numCodepoints)(n)>a&&s.createElement("span",{className:g.default.more,role:"button",onClick:i},` ${o}`))}},O(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),r(t,[{key:"componentDidUpdate",value:function(e,t){t.locked||!e.editable||this.props.editable||this.onCancel()}},{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.restoreFocus()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.inputLine&&!e.editing&&this.inputLine.value!==e.value&&this.inputLine.reset(e.value)}},{key:"render",value:function(){var e=this.props.maxLength||t.defaultProps.maxLength,n=this.props.editable&&!this.state.locked,r=n&&!!this.props.error&&!this.props.lowProfile,o=this.props.customStyleThemes,i=void 0===o?[]:o,h={container:(0,a.default)(g.default.textInput,i&&i.map(function(e){return g.default[e]}),{[g.default.noPlaceholder]:!this.props.placeholder,[g.default.invite]:"v4-invite-caption"===this.props.theme,[g.default.active]:n,[g.default.small]:"small"===this.props.theme,[g.default.inputLarge]:"large"===this.props.theme}),label:(0,a.default)(g.default.labelText,{[g.default.float]:!!this.props.value,[g.default.hideFloatingLabel]:!!this.props.hideFloatingLabel}),inputWrapper:(0,a.default)(g.default.wrapper,{[g.default.textError]:r,[g.default.invite]:"v4-invite-caption"===this.props.theme,[g.default.textActive]:this.state.active,[g.default.locked]:this.state.locked}),infoWrapper:(0,a.default)(g.default.infoStrip,{[g.default.textError]:r,[g.default.textActive]:this.state.active})},v=void 0,y=void 0;this.props.lockable&&(this.props.pending?y=s.createElement("div",{className:(0,a.default)(g.default.iconSpinner,g.default.iconMain),key:"spinner"},s.createElement(c.default,{size:18,stroke:6,color:"highlight"})):this.state.locked?this.props.editable?y=s.createElement("div",{className:g.default.iconMain,onClick:this.onUnlock,key:"btn-edit",title:l10n.t(397)},s.createElement(b.default,{name:"pencil",directional:!0})):this.props.editRestrictionInfo&&!this.props.editable&&(y=s.createElement("div",{className:g.default.iconMain,onClick:this.props.editRestrictionInfo,key:"btn-info"},s.createElement(b.default,{name:"info"}))):y=s.createElement("div",{className:g.default.iconMain,onClick:this.onSaveAndLock,key:"btn-done",title:l10n.t(308)},s.createElement(b.default,{name:"checkmark"})),v=this.props.lockable?s.createElement(l.default,{className:g.default.iconMainContainer,transitionName:"pop"},y):null);var _=n&&this.props.supportsEmoji?s.createElement("div",{className:(0,a.default)(g.default.emojiBtn),onClick:this.onEmojiPicker,key:"emoji-btn"},s.createElement(b.default,{name:"emoji-input"})):null,j=void 0;if(this.props.showRemaining){var O=(0,f.numCodepoints)(this.props.value||"");j=e-O<50&&n?s.createElement("div",{className:(0,a.default)(g.default.charCounter),key:"counter"},l10n.n(e-O)):null}var S=this.props.supportsEmoji||this.props.showRemaining?s.createElement(l.default,{className:g.default.iconsEditContainer,transitionName:"pop"},j,_):null,w=this.props.lowProfile?null:s.createElement("div",{className:h.infoWrapper},s.createElement("div",{className:g.default.errorText},r?this.props.error:null)),P=void 0;if(this.props.lockable&&!this.state.locked){var M=void 0;this.state.emojiPicker&&(M=s.createElement(d.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPickerUIE,requestDismiss:this.onEmojiPickerClose,requestFocus:this.onRestoreEmojiPickerFocus},s.createElement(p.default,{contextMenu:this.state.emojiPicker}))),P=s.createElement(d.default,{displayName:"TextInput",escapable:!0,requestFocus:this.restoreFocus,requestDismiss:this.onCancel},s.createElement("div",null,M))}else!this.props.lockable&&this.state.emojiPicker&&(P=s.createElement(d.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPickerUIE,requestDismiss:this.onEmojiPickerClose,requestFocus:this.onRestoreEmojiPickerFocus},s.createElement(p.default,{contextMenu:this.state.emojiPicker})));var C=this.props.editable&&!this.state.locked,T=this.props,A=T.emptyValuePlaceholder,N=T.renderEmojiTextInLockMode,k=this.emojiInputComponent,I=C||!N,R=I?s.createElement(k,{ref:(0,m.GetRef)("inputLine",this),initialValue:this.props.value,theme:this.props.theme||"default",multiline:this.props.multiline,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onEnter:this.onEnter,onFiles:this.props.onFiles,pending:this.props.pending,spellCheck:this.props.spellCheck,maxLength:this.props.maxLength,readOnly:!C}):this.renderEmojiText(),L=void 0,D=void 0;return this.props.placeholder&&(L=(!this.props.value||!this.props.hideFloatingLabel)&&s.createElement("span",{className:h.label},this.props.placeholder),D=s.createElement("div",{className:g.default.spacer})),s.createElement(u.default,{className:h.container,onFocus:this.restoreFocus},L,D,s.createElement("div",{className:h.inputWrapper},R,this.showEmptyValuePlaceholder()&&s.createElement("div",{className:g.default.emptyValPlaceholder},A),S,v),I&&s.createElement(k.EmojiSuggestions,{theme:E.ThemeOptions.EMOJI_INPUT,onSkinTonePicker:this.onSkinTonePicker}),w,P)}}]),t}();S.defaultProps={maxLength:25,editable:!0},S.displayName="TextInput",t.default=S},hfifjaejc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryServerProps=function(){return(0,o.queryServerProps)().then(function(e){u.default.updateProps(e)}).catch(a.ServerStatusCodeError,function(e){}).catch(a.WapDrop,function(e){})};var r,a=n("ddjgcfjicj"),o=n("ciggibedij"),i=n("bfgbdiffgd"),u=(r=i)&&r.__esModule?r:{default:r}},hfjchijff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("djcchigfih")),i=n("dajffajabh"),u=d(i),s=d(n("djbhiedbef")),l=d(n("dcjdgceiej")),c=d(n("iibcehaia")),f=d(n("bfejacaeaj"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onClose=function(){r.props.onClose?r.props.onClose():r.context.uim.uie.requestDismiss()},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.chat.getReceivedVCardMsgs(),t=e&&e.map(function(e){return a.createElement(c.default,{key:e.id.toString(),msg:e})});return a.createElement(o.default,null,a.createElement(u.default,{title:l10n.t(340,{_plural:e?e.length:0}),onBack:this.onClose,type:i.DRAWER_HEADER_TYPE.LARGE}),a.createElement(s.default,null,t))}}]),t}();h.contextTypes={uim:f.default.instanceOf(l.default)},h.displayName="ContactCardDrawer",t.default=h},hgeacfdgi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CALL_UI_STATES=t.CALL_TYPES=t.OUTPUT_DEVICES=void 0;var r,a=n("hfgahggjd"),o=n("bgdcgdigif"),i=(r=o)&&r.__esModule?r:{default:r},u=n("dcaifjegcg"),s=n("cgejjichfa");t.OUTPUT_DEVICES=a.OUTPUT_DEVICES,t.CALL_TYPES=o.CALL_TYPES,t.CALL_UI_STATES=s.CALL_UI_STATES;var l=(0,u.defineModel)(i.default);t.default=new l},hhaafceic:function(e,t){e.exports={muted:"_3P8bF",body:"Xemqt",callTitle:"_2tCuY",participantName:"_1-Lhx",actionRow:"ABUh8",btnGroup:"_1vOB0",btnAccept:"_1zQJv",btnReject:"_346oG",btnEnd:"lu5_G",btnMute:"_2dT7d",videoContainer:"_1D0FS",previewVideoContainer:"_1Axfd",outputVideoContainer:"y92Cf"}},hhjiahbag:function(e,t){e.exports={muted:"_3keZW",metadataContainer:"XOIaT",metadataText:"_3luN5",metadataTitle:"_3yN2_",metadataSubtitle:"_3WFBR",metadataDesc:"vJCph",participantList:"_18tvF",participantsTitle:"_3xWWz",participantsContainer:"_2qj30",participantWrapper:"_89Cym",emptyContentContainer:"_1LQrs",participantsText:"_1WSDe",contactsText:"_2oG62",participantText:"_3Z_4g"}},hicgdccej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=S(n("dbdfbgehgj")),i=S(n("dgjddffcfg")),u=S(n("bjbedjfe")),s=n("ejbdjaifi"),l=S(n("dbjhghahdd")),c=S(n("bjbggbjed")),f=S(n("caffijjhc")),d=S(n("dbjbhajgfd")),p=S(n("jjbcbhhjh")),h=S(n("didfdhbecg")),m=n("dbgdaechch"),b=S(n("gbfffciea")),g=n("bfjajhbdf"),v=S(g),y=S(n("bfdcadbbif")),_=S(n("bihdbbidff")),E=S(n("fffdgbfji")),j=n("cdheafhdbh"),O=n("dbbhhgjjbg");function S(e){return e&&e.__esModule?e:{default:e}}var w=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.emojiInputComponent=(0,l.default)(),e.isSkinTonePickerOpen=!1,e.onSend=function(t){if(t.preventDefault(),e.inputLine){var n=e.inputLine.value.trim();n.length&&(o.default.find(e.props.msg.sender).then(function(t){(0,O.sendTextMsgToChat)(t,i.default.emojify(n),{quotedMsg:e.props.msg}),e.props.onSend(),b.default.openToast(a.createElement(v.default,{msg:E.default.t(1004),id:(0,g.genId)()}))}),e.inputLine&&e.inputLine.reset(),e.props.dismissReply())}},e.onFocus=function(t){e.setState({focused:!0})},e.onBlur=function(t){e.isSkinTonePickerOpen||e.setState({focused:!1})},e.onSkinTonePicker=function(t){e.isSkinTonePickerOpen=t},e.isFocused=function(){return e.state.focused},e.onEmojiPicker=function(t){t&&(t.preventDefault(),t.stopPropagation());var n=a.createElement(c.default,{onEmoji:e.onEmoji,onFocusNext:e.restoreFocus,onFocusPrev:e.restoreFocus});e.setState({emojiPicker:{menu:n,dirY:m.DirY.TOP,type:"emoji_picker",anchor:t.target}})},e.onEmoji=function(t){e.inputLine&&e.inputLine.replaceSelection(t)},e.restoreFocus=function(){e.inputLine&&e.inputLine.focus()},e.restoreEmojiPickerFocus=function(){if(e.refEmojiPickerUIE){var t=e.refEmojiPickerUIE.getRef();if(t){var n=t.getElement();n&&n.restoreFocus()}}},e.emojiPickerClose=function(){e.setState({emojiPicker:void 0})},e.setRefEmojiPickerUIE=function(t){e.refEmojiPickerUIE=t},e.state={replyCaption:"",focused:!1,emojiPicker:void 0,chat:void 0},o.default.find(e.props.msg.sender).checkpoint(e.props.rejectOnUnmount()).then(function(t){e.setState({chat:t})}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidUpdate",value:function(e,t){this.shouldPausePlayback(t)&&!this.shouldPausePlayback(this.state)?this.props.play():!this.shouldPausePlayback(t)&&this.shouldPausePlayback(this.state)&&this.props.pause()}},{key:"shouldPausePlayback",value:function(e){return e.emojiPicker||e.focused}},{key:"isPaused",value:function(){return this.shouldPausePlayback(this.state)}},{key:"render",value:function(){var e=void 0,t=void 0;this.state.emojiPicker&&(e=a.createElement(f.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPickerUIE,requestDismiss:this.emojiPickerClose,requestFocus:this.restoreEmojiPickerFocus},a.createElement(d.default,{contextMenu:this.state.emojiPicker})),t=a.createElement(f.default,{displayName:"EmojiPicker",escapable:!0,requestFocus:this.restoreEmojiPickerFocus},a.createElement("div",null,e)));var n=void 0,r=this.state.chat;r&&this.state.focused&&!this.state.emojiPicker&&(n=a.createElement(f.default,{displayName:"StatusV3Reply",escapable:!0,requestDismiss:this.props.dismissReply},a.createElement("div",{className:_.default.popupPanel},a.createElement(p.default,{msg:this.props.msg,theme:"statusV3",key:this.props.msg.id.toString(),chat:r}))));var o=this.emojiInputComponent;return a.createElement("div",{className:_.default.container},a.createElement(h.default,{transitionName:"status-v3-quoted-msg",transitionAppear:!0},n),a.createElement("div",{className:_.default.wrapper},a.createElement("button",{className:_.default.emojiIcon,onClick:this.onEmojiPicker},a.createElement(y.default,{name:"status-v3-smiley"})),a.createElement("div",{className:_.default.lineWrapper},a.createElement(o.EmojiSuggestions,{theme:j.ThemeOptions.EMOJI_INPUT,onSkinTonePicker:this.onSkinTonePicker}),a.createElement(o,{ref:(0,s.GetRef)("inputLine",this),theme:"status-reply",spellCheck:!0,onFocus:this.onFocus,onBlur:this.onBlur,onEnter:this.onSend,placeholder:E.default.t(1024),editable:!0,multiline:!0})),a.createElement("button",{className:_.default.sendIcon,onClick:this.onSend},a.createElement(y.default,{name:"send-light",directional:!0})),t))}}]),t}();w.displayName="StatusV3ComposeBox",t.default=(0,u.default)((0,s.hoc)(w))},hichbacjh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("ceffhbhahb")),i=c(n("dbdfbgehgj")),u=c(n("fifhbjiec")),s=c(n("gigbjdedj")),l=c(n("gbfffciea"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={hover:!1},r.onMouseOver=function(e){r.setState({hover:!0})},r.onMouseEnter=function(e){r.setState({hover:!0})},r.onMouseLeave=function(e){r.setState({hover:!1})},r.getGroupName=function(){var e=r.props.quotedGroupJid,t=i.default.get(e);return t&&t.formattedTitle},r.onClick=function(){var e=r.props.quotedGroupJid;i.default.find(e).then(function(e){return l.default.openChatBottom(e)})},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"hoverable",value:function(){return!this.state.hover&&!this.props.isComposePreview}},{key:"render",value:function(){var e=this.props.isComposePreview,t=this.getGroupName();if(!t)return null;var n=(0,o.default)(s.default.quotedMsg,{[s.default.hover]:this.state.hover,[s.default.composeBoxQuotedMsg]:!!e});return a.createElement("div",{onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,className:n},a.createElement("div",{className:s.default.msg,role:e?"none":"button",onClick:this.onClick},a.createElement("span",{className:s.default.colorBar}),a.createElement("div",{className:s.default.msgBody},a.createElement(u.default,{className:"quoted-mention",text:l10n.t(877,{groupName:t}),direction:"auto",key:"status"}))))}}]),t}();d.displayName="QuotedAdminMsgGroupName",t.default=d},hjbcfjaai:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3Text=t.default=void 0;var r=B(n("echehdcaii")),a=B(n("eaaagccfda")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=F(n("ddhijeejag")),u=n("bgddggdhc"),s=B(n("ihfccfgdf")),l=B(n("eceadcicaf")),c=B(n("bjbedjfe")),f=n("ejbdjaifi"),d=B(n("ceffhbhahb")),p=F(n("cajijabhgb")),h=B(n("bfejacaeaj")),m=B(n("eadfaddcj")),b=B(n("hicgdccej")),g=B(n("gbfffciea")),v=B(n("dbdfbgehgj")),y=B(n("cajbifjffe")),_=B(n("cbigbjjigh")),E=B(n("fifhbjiec")),j=n("gaifbabbj"),O=B(n("dedicfgaca")),S=n("ffgjgcghi"),w=B(n("dhhfaeacef")),P=B(n("dhfbfehaef")),M=B(n("becfabjeeg")),C=n("dgfecega"),T=B(C),A=n("chhhffajfi"),N=B(n("djifeiaaea")),k=B(n("bffjfbgbg")),I=B(n("bjebjijbfc")),R=B(n("ddajbaceej")),L=B(n("cjegehjigc")),D=B(n("bdiiahhjbe")),x=B(n("bfbggcdbfb")),U=B(n("bbjadhadbg")),G=B(n("ccaaiecfib"));function F(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function B(e){return e&&e.__esModule?e:{default:e}}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function H(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var W=n("caffijjhc"),Y=n("dcjdgceiej"),K=function(e){function t(){$(this,t);var e=V(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.componentWillUnmount=function(){if(e.playbackController.removeListeners(),null!=e.props.sessionId){var t=Math.round(e.playbackController.duration||0);e.statusViewEvent.webcStatusPlaybackT=t;var n=e.playStartTime;null!=n&&(e.statusViewEvent.webcStatusViewT+=(0,r.default)(window.performance.now()-n),e.playStartTime=void 0),e.statusViewEvent.commit()}},e.onWindowResize=function(){if(e.refMeasuringProfile&&e.refProgressBar){var t=(0,u.forbiddenAssertDOMNode)(e.refMeasuringProfile).getBoundingClientRect(),n=(0,u.forbiddenAssertDOMNode)(e.refProgressBar).getBoundingClientRect();!l10n.isRTL()&&t.right>n.left-5||l10n.isRTL()&&t.left<n.right+5?e.setState({narrow:!0}):e.setState({narrow:!1})}},e.onTab=function(t){(t&&(t.stopPropagation(),t.preventDefault()),e.props.statusV3.contact.isMe)||(e.composeBox.isFocused()?e.dismissReply():e.startReply())},e.onWindowGainedFocus=function(){e.windowFocused=!0,e.play()},e.onWindowLostFocus=function(){e.windowFocused=!1,e.pause()},e.onClickProfile=function(){var t=e.props.statusV3.contact.id;v.default.find(t).then(function(e){return g.default.openChatBottom(e)}).then(function(){e.props.closeStatusViewer(!0)})},e.play=function(){var t=e.props.mediaData;if(t){if(t.mediaStage!==k.default.STAGE.RESOLVED)return;e.statusViewEvent.webcStatusLoadT||(e.statusViewEvent.markWebcStatusLoadT(),e.statusViewEvent.webcStatusLoaded=!0)}var n=e.composeBox;n&&n.isPaused()||e.windowFocused&&(e.playStartTime=window.performance.now(),e.playbackController.resume())},e.pause=function(){var t=e.props.mediaData;if(!t||t.mediaStage===k.default.STAGE.RESOLVED){var n=e.playStartTime;null!=n&&(e.statusViewEvent.webcStatusViewT+=(0,r.default)(window.performance.now()-n),e.playStartTime=void 0),e.playbackController.pause()}},e.onMouseDown=function(t){e.pause()},e.onMouseUp=function(t){e.play()},e.dismissReply=function(){var t=(0,u.forbiddenFindDOMNode)(e.refWrapper);t&&R.default.focus(t)},e.startReply=function(){e.composeBox.restoreFocus()},e.onSend=function(){e.statusViewEvent.webcStatusReplyCount++},e.setRefProgressBar=function(t){e.refProgressBar=t},e.setRefMeasuringProfile=function(t){e.refMeasuringProfile=t},e.setRefWrapper=function(t){e.refWrapper=t},e.state={chat:void 0,narrow:!1},e.windowFocused=!0,e.playbackController=(0,S.setupStatusV3Controller)(e.props.mediaData,e.props.msg),e.statusViewEvent=new x.default.WebcStatusView({webcStatusLoaded:!1,webcStatusReplyCount:0,webcStatusViewT:0}),e}return H(t,i.Component),o(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.statusV3,r=t.msg,o=t.mediaData,i=t.msgIdx,s=t.sessionId;if(null!=s){var l=void 0;l=n.contact.isMe?x.default.WEBC_STATUS_ROW_SECTION.MY:n.contact.statusMute?x.default.WEBC_STATUS_ROW_SECTION.MUTED:n.hasUnread?x.default.WEBC_STATUS_ROW_SECTION.RECENT:x.default.WEBC_STATUS_ROW_SECTION.VIEWED;var c=this.props.rowIdx||0,f=n.msgs.length-1-i<n.unreadCount,d=void 0;o?d=o.isGif?x.default.WEBC_STATUS_MEDIA_TYPE.GIF:"video"===o.type?x.default.WEBC_STATUS_MEDIA_TYPE.VIDEO:x.default.WEBC_STATUS_MEDIA_TYPE.IMAGE:(d=r.getLinks().length?x.default.WEBC_STATUS_MEDIA_TYPE.URL:x.default.WEBC_STATUS_MEDIA_TYPE.TEXT,this.statusViewEvent.markWebcStatusLoadT(),this.statusViewEvent.webcStatusLoaded=!0),this.statusViewEvent.webcStatusSessionId=s,this.statusViewEvent.webcStatusRowSection=l,this.statusViewEvent.webcStatusRowIndex=c,this.statusViewEvent.webcStatusMediaType=d,this.statusViewEvent.webcStatusUnread=f}this.refProgressBar&&this.playbackController.addListeners(function(t,n){e.refProgressBar&&e.refProgressBar.onStart(t,n)},function(){e.refProgressBar&&e.refProgressBar.onPause()},function(){e.refProgressBar&&e.refProgressBar.onEnded().checkpoint(e.props.rejectOnUnmount()).then(function(){e.props.onNext()}).catch(p.Unmount,function(){})}),o?(this.play(),o&&o.mediaStage===k.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)):(this.props.msg.type,m.default.MSG_TYPE.CHAT,this.play(),this.props.markRead(this.props.statusV3,this.props.msg)),(0,u.forbiddenAssertDOMNode)(this.refWrapper).focus();var h=this.props.listeners;h.add(window,"focus",this.onWindowGainedFocus),h.add(window,"blur",this.onWindowLostFocus),h.add(window,"resize",(0,a.default)(this.onWindowResize)),this.onWindowResize()}},{key:"render",value:function(){var e=this,t=this.props,n=t.msg,r=t.mediaData,a=t.statusV3,o=void 0;if(r&&r.preview)o={backgroundImage:`url(${r.preview.url()})`};else if(n.type===m.default.MSG_TYPE.CHAT){o={backgroundColor:n.statusV3TextBg}}var u=void 0;if(r)switch(r.type){case k.default.TYPE.IMAGE:u=i.createElement(z,{msg:n,statusV3:a,mediaData:r,markRead:this.props.markRead,play:this.play,pause:this.pause,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});break;case k.default.TYPE.VIDEO:u=i.createElement(J,{msg:n,statusV3:a,mediaData:r,markRead:this.props.markRead,play:this.play,pause:this.pause,playbackController:this.playbackController,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});break;default:D.default.error("Invalid status v3 image type: "+r.type)()}else u=n.type===m.default.MSG_TYPE.CHAT?i.createElement(Z,{msg:n,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp}):i.createElement(X,{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});var s=i.createElement(O.default,{ref:this.setRefProgressBar,current:this.props.msgIdx,total:this.props.totalMsgs,onClick:this.props.onClickProgressBar}),l=void 0;n.type!==m.default.MSG_TYPE.CHAT&&(l=i.createElement("div",{className:L.default.captionBackdrop},i.createElement(E.default,{className:L.default.mediaCaption,text:n.caption,formatters:j.Configuration.StatusV3Caption()})));var c=(0,d.default)(L.default.profile,{[L.default.nonClickProfile]:n.isSentByMe,[L.default.profileNarrow]:this.state.narrow}),p=(0,d.default)(L.default.profile,L.default.measuringProfile,{}),h=i.createElement("div",{ref:"profile",className:c,onClick:n.isSentByMe?null:this.onClickProfile},i.createElement("div",{className:L.default.playerAvatar},i.createElement(w.default,{id:a.contact.id,theme:"status_v3",size:40})),i.createElement("div",{className:L.default.msgInfo},i.createElement(E.default,{className:L.default.msgInfoName,text:a.contact.formattedName}),i.createElement("div",{className:L.default.timestamp},I.default.relativeDateAndTimeStr(n.t)))),g=i.createElement("div",{ref:this.setRefMeasuringProfile,className:p},i.createElement("div",{className:L.default.playerAvatar},i.createElement(w.default,{id:a.contact.id,theme:"status_v3",size:40})),i.createElement("div",{className:L.default.msgInfo},i.createElement(E.default,{className:L.default.msgInfoName,text:a.contact.formattedName}),i.createElement("div",{className:L.default.timestamp},I.default.relativeDateAndTimeStr(n.t)))),v={tab:this.onTab,"shift+tab":this.onTab},y=function(e){return e.stopPropagation()},_={left:y,right:y},S=void 0;r&&(S=i.createElement(te,{mediaData:r}));var M=void 0;this.props.statusV3.contact.isMe||(M=i.createElement(P.default,{handlers:_},i.createElement(b.default,{msg:this.props.msg,dismissReply:this.dismissReply,onSend:this.onSend,pause:this.pause,play:this.play,ref:(0,f.GetRef)("composeBox",this)})));var C=(0,d.default)(L.default.playerBackground,{[L.default.media]:r}),T=void 0,A=(0,d.default)(L.default.progresBarBackdrop,{[L.default.progressBarBackdropNarrow]:this.state.narrow});return n.type!==m.default.MSG_TYPE.CHAT&&(T=i.createElement("div",{className:A})),i.createElement(W,{displayName:"StatusV3Player",escapable:!0,requestDismiss:function(t){t||e.props.closeStatusViewer()},requestFocus:this.dismissReply},i.createElement(P.default,{handlers:v},i.createElement("div",{className:L.default.playerWrapper,key:n.id.toString(),tabIndex:-1,ref:this.setRefWrapper},g,h,T,s,l,i.createElement("div",{className:C,style:o}),u,S,M)))}}]),t}();K.contextTypes={uim:h.default.instanceOf(Y)},K.displayName="_StatusV3Player";var q=function(e){function t(){var e,n,r;$(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=V(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._renderImage=function(e){var t=r.props.mediaData,n=(0,d.default)(L.default.playerContent,L.default.v3Image);return i.createElement("div",{className:n,onMouseDown:r.props.onMouseDown,onMouseUp:r.props.onMouseUp,onDragEnd:r.props.onMouseUp},i.createElement(T.default,{type:C.FIT_TYPE.CONTAIN,size:{width:t.fullWidth,height:t.fullHeight}},i.createElement(y.default,{src:e})))},r._renderPreviewImage=function(){var e=r.props.mediaData,t=(0,d.default)(L.default.playerContent,L.default.v3Image,L.default.loading);return i.createElement("div",{className:t,onMouseDown:r.props.onMouseDown,onMouseUp:r.props.onMouseUp},i.createElement(T.default,{type:C.FIT_TYPE.CONTAIN,size:{width:e.aspectRatio,height:1}},i.createElement(y.default,{src:e.preview&&e.preview.url()})))},r._downloadMedia=function(){return r.props.msg.forceDownloadMedia()},V(r,n)}return H(t,i.PureComponent),o(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.mediaData.mediaStage!==k.default.STAGE.RESOLVED&&this.props.msg.forceDownloadMedia()}},{key:"componentDidUpdate",value:function(){this.props.play();var e=this.props.mediaData;e&&e.mediaStage===k.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}},{key:"componentWillUnmount",value:function(){this.props.pause()}},{key:"render",value:function(){if(G.default.supportsFeature(G.default.F.REPLACE_MEDIABLOB))return i.createElement(U.default,{mediaData:this.props.mediaData,placeholderRenderer:this._renderPreviewImage,downloadMedia:this._downloadMedia},this._renderImage);var e=this.props.mediaData;return e.mediaStage===k.default.STAGE.RESOLVED?this._renderImage(e.renderableUrl):this._renderPreviewImage()}}]),t}();q.CONCERNS={mediaData:["mediaStage","renderableUrl","preview","fullWidth","fullHeight","aspectRatio"]},q.displayName="_StatusV3Img";var z=(0,s.default)((0,f.hoc)(q),q.CONCERNS),Q=function(e){function t(){var e,n,r;$(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=V(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.setPlayer=function(e){r.refPlayer=e},V(r,n)}return H(t,i.PureComponent),o(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.mediaData.mediaStage!==k.default.STAGE.RESOLVED&&this.props.msg.forceDownloadMedia()}},{key:"componentDidUpdate",value:function(){this.props.play();var e=this.props.mediaData;e&&e.mediaStage===k.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}},{key:"componentWillUnmount",value:function(){this.props.pause()}},{key:"componentDidMount",value:function(){var e=(0,u.forbiddenAssertDOMNode)(this.refPlayer);this.props.playbackController.setVideo(e)}},{key:"render",value:function(){var e=this.props.mediaData,t=e.mediaStage!==k.default.STAGE.RESOLVED,n=(0,d.default)(L.default.playerContent,L.default.v3Video,{loading:t}),r=e.preview?e.preview.url():void 0;return i.createElement("div",{className:n,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},i.createElement(_.default,{msg:this.props.msg,mediaData:this.props.mediaData,autoPlay:!0,ref:this.setPlayer,poster:r},l10n.t(1074)))}}]),t}();Q.CONCERNS={mediaData:["preview","mediaStage"]},Q.displayName="_StatusV3Video";var J=(0,s.default)((0,f.hoc)(Q),Q.CONCERNS),Z=function(e){function t(){return $(this,t),V(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return H(t,i.PureComponent),o(t,[{key:"UNSAFE_componentWillMount",value:function(){N.default.load(this.props.msg.font).catch(function(){})}},{key:"render",value:function(){var e=(0,A.numCodepoints)(this.props.msg.body),t=void 0,n=void 0,r={[L.default[`font_${this.props.msg.font||0}`]]:!0};return e<=60?(t=(0,d.default)(L.default.text,L.default.textLarge,r),n=j.Configuration.StatusV3Text({links:this.props.msg.getLinks()})):e<=240?(t=(0,d.default)(L.default.text,L.default.textMedium,r),n=j.Configuration.StatusV3Text({links:this.props.msg.getLinks()})):t=(0,d.default)(L.default.text,L.default.textSmall,r),i.createElement("div",{className:(0,d.default)(L.default.playerContent,{[L.default.statusPanelPlayerContent]:"status-panel"===this.props.theme,[L.default.statusThumbnailPlayerContent]:"status-thumbnail"===this.props.theme,[L.default.textThumbnailPlayerContent]:"text-thumb"===this.props.theme}),onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},i.createElement("div",{className:t},i.createElement(E.default,{text:this.props.msg.body,formatters:n})))}}]),t}();Z.displayName="StatusV3Text";var X=function(e){function t(){return $(this,t),V(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return H(t,i.PureComponent),o(t,[{key:"render",value:function(){return i.createElement("div",{className:L.default.playerContent,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},i.createElement("div",{className:L.default.unknown},l10n.t(1005)))}}]),t}();X.displayName="StatusV3Unknown";var ee=function(e){function t(){return $(this,t),V(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return H(t,i.Component),o(t,[{key:"render",value:function(){return this.props.mediaData.mediaStage!==k.default.STAGE.RESOLVED?i.createElement("div",{className:L.default.mediaStateControls},i.createElement("button",{className:"icon-media-disabled"},i.createElement(M.default,{size:50,stroke:4,color:"white"}))):null}}]),t}();ee.CONCERNS={mediaData:["mediaStage"]},ee.displayName="_LoadingSpinner";var te=(0,s.default)((0,f.hoc)(ee),ee.CONCERNS),ne=(0,c.default)((0,l.default)((0,f.hoc)(K)));t.default=ne,t.StatusV3Text=Z},iabebjcej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("djhbegbdaf")),i=l(n("ihfccfgdf")),u=n("ejbdjaifi"),s=n("jegbhjbde");function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.msg,t=e.subtype,n=e.body,r=e.recipients;if("create"===t){var i=parseInt(n,10);return a.createElement(o.default,{id:1343,params:{count:i},plural:i,wrapInHiddenToken:!0})}return"add"===t?a.createElement(o.default,{id:1198,params:{name:(0,s.getFormattedNames)(r,!0)},plural:r.length,wrapInHiddenToken:!0}):("remove"===t&&a.createElement(o.default,{id:1199,params:{name:(0,s.getFormattedNames)(r,!0)},plural:r.length,wrapInHiddenToken:!0}),null)}}]),t}();c.CONCERNS={msg:["type","subtype","body","recipients"]},c.displayName="BroadcastNotification",t.default=(0,i.default)((0,u.hoc)(c),c.CONCERNS)},iaejfgacj:function(e,t){e.exports={muted:"_1a5q8",confirmationText:"BJa6O"}},iagahbjff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n("dfacahcafg")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=b(n("ceffhbhahb")),u=b(n("fffdgbfji")),s=n("jdigiabic"),l=b(s),c=b(n("cgfidiajgj")),f=b(n("dfcihdhibf")),d=b(n("bdjihaecid")),p=b(n("dfhebgbhja")),h=b(n("faeabghda")),m=b(n("cjfhhbcfdh"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isCollectionReady:l.default.isSynced()},r._setRefScrollGrid=function(e){r._refScrollGrid=e},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"componentDidMount",value:function(){var e=this;this.state.isCollectionReady||l.default.syncOnce().then(function(){e.setState({isCollectionReady:!0})})}},{key:"focus",value:function(e){this._refScrollGrid&&this._refScrollGrid.focus(e)}},{key:"render",value:function(){return this.state.isCollectionReady?0===l.default.length?o.createElement("div",{className:(0,i.default)(p.default.emptyContainer,p.default.contentContainer)},o.createElement("div",{className:p.default.emptySticker,style:{backgroundImage:`url(${m.default})`}}),o.createElement("p",{className:p.default.emptyText},u.default.t(1011))):o.createElement(f.default,{ref:this._setRefScrollGrid,onFocusPrev:this.props.onFocusPrev,onScroll:this.props.onScroll,onStickerClick:this.props.onStickerClick,onStickerEnter:this.props.onStickerEnter,stickers:l.default.toArray()}):o.createElement("div",{className:h.default.container},(0,r.default)(s.RECENT_STICKERS_LIMIT,function(e){return o.createElement(d.default,{key:e,sticker:c.default.getPlaceholder()})}))}}]),t}();v.displayName="StickerPackStickersRecent",t.default=v},iaibjaeb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.Mode=void 0;var r=X(n("cjjebecgeb")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Z(n("ddhijeejag")),i=X(n("dbdfbgehgj")),u=n("bgddggdhc"),s=X(n("djaadchjch")),l=X(n("bcifhbgija")),c=X(n("ebjaejiaba")),f=X(n("cjcaccbiih")),d=X(n("dggbjaijga")),p=X(n("ihfccfgdf")),h=X(n("bdiiahhjbe")),m=X(n("eceadcicaf")),b=n("ejbdjaifi"),g=n("dhfbfehaef"),v=X(g),y=X(n("cbeecgcage")),_=X(n("bifjfdedi")),E=X(n("biddiiafgd")),j=n("caijdggfg"),O=X(n("dgibicjjj")),S=X(n("dhhfaeacef")),w=X(n("dhhcghbjeb")),P=X(n("bgjaficfde")),M=X(n("dcjaicbbhg")),C=X(n("bjghdijfjd")),T=X(n("cfchhaeaaf")),A=n("eihefeaje"),N=X(n("eadfaddcj")),k=X(n("gbfffciea")),I=n("cgejchjdhj"),R=Z(n("cajijabhgb")),L=n("cfffidafid"),D=X(n("dbjbhajgfd")),x=X(n("caffijjhc")),U=X(n("ddajbaceej")),G=X(n("fffdgbfji")),F=X(n("bhheahajjg")),B=n("bjigbaghc"),$=X(B),V=n("bfbggcdbfb"),H=X(n("bebjeaagc")),W=X(n("ccaaiecfib")),Y=n("bheafeifce"),K=X(n("jccfhaecf")),q=X(n("bhhdeihhhf")),z=X(n("cfhgffgbcb")),Q=n("hdccjfbbg"),J=n("ddjgcfjicj");function Z(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function X(e){return e&&e.__esModule?e:{default:e}}function ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var te=t.Mode={LAST:"LAST",INFO:"INFO"},ne=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,f=Array(c),d=0;d<c;d++)f[d]=arguments[d];return n=a=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),a.hoverCounter=0,a.preFetchGroupMetadata=function(){var e=a.props.chat;e.groupMetadata&&e.groupMetadata.stale&&s.default.find(e.id).catch(J.WapDrop,R.ProtoVersionUndefined,function(){})},a.onSearch=function(){a.props.searchQuery?a.setState({searchText:a.props.searchQuery.trimmed}):h.default.error("Chat: prop searchQuery is undefined")()},a.onActiveChange=function(e,t){if("focus"===e){var n=(0,u.forbiddenAssertDOMNode)(a);U.default.focus(n),t&&(0,I.scrollIntoViewIfNeeded)(n)}a.setState({active:!!e})},a.contextEnabled=function(){return!a.props.noContext},a.editLabel=function(){var e=a.props,t=e.selectableState,n=e.multiSelection;!a.props.searchQuery||a.props.searchQuery.isEmptyQuery?t&&n&&(t.setSelectable(!0),n.setVal((0,Y.unproxy)(a.props.chat))):a.addOrRemoveLabelOnSelected()},a.addOrRemoveLabelOnSelected=function(){var e=[(0,Y.unproxy)(a.props.chat)];k.default.openModal(o.createElement(z.default,{modelsToUpdate:e}))},a.onMenu=function(e){if(a.state.contextMenu)a.setState({contextMenu:void 0});else{var t=a.props.chat,n=[];t.canArchive()&&n.push(o.createElement(P.default,{key:"archive",onArchive:a.onArchive,chat:(0,Y.unproxy)(t)})),t.mute.canMute()&&n.push(o.createElement(w.default,{key:"mute",onMute:a.onMute,mute:t.mute})),n.push(o.createElement(M.default,{key:"delete",onDeleteOrExit:a.onDeleteOrExit,chat:(0,Y.unproxy)(t)})),$.default.platform===B.PLATFORMS.IPHONE&&t.isBroadcast||!t.canPin()||n.push(o.createElement(T.default,{key:"pin",onPinOrUnpin:a.onPinOrUnpin,chat:t})),W.default.supportsFeature(W.default.F.LABELS_EDIT)&&n.push(o.createElement(q.default,{a8n:"mi-edit-label",action:a.editLabel,key:"EditLabel"},G.default.t(399))),n.push(o.createElement(C.default,{key:"mark_unread",onMarkUnread:a.onMarkUnread,chat:(0,Y.unproxy)(t)})),e.event&&e.event.persist(),a.setState({contextMenu:{menu:n,event:e.event,anchor:e.anchor}})}},a.removeContext=function(){a.setState({contextMenu:void 0})},a.onMute=function(e){k.default.muteChat((0,Y.unproxy)(a.props.chat),e)},a.onArchive=function(e){k.default.archiveChat((0,Y.unproxy)(a.props.chat),e)},a.onDeleteOrExit=function(){k.default.deleteOrExitChat((0,Y.unproxy)(a.props.chat),a)},a.onPinOrUnpin=function(e){!e||i.default.filter(function(e){return e.pin}).length<3?k.default.pinChat((0,Y.unproxy)(a.props.chat),e):k.default.openModal(o.createElement(E.default,{onOK:function(){return k.default.closeModal()},okText:G.default.t(1225)},G.default.t(34)))},a.onMarkUnread=function(e){k.default.markChatUnread((0,Y.unproxy)(a.props.chat),e)},a.onClick=function(e){var t=a.props,n=t.onClick,r=t.chat;n&&n(e,(0,Y.unproxy)(r))},a.onMouseDown=function(e){0===e.button&&a.onClick(e)},a.onEnter=function(e){e.preventDefault(),e.stopPropagation(),(0,g.shouldIndicateFocus)(),a.onClick(e)},a.onDragEnter=function(e){if(a.props.chat.canSend){var t=e.dataTransfer;(0,r.default)(t.types,N.default.DRAG_TYPE_FILE)&&(0===a.hoverCounter&&a.setState({dragging:!0}),a.hoverCounter+=1)}},a.onDragLeave=function(e){if(a.props.chat.canSend){var t=e.dataTransfer;(0,r.default)(t.types,N.default.DRAG_TYPE_FILE)&&(a.hoverCounter-=1,0===a.hoverCounter&&a.setState({dragging:!1}))}},a.onDrop=function(e){var t=a.props.chat;if(t.canSend){a.setState({dragging:!1});var n=e.dataTransfer;((0,r.default)(n.types,N.default.DRAG_TYPE_FILE)||(0,r.default)(n.types,"text/uri-list")||(0,r.default)(n.types,"text/html"))&&(0,L.getFiles)(e).then(function(e){k.default.openChatFromUnread(t).then(function(n){n&&k.default.attachMediaDrawer({chat:t,files:e,fileOrigin:V.MEDIA_PICKER_ORIGIN_TYPE.PASTE})})}).catch(R.MediaDragDropError,function(e){k.default.openChatFromUnread(t).then(function(n){n&&k.default.pasteChatTextInput(t,e.src)})})}},a.indicateFocus=function(e){e.stopPropagation(),e.preventDefault(),(0,g.indicateFocus)(a.cell,["#e9eaeb","#cbdde7"],{complete:a.onBlur})},a.onBlur=function(e){var t=(0,u.forbiddenFindDOMNode)(a.cell);t&&((0,l.default)(t,"stop"),t.style.backgroundColor="")},a.openContextMenu=function(){a.cell.openContextMenu()},ee(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.chat;this.initListeners(this.props),this.setState({dragging:!1,contextMenu:void 0}),W.default.supportsFeature(W.default.F.GROUPS_V_3)&&e.isGroup&&e.groupMetadata&&e.groupMetadata.stale&&H.default.enqueue(this.preFetchGroupMetadata)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.initListeners(e,this.props)}},{key:"initListeners",value:function(e,t){var n=e.listeners,r=e.active,a=e.chat,o=e.searchQuery,i=e.frequent;t&&t.searchQuery&&t.searchQuery!==o&&n.remove(t.searchQuery,j.SEARCH_EVENT,this.onSearch),!o||t&&o===t.searchQuery||n.add(o,j.SEARCH_EVENT,this.onSearch);var u=t&&t.chat.id;if(!a.id.equals(u)&&(t&&t.active&&n.remove(t.active,t.chat.id.toString(),this.onActiveChange),r)){var s=(i?Q.FREQUENT_PREFIX:"")+a.id.toString();n.add(r,s,this.onActiveChange)}var l=r&&r.value instanceof c.default&&K.default.equals(r.value.id,a.id);this.setState({searchText:o?o.trimmed:"",active:l})}},{key:"render",value:function(){var e=this.props,t=e.chat,n=e.mode,r=e.secondary,a=e.theme,i=this.state,u=i.searchText,s=i.active,l=i.dragging,c=i.contextMenu,p=void 0,h=void 0,m={};switch(n){case te.LAST:p=o.createElement(y.default,{chat:t}),r||(r=o.createElement(_.default,{chat:t}),h=o.createElement(d.default,{chat:t,mute:t.mute})),m.enter=this.onEnter,m[G.default.LR("right","left")]=this.openContextMenu;break;case te.INFO:r||(r=t.isGroup?o.createElement(A.ParticipantsList,{groupMetadata:t.groupMetadata}):o.createElement(f.default,{presence:t.presence,chatstate:t.presence.chatstate,location:"list"})),m.enter=this.onEnter}var g=o.createElement(S.default,{id:t.id,waitIdle:!0}),E=this.props.mouseDownAsClick,j=void 0;c&&(j=o.createElement(x.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.removeContext},o.createElement(D.default,{contextMenu:c})));var w=o.createElement(F.default,{chat:t,highlightText:u,showLabel:!0,titlify:!0,ellipsify:!0});return o.createElement(v.default,{handlers:m,onFocus:this.indicateFocus,onBlur:this.onBlur,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDrop:this.onDrop},o.createElement(O.default,{id:t.id,ref:(0,b.GetRef)("cell",this),theme:a,contextEnabled:this.contextEnabled,pendingAction:t.pendingAction,contextMenu:!!c,unread:!!t.hasUnread,active:!!s,dragging:!!l,image:g,primary:w,primaryDetail:p,secondary:r,secondaryDetail:h,onClick:E?void 0:this.onClick,onMouseDown:E?this.onMouseDown:void 0,onContext:this.onMenu}),j)}}]),t}();ne.CONCERNS={chat:["id","hasUnread","isReadOnly","isGroup","pendingAction","canSend","isUser","contact","presence","groupMetadata","mute","isBroadcast"]},ne.defaultProps={mode:te.LAST},ne.displayName="Chat";t.Component=ne;t.default=(0,m.default)((0,p.default)((0,b.hocWithDefaults)(ne),ne.CONCERNS))},iajeehcac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=s(a),i=s(n("dhigahgdjb")),u=s(n("jccfhaecf"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,a.prop)(),r.isAdmin=(0,a.prop)(),r.isSuperAdmin=(0,a.prop)(),r.contact=(0,a.session)(),r.hasSenderKey=(0,a.session)(!1),l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"initialize",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.addChild("contact",i.default.gadd(this.id))}}]),t}();c.Proxy="participant",c.idClass=u.default,t.default=(0,a.defineModel)(c)},ibeajfihb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("dhigahgdjb")),i=h(n("fifhbjiec")),u=h(n("ihfccfgdf")),s=n("ejbdjaifi"),l=n("bheafeifce"),c=h(n("efgfgjab")),f=h(n("chccggajbc")),d=h(n("gbbacfeci")),p=h(n("jccfhaecf"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=a.createElement("span",{className:f.default.statusLoading},l10n.t(344)),y=function(e){function t(){return m(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.status,t=a.createElement(i.default,{direction:"auto",ellipsify:!0,titlify:!0,text:e.status}),n=(0,l.unproxy)(e).stale?v:t;return a.createElement(c.default,{id:e.id,onComplex:function(){return d.default.find(e.id),void 0!==e.status?t:v},waitIdle:this.props.waitIdle},n)}}]),t}();y.WEAK_CONCERNS={status:["id","stale","status"]},y.displayName="Status";var _=(0,u.default)((0,s.hoc)(y),void 0,y.WEAK_CONCERNS),E=function(e){function t(e){m(this,t);var n=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={status:d.default.get(e.id)},n}return g(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){if(!this.state.status){var e=o.default.gadd(this.props.id);this.setState({status:e.getStatus()})}}},{key:"componentDidUpdate",value:function(e){if(!p.default.equals(this.props.id,e.id)){var t=o.default.gadd(this.props.id);this.setState({status:t.getStatus()})}}},{key:"render",value:function(){var e=this.state.status;return e?a.createElement(_,{status:e,waitIdle:this.props.waitIdle}):v}}]),t}();E.displayName="StatusWrapper",t.default=E},ibebafhjb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("ihfccfgdf")),i=n("ejbdjaifi"),u=c(n("dagibffcjf")),s=c(n("bcfiaiddii")),l=n("cgecdbiihg");function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.msg,n=e.mediaData,r=n.preview?`url(${n.preview.url()})`:void 0;return a.createElement(u.default,{aspectRatio:n.aspectRatio,previewUrl:r,animationStartStyle:this.props.animationStartStyle},a.createElement(s.default,{msg:t,mediaData:n,startTime:this.props.startTime,onClose:this.props.onClose,onError:this.props.onError,onOpenMediaViewer:this.props.onOpenMediaViewer,onMissingMedia:this.props.onMissingMedia,onUnsupportedMedia:this.props.onUnsupportedMedia,autoPlay:this.props.autoPlay,type:l.PLAYER_TYPE.FLOATER}))}}]),t}();f.CONCERNS={mediaData:["preview","aspectRatio"]},f.displayName="FloatingMsgVideoPlayer",t.default=(0,o.default)((0,i.hoc)(f),f.CONCERNS)},icaahcghc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=g(n("ddhijeejag")),o=b(n("dcbfjbeaad")),i=g(n("dfhjacfbjg")),u=b(n("bjigbaghc")),s=b(n("bcbahjefec")),l=b(n("ciebcgbegd")),c=b(n("bafdafhgja")),f=b(n("bajidgjehj")),d=b(n("dhefcajhhb")),p=b(n("cacaidhjb")),h=b(n("ijecjcidg")),m=b(n("gbbacfeci"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,p=Array(s),b=0;b<s;b++)p[b]=arguments[b];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),r.showWallpaperDrawer=function(){r.push(a.createElement(h.default,{onClose:r._pop}))},r.showBlockedDrawer=function(){r.push(a.createElement(o.default,{onClose:r._pop}))},r.showProfileDrawer=function(){var e=m.default.assertGet(u.default.me),t=d.default.assertGet(u.default.me);r.push(a.createElement(f.default,{status:e,profilePicThumb:t,conn:u.default,onClose:r._pop}))},r.showNotifications=function(){r.push(a.createElement(c.default,{onClose:r._pop}))},r.showHelp=function(){i.upload("help-page-opened"),r.push(a.createElement(l.default,{onClose:r._pop}))},r._pop=function(){r.pop()},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.push(a.createElement(p.default,{profileId:u.default.me,onWallpaper:this.showWallpaperDrawer,onBlocked:this.showBlockedDrawer,onProfile:this.showProfileDrawer,onNotifications:this.showNotifications,onHelp:this.showHelp,onClose:this._pop}))}}]),t}();t.default=y},icadbbfej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=d(n("dbdfbgehgj")),i=d(n("gbfffciea")),u=d(n("dhigahgdjb")),s=d(n("cfafieaaec")),l=d(n("bcbahjefec")),c=d(n("ccjabfdeje")),f=d(n("bheehfahbe"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=Array(u),l=0;l<u;l++)s[l]=arguments[l];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.onClick=function(e,t){o.default.find(t.id).then(i.default.openChatFromUnread.bind(i.default)),r.end()},r.onNewGroup=function(e){r.push(a.createElement(f.default,{onBack:r.pop,onContinue:r.onSetGroupInfo}))},r.onSetGroupInfo=function(e){r.push(a.createElement(c.default,{participants:e,onBack:function(){r.popAndUpdate({participants:e})},onContinue:r.end}))},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),r(t,[{key:"UNSAFE_componentWillMount",value:function(){u.default._sort.flush(),this.push(a.createElement(s.default,{title:l10n.t(802),onBack:this.end,onClick:this.onClick,onNewGroup:this.onNewGroup}))}}]),t}();t.default=h},icbjhhidg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MSG_HEIGHT=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=S(n("ceffhbhahb")),i=S(n("cehjjfagii")),u=S(n("jhcabjcaf")),s=S(n("bfjbdahdag")),l=S(n("bjebjijbfc")),c=S(n("gbfffciea")),f=S(n("dhhfaeacef")),d=S(n("ccaaiecfib")),p=S(n("eceadcicaf")),h=S(n("diccedcfdi")),m=S(n("cfhcfebgda")),b=S(n("behbcejhad")),g=S(n("cieaeggjg")),v=S(n("bfgbdiffgd")),y=S(n("bfdcadbbif")),_=S(n("ihfccfgdf")),E=S(n("ciifehaief")),j=n("ejbdjaifi"),O=n("cicjibbhdb");function S(e){return e&&e.__esModule?e:{default:e}}t.MSG_HEIGHT=220;var w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.openLiveLocationDrawer=function(){var e=n.props.msg,t=e.chat,r=e.sender;c.default.liveLocationDrawer(t,r)},n.openExpiredLocationDrawer=function(){c.default.expiredLocationDrawer(n.props.msg)},n.stopSharing=function(){var e=n.props.msg.chat;c.default.openModal(a.createElement(m.default,{chat:e}))},n.onMapLoad=function(){n.setState({mapLoaded:!0})},n.state={mapLoaded:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.listeners.add(this.props.msg,"change:shareDuration")}},{key:"getExpiration",value:function(){var e=this.props.msg;return e.t+e.shareDuration}},{key:"isExpired",value:function(){return l.default.globalUnixTime()>=this.getExpiration()}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.trusted,r=e.displayAuthor,c=e.quotedMsg;if(d.default.supportsFeature(d.default.F.LIVE_LOCATIONS)){var p=r&&!t.isSentByMe&&t.isGroupMsg?a.createElement("div",{className:E.default.author},a.createElement(i.default,{msg:t,contact:t.senderObj})):null,m=c?a.createElement("div",{className:E.default.quote},c):null,_=this.isExpired(),j=d.default.supportsFeature(d.default.F.LIVE_LOCATIONS_FINAL)&&v.default.finalLiveLocation,S=_&&void 0!==t.finalLat&&void 0!==t.finalLng,w=t.lat,P=t.lng,M=_?void 0:this.openLiveLocationDrawer;j&&(M||(M=this.openExpiredLocationDrawer),S&&(w=t.finalLat,P=t.finalLng));var C={height:150},T=a.createElement("div",{className:E.default.thumb,onClick:M,style:C},a.createElement("div",{className:E.default.map},a.createElement(b.default,{lat:w,lng:P,width:270,height:150,className:E.default.thumbBody,linkify:!1,showMarker:!1,onLoad:this.onMapLoad})),a.createElement("div",{className:(0,o.default)(E.default.avatar,{[E.default.hidden]:!this.state.mapLoaded})},a.createElement(f.default,{id:t.sender,size:40,border:!0})),a.createElement("div",{className:E.default.overlay})),A=this.getExpiration(),N=_?l10n.t(594):l10n.t(600,{time:l.default.timestampStr(A),_plural:l.default.timestampHour(A)}),k=a.createElement("div",{className:E.default.status,onClick:M},a.createElement("span",{className:E.default.statusIcon},a.createElement(y.default,{name:(0,O.liveLocationIcon)(!_),display:"inline"})),a.createElement("span",{className:E.default.statusText},N)),I=t.comment?a.createElement("div",{className:E.default.caption},a.createElement(s.default,{msg:t,trusted:n})):null,R=a.createElement("div",{className:E.default.meta},a.createElement(g.default,{msg:t})),L=void 0;if(!_){var D=void 0,x=void 0,U=void 0;t.isSentByMe?(D=this.stopSharing,x=E.default.stopLocation,U=l10n.t(617)):(D=this.openLiveLocationDrawer,x=E.default.viewLocation,U=l10n.t(624)),L=a.createElement("div",{className:E.default.actionButton,onClick:D},a.createElement("span",{className:x},U))}return a.createElement("div",{className:(0,o.default)({[E.default.expired]:_,[E.default.hasCaption]:!!t.comment})},a.createElement(u.default,{className:(0,o.default)(E.default.container,{[E.default.clickable]:!!M}),contact:t.senderObj,msg:t},p,m,T,k,I,R),L)}return a.createElement(h.default,{msg:t,displayAuthor:r,quotedMsg:c})}}]),t}();w.CONCERNS={msg:["chat","comment","dir","finalLat","finalLng","isGroupMsg","isPSA","isSentByMe","lat","lng","rtl","sender","senderObj","shareDuration","t"]},w.displayName="LiveLocation",t.default=(0,p.default)((0,_.default)((0,j.hoc)(w),w.CONCERNS))},icghcjegh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.renderLabelSvg=m;var a=d(n("ceffhbhahb")),o=d(n("ccaaiecfib")),i=d(n("bijffg")),u=d(n("eceadcicaf")),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),l=d(n("dijbgcccgc")),c=n("ejbdjaifi"),f=d(n("bfdcadbbif"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.updateLabels=function(){r.forceUpdate()},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(i.default,`label_updated_${this.props.labels[0]}`,this.updateLabels)}},{key:"render",value:function(){var e=this.props,t=e.labels,n=e.showName,r=e.renderAsCircle;if(!o.default.supportsFeature(o.default.F.LABELS_DISPLAY))return null;var u=t[0],c=i.default.get(u);if(!c||!c.name)return null;if(1===t.length){var d=n?s.createElement("span",{className:l.default.name},c.name):null,p=(0,a.default)({[l.default.container]:!n&&!r,[l.default.containerCircleIconFull]:!!r,[l.default.containerFull]:n&&!r,[l.default.labelFilter]:"label-filter"===this.props.theme,[l.default.drawerTitle]:"drawer-title"===this.props.theme}),h=r?{backgroundColor:c.hexColor}:{},b=r?s.createElement(f.default,{name:"label",className:l.default.icon}):m(c.hexColor);return s.createElement("div",{className:p},s.createElement("div",{className:(0,a.default)(l.default.iconContainer,{[l.default.circleIcon]:r}),style:h},b),d)}return s.createElement("div",{className:l.default.container},s.createElement("svg",{width:"18px",height:"15px",viewBox:"0 0 18 15"},s.createElement("path",{fill:c.hexColor,d:"M11.208,3.925H2.236C1.556,3.925,1,4.565,1,5.357v7.213C1,13.362,1.556,14,2.236,14h8.972 c0.414,0,0.785-0.237,1.007-0.604l2.701-4.433L12.215,4.53C11.993,4.162,11.622,3.925,11.208,3.925z"}),s.createElement("path",{opacity:"0.4",fill:"#263238",d:"M15.541,7.832L13.164,3.93 c-0.423-0.698-1.15-1.142-1.956-1.142H2.595V2.432C2.595,1.64,3.151,1,3.831,1h9.1c0.414,0,0.782,0.237,1.005,0.605l2.696,4.433 L15.541,7.832z"})))}}]),t}();function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ffffff";return s.createElement("svg",{key:2,width:"18px",height:"12px",viewBox:"0 0 18 12",className:l.default.icon},s.createElement("path",{fill:e,d:"M11.208,0.925H2.236C1.556,0.925,1,1.565,1,2.357V9.57C1,10.362,1.556,11,2.236,11h8.972 c0.414,0,0.785-0.237,1.007-0.604l2.701-4.433L12.215,1.53C11.993,1.162,11.622,0.925,11.208,0.925z"}))}h.displayName="LabelIcon",m.displayName="renderLabelSvg",t.default=(0,u.default)((0,c.hoc)(h))},ichcjagij:function(e,t){e.exports={muted:"WkTgR",labelRow:"aQhyH",labelContainer:"_26f5k"}},ichdigdd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.mediaKey,n=e.plaintext,p=e.type;return new Promise(function(e,m){var b={mediaKey:t.slice(0,10),type:p};if(s.default.log("encryptMedia: start",b)(),!p)throw new f.MediaEncryptionError('encryptMedia: missing "type"');if(!t)throw new f.MediaEncryptionError('encryptMedia: missing "mediaKey"');var g=new c.default.WebcCryptoMedia({webcCryptoType:c.default.WEBC_CRYPTO_TYPE_CODE.ENCRYPT,webcCryptoLibrary:c.default.WEBC_CRYPTO_LIBRARY_CODE.WEBCRYPTO});(0,o.default)(p,t).then(function(e){var t=e.iv,o=e.encKey,s=e.macKey;return(0,d.aesCbcEncrypt)(o,n,t).then(function(e){var n=e.slice(t.byteLength),o=new u.default(s);return o.sign(e,h).then(function(t){var o=Promise.resolve();if(p===l.default.VIDEO||p===l.default.AUDIO){var u=(0,i.default)(e,t);o=(0,a.default)(u,s)}var c=(0,i.default)(n,t);return Promise.props({ciphertextHmac:c,hash:(0,r.default)(c),sidecar:o})})})}).then(function(t){g.webcCryptoFileSize=t.ciphertextHmac.byteLength,g.markWebcCryptoElapsedT(),g.commit(),s.default.log("encryptMedia: success",b)(),e(t)}).catch(function(e){if(s.default.error("encryptMedia: error",b,e)(),e instanceof f.MediaEncryptionError)throw e;throw new f.MediaEncryptionError(`encryption error: ${String(e)}; stack: ${e.stack}`)}).catch(m)})};var r=p(n("baeghbhigj")),a=p(n("bdfbijjhda")),o=p(n("feacbgeaf")),i=p(n("cdfccifhg")),u=p(n("bbejegbieb")),s=p(n("bdiiahhjbe")),l=p(n("gbjefdbgb")),c=p(n("bfbggcdbfb")),f=n("cajijabhgb"),d=n("eaiigfgagg");function p(e){return e&&e.__esModule?e:{default:e}}var h=10},ichhibhgh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("cccehdaiaf"),i=(r=o)&&r.__esModule?r:{default:r};var u=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.openPiP=function(t,n,r){e.manager&&e.manager.openPiP(t,n,r)},e.closePiP=function(){e.manager&&e.manager.closePiP()},e.pausePiP=function(){e.manager&&e.manager.pausePiP()},e.openYoutubePiP=function(t,n,r,a){e.manager&&e.manager.openYoutubePiP(t,n,r,a)},e.closeYoutubePiP=function(){e.manager&&e.manager.closeYoutubePiP()},e.openOgVideoPiP=function(t,n,r,a,o){e.manager&&e.manager.openOgVideoPiP(t,n,r,a,o)},e.closeOgVideoPiP=function(){e.manager&&e.manager.closeOgVideoPiP()},e.isOpened=function(t){return!!e.manager&&e.manager.isOpened(t)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"register",value:function(e){this.manager=e}},{key:"unregister",value:function(){this.manager=null}},{key:"didOpen",value:function(e){this.trigger(`${e.id.toString()}_pip_did_open`)}},{key:"didClose",value:function(e){this.trigger(`${e.id.toString()}_pip_did_close`)}},{key:"didError",value:function(e){this.trigger(`${e.id.toString()}_pip_did_error`)}}]),t}());t.default=u},idbcfjbae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("dcaifjegcg"),o=l(a),i=l(n("bffjfbgbg")),u=n("daichdjff"),s=l(n("biedfadfag"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.old=(0,a.session)(!1),r.id=(0,a.prop)(),r.catalogWid=(0,a.prop)(),r.additionalImageCdnUrl=(0,a.prop)(),r.imageCdnUrl=(0,a.prop)(),r.url=(0,a.prop)(),r.name=(0,a.prop)(),r.description=(0,a.prop)(),r.reviewStatus=(0,a.prop)(),r.currency=(0,a.prop)(),r.priceAmount1000=(0,a.prop)(),r.retailerId=(0,a.prop)(),r.productImageCollection=(0,a.session)(),r.imageCount=(0,a.prop)(),r.index=(0,a.prop)(),r.productMsgMediaData=(0,a.session)(),r.fetchedFromServer=(0,a.session)(),r.t=(0,a.prop)(),c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"initialize",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.productImageCollection=new s.default,this.listenTo(this,"change:imageCdnUrl",this.triggerImageUpdate),this.triggerImageUpdate()}},{key:"triggerImageUpdate",value:function(){var e=this;if(this.markProductImagesOld(),this.fetchedFromServer||!this.productMsgMediaData)this.imageCdnUrl.productImageModel=this.productImageCollection.gadd({id:"_0",mediaUrl:this.imageCdnUrl.rawUrl,fetchedFromServer:this.fetchedFromServer,old:!1},{merge:!0}),this.additionalImageCdnUrl&&this.additionalImageCdnUrl.forEach(function(t,n){t.productImageModel=e.productImageCollection.gadd({id:`_${n+1}`,mediaUrl:t.rawUrl,fetchedFromServer:e.fetchedFromServer,old:!1},{merge:!0})});else{this.imageCdnUrl.productImageModel=this.productImageCollection.gadd({id:"_0",type:"product",mediaData:new i.default({mediaStage:u.STAGE.PREPARING}),fetchedFromServer:this.fetchedFromServer,old:!1},{merge:!0});for(var t=1;t<this.imageCount;t++)this.productImageCollection.gadd({id:`_${t}`,type:"product",mediaData:new i.default({mediaStage:u.STAGE.PREPARING}),fetchedFromServer:this.fetchedFromServer,old:!1},{merge:!0})}}},{key:"markOld",value:function(){this.old=!0}},{key:"markProductImagesOld",value:function(){this.productImageCollection.forEach(function(e){return e.markOld()})}}]),t}();f.Collection="Product",f.Proxy="product",t.default=(0,a.defineModel)(f)},idgifdccc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=c(n("ceggedffg")),u=n("chhhffajfi"),s=c(n("djegeegcbf")),l=c(n("ddcbeeeahg"));function c(e){return e&&e.__esModule?e:{default:e}}var f=s.default.getEmojiFromUnicode,d=s.default.emojiRegex,p=(0,i.default)(d(),0,function(e,t){return f(e[0])?e:null}),h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p),a(t,null,[{key:"jsx",value:function(e,t,n){var a=r(t,1)[0],i=n.size,u=n.selectable,s=void 0!==u&&u;return o.createElement(l.default,{emoji:a,size:i,selectable:s})}},{key:"match",value:function(e,n,r){var a=null!=r&&0!==r?r:e.length,o=(0,u.firstNCodepoints)(e,a);return function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.__proto__||Object.getPrototypeOf(t),"match",this).call(this,o)}}]),t}();h.compatibility=!0,t.default=h},ieddhhghi:function(e,t){e.exports={muted:"_3tCKq",vcard:"_2oNQN",controls:"_1t6xD"}},ieffcccfh:function(e,t){e.exports={muted:"_1By2n",thumbsContainer:"_14vUG",scrollContainer:"_20OzW",viewerThumbs:"_2bBH2",thumbPadding:"_3k5IR"}},ifbfjgchd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=8,i=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t<=0)throw new RangeError("BitArray:numBits should be positive");this._numBits=t,this._array=new Uint8Array(Math.ceil(this._numBits/o))}return a(e,[{key:"get",value:function(e){var t=this._getArrayIndexOffset(e),n=r(t,2),a=n[0],o=n[1];return Boolean(this._array[a]>>o&1)}},{key:"set",value:function(e){var t=this._getArrayIndexOffset(e),n=r(t,2),a=n[0],o=n[1];this._array[a]|=1<<o}},{key:"unset",value:function(e){var t=this._getArrayIndexOffset(e),n=r(t,2),a=n[0],o=n[1];this._array[a]&=~(1<<o)}},{key:"toggle",value:function(e){var t=this._getArrayIndexOffset(e),n=r(t,2),a=n[0],o=n[1];this._array[a]^=1<<o}},{key:"clear",value:function(){this._array=new Uint8Array(Math.ceil(this._numBits/o))}},{key:"toArray",value:function(){for(var e=[],t=0;t<this._numBits;t++)e.push(this.get(t));return e}},{key:"toString",value:function(){return this.toArray().map(function(e){return e?"1":"0"}).join("")}},{key:"_getArrayIndexOffset",value:function(e){if(e<0||e>=this._numBits)throw new RangeError("BitArray:index out of bounds");var t=Math.floor(e/o);return[t,e-t*o]}},{key:"length",get:function(){return this._numBits}}]),e}();t.default=i},ifbjhfegj:function(e,t){e.exports={muted:"NdXJS",container:"_3nET-",border:"_2spUf"}},ifeefbdg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return u.hasOwnProperty(e)?u[e]:u[e]=o.default.queryLinkPreview(e).then(function(t){var n=t.title,r=t.description,a=t.canonicalUrl,o=t.matchedText,u=t.preview,s=t.thumbnail;return o&&(n||r)?{url:e,data:{title:n||void 0,description:r||void 0,canonicalUrl:a||void 0,matchedText:o,richPreviewType:"video"===u?i.EXTENDED_TEXT_MESSAGE_PREVIEWTYPE.VIDEO:i.EXTENDED_TEXT_MESSAGE_PREVIEWTYPE.NONE,thumbnail:s||void 0}}:null})};var r,a=n("bihdhbjih"),o=(r=a)&&r.__esModule?r:{default:r},i=n("bgiachiigg");var u={}},ifijdebbd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.wallpaperColor;if(t===a.default.DEFAULT_CHAT_WALLPAPER)return r.createElement("div",{className:o.default.tile,"data-asset-chat-background":!0});var n={background:t};return r.createElement("div",{className:o.default.backgroundColor,style:n})};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=i(n("eadfaddcj")),o=i(n("bhgjdccfde"));function i(e){return e&&e.__esModule?e:{default:e}}},igaagcbbj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=_(n("eaaagccfda")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=_(n("ceffhbhahb")),s=_(n("didfdhbecg")),l=n("beddiafhbh"),c=_(n("cggchheahd")),f=_(n("bjhhaacbib")),d=_(n("dbfiijcdie")),p=n("ejbdjaifi"),h=_(n("eceadcicaf")),m=_(n("bcjcbbafcj")),b=_(n("ecfgejfiia")),g=_(n("chbfbiahhb")),v=_(n("bigcibhibh")),y=_(n("cgajhcgiji"));function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setRefContainer=function(e){n.refContainer=e},n.setRefVideo=function(e){n.refVideo=e},n.resetMouseMoveRecently=(0,r.default)(function(){n.setState({mouseMoveRecently:!1})},l.FULLSCREEN_CONTROLS_DISPLAY_TIMEOUT),n.mouseDownCoor=null,n.handleEnded=function(){n.props.onVideoEnded&&n.props.onVideoEnded();var e=n.refVideo;e&&(e.play(),e.pause()),n.setState({isVideoPlaying:!1})},n.handleError=function(){n.props.onError&&n.props.onError()},n.handlePause=function(){var e=n.refVideo?n.refVideo.getCurrentTime():null,t=null;n.state.videoMetadata&&null!=e&&(t=a({},n.state.videoMetadata,{currentTime:e})),n.setState({isVideoPlaying:!1,videoMetadata:t}),n.blockTimeUpdateOnce=!0},n.handlePlaying=function(){var e=n.refVideo?n.refVideo.getCurrentTime():null,t=null;n.state.videoMetadata&&null!=e&&(t=a({},n.state.videoMetadata,{currentTime:e})),n.setState({isVideoPlaying:!0,videoMetadata:t}),n.blockTimeUpdateOnce=!0},n.handleLoadedMetadata=function(e){var t=null!=n.props.startTime?n.props.startTime:0;n.setState({videoMetadata:{duration:e.duration,currentTime:t,volume:e.volume,muted:e.muted,bufferedTime:0}})},n.handleVolumeChange=function(e){var t=null;n.state.videoMetadata&&(t=a({},n.state.videoMetadata,{volume:e.volume,muted:e.muted})),n.setState({videoMetadata:t})},n.handleTimeUpdate=function(e){if(n.blockTimeUpdateOnce)n.blockTimeUpdateOnce=!1;else{var t=null;n.state.videoMetadata&&(t=a({},n.state.videoMetadata,{currentTime:e})),n.setState({videoMetadata:t})}},n.handleSetCurrentTimeByControls=function(e){if(n.refVideo){var t=e;n.state.videoMetadata&&e>=n.state.videoMetadata.duration-1&&n.state.videoMetadata.duration>1&&(t=n.state.videoMetadata.duration-1),n.refVideo.setCurrentTime(t)}},n.handleProgress=function(e){var t=e[0][1],r=null;n.state.videoMetadata&&(r=a({},n.state.videoMetadata,{bufferedTime:t})),n.setState({videoMetadata:r})},n.state={videoMetadata:void 0,isVideoPlaying:!1,isMouseOver:!1,mouseMoveRecently:!1,isFullscreenMode:!1,exposeIframeInPiP:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.props.listeners.add(d.default,"fullscreen_change",function(){d.default.isFullscreenMode&&d.default.fullscreenElement===e.refContainer?e.setState({isFullscreenMode:!0}):d.default.isFullscreenMode||e.setState({isFullscreenMode:!1})})}},{key:"componentWillUnmount",value:function(){this.resetMouseMoveRecently.cancel()}},{key:"renderVideoControls",value:function(){var e=this,t=null,n=this.state.videoMetadata;if(n){var r=(0,u.default)(c.default.strippedVideoControls,c.default.opacityTransition,{[c.default.dimmed]:!this.state.mouseMoveRecently});t=i.createElement(f.default,{refVideo:this.refVideo,videoMetadata:n,isFullscreenMode:this.state.isFullscreenMode,isVideoPlaying:this.state.isVideoPlaying,handleSetCurrentTimeByControls:this.handleSetCurrentTimeByControls,controlsClassName:this.state.isFullscreenMode?r:void 0}),this.state.isFullscreenMode||(t=i.createElement("div",{className:c.default.videoControlsWrapper,onMouseDown:function(t){e.mouseDownCoor={x:t.clientX,y:t.clientY}},onMouseUp:function(t){var n=t.clientX,r=t.clientY,a=e.mouseDownCoor?e.mouseDownCoor.x:void 0,o=e.mouseDownCoor?e.mouseDownCoor.y:void 0;null!=a&&null!=o&&Math.abs(n-a)+Math.abs(r-o)<4&&e.setState({exposeIframeInPiP:!0})}},t))}return t}},{key:"render",value:function(){var e=this,t=this.state.exposeIframeInPiP||this.state.isFullscreenMode?null:i.createElement("div",{className:c.default.blockYoutube}),n=i.createElement("div",{className:(0,u.default)(c.default.youtubeContainer,{[c.default.fullscreen]:this.state.isFullscreenMode})},t,i.createElement(b.default,{ref:this.setRefVideo,youtubeVideoId:this.props.youtubeVideoId,startTime:this.props.startTime,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetadata,onPause:this.handlePause,onPlaying:this.handlePlaying,onProgress:this.handleProgress,onTimeUpdate:this.handleTimeUpdate,onVolumeChange:this.handleVolumeChange,autoPlay:this.props.autoPlay})),r=this.renderVideoControls(),a=void 0;m.default.isSafari||(a=i.createElement(g.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:this.state.isFullscreenMode?function(e){e.stopPropagation(),d.default.exitFullscreen()}:function(t){t.stopPropagation(),d.default.requestFullscreen(e.refContainer)}}));var o=i.createElement(y.default,{theme:"full-rounded"}),l=this.state.isFullscreenMode?i.createElement(i.Fragment,null,n,r,i.createElement("div",{className:(0,u.default)(c.default.widgetsWrapper,c.default.opacityTransition,{[c.default.dimmed]:!this.state.mouseMoveRecently})},a,i.createElement(v.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:function(t){t.stopPropagation(),e.props.onClose()}}))):i.createElement(i.Fragment,null,n,i.createElement(s.default,{transitionName:"fade-fast"},this.state.isMouseOver&&this.state.mouseMoveRecently&&!this.state.exposeIframeInPiP?i.createElement(i.Fragment,null,o,r,a,i.createElement(v.default,{isFullscreenMode:this.state.isFullscreenMode,onClick:function(t){t.stopPropagation(),e.props.onClose()}})):null));return i.createElement("div",{ref:this.setRefContainer,key:"elementsWrapped",className:(0,u.default)(c.default.container,{[c.default.fullscreen]:this.state.isFullscreenMode}),onMouseEnter:function(t){if(e.state.exposeIframeInPiP){if(m.default.isGecko&&e.state.isMouseOver)return;e.setState({exposeIframeInPiP:!1})}e.setState({isMouseOver:!0})},onMouseLeave:function(t){e.setState({isMouseOver:!1})},onMouseDown:function(t){e.state.isFullscreenMode&&t.stopPropagation()},onMouseMove:function(t){e.state.isMouseOver||e.setState({isMouseOver:!0}),e.state.mouseMoveRecently||e.setState({mouseMoveRecently:!0}),e.resetMouseMoveRecently()}},l)}}]),t}();E.displayName="YoutubeVideoPlayer",t.default=(0,h.default)((0,p.hoc)(E))},igahgcaag:function(e,t){e.exports={muted:"_1aqZu",actionButton:"_2UQuA",buttonContainer:"_1FtiB",firstButton:"_3i4z-",quickReply:"_1_HX7",callUrl:"_1PZFK"}},igbbahaj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ORDERED_TAB_SECTION_IDS=void 0;var r,a=n("bfggfbdghf"),o=(r=a)&&r.__esModule?r:{default:r};var i={FAVORITES:"FAVORITES",[o.default.TRENDING]:o.default.TRENDING,[o.default.HAHA]:o.default.HAHA,[o.default.SAD]:o.default.SAD,[o.default.LOVE]:o.default.LOVE,[o.default.REACTIONS]:o.default.REACTIONS,[o.default.SPORTS]:o.default.SPORTS,[o.default.TV]:o.default.TV};t.default=i;var u={[i.FAVORITES]:i.FAVORITES,[i.TRENDING]:i.TRENDING,[i.HAHA]:i.HAHA,[i.SAD]:i.SAD,[i.LOVE]:i.LOVE,[i.REACTIONS]:i.REACTIONS,[i.SPORTS]:i.SPORTS,[i.TV]:i.TV};t.ORDERED_TAB_SECTION_IDS=[u.FAVORITES,u.TRENDING,u.HAHA,u.SAD,u.LOVE,u.REACTIONS,u.SPORTS,u.TV]},igdjeffe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FALLBACK=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("dcaifjegcg"),i=h(o),u=h(n("eadfaddcj")),s=h(n("bjigbaghc")),l=h(n("ccaaiecfib")),c=h(n("bhggeigghg")),f=h(n("edbaidcaf")),d=h(n("jccfhaecf")),p=h(n("gcbhjhjhg"));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=t.FALLBACK={SINGLE:"SINGLE",GROUP:"GROUP"},g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.id=(0,o.prop)(),r.tag=(0,o.prop)(),r.raw=(0,o.prop)(),r.eurl=(0,o.prop)(),r.stale=(0,o.session)(!0),r.eurlStale=(0,o.session)(!1),r.pendingPic=(0,o.session)(),r.img=(0,o.derived)(r._img,["tag","raw","stale","eurl","eurlStale"]),r.imgFull=(0,o.derived)(r._imgFull,["tag","raw","stale","eurl","eurlStale"]),r.fallbackType=(0,o.derived)(r._fallbackType,["id"]),m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"_img",value:function(){return this.raw?"data:image/jpeg;base64,"+this.raw:!this.tag&&this.stale?null:this.tag?(l.default.supportsFeature(l.default.F.MD_BACKEND),this.generateUrl("s")):void 0}},{key:"_imgFull",value:function(){return!this.raw&&this.tag||!this.stale?!this.raw&&this.tag?(l.default.supportsFeature(l.default.F.MD_BACKEND),this.generateUrl("l")):void 0:null}},{key:"_fallbackType",value:function(){return d.default.isUser(this.id)?b.SINGLE:(d.default.isGroup(this.id),b.GROUP)}},{key:"markStale",value:function(e){this.stale=!0,e&&e.eurl&&(this.eurlStale=!0)}},{key:"validate",value:function(){(this.stale||this.eurlStale)&&this.update()}},{key:"generateUrl",value:function(e){var t={t:e,u:this.id.toString(),i:this.tag||""};return p.default.alive&&this.eurl&&!this.eurlStale&&(t=r({e:this.eurl},t)),f.default.build(u.default.PP_URL,t)}},{key:"canSet",value:function(){if(d.default.isGroup(this.id)){var e=c.default.Chat.get(this.id);return!(e&&e.groupMetadata&&e.groupMetadata.participants.iAmRestrictedMember())}return!!this.id.equals(s.default.me)}},{key:"canDelete",value:function(){if(d.default.isGroup(this.id)&&this.tag){var e=c.default.Chat.assertGet(this.id);return!(e&&e.groupMetadata&&e.groupMetadata.participants.iAmRestrictedMember())}return!(!this.id.equals(s.default.me)||!this.tag)}}]),t}();g.Collection="ProfilePicThumb",g.Proxy="profilePicThumb",g.idClass=d.default,t.default=(0,o.defineModel)(g)},igiffibee:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDirectionUrl=function(e,t){var n=l10n.getLocale(),r=`${e},${t}`;return`${a.G_MAPS_DIR_URL}//${r}?hl=${n}`},t.getSearchUrl=function(e){var t=l10n.getLocale();return`${a.G_MAPS_SEARCH_URL}/${encodeURIComponent(e)}/z?hl=${t}`},t.getMapUrl=function(e,t,n){var r=l10n.getLocale();return n?`${a.G_MAPS_SEARCH_URL}/${encodeURIComponent(n)}/@${e},${t},${a.SEARCH_ZOOM}z?hl=${r}`:i.default.build(a.G_MAPS_URL,{q:`${e},${t}`,z:a.SEARCH_ZOOM,hl:r})};var r,a=n("cjedbjfabb"),o=n("edbaidcaf"),i=(r=o)&&r.__esModule?r:{default:r}},igjghefdb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chatstate=void 0;var r=p(n("diibgbjaeh")),a=p(n("eaaagccfda")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},u=p(n("cgcgbfbffj")),s=n("dcaifjegcg"),l=p(s),c=p(n("bjebjijbfc")),f=p(n("dhigahgdjb")),d=p(n("jccfhaecf"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){var e,n,r;h(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,s.prop)(),r.type=(0,s.prop)(),r.t=(0,s.prop)(),r.deny=(0,s.prop)(),r.updateTime=(0,s.session)(),r._expireTimerId=(0,s.session)(),m(r,n)}return b(t,l.default),t}();g.Proxy="chatstate",g.idClass=d.default;var v=(0,s.defineModel)(g),y=function(e){function t(){return h(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,u.default),t}();y.model=v;var _=function(e){function t(){var e,n,r;h(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,s.prop)(),r.isOnline=(0,s.session)(!1),r.stale=(0,s.session)(!0),r.hasData=(0,s.session)(!1),r.isSubscribed=(0,s.session)(!1),r.withholdDisplay=(0,s.session)(!0),r.forceDisplay=(0,s.session)(!1),r.chatActive=(0,s.session)(!1),r.withholdDisplayTimer=(0,s.session)(),r.forceDisplayTimer=(0,s.session)(),r.chatstate=(0,s.session)(),r.chatstates=(0,s.collection)(y),r.isGroup=(0,s.derived)(r._isGroup),r.isUser=(0,s.derived)(r._isUser),m(r,n)}return b(t,l.default),o(t,[{key:"_isGroup",value:function(){return d.default.isGroup(this.id)}},{key:"_isUser",value:function(){return d.default.isUser(this.id)}},{key:"initialize",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this);var n=this.isGroup?{id:"",type:"unavailable"}:{id:this.id};this.addChild("chatstate",new v(n)),this.isGroup?this.listenTo(this.chatstates,"add change",(0,a.default)(function(){var t=void 0,n=!1;e.chatstates.forEach(function(e){"composing"!==e.type&&"recording"!==e.type||t&&!(t.updateTime<e.updateTime)||(t=e),n=n||"unavailable"!==e.type}),e.set({isOnline:n}),e.chatstate.set({id:t?t.id:"",type:t?t.type:"unavailable"})})):this.listenTo(this.chatstate,"change:type",function(){e.isOnline="unavailable"!==e.chatstate.type}),this.listenTo(this,"change:chatActive",this.onChatActiveChange)}},{key:"delete",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.getCollection().remove(this.id),this.chatstate.delete(),this.chatstates.forEach(function(e){return e.delete()})}},{key:"reset",value:function(){this.hasData=!1,this.isGroup?this.chatstates.forEach(function(e){e.type="unavailable"}):this.isUser&&(this.chatstate.unset("t"),this.chatstate.unset("deny")),this.chatstate.set({id:this.isGroup?"":this.id,type:"unavailable",t:void 0,deny:void 0})}},{key:"isActive",value:function(){var e=this.chatstate.type;return this.hasData&&("composing"===e||"recording"===e)}},{key:"getFormattedString",value:function(){if(!this.hasData)return null;if(this.isGroup){var e=this.chatstate.id;if(!e)return null;var t=f.default.get(e);if(!t)return null;var n=t.formattedShortName;return"composing"===this.chatstate.type?l10n.t(1110,{participant:n}):l10n.t(1111,{participant:n})}if(!this.isUser)return null;var r=this.chatstate;switch(r.type){case"available":return l10n.t(1103);case"composing":return l10n.t(1104);case"recording":return l10n.t(1105);case"unavailable":return r.deny||null==r.t?null:c.default.lastSeenStr(r.t)}}},{key:"onChatActiveChange",value:function(){var e=this;this.chatActive?(this.hasData?this.withholdDisplay=!1:this.withholdDisplayTimer=(0,r.default)(function(){e.set({withholdDisplay:!1,withholdDisplayTimer:void 0})},1500),this.forceDisplayTimer=(0,r.default)(function(){e.set({forceDisplay:!0,forceDisplayTimer:void 0})},2e3)):(this.withholdDisplayTimer&&(clearTimeout(this.withholdDisplayTimer),this.withholdDisplayTimer=void 0),this.forceDisplayTimer&&(clearTimeout(this.forceDisplayTimer),this.forceDisplayTimer=void 0))}},{key:"subscribe",value:function(){return this.find()}}]),t}();_.Collection="Presence",_.Proxy="presence",_.idClass=d.default,t.default=(0,s.defineModel)(_),t.Chatstate=v},ihfbgdebe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playNotification=function(){i.play()},t.cachePath=function(e){return Promise.resolve(e)};var r,a=n("eadfaddcj"),o=(r=a)&&r.__esModule?r:{default:r};var i=new window.Audio(o.default.NOTIFICATION_TONE_PATH)},ihfccfgdf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hocWithDefaults=t.hoc=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("ejbdjaifi");Object.defineProperty(t,"hoc",{enumerable:!0,get:function(){return o.hoc}}),Object.defineProperty(t,"hocWithDefaults",{enumerable:!0,get:function(){return o.hocWithDefaults}}),t.default=function(e,t,n){var u,c,f=e.name;l.default.assert(t||n,`StateHOC wrapping class with no concerns, check ${f}`)();var d=[];if(t)for(var p in t)d.push(new b(f,p,t[p],!0));if(n)for(var h in n)l.default.assert(!(t&&t.hasOwnProperty(h)),`Component has marked "${h}" as both a normal and weak concern, check ${f}`)(),d.push(new b(f,h,n[h],!1));return c=u=function(t){function n(e){m(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.hasBroken=!1,t.rr=function(e,n){t.setState({[e.name]:new e.whitelistedProxyClass(n)})};for(var r=t.state={},a=0;a<d.length;a++){var o=d[a],i=o.name,u=o.getModelAndValidate(t._getModelOrProxy(i));u?r[i]=o.attachConcern(u,t.rr):t.hasBroken=!0}return t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),a(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(!this.hasBroken){for(var t=null,n=0;n<d.length;n++){var r=d[n],a=r.name,o=r.getModel(this._getModelOrProxy(a)),i=r.getModelAndValidate(this._getModelOrProxy(a,e));o!==i&&(r.detachConcern(o,this.rr),i?(t||(t={}),t[a]=r.attachConcern(i,this.rr)):this.hasBroken=!0)}t&&this.setState(t)}}},{key:"componentWillUnmount",value:function(){if(!this.hasBroken)for(var e=0;e<d.length;e++){var t=d[e];t.detachConcern(t.getModel(this._getModelOrProxy(t.name)),this.rr)}}},{key:"_getComponent",value:function(){return o._getComponent.call(this)}},{key:"_getModelOrProxy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;return t[e]}},{key:"render",value:function(){return this.hasBroken?null:i.createElement(e,r({ref:this.setComponent},this.props,this.state))}}]),n}(o.WrapperInterface),u.displayName=`State(${(0,s.default)(e)})`,c};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=h(n("dcaifjegcg")),s=h(n("bfjbhiddag")),l=h(n("bdiiahhjbe")),c=n("jjbajibff"),f=n("dcdiaahjj"),d=h(f),p=n("ceidcegjgi");function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var b=function(){function e(t,n,r,a){m(this,e),this.componentName=t,this.name=n,this.isStrong=a,this.keys=r;var o=p.ProxyStates[n];o||l.default.assert(!1,"state-hoc-error",`Unknown StateHOC concern type "${n}"`)(),this.proxyClass=o,this.whitelistedProxyClass=function(e,t,n){for(var r={_ProxyState$ComponentName:{value:e},proxyBitMask:{value:(0,c.genBitMask)(t.prototype.mirrorMask,n)}},a=function(e){var t=n[e];r[t]={enumerable:!0,get(){return this._ProxyState$state.get(t)},set(e){this._ProxyState$state.set(t,e)}}},o=0;o<n.length;o++)a(o);function i(e){t.call(this,e)}return i.prototype=Object.create(t.prototype,r),i.prototype.constructor=i,i}(t,o,r)}return a(e,[{key:"getModel",value:function(e){return e instanceof this.proxyClass?e._ProxyState$state:e}},{key:"getModelAndValidate",value:function(e){var t,n=e instanceof this.proxyClass?e._ProxyState$state:e;return n?n instanceof u.default?n:(l.default.assert(!1,"state-hoc-error",`${this.componentName} given invalid object for ${this.name}: ${t=n,"string"==typeof t?t:t.toString?t.toString():"Invalid Object"}`)(),null):(l.default.assert(d.default.mode!==f.StreamMode.MAIN,"state-hoc-error",`${this.componentName} was not supplied the ${this.name} model with keys ${String(this.keys)}.`)(),null)}},{key:"attachConcern",value:function(e,t){e.incObservers(!this.isStrong);var n=new this.whitelistedProxyClass(e);return e.mirror.addListener(t,n.proxyBitMask,this),n}},{key:"detachConcern",value:function(e,t){e.decObservers(),e.mirror.removeListener(t)}}]),e}()},ihfgagaij:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=B(n("iidhbgeed")),a=B(n("bebajedcaf")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=F(n("ddhijeejag")),u=n("bgddggdhc"),s=n("biheibdage"),l=B(n("jfbdejdfi")),c=B(n("eajjbbihhc")),f=B(n("bahefiaghi")),d=B(n("becegcbegb")),p=B(n("cjcecfgaji")),h=B(n("fhdffdech")),m=B(n("gbfffciea")),b=B(n("eadfaddcj")),g=B(n("dcjhajfghf")),v=B(n("djcchigfih")),y=B(n("djbhiedbef")),_=n("dajffajabh"),E=B(_),j=F(n("cajijabhgb")),O=n("cgffhfegce"),S=B(n("ddajbaceej")),w=n("cfffidafid"),P=B(n("dhfbfehaef")),M=B(n("eceadcicaf")),C=B(n("behbjhhbg")),T=B(n("bjbedjfe")),A=n("ejbdjaifi"),N=B(n("didfdhbecg")),k=B(n("cdjhjdcbeg")),I=B(n("becfabjeeg")),R=B(n("jgcieiibj")),L=n("bfjajhbdf"),D=B(L),x=n("bfbggcdbfb"),U=B(n("bfdcadbbif")),G=B(n("ijdibihbi"));function F(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function B(e){return e&&e.__esModule?e:{default:e}}var $=b.default.MSG_TYPE,V=$.IMAGE,H=$.VIDEO,W=$.DOCUMENT,Y=$.AUDIO,K=200,q=s.ATTACH_MEDIA_STATE.PROCESSING,z=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.populateInitCaption=function(e,t,r){var a=n.props.initCaption;if(!e&&t&&a&&a.text&&""!==a.text&&r.activeMedia){if(r.activeMedia.type!==V&&r.activeMedia.type!==H)return;!1===n.initCaptionUsed&&(r.activeMedia.caption=a.text,n.initCaptionUsed=!0)}},n.onMediaProcessUpdate=function(){if(n.props.mediaCollection.canSend()){var e=n.props.mediaCollection.getPreviewableMedias(),t=n.props.mediaCollection.getActive(),r=n.props.mediaCollection.uiProcessMsgs().errorMsgs;r&&e.length>0&&m.default.openToast(i.createElement(D.default,{msg:r,id:(0,L.genId)()})),t||t!==n.state.activeMedia?n.setState({activeMedia:t}):n.forceUpdate()}},n.showIgnoredToast=function(e){if(e>0){var t=l10n.t(1020,{number:e,_plural:e});m.default.openToast(i.createElement(D.default,{msg:t,id:(0,L.genId)()}))}},n.onWindowDrop=function(){(0,a.default)(n.props.files)&&(0,a.default)(n.props.mediaCollection)&&n.props.onBack()},n.onDrop=function(e){n.onFilePick(e)},n.onDragLeave=function(e){n.props.mediaCollection.length||n.props.onBack()},n.onDragChange=function(e,t){n.setState({isDragging:e}),e||t||n.props.mediaCollection.length||n.props.onBack()},n.onEnter=function(e){n.state.activeMedia&&(e.repeat||e.shiftKey||n.onSend())},n.onArrowLeft=function(e){if(n.state.activeMedia&&!e.repeat){var t=n.state.activeMedia&&!n.state.activeMedia.caption,r=n.refCaptionInput&&n.refCaptionInput.refInput;(t||r&&!r.isFocused()||r&&r.cursorAtStart())&&n.onPrev()}},n.onArrowRight=function(e){if(n.state.activeMedia&&!e.repeat){var t=n.state.activeMedia&&!n.state.activeMedia.caption,r=n.refCaptionInput&&n.refCaptionInput.refInput;(t||r&&!r.isFocused()||r&&r.cursorAtEnd())&&n.onNext()}},n.onNext=function(){n.props.mediaCollection.setNextAsActive()&&n.refSendButton&&S.default.focus(n.refSendButton)},n.onPrev=function(){n.props.mediaCollection.setPrevAsActive()&&n.refSendButton&&S.default.focus(n.refSendButton)},n.onSelectThumb=function(e){n.props.mediaCollection.setActive(e)},n.onSend=function(e){if(e&&e.preventDefault(),(!e||!e.shiftKey)&&n.props.mediaCollection.canSend()){Promise.all([]).then(function(){var e=n.props.mediaCollection.getPreviewableMedias();if(0!==e.length){var t=e.map(function(e){var t=e.caption,r=[],a=n.refCaptionInput&&n.refCaptionInput.refInput;if(t&&a){var o=a.serialize(t),i=[o[0].trim(),o[1]],u=i[0],s=i[1];u.length&&(t=u,r=s.mentionedJidList||[])}return e.caption=t||void 0,{media:e,mentionedJidList:r}});n.props.onSendMedia(t,n.initCaptionUsed)}})}},n.setRefInput=function(e){n.refInput=e},n.onAddFileClick=function(){n.refInput&&n.refInput.click()},n.onFilePick=function(e){(0,w.getFiles)(e).then(function(e){return n.props.mediaCollection.processFiles(e,n.props.chat,x.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY)}).checkpoint(n.props.rejectOnUnmount()).catch(j.Unmount,function(){}).catch(j.MediaDragDropError,function(e){if(n.props.mediaCollection.length)throw e;n.props.onDropText(e.src)}),e.target&&e.target.value&&(e.target.value="")},n.onRemoveThumb=function(e,t){t.stopPropagation(),t.preventDefault(),n.props.mediaCollection.remove(e),0===n.props.mediaCollection.length?n.delayedClose=setTimeout(function(){n.props.onBack()},K):n.refSendButton&&S.default.focus(n.refSendButton)},n.onCaptionChange=function(e){var t=n.state.activeMedia;if(t){var r=n.props.mediaCollection.indexOf(n.state.activeMedia);t.caption=e,0===r&&""===e&&n.initCaptionUsed&&(n.initCaptionUsed=!1),n.forceUpdate()}},n.onPaste=function(e){e.preventDefault(),e.stopPropagation();var t=new g.default(e.clipboardData);t.hasFiles()&&n.onFiles(t)},n.onFiles=function(e){var t=(0,r.default)(e.getFiles(),function(e){var t=(0,O.typeFromMimetype)(e.type);return"image"===t||"video"===t});n.props.mediaCollection.processFiles(t,n.props.chat,x.MEDIA_PICKER_ORIGIN_TYPE.PASTE)},n.setRefCaptionInput=function(e){n.state.activeMedia&&!e||(n.refCaptionInput=e)},n.getMedia=function(e){var t=void 0,r=void 0;switch(e.type){case V:case H:t||(t=i.createElement(p.default,{mimeType:e.mimetype,url:e.fullPreview,isGif:e.isGif,size:e.fullPreviewSize,processing:e.state===q,preview:e.preview})),r=i.createElement("div",{className:G.default.captionInput,"data-animate-media-caption":!0},i.createElement(R.default,{ref:n.setRefCaptionInput,value:e.caption,placeholder:l10n.t(157),maxLength:b.default.MAX_CAPTION_LENGTH,onEnter:n.onSend,onChange:n.onCaptionChange,onFiles:n.onFiles,chat:n.props.chat,showRemaining:!0,spellCheck:!0,multiline:!0,supportsEmoji:!0}));break;case Y:t=i.createElement(c.default,{mimeType:e.mimetype,url:e.fullPreview});break;case W:switch(C.default.previewType(e.mimetype)){case"pdf":t=i.createElement(h.default,{fullPreview:e.fullPreview,fullPreviewSize:e.fullPreviewSize,pdfPages:e.pdfPages,mimeType:e.mimetype,filename:e.filename});break;case"msoffice":t=i.createElement(f.default,{fullPreview:e.fullPreview,fullPreviewSize:e.fullPreviewSize,mimeType:e.mimetype,filename:e.filename});break;default:t=i.createElement(d.default,{mimeType:e.mimetype,filename:e.filename})}}return i.createElement("div",{className:G.default.mediaBody,key:e.id},t,r)},n.getThumbs=function(e){return e.map(function(e,t){return i.createElement(l.default,{key:"media-"+e.id,active:e===n.state.activeMedia,attachMedia:e,onClick:n.onSelectThumb,onClose:n.onRemoveThumb})})},n.setRefSendButton=function(e){n.refSendButton=e},n.transition="media-scale",n.disableTransistions=!1,n.initCaptionUsed=!1,n.state={activeMedia:n.props.mediaCollection.getActive(),isDragging:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.props.listeners.add(window,"drop",this.onWindowDrop);var t=this.props.mediaCollection.getPreviewableMedias();!this.state.activeMedia&&t.length>0&&(this.disableTransistions=!0,this.setState({activeMedia:t[0]},function(){e.disableTransistions=!1}))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.mediaCollection,n=e.listeners;n.add(t,"add remove reset"),n.add(t,"active-change change:state change:previewable",this.onMediaProcessUpdate),n.add(t,"max_upload_limit",this.showIgnoredToast),this.props.mediaCollection.mediaPickerStatsLogger.resumeTimer()}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){var n=t.activeMedia,r=this.state.activeMedia;this.populateInitCaption(r,n,t),r&&n&&r!==n?this.props.mediaCollection.indexOf(n)>this.props.mediaCollection.indexOf(r)?this.transition="media-slide-forward":this.transition="media-slide-back":this.transition="media-scale"}},{key:"componentDidUpdate",value:function(e,t){var n=this;!t.activeMedia&&this.state.activeMedia&&this.refCaptionInput?this.props.listeners.uiIdle(function(){n.refCaptionInput&&n.refCaptionInput.restoreFocus()}):!(0,u.forbiddenAssertDOMNode)(this).contains(document.activeElement)&&this.refSendButton&&S.default.focus(this.refSendButton)}},{key:"componentWillUnmount",value:function(){this.delayedClose&&clearTimeout(this.delayedClose),this.props.mediaCollection.mediaPickerStatsLogger.pauseTimer()}},{key:"render",value:function(){var e=void 0,t=void 0,n=void 0,r=0,a=!0,o=this.props.mediaCollection.getPreviewableMedias();o.length>b.default.MAX_FILES&&(o=o.slice(0,b.default.MAX_FILES)),this.props.mediaCollection.canSend()?this.state.activeMedia?e=this.getMedia(this.state.activeMedia):0===o.length&&this.props.mediaCollection.errorMsgs&&(e=i.createElement("div",{className:G.default.invalidContainer,key:"pending"},i.createElement("div",{className:G.default.invalidMedia},this.props.mediaCollection.errorMsgs))):(a=!1,e=i.createElement(I.default,{key:"processing",color:"highlight"})),o.length>0&&(t=this.getThumbs(o),r=1===o.length?400:400+(150+15*o.length),n=a?i.createElement("div",{className:G.default.btnSend,tabIndex:"-1",ref:this.setRefSendButton,onKeyPress:function(e){return e.preventDefault()}},i.createElement(k.default,{large:!0,onClick:this.onSend},i.createElement(U.default,{name:"send-light",directional:!0}))):null);var u=this.state.isDragging?i.createElement("div",{key:"container",className:G.default.dropOverlay},i.createElement("div",{className:G.default.dropOverlayOutline},l10n.t(396))):null,s=o.length<b.default.MAX_FILES?i.createElement("div",{className:G.default.btnAdd,key:"media-more",onClick:this.onAddFileClick,role:"button"},i.createElement(U.default,{name:"add-alt"}),i.createElement("div",{className:G.default.btnAddText},l10n.t(164))):null,l={enter:this.onEnter,left:this.onArrowLeft,right:this.onArrowRight},c="*"===C.default.DOC_MIMES?"*":[b.default.IMAGE_MIMES,b.default.VIDEO_MIMES,C.default.DOC_MIMES].join();return i.createElement(P.default,{handlers:l},i.createElement(v.default,{key:"attach-image-modal",theme:"media",onDrop:this.onDrop,onDragChange:this.onDragChange},i.createElement(E.default,{title:l10n.t(1270),type:_.DRAWER_HEADER_TYPE.OFFSET,onCancel:this.props.onBack}),i.createElement(y.default,{tabIndex:"-1",overflow:"hidden",onPaste:this.onPaste},u,i.createElement("div",{className:G.default.body},i.createElement(N.default,{transitionName:this.disableTransistions?"noop":this.transition},e)),i.createElement(N.default,{transitionAppear:!0,transitionName:this.disableTransistions?"noop-full-opacity":"thumb-scale",className:G.default.thumbs},t,s),i.createElement(N.default,{transitionAppear:!0,transitionName:this.disableTransistions?"noop-full-opacity":"btn",delay:this.disableTransistions?0:r},n),i.createElement("input",{ref:this.setRefInput,type:"file",accept:c,style:{display:"none"},onChange:this.onFilePick,multiple:!0}))))}}]),t}();z.displayName="AttachMediaDrawer",t.default=(0,T.default)((0,M.default)((0,A.hoc)(z)))},ihgbiaiaa:function(e,t){e.exports={muted:"_9nu0_",item:"_24rpv",overlay:"dSmPg",numberText:"_14Diy",loadingImageContainer:"_38jO3",loadingImage:"_65oJx"}},ihgefacbb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=500,i=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._trackers=[],this._currFPS=0,this._numSamples=0,this._totalTime=0,this._startTracking=function(){t._frameId||(t._prevFrameTS=t._prevUpdateTS=window.performance.now(),t._frameId=requestAnimationFrame(t._handleFrame))},this._stopTracking=function(){t._frameId&&(t._prevFrameTS=t._prevUpdateTS=void 0,cancelAnimationFrame(t._frameId),t._frameId=void 0)},this._handleFrame=function(){if(t._trackers.length){var e=t._prevFrameTS,n=t._prevUpdateTS;if(null!=e&&null!=n){var r=window.performance.now();t._numSamples+=1,t._totalTime+=r-e,r-n>=o&&t._update(r),t._prevFrameTS=r,t._frameId=requestAnimationFrame(t._handleFrame)}}}}return a(e,[{key:"whenLessThan",value:function(e,t){var n=this;if(e<0||e>60)throw new RangeError("fps must be between 0 and 60");return this._insertTracker([e,t]),function(){n._removeTracker(t)}}},{key:"_insertTracker",value:function(e){var t=e[0],n=function(e,t){var n=0,r=e.length-1,a=Math.floor((n+r)/2);for(;e[a]!==t&&n<r;)t<e[a]?r=a-1:n=a+1,a=Math.floor((n+r)/2);if(e[a]<t)return a+1;return a}(this._trackers.map(function(e){return e[0]}),t);this._trackers.splice(n,0,e),1===this._trackers.length&&(this._addEventListeners(),this._startTracking())}},{key:"_removeTracker",value:function(e){for(var t=this._trackers.length,n=0;n<t;n++)if(e===this._trackers[n][1]){this._trackers.splice(n,1),0===this._trackers.length&&(this._removeEventListeners(),this._stopTracking());break}}},{key:"_update",value:function(e){var t=1e3/(this._totalTime/this._numSamples),n=Math.min(t,60);if(Math.abs(n-this._currFPS)>1){this._currFPS=n;var r=this._filterCallbacks();r.length&&this._triggerCallbacks(r,n)}this._numSamples=0,this._totalTime=0,this._prevUpdateTS=e}},{key:"_filterCallbacks",value:function(){for(var e=[],t=this._trackers.length-1;t>=0;t--){var n=r(this._trackers[t],2),a=n[0],o=n[1];if(a<=this._currFPS)break;e.push(o)}return e}},{key:"_triggerCallbacks",value:function(e,t){var n=window.performance.now(),r=function(){e.forEach(function(e){return e(t,n)})};window.requestIdleCallback?window.requestIdleCallback(r):window.setTimeout(r,0)}},{key:"_addEventListeners",value:function(){window.addEventListener("focus",this._startTracking),window.addEventListener("blur",this._stopTracking)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("focus",this._startTracking),window.removeEventListener("blur",this._stopTracking)}}]),e}();t.default=new i},ihhfhbadh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!1;var t=window.getSelection();if(1!==t.rangeCount)return!1;var n=t.getRangeAt(0);if(!n.collapsed)return!1;var r=n.endContainer;if(n.startOffset!==function(e){return(0,o.default)(e)?e.textContent.length:e.childNodes.length}(r))return!1;if(e===r)return!0;if(!e.contains(r))return!1;var a=r;do{if(a.nextSibling)return!1;a=a.parentNode}while(a!==e);return!0};var r,a=n("bgeafedbjd"),o=(r=a)&&r.__esModule?r:{default:r}},ihiijcdag:function(e,t,n){"use strict";var r,a=n("ddfeabiaci"),o=(r=a)&&r.__esModule?r:{default:r};var i=n("bcbeeajhgb"),u={version:"14",sendConversationPin:function(e,t,n){var r=this;return new Promise(function(a,o){var i=r.actionNode("set",[["chat",{type:"pin",pin:t?t.toString():void 0,previous:n?n.toString():void 0,jid:e},void 0]]);r.binSend("send",i,o,{clientCacheable:!0,onSend:r.wrap(a),onDrop:r.wrap(o)},{debugString:["action","chat",e,t?"pin,"+t:"unpin,"+n].join(),metricName:"CHAT",ackRequest:!0})})}};e.exports=(0,o.default)(u,i)},iiaihjfbi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=c(n("ihfccfgdf")),u=n("ejbdjaifi"),s=c(n("dcifjbigdg")),l=c(n("ccaaiecfib"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.msg;if(!r)return o.createElement(o.Fragment,null,t);var i=(0,a.default)(s.default.spacer,n,{[s.default.spacerStar]:r.star,[s.default.spacerBroadcast]:r.broadcast,[s.default.spacerLabels]:r.labels&&r.labels.length&&l.default.supportsFeature(l.default.F.LABELS_DISPLAY)});return o.createElement("span",{className:i},t)}}]),t}();f.CONCERNS={msg:["broadcast","star","labels"]},f.displayName="SpacerText",t.default=(0,i.default)((0,u.hoc)(f),f.CONCERNS)},iibcehaia:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=S(n("dhigahgdjb")),i=n("bgddggdhc"),u=S(n("bjebjijbfc")),s=S(n("eadfaddcj")),l=S(n("dhhfaeacef")),c=n("cgejchjdhj"),f=S(n("fifhbjiec")),d=S(n("ddajbaceej")),p=n("dhfbfehaef"),h=S(p),m=S(n("eceadcicaf")),b=n("ejbdjaifi"),g=S(n("bcifhbgija")),v=S(n("djbfhebjhe")),y=S(n("caceaafdic")),_=n("ddbddjjgia"),E=S(n("bfdcadbbif")),j=S(n("dheeebbech")),O=S(n("bcebbbdfff"));function S(e){return e&&e.__esModule?e:{default:e}}var w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.wrapper=null,n.onSelectionChange=function(e,t){var r="focus"===e;if(r){var a=(0,i.forbiddenAssertDOMNode)(n);d.default.focus(a),t&&(0,c.scrollIntoViewIfNeeded)(a)}n.setState({current:r})},n.onActiveChange=function(e,t){if("focus"===e){var r=(0,i.forbiddenAssertDOMNode)(n);d.default.focus(r),(0,c.scrollIntoViewIfNeeded)(r)}n.setState({active:!!e})},n.mouseOver=function(){n.state.hover||n.setState({hover:!0})},n.mouseEnter=function(){n.state.hover||n.setState({hover:!0})},n.mouseLeave=function(){n.state.hover&&n.setState({hover:!1})},n.onEnter=function(e){e.stopPropagation(),e.preventDefault(),n.props.onClickMsg&&n.props.onClickMsg(n.props.msg)},n.openContextMenu=function(){n.wrapper&&n.wrapper.contextOpen()},n.onFocus=function(e){n.setState({focus:!0}),n.indicateFocus()},n.onBlur=function(e){n.finishFocusIndication(),n.setState({focus:!1})},n.indicateFocus=function(){var e=n.state.active?"#d6d7d8":"#e2e3e3";(0,p.indicateFocus)(n.row,[e,"#cbdde7"],{complete:n.finishFocusIndication})},n.finishFocusIndication=function(){var e=(0,i.forbiddenFindDOMNode)(n.row);e&&((0,g.default)(e,"stop"),e.style.backgroundColor="")};var r=e.currSelection,a=e.activeSelection,o=e.msg;return n.state={hover:!1,current:!!r&&r.value===o,active:!!a&&a.value===o,focus:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.msg,n=e.currSelection,r=e.activeSelection,a=e.listeners;n&&a.add(n,t.id.toString(),this.onSelectionChange),r&&a.add(r,t.id.toString(),this.onActiveChange)}},{key:"render",value:function(){var e=this,t=this.props,n=t.msg,r=t.selectedMessages,i=t.displayType,c=n.senderObj.formattedName,d=n.chat.isUser?o.default.assertGet(n.to).formattedName?o.default.assertGet(n.to).formattedName:(0,v.default)(n.to):n.chat.title(),p=i===s.default.DISP_TYPE.GALLERY?null:a.createElement("div",{className:O.default.title},a.createElement("div",{className:O.default.titleMain},a.createElement("div",{className:O.default.avatar},a.createElement(l.default,{id:n.senderObj.id,size:26})),a.createElement(f.default,{className:O.default.author,text:c,direction:"auto",titlify:!0}),a.createElement("span",{className:O.default.divider}),a.createElement(f.default,{className:O.default.chat,text:d,direction:"auto",titlify:!0})),a.createElement("div",{className:O.default.meta,dir:"auto"},u.default.relativeStr(n.t)),a.createElement("div",{className:O.default.chevron},a.createElement(E.default,{name:"chevron-right-alt",directional:!0}))),m={enter:this.onEnter};m[l10n.LR("right","left")]=this.openContextMenu;var g=this.props.selectable||this.state.hover&&i===s.default.DISP_TYPE.GALLERY;return a.createElement(h.default,{handlers:m,onFocus:this.onFocus,onBlur:this.onBlur},a.createElement(j.default,{ref:(0,b.GetRef)("row",this),hover:this.state.hover,current:this.state.current&&this.state.focus,active:this.state.active,onClick:function(){return e.props.onClickMsg&&e.props.onClickMsg(n,r&&!r.isSelected(n))},onMouseEnter:this.state.hover?null:this.mouseEnter,onMouseOver:this.state.hover?null:this.mouseOver,onMouseLeave:this.state.hover?this.mouseLeave:null},p,a.createElement(y.default,{msg:n,key:n.id.toString(),ref:(0,b.GetRef)("wrapper",this),current:this.state.current&&this.state.focus,displayType:i||s.default.DISP_TYPE.STARRED_MSGS,isMsgVisible:this.props.isMsgVisible,selectable:g,selectedMessages:r,onMessageSelect:this.props.onMessageSelect,position:_.MsgPosition.END,tailOverride:"left"})))}}]),t}();w.displayName="StarredMsg",t.default=(0,m.default)((0,b.hoc)(w))},iibiehcaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("bgcdajbhif")),i=h(n("dggicghjch")),u=h(n("bgajdijche")),s=h(n("gbfffciea")),l=h(n("ceffhbhahb")),c=h(n("bfdcadbbif")),f=h(n("eceadcicaf")),d=h(n("cbhejdgihi")),p=n("ejbdjaifi");function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onStatusAddRemove=function(){n.setState({status:o.default.getMyStatus()})},n.state={status:o.default.getMyStatus()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"shouldComponentUpdate",value:function(e,t){return t.status!==this.state.status}},{key:"UNSAFE_componentWillMount",value:function(){var e=this;this.props.listeners.add(o.default,"add remove",this.onStatusAddRemove),this.props.listeners.add(s.default,"dismiss_status_v3_viewer",function(){e.props.closeStatusViewer(!0)})}},{key:"componentDidMount",value:function(){var e=this.props.sessionId;null!=e&&o.default.logMetrics({type:"session",sessionId:e})}},{key:"render",value:function(){var e=this,t=this.props.onOpenStatus,n=(0,l.default)(d.default.v3_x,{});return a.createElement("div",{className:d.default.modalBackground,"data-animate-status-v3-modal-background":!0},a.createElement("div",{className:d.default.mainWrapper},a.createElement(i.default,{onOpenStatus:t}),a.createElement(u.default,{status:this.state.status,onOpenStatus:t}),a.createElement("button",{className:n,onClick:function(){return e.props.closeStatusViewer(!0)}},a.createElement(c.default,{name:"status-v3-x"}))))}}]),t}();m.displayName="StatusV3Main",t.default=(0,f.default)((0,p.hoc)(m))},iiegbbgja:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n("iffjgahba"),i=(r=o)&&r.__esModule?r:{default:r};var u=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=a({},r).url,i=o?`${n}: ${e} ${o}`:`${n}: ${e}`,u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return u.status=e,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,(0,i.default)("HttpStatusCodeError")),t}();t.default=u},ijbagjdgc:function(e,t){e.exports={muted:"_3sO8h",icon:"_33gYI",text:"_1Sxbg"}},ijdibihbi:function(e,t){e.exports={muted:"_1tsRj",body:"_2CDPn",thumbs:"NeQRT",btnSend:"iA40b",captionInput:"_3cDQo",mediaBody:"_3NANR",invalidContainer:"dW6GK",invalidMedia:"azEEh",dropOverlay:"lC2xi",dropOverlayOutline:"_8C3uJ",btnAdd:"_3fktq",btnAddText:"A_Kh_"}},ijecjcidg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=_(n("ceffhbhahb")),i=_(n("effbcehec")),u=_(n("ebcagbhefg")),s=_(n("djcchigfih")),l=n("dajffajabh"),c=_(l),f=_(n("djbhiedbef")),d=_(n("gbfffciea")),p=n("bfjajhbdf"),h=_(p),m=_(n("eadfaddcj")),b=_(n("fffdgbfji")),g=_(n("ihfccfgdf")),v=n("ejbdjaifi"),y=_(n("ddhbfebjfb"));function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=function(e){function t(){var e,n,r;E(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={hover:!1},r.onClick=function(e){var t=r.encodeColor(r.props.colorHex),n=u.default.get("defaultPreference");n&&t!==n.wallpaperColor&&(n.set("wallpaperColor",t),d.default.openToast(a.createElement(h.default,{msg:b.default.t(1079),id:(0,p.genId)()})))},r.onMouseOver=function(e){r.state.hover||(r.setState({hover:!0}),u.default.trigger("wallpaper_color_preview",r.encodeColor(r.props.colorHex)))},r.onMouseEnter=function(e){r.state.hover||(r.setState({hover:!0}),u.default.trigger("wallpaper_color_preview",r.encodeColor(r.props.colorHex)))},r.onMouseLeave=function(e){r.state.hover&&(r.setState({hover:!1}),u.default.trigger("wallpaper_color_preview"))},r.encodeColor=function(e){return"#ede9e4"===e?m.default.DEFAULT_CHAT_WALLPAPER:e},j(r,n)}return O(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.isDefault?a.createElement("span",{"data-a8n":i.default.key("wallpaper-default-title"),className:y.default.wallpaperDefaultTitle},b.default.t(356)):null,t=(0,o.default)(y.default.wallpaperColorCanvas,{[y.default.canvasHover]:this.state.hover,[y.default.canvasActive]:this.props.isSelected});return a.createElement("span",{className:t,style:{backgroundColor:this.props.colorHex},onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick},e)}}]),t}();S.displayName="ColorCanvas";var w=function(e){function t(){return E(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,a.Component),r(t,[{key:"render",value:function(){for(var e=this.props,t=e.chatPreference,n=e.colors,r=!0,o=t&&t.wallpaperColor,i=n.map(function(e){var t=!1,n=!1;return(o===e||o===m.default.DEFAULT_CHAT_WALLPAPER&&r)&&(t=!0),r&&(n=!0,r=!1),a.createElement(S,{colorHex:e,isSelected:t,isDefault:n,key:e})}),u=0;u<2;u++)i.push(a.createElement("div",{key:"emptyEl"+u,className:y.default.wallpaperColorEmpty}));return a.createElement("div",{className:y.default.wallpaperColorGrid},i)}}]),t}();w.CONCERNS={chatPreference:["wallpaperColor"]},w.displayName="ColorGridClass";var P=(0,g.default)((0,v.hoc)(w),w.CONCERNS),M=function(e){function t(){return E(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,a.Component),r(t,[{key:"componentWillUnmount",value:function(){u.default.trigger("wallpaper_color_preview")}},{key:"render",value:function(){return a.createElement(s.default,null,a.createElement(c.default,{title:b.default.t(1080),onBack:this.props.onClose,type:l.DRAWER_HEADER_TYPE.LARGE}),a.createElement(f.default,null,a.createElement(P,{colors:m.default.WALLPAPER_COLOR,chatPreference:u.default.get("defaultPreference")})))}}]),t}();M.displayName="WallpaperDrawer",t.default=M},ijhhjedi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("djidjciehe"),i=(r=o)&&r.__esModule?r:{default:r};function u(e){return a.createElement(i.default,e,e.children)}u.displayName="Intern"},ijiafihgg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n("eaaagccfda")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("bdfbccfifg"),i=c(o),u=c(n("ccaaiecfib")),s=c(n("bfgbdiffgd")),l=c(n("eaaehfdjdg"));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.id));return a._trigger=n.trigger||"all",a._saveToCache=(0,r.default)(a.saveToCache,0),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),a(t,[{key:"saveToCache",value:function(){u.default.supportsFeature(u.default.F.MODEL_STORAGE)||l.default.hasSynced&&s.default.getWebRestoreFromCache()&&this.collection.saveToCache()}},{key:"enableCaching",value:function(){this.listenTo(this.collection,this._trigger,this._saveToCache)}},{key:"disableCaching",value:function(){this.stopListening(this.collection,this._trigger,this._saveToCache)}}]),t}();f.policy=o.CACHE_POLICY_TYPE.IMMEDIATE,t.default=f},jahgaeib:function(e,t,n){"use strict";var r,a=n("bdiiahhjbe"),o=(r=a)&&r.__esModule?r:{default:r};var i=n("dcefbjcfha"),u=n("bfbggcdbfb"),s=void 0;e.exports={checkAndRepair:function(e,t){var n,r,a=new u.WebcMediaAnalyzed;return(n={type:"prep",file:e,asGif:t},r=void 0,new Promise(function(e,t){o.default.log("MediaAnalyzer:sendMessageToWorker")(),r=s||new i,s=void 0,r.onmessage=function(n){try{n.data&&"log"===n.data.type?o.default.log(`(via Milan) ${n.data.msg}`)():e(n.data)}catch(e){t(e)}},r.onerror=function(e){t(`Milan.onerror = ${e&&e.message?e.message:e}`)},r.postMessage(n)}).finally(function(){r&&(r.terminate(),s=new i)})).then(function(e){var t=e.type,n=e.result,r=e.error,a=e.filename,i=e.file;switch(t){case"result":return o.default.log("MediaAnalyzer:checkAndRepair approved file")(),n;case"parsingError":return o.default.info(`trouble parsing file ${i} (fossil ${a}) ${String(r)}`)(),i&&o.default.assert(!1,"media-parsing-error",`MediaAnalyzer:checkAndRepair got parsing error! ${String(r)}`)(),void o.default.log(`MediaAnalyzer:checkAndRepair rejected file (${String(r)})`)()}}).catch(function(e){o.default.assert(!1,"media-detection-error",`MediaAnalyzer:checkAndRepair got error! ${String(e)}`)()}).finally(function(t){if(a){var n=void 0;if(e.name){var r=e.name.split(".");r.length>1&&(n=r[r.length-1])}a.set({webcMediaSupported:!!t,webcMediaExtensions:n}),a.markWebcMediaAnalyzeT(),a.commit()}})}}},jajcehbed:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=u(n("bhagdhdadd")),i=u(n("dbajccegac"));function u(e){return e&&e.__esModule?e:{default:e}}var s=33639248,l=101010256,c=67324752,f=46,d=22,p=30,h=0,m=0,b=10;function g(e){return(e.getHours()<<6|e.getMinutes())<<5|e.getSeconds()/2}function v(e){return(e.getFullYear()-1980<<4|e.getMonth()+1)<<5|e.getDate()}var y=/[^\x00-\x7F]/g;var _=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.files=[],this.filenameCount={}}return r(e,[{key:"add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,r=function(e){return e.replace(/\\/,"/").replace(y,"")}(t);this.filenameCount[r]>=0?(this.filenameCount[r]+=1,r=r.replace(/\.(\w+)$/," ("+this.filenameCount[r]+").$1")):this.filenameCount[r]=0,this.files.push([e,{crc:(0,o.default)(e),path:r,date:n}])}},{key:"create",value:function(){var e=0,t=0,n=0,r=[],o=[];this.files.forEach(function(u,l){var d=a(u,1)[0],y=d.size(),_=function(e){var t=a(e,2),n=t[0],r=t[1],o=r.path,u=r.crc,s=r.date,l=new i.default(void 0,!0);return l.ensureCapacity(p+o.length),l.writeUint32(c),l.writeUint8(b),l.writeUint8(m),l.writeUint16(0),l.writeUint16(h),l.writeUint16(g(s)),l.writeUint16(v(s)),l.writeUint32(u),l.writeUint32(n.size()),l.writeUint32(n.size()),l.writeUint16(o.length),l.writeUint16(0),l.writeString(o),l}(u),E=function(e,t){var n=a(e,2),r=n[0],o=n[1],u=o.path,l=o.crc,c=o.date,d=new i.default(void 0,!0);return d.ensureCapacity(f+u.length),d.writeUint32(s),d.writeUint8(b),d.writeUint8(m),d.writeUint8(b),d.writeUint8(m),d.writeUint16(0),d.writeUint16(h),d.writeUint16(g(c)),d.writeUint16(v(c)),d.writeUint32(l),d.writeUint32(r.size()),d.writeUint32(r.size()),d.writeUint16(u.length),d.writeUint16(0),d.writeUint16(0),d.writeUint16(0),d.writeUint16(0),d.writeUint32(0),d.writeUint32(t),d.writeString(u),d}(u,n),j=_.size()+y;n+=j,e+=j+E.size(),t+=E.size(),o.push(_,d),r.push(E)});var u,y,_,E,j=(u=this.files.length,y=t,_=n,(E=new i.default(void 0,!0)).ensureCapacity(d),E.writeUint32(l),E.writeUint16(0),E.writeUint16(0),E.writeUint16(u),E.writeUint16(u),E.writeUint32(y),E.writeUint32(_),E.writeUint16(0),E),O=new i.default(void 0,!0);return O.ensureCapacity(e+j.size()),O.write.apply(O,o.concat(r,[j])),O}}]),e}();t.default=_},jbchjhhe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.requireBundle=h;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=p(n("cffibfiejh")),i=p(n("cjedbjfabb")),u=p(n("cbhegcchgg")),s=p(n("ejeehdija")),l=p(n("bfdcadbbif")),c=n("cicgeajfge"),f=p(n("cdcaigjjii")),d=p(n("bdiiahhjbe"));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return n.e(133).then(n.bind(null,"dbbiihddig")).then(function(e){return e.default})}function m(e){return a.createElement("div",{className:s.default.container},a.createElement("div",{className:s.default.body,dir:"ltr"},a.createElement("div",{className:s.default.imageContainer},a.createElement("div",{className:s.default.defaultIcon},a.createElement(l.default,{name:e.svgName}))),e.error?a.createElement(c.LazyLoadRetry,{className:s.default.lazyLoadRetry,onClick:e.retry}):a.createElement(o.default,null)))}m.displayName="Loading";var b=(0,u.default)({loader:function(){return h().catch(function(e){throw d.default.assert(!1,"loadable:PhotoPicker loading error")(e),e})},loading:e=>a.createElement(m,{svgName:"default-user",error:Boolean(e.error),retry:e.retry}),delay:i.default.LOADABLE_DELAY}),g=(0,u.default)({loader:function(){return h().catch(function(e){throw d.default.assert(!1,"loadable:PhotoPicker loading error")(e),e})},loading:e=>a.createElement(m,{svgName:"default-group",error:Boolean(e.error),retry:e.retry}),delay:i.default.LOADABLE_DELAY}),v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){return this.props.type===f.default.PROFILE?a.createElement(b,this.props):a.createElement(g,this.props)}}]),t}();v.displayName="PhotoPickerLoadable",t.default=v},jcdghfjgd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=b(n("dhbceejbjg")),i=b(n("dhigahgdjb")),u=b(n("dhhfaeacef")),s=b(n("fifhbjiec")),l=b(n("bhheahajjg")),c=b(n("ihfccfgdf")),f=b(n("cjihajjici")),d=b(n("bfdcadbbif")),p=n("ejbdjaifi"),h=n("bhfdfhefca"),m=b(n("eedjbihej"));function b(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.product,t=i.default.get(e.catalogWid),n=void 0;if(t){var r=a.createElement(l.default,{contact:t,selectable:!0,showBusinessCheckmark:!0}),c=a.createElement(u.default,{id:t.id,size:40}),p=a.createElement("div",{className:f.default.productName},a.createElement(d.default,{name:"business-description",display:"inline"}),a.createElement(s.default,{text:e.name,titlify:!0,ellipsify:!0}));n=a.createElement(o.default,{idle:!0,image:c,primary:r,secondary:p,theme:"media"})}else n=a.createElement(m.default,{theme:"large",className:f.default.infoName},a.createElement(s.default,{text:e.name,titlify:!0,ellipsify:!0}));return a.createElement("div",{className:f.default.mediaPanelHeader},a.createElement("div",{className:f.default.info},n),a.createElement("div",{className:f.default.mediaPanelTools},a.createElement(h.MenuBar,{key:"media-panel-header"},a.createElement(h.MenuBarItem,{a8nText:"btn-close",icon:a.createElement(d.default,{name:"x-viewer"}),title:l10n.t(1096),onClick:this.props.onClose}))))}}]),t}();g.CONCERNS={mediaData:["renderableUrl"],product:["name","catalogWid"]},g.displayName="ProductImageViewerHeader",t.default=(0,c.default)((0,p.hoc)(g),g.CONCERNS)},jcfhjhibi:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n("bjigbaghc")),i=f(n("bdiiahhjbe")),u=f(n("djdhjggcbi")),s=f(n("bdecdecede")),l=f(n("ccaaiecfib")),c=n("dejbbcaghh");function f(e){return e&&e.__esModule?e:{default:e}}var d=n("eadfaddcj"),p={BEFORE:"before",AFTER:"after"},h=2,m=12,b=19,g=65,v=2;function y(e,t,n){var r=t,a=e.toArray(),o=n===p.BEFORE?-1:1;return{hasNext:()=>r>=0&&r<a.length,next(){var e=a[r];return e||i.default.error(`Invalid cursor at ${r}, array.length = ${a.length}, element = ${e}`)(),r+=o,e}}}function _(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments[4],o=(0,u.default)()*r,i=y(e,t,n),f=0,p=0,b=void 0;i.hasNext();){var g=i.next(),v=(0,s.default)(g),_=2*(g.isNotification?1:0)+g.isSentByMe;if(p++,(f+=v+(_&&_===b?h:m))>o)break;if(p>=a)break;var E=l.default.supportsFeature(l.default.F.GROUPED_STICKERS)&&g.isValidGroupedSticker,j=l.default.supportsFeature(l.default.F.ALBUMS)&&g.isValidAlbumAsset;if(E||j){var O=[],S=!1,w=1;if(E){var P=void 0;if(i.hasNext()){if(P=i.next(),O.push(P),++p>=a)break;(0,c.canBeGroupedAsAlbum)(g,P)&&P.isValidGroupedSticker&&(S=!0)}}if(j)for(var M=g,C=void 0;i.hasNext()&&w<d.ALBUM_MAX_SIZE&&(C=i.next(),O.push(C),!(++p>=a))&&(0,c.canBeGroupedAsAlbum)(M,C)&&C.isValidAlbumAsset;)w++,M=C;if(E&&!S||j&&w<d.ALBUM_MIN_SIZE)if((f+=O.reduce(function(e,t){return e+(0,s.default)(t)},0))>o)break}b=_}return p}function E(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments[4],i=(0,u.default)()*r,f=y(e,t,n),p=0,g=0,v=void 0;f.hasNext();){var _=f.next(),E=(0,s.default)(_),j=_.author||(_.isSentByMe?o.default.me:void 0);if(g++,(p+=E+(j&&!_.isSentByMe&&j!==v?b:0)+(j&&j===v?h:m))>i)break;if(g>=a)break;var O=l.default.supportsFeature(l.default.F.GROUPED_STICKERS)&&_.isValidGroupedSticker,S=l.default.supportsFeature(l.default.F.ALBUMS)&&_.isValidAlbumAsset;if(O||S){var w=[],P=!1,M=1;if(O){var C=void 0;if(f.hasNext()){if(C=f.next(),w.push(C),++g>=a)break;(0,c.canBeGroupedAsAlbum)(_,C)&&C.isValidGroupedSticker&&(P=!0)}}if(S)for(var T=_,A=void 0;f.hasNext()&&M<d.ALBUM_MAX_SIZE&&(A=f.next(),w.push(A),!(++g>=a))&&(0,c.canBeGroupedAsAlbum)(T,A)&&A.isValidAlbumAsset;)M++,T=A;if(O&&!P||S&&M<d.ALBUM_MIN_SIZE)if((p+=w.reduce(function(e,t){return e+(0,s.default)(t)},0))>i)break}v=j}return g}function j(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments[4],o=(0,u.default)()*r,i=y(e,t,n),l=0,c=0;i.hasNext();){var f=i.next();if(c++,(l+=(0,s.default)(f)+g)>o)break;if(c>=a)break}return c}function O(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.AFTER,r=(0,u.default)()*v,a=y(e,t,n),o=0,i=!0,l=null;a.hasNext();){var c=a.next(),f=(0,s.default)(c),d=2*(c.isNotification?1:0)+c.isSentByMe;if((o+=f+(d&&d===l?h:m))>r){i=!1;break}l=d}return i}var S=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.type,r=t.before,a=t.after,o=t.focusedMsgKey,i=t.prevFocusedMsgKey;this._type=n,this._focusedMsgKey=o,this._prevFocusedMsgKey=i,this.before=r||0,this.after=a||0}return a(e,null,[{key:"create",value:function(t){var n=t.msgCollection,r=t.focusedMsgKey,a=t.type,o=t.maxInitialCount,i=void 0===o?Number.MAX_SAFE_INTEGER:o;return new e({type:a}).init(r,n,i)}}]),a(e,[{key:"_cloneWith",value:function(t){return new e(r({type:this._type,before:this.before,after:this.after,focusedMsgKey:this._focusedMsgKey,prevFocusedMsgKey:this._prevFocusedMsgKey},t))}},{key:"_getCursorSize",value:function(e,t,n,r,a){return function(e){switch(e){case d.RENDER_CURSOR.CONVERSATION:return _;case d.RENDER_CURSOR.GROUP_CONVERSATION:return E;case d.RENDER_CURSOR.STARRED_DRAWER:return j;default:return _}}(this._type)(e,t,n,r,a)}},{key:"getStart",value:function(e){return Math.max(w(this._focusedMsgKey,e,this._type)-this.before,0)}},{key:"getEnd",value:function(e){return Math.min(w(this._focusedMsgKey,e,this._type)+this.after+1,e.length)}},{key:"hasBefore",value:function(e){return w(this._focusedMsgKey,e,this._type)-this.before>0}},{key:"hasAfter",value:function(e){return w(this._focusedMsgKey,e,this._type)+this.after<e.length-1}},{key:"init",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return new e({type:this._type,before:0,after:0,focusedMsgKey:t}).loadBefore(n,{factor:1,maxCount:r}).loadAfter(n,{factor:1,maxCount:r})}},{key:"setFocusedMsgKey",value:function(e,t){var n=w(this._focusedMsgKey,e,this._type),r=w(t,e,this._type),a=void 0,o=void 0;return t?(o=this.after-(r-n),a=this.before+(r-n)):(a=this.before+this.after,o=0),this._cloneWith({focusedMsgKey:t,before:a,after:o})._updatePrev(e)}},{key:"ensureValidFocus",value:function(e){var t=null!=this._prevFocusedMsgKey&&null==e.get(this._prevFocusedMsgKey),n=null!=this._focusedMsgKey&&null==e.get(this._focusedMsgKey),r=this;return t&&(r=r._updatePrev(e)),n&&(r=r.focusBefore(e)),r}},{key:"_updatePrev",value:function(e){var t=w(this._focusedMsgKey,e,this._type);return this._cloneWith({prevFocusedMsgKey:t>0?e.at(t-1).id:void 0})}},{key:"focusBefore",value:function(e){return this._cloneWith({focusedMsgKey:this._prevFocusedMsgKey})._updatePrev(e)}},{key:"loadBefore",value:function(e,t){var n=t||{},r=n.count,a=n.maxCount,o=void 0===a?Number.MAX_SAFE_INTEGER:a,i=n.factor,u=void 0===i?2:i,s=null!=r&&0!==r?r:this._getCursorSize(e,Math.max(0,this.getStart(e)-1),p.BEFORE,u,o);return this._cloneWith({before:this.before+s})}},{key:"loadAfter",value:function(e,t){var n=t||{},r=n.count,a=n.maxCount,o=void 0===a?Number.MAX_SAFE_INTEGER:a,i=n.factor,u=void 0===i?2:i,s=null!=r&&0!==r?r:this._getCursorSize(e,this.getEnd(e),p.AFTER,u,o);return this._cloneWith({after:this.after+s})}},{key:"loadBeforeCapped",value:function(e,t){var n=t||{},r=n.count,a=n.factor,o=void 0===a?2:a;return O(e,this.getStart(e),p.AFTER)?this.loadBefore(e,{count:r,factor:o}):this}},{key:"resetBeforeCursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;if(!O(e,this.getStart(e),p.AFTER)){var n=Math.max(0,this.getEnd(e)-1),r=this._getCursorSize(e,n,p.BEFORE,2,t);return this._cloneWith({before:Math.min(this.before,r)})}return this}}]),e}();function w(e,t,n){if(e){var r=t.get(e),a=t.indexOf(r);if(-1!==a)return a}return function(e){switch(e){case d.RENDER_CURSOR.CONVERSATION:case d.RENDER_CURSOR.GROUP_CONVERSATION:return d.RENDER_CURSOR.RECENT_AT_BOTTOM;case d.RENDER_CURSOR.STARRED_DRAWER:return d.RENDER_CURSOR.RECENT_AT_TOP;default:return d.RENDER_CURSOR.RECENT_AT_BOTTOM}}(n)===d.RENDER_CURSOR.RECENT_AT_TOP?0:t.length-1}e.exports=S},jcfjeeiii:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n("eabbadcaee")),a=g(n("dfaadfeedd")),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0},u=g(n("djheacfeif")),s=n("dcaifjegcg"),l=g(n("bjebjijbfc")),c=g(n("eadfaddcj")),f=g(n("dhigahgdjb")),d=g(n("bdiiahhjbe")),p=g(n("ccehadbeci")),h=n("dcjbdhhjge"),m=g(n("bihdhbjih")),b=g(n("jccfhaecf"));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e){var t=(0,a.default)(e,function(e){return e.body&&e.mediaData&&(e.type===c.default.MSG_TYPE.IMAGE||e.type===c.default.MSG_TYPE.VIDEO)});return t&&t.mediaData.preview}var _=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.id=(0,s.prop)(),r.t=(0,s.prop)(),r.unreadCount=(0,s.prop)(0),r.totalCount=(0,s.prop)(0),r.score=(0,s.prop)(),r.pic=(0,s.prop)(),r._msgs=(0,s.prop)(function(){return[]}),r.readKeys=(0,s.session)(function(){return{}}),r.contact=(0,s.session)(),r.expireTimer=(0,s.session)(),r.expireTs=(0,s.session)(),r.hasUnread=(0,s.derived)(r._hasUnread,["unreadCount"]),r.readCount=(0,s.derived)(r._readCount,["unreadCount","totalCount"]),r.renderedThumbnail=(0,s.derived)(r._renderedThumbnail,["msgsChanged","pic","totalCount"]),r.lastStatus=(0,s.derived)(r._lastStatus,["msgsChanged","totalCount"]),v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.default),o(t,[{key:"_hasUnread",value:function(){return this.unreadCount>0}},{key:"_readCount",value:function(){var e=this.totalCount-this.unreadCount;return(0,r.default)(e)?e:(d.default.error(`Bad status v3 read count, ${this.totalCount}, ${this.unreadCount}`)(),0)}},{key:"_renderedThumbnail",value:function(){return this.msgs.length===this.totalCount?y(this.msgs.getModelsArray()):this.pic?this.pic:y(this.msgs.getModelsArray())}},{key:"_lastStatus",value:function(){return this.msgs.last()}},{key:"initialize",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.addChild("contact",f.default.gadd(this.id)),this.listenTo(this.msgs,"add bulk_add",function(){window.setTimeout(function(){e.setupStatusExpiration()})}),this.listenTo(this,"change:lastStatus",function(){e.lastStatus&&(e.t=e.lastStatus.t)})}},{key:"setupStatusExpiration",value:function(){var e=this,t=this.msgs.at(0);if(t&&!("number"==typeof this.expireTs&&this.expireTs<=t.t)){var n=t.t+86400+1;n<l.default.globalUnixTime()?window.setTimeout(function(){e.expireMsg()}):(this.expireTimer=u.default.setGlobalTimeout(this.expireMsg.bind(this),1e3*n,this.expireTimer),this.expireTs=t.t)}}},{key:"expireMsg",value:function(){for(var e=this.msgs;e.length>0;){var t=e.at(0);if(!t)break;if(t.t+86400>l.default.globalUnixTime())break;this.unreadCount>this.totalCount-1&&this.unreadCount--,this.totalCount--,e.remove(t),t.delete()}this.expireTs=void 0,this.expireTimer=void 0,0!==this.totalCount&&this.setupStatusExpiration()}},{key:"delete",value:function(){d.default.log(`Status v3 deleted with total count: ${this.totalCount}`)(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this),this.expireTimer&&u.default.clearTimeout(this.expireTimer),null!=this.expireTs&&(this.expireTs=void 0),this.getCollection().remove(this.id)}},{key:"onEmptyMRM",value:function(){var e=this;d.default.log(`Status V3 onEmptyMRM with total count: ${this.totalCount}, noEarlierMsgs: ${this.msgs.msgLoadState.noEarlierMsgs?"true":"false"}`)(),this.msgs.msgLoadState.noEarlierMsgs&&0===this.totalCount?this.delete():this.totalCount>0&&this.loadMore().catch(function(){}).finally(function(){e.msgs.length||e.delete()})}},{key:"loadMore",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.default.PAGE_SIZE;if(this.msgs.msgLoadState.noEarlierMsgs)return Promise.resolve();if(this.msgs.msgLoadState.isLoadingEarlierMsgs)return this.msgs.loadEarlierPromise;var n=0!==t?t:c.default.PAGE_SIZE;return this.getCollection().loadMore(this.id,n,this.msgs.last()).then(function(t){return Array.isArray(t)&&t.length<n&&(e.msgs.msgLoadState.noEarlierMsgs=!0),t}).catch(function(t){return 404===t&&e.delete(),Promise.reject(t)})}},{key:"handleReadStatus",value:function(e){this.readKeys[e]||(this.readKeys[e]=!0,this.unreadCount>0&&this.unreadCount--)}},{key:"sendReadStatus",value:function(e,t){var n=this;return m.default.sendStatusSeen(e,t).then(function(t){200===t.status&&n.handleReadStatus(e)})}},{key:"sendMute",value:function(e){var t=this;return m.default.sendStatusMute(this.id,e).then(function(n){if(200===n.status){var r={statusMute:e};(0,h.updateLocal)(t.contact.id,r).then(function(){t.contact.set(r)})}})}}]),t}();_.Collection="StatusV3",_.Proxy="statusV3",_.idClass=b.default,t.default=(0,s.defineModel)(_)},jciegiifi:function(e,t,n){"use strict";var r={parseStatusRankingScores:function(e){if("status"===this.N.tag(e)&&"score"===this.N.attr("type",e)){var t=[],n=this.N.children(e);if(Array.isArray(n))for(var r=0;r<n.length;r++){var a=n[r];if("user"===this.N.tag(a)){var o=this.N.attr("jid",a),i=parseFloat(this.N.attr("score",a))||void 0;void 0!==o&&void 0!==i&&t.push({jid:o,score:i})}}return t}}};e.exports=r},jdcjegfeb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=g(n("cfaiaibca")),i=g(n("dbdfbgehgj")),u=g(n("dhigahgdjb")),s=g(n("gbfffciea")),l=g(n("didfdhbecg")),c=g(n("ihfccfgdf")),f=g(n("djijgaefjc")),d=g(n("djbfhebjhe")),p=n("ejbdjaifi"),h=g(n("cahfddcdga")),m=g(n("eedjbihej")),b=g(n("djigcbdaeh"));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),u=0;u<a;u++)o[u]=arguments[u];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.messageNewNumber=function(){var e=r.props.chat.changeNumberNewJid,t=i.default.gadd((0,h.default)(e));s.default.openChatFromUnread(t).then(function(e){e&&s.default.focusChatTextInput(t)})},r.dismissChangeNumberNotification=function(){r.props.chat.sendDismissChangeNumber()},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"isOldChat",value:function(){var e=this.props.chat,t=e.changeNumberOldJid,n=e.changeNumberNewJid;return void 0===t&&void 0!==n}},{key:"isNewChat",value:function(){var e=this.props.chat,t=e.changeNumberOldJid,n=e.changeNumberNewJid;return void 0!==t&&void 0===n}},{key:"getText",value:function(){var e=this.props.chat,t=e.changeNumberOldJid,n=e.id,r=t||n,a=u.default.get(r),o=a&&a.isMyContact?a.formattedName:(0,d.default)(r);return this.isNewChat()?l10n.t(271,{name:o}):l10n.t(272,{name:o})}},{key:"render",value:function(){var e=null;if(this.props.chat.showChangeNumberNotification){var t=this.isOldChat()?a.createElement("div",{className:f.default.messageNewNumberButton},a.createElement(o.default,{onClick:this.messageNewNumber,type:"plain-white",nowrap:!0},l10n.t(270))):null;e=a.createElement(b.default,{onClose:this.dismissChangeNumberNotification},a.createElement("div",{className:f.default.container},a.createElement(m.default,{theme:"plain",className:f.default.text},this.getText()),t))}return a.createElement(l.default,{transitionName:"butterbar"},e)}}]),t}();y.CONCERNS={chat:["changeNumberOldJid","changeNumberNewJid","id","showChangeNumberNotification"]},y.displayName="ChangeNumberNotification",t.default=(0,c.default)((0,p.hoc)(y),y.CONCERNS)},jdgfdffcj:function(e,t){e.exports={muted:"_2qQ_c",action:"_25Ewv"}},jdigiabic:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RECENT_STICKERS_LIMIT=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n("cgcgbfbffj")),i=c(n("ccaaiecfib")),u=c(n("bdiiahhjbe")),s=c(n("cgfidiajgj")),l=c(n("bihdhbjih"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=t.RECENT_STICKERS_LIMIT=32,p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._checksum="",r._syncStatus="NONE",f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"_findQuery",value:function(){var e=this;return i.default.isRecentStickersEnabled()?l.default.queryRecentStickers().then(function(t){var n=t.checksum,a=t.stickers;return e.setChecksum(n),a.map(function(e,t){return r({},e,{index:t})})}):Promise.reject(new Error("gk recent sticker sync unsupported"))}},{key:"enqueue",value:function(e){var t=this;if(i.default.isRecentStickersEnabled()){this.forEach(function(e,t){e.index=d+t});var n=new Set(e.map(function(e){return e.id}));e.reduce(function(e,t){return n.has(t.id)?(n.delete(t.id),[t].concat(e)):e},[]).slice(0,d).forEach(function(e,n){var r=t.get(e.id);r?r.index=n:t.add({id:e.id,clientUrl:e.clientUrl,directPath:e.directPath,filehash:e.filehash,uploadhash:e.uploadhash,mediaKey:e.mediaKey,width:e.width,height:e.height,size:e.size,mimetype:e.mimetype,type:e.type,index:n})}),this.sort(),this.remove(this.slice(d))}}},{key:"setChecksum",value:function(e){this._checksum=e}},{key:"sync",value:function(e){e!==this._checksum&&(this.setChecksum(e),this._sync())}},{key:"syncOnce",value:function(){return"SUCCESS"===this._syncStatus||"FAILURE"===this._syncStatus?Promise.resolve():this._sync()}},{key:"_sync",value:function(){var e=this;return"INPROGRESS"===this._syncStatus?Promise.resolve():(this._syncStatus="INPROGRESS",this.findQuery({},{set:!0}).then(function(){e.sort(),e._syncStatus="SUCCESS"}).catch(function(t){u.default.error("collection:recent_sticker:_sync error ")(t),e._syncStatus="FAILURE"}))}},{key:"isSynced",value:function(){return"SUCCESS"===this._syncStatus||"FAILURE"===this._syncStatus}},{key:"reset",value:function(){return this._syncStatus="NONE",function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this)}}]),t}();p.model=s.default,p.comparator=function(e,t){return e.index>t.index?1:-1},t.default=new p},jegbhjbde:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFormattedName=s,t.getFormattedNames=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return s(e,t);var n=e.map(function(e){return s(e,t)});return(0,a.default)(n,t)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),a=u(n("dabieifebj")),o=u(n("bhggeigghg")),i=u(n("gbfffciea"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=o.default.Contact.gadd(e,{silent:!0}),s=a?void 0:(t=e,function(e){e&&(e.preventDefault(),e.stopPropagation()),o.default.Chat.find(t).then(function(e){i.default.openChatFromUnread(e).then(function(t){t&&i.default.focusChatTextInput(e)})})}),l=n("bhheahajjg").default;return a?u.formattedUser:r.createElement(l,{contact:u,onClick:s})}},jfbdejdfi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n("bgeijhbbad")),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=m(n("ceffhbhahb")),u=m(n("behbjhhbg")),s=m(n("bfdcadbbif")),l=m(n("ihfccfgdf")),c=n("ejbdjaifi"),f=n("bheafeifce"),d=m(n("bdiiahhjbe")),p=m(n("eadfaddcj")),h=m(n("bcjhbcbjbf"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=p.default.MSG_TYPE,v=g.IMAGE,y=g.VIDEO,_=g.DOCUMENT,E=g.AUDIO,j=(0,r.default)(u.default.MIMETYPES,function(e){return e.msgType===_}),O=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._onClick=function(e){r.props.onClick&&r.props.onClick((0,f.unproxy)(r.props.attachMedia),e)},r._onClose=function(e){r.props.onClose&&r.props.onClose((0,f.unproxy)(r.props.attachMedia),e)},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"_renderBody",value:function(){var e=this.props.attachMedia,t=void 0,n=void 0,r=void 0;switch(e.type){case v:r={backgroundImage:`url(${e.preview})`},t=o.createElement("div",{className:h.default.body,style:r});break;case y:r={backgroundImage:`url(data:image/jpeg;base64,${e.preview})`},t=o.createElement("div",{className:h.default.body,style:r});break;case E:t=o.createElement("div",{className:(0,i.default)(h.default.body,"attach-media-audio-thumb")});break;case _:if(d.default.log("media is",e)(),e.preview){var a={backgroundImage:"url("+e.preview+")"};t=o.createElement("div",{className:h.default.body,style:a});break}j[e.mimetype]&&(n=j[e.mimetype].icon);default:n=(0,i.default)(h.default.body,h.default.bodyDoc,n,{"icon-doc-generic":!n}),t=o.createElement("div",{className:n})}return t}},{key:"render",value:function(){var e=(0,i.default)(h.default.thumb,{[h.default.active]:this.props.active});return o.createElement("div",{className:e,onClick:this._onClick,role:"button"},o.createElement("div",{className:h.default.btnDelete,onClick:this._onClose,role:"button"},o.createElement(s.default,{name:"x-alt-light"})),this._renderBody())}}]),t}();O.CONCERNS={attachMedia:["mimetype","preview","type"]},O.displayName="AttachMediaThumb",t.default=(0,l.default)((0,c.hoc)(O),O.CONCERNS)},jgbhhadeh:function(e,t){e.exports={muted:"_3U5R4",container:"N-sh9",preview:"_3V0mN",img:"G4uT8"}},jgcieiibj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=_(n("ceffhbhahb")),o=_(n("gbfffciea")),i=_(n("biddiiafgd")),u=_(n("dbcfhfbbbf")),s=_(n("bjbggbjed")),l=n("chhhffajfi"),c=_(n("dhfbfehaef")),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),d=_(n("didfdhbecg")),p=_(n("caffijjhc")),h=_(n("dbjbhajgfd")),m=n("dbgdaechch"),b=_(n("bfdcadbbif")),g=_(n("cjgdeggcdi")),v=n("bfccafhbbb"),y=n("cdheafhdbh");function _(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var j=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),l=0;l<a;l++)u[l]=arguments[l];return n=r=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={active:!1,emojiPicker:null},r.onEmojiPicker=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=f.createElement(s.default,{onEmoji:r.onEmoji,onFocusNext:r.restoreFocus,onFocusPrev:r.restoreFocus});r.setState({emojiPicker:{menu:t,dirY:m.DirY.TOP,type:"emoji_picker",anchor:e.target}}),r.restoreFocus()},r.onEmojiPickerClose=function(){r.setState({emojiPicker:null})},r.onRestoreEmojiPickerFocus=function(){if(r.refEmojiPicker){var e=r.refEmojiPicker.getRef();if(e){var t=e.getElement();t&&t.restoreFocus()}}},r.onEmoji=function(e){var t=r.refInput;t&&(t.focus(!1),t.replaceSelection(e)),r.onEmojiPickerClose()},r.setRefInput=function(e){r.refInput=e},r.setRefEmojiPicker=function(e){r.refEmojiPicker=e},r.onSelectionChange=function(e){r.selection=e},r.onMaxPasteExceeded=function(){o.default.openModal(f.createElement(i.default,{title:l10n.t(268),onOK:function(){o.default.closeModal()},okText:l10n.t(1225)},l10n.t(267)))},r.restoreFocus=function(){r.refInput&&r.refInput.focus()},r.onBlur=function(e){r.state.active&&r.setState({active:!1}),r.props.onBlur&&r.props.onBlur(e)},r.onFocus=function(e){e.stopPropagation(),r.state.active||r.setState({active:!0}),r.props.onFocus&&r.props.onFocus(e)},r.onReset=function(){r.refInput&&r.refInput.reset()},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.Component),r(t,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.restoreFocus()}},{key:"render",value:function(){var e,t=this.props.maxLength,n=(0,l.numCodepoints)(this.props.value||""),r=t-n<50,o=(0,a.default)(g.default.textInput,{[g.default.noPlaceholder]:!this.props.placeholder,[g.default.active]:!0}),i=(0,a.default)(g.default.labelText,{[g.default.float]:!!this.props.value}),s=(0,a.default)(g.default.wrapper,{[g.default.textActive]:this.state.active}),m=this.props.supportsEmoji?f.createElement("button",{className:g.default.inputEmoji,onClick:this.onEmojiPicker},f.createElement(b.default,{name:"emoji-input"})):void 0,_=this.props.value;e=_&&""!==_?f.createElement("div",{role:"button",className:g.default.clearInput,onClick:this.onReset},f.createElement(b.default,{name:"x-alt"})):null;var E=this.props.showRemaining?f.createElement("div",{className:(0,a.default)(g.default.buttonContainer,g.default.charCounter,{[g.default.charCounterWithClearBtn]:!!e})},f.createElement("div",{className:g.default.charCounter},r?l10n.n(t-n):null)):null,j=void 0;return this.state.emojiPicker&&(j=f.createElement(p.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPicker,requestDismiss:this.onEmojiPickerClose,requestFocus:this.onRestoreEmojiPickerFocus},f.createElement(h.default,{contextMenu:this.state.emojiPicker}))),f.createElement(c.default,{className:o,onFocus:this.restoreFocus},f.createElement("span",{className:i},this.props.placeholder),f.createElement("div",{className:g.default.spacer}),f.createElement("div",{className:g.default.suggestionsPositioner},f.createElement("div",{className:g.default.suggestionsContainer},f.createElement(u.default.MentionSuggestions,{chat:this.props.chat,theme:v.ThemeOptions.MEDIA_CAPTION}),f.createElement(u.default.EmojiSuggestions,{chat:this.props.chat,theme:y.ThemeOptions.MEDIA_CAPTION}))),f.createElement("div",{className:s},f.createElement(u.default,{ref:this.setRefInput,initialValue:this.props.value,initialSelection:this.selection,readOnly:!1,spellCheck:this.props.spellCheck,multiline:this.props.multiline,maxLength:this.props.maxLength,onEnter:this.props.onEnter,onMaxPasteExceeded:this.onMaxPasteExceeded,onFiles:this.props.onFiles,onChange:this.props.onChange,onSelect:this.onSelectionChange,theme:"media-caption"}),f.createElement("div",{className:g.default.inputControls},f.createElement(d.default,{transitionName:"pop",component:"div",className:g.default.buttonContainer},e,m),E)),j)}}]),t}();j.defaultProps={maxLength:25},j.displayName="MediaCaptionTextInput",t.default=j},jhcabjcaf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=c(n("bjebjijbfc")),i=c(n("bjigbaghc")),u=c(n("ihfccfgdf")),s=n("ejbdjaifi"),l=n("jbecjibfc");function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.contact,u=e.msg,s=e.onClick,c=e.style,f=o.default.timeStr(u.t),d=void 0;return r.isMe&&(d=i.default.pushname),d=d||r.formattedUser||"",a.createElement(l.CopyableDiv,{className:n,onClick:s,prePlainText:`[${f}] ${d}: `,style:c},t)}}]),t}();f.CONCERNS={contact:["formattedUser","name","isMe"],msg:["senderObj","t"]},f.displayName="BubbleHiddenText",t.default=(0,u.default)((0,s.hoc)(f),f.CONCERNS)},jhddfhjhh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n("fffdgbfji")),i=p(n("biaifggagf")),u=p(n("dbdfbgehgj")),s=p(n("eadfaddcj")),l=p(n("gbfffciea")),c=p(n("bdiiahhjbe")),f=n("hjbbdjjdf"),d=p(n("biecbbiiee"));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t,n,a){var p=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.close=function(){p.notification&&p._waitForInteractionStop().then(function(){p.notification&&(0,f.isFunction)(p.notification.close)&&p.notification.close()})},this._onClose=function(){p.waitingPromise.resolver(),window.removeEventListener("beforeunload",p.close),p.notification&&(p.notification.removeEventListener("click",p._onClick),p.notification.removeEventListener("close",p._onClose),p.notification.removeEventListener("show",p._onShow)),window.clearTimeout(p._onShowTimeout),p.msg&&p.msg.off("change:type",p._onRevoke)},this._onClick=function(){window.focus(),p.onClick();var e=p.chat,t=p.msg;if(e){var n=t&&t!==e.msgs.last()?e.getSearchContext(t):void 0;l.default.openChatAt(e,n).then(function(t){t&&l.default.focusChatTextInput(e)}),l.default.closeModalMedia(),p.close()}},this._onShow=function(){p.msg&&p.msg.on("change:type",p._onRevoke)},this._onRevoke=function(){p.msg&&p.msg.type===s.default.MSG_TYPE.REVOKED&&p.close()},this.msg=d.default.get(n),this.chat=u.default.get(t);var h=!!i.default.get(n);this._timeoutDuration=h?s.default.CALL_NOTIFICATION_TIMEOUT:s.default.NOTIFICATION_TIMEOUT;var m=new Promise(function(e){p.waitingPromise={resolver:e}});this.waitingPromise.promise=m;var b=a.title,g=a.notification,v=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(a,["title","notification"]);try{this.notification=new g(b,r({tag:h?n:t.toString(),renotify:!0,dir:"auto",lang:o.default.lng(),silent:!0},v)),this.notification.addEventListener("click",this._onClick),this.notification.addEventListener("close",this._onClose),this.notification.addEventListener("show",this._onShow),window.addEventListener("beforeunload",this.close)}catch(e){c.default.info(`Failed to create notification: ${e.name}:${e.message}`)(e),this.waitingPromise.resolver()}}return a(e,[{key:"onClick",value:function(){}},{key:"_waitForInteractionStop",value:function(){return Promise.resolve()}},{key:"waitForClose",value:function(){return this.waitingPromise.promise}},{key:"detach",value:function(){this._onClose()}}]),e}();t.default=h},jhhgcfgee:function(e,t){e.exports={muted:"_2lTJh",photoPickerWrapper:"PU7NO",scale:"_2DN7K",nameWrapper:"_1gK1Z","well-animation":"_1wHTb",wellAnimation:"_1wHTb"}},jhjgghei:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.keyCode===i)return function(e,t){if(t.isComposing)return!1;var n=window.getSelection();return function(e,t,n){if(!t.modify)return!1;var r=n.refInput,a=(0,o.default)(r,u.BACKWARD);if(!a)return!1;if(i=a,!Boolean(i&&i.dataset&&i.dataset.replacedEmojiText))return!1;var i;t.modify("extend","backward","character"),t.modify("move","backward","character");var s=a.dataset.replacedEmojiText,l=a.parentNode;if(!l)return!1;l.replaceChild(document.createTextNode(s+" "),a);for(var c=s.length,f=0;f<c+1;f++)t.modify("extend","forward","character"),t.modify("move","forward","character");return!1}(0,n,t)}(0,t);return!1};var r,a=n("dbegdchadg"),o=(r=a)&&r.__esModule?r:{default:r};var i=8,u=o.default.Direction},jijhjeei:function(e,t,n){"use strict";var r=i(n("bhggeigghg")),a=i(n("ddcbacabaj")),o=n("cgejjichfa");function i(e){return e&&e.__esModule?e:{default:e}}var u=n("bgiachiigg").Message,s={parseCall:function(e){if("call"===this.N.tag(e)){var t=this.N.child("offer",e);if(t){var n=this.N.child("call",t);if(n){var r=this.N.children(n),a=u.parse(r).call;if(a){var o=this.N.attr("from",e),i=this.N.attr("call-id",t),s=a.callKey,l={type:"offer_key",id:i,peerJid:o,key:s},c=[!i,!o,!s];return this.dropIfConditionMet(c,l)}}}}},queryCall:function(e,t){var n=this;return new Promise(function(r,a){var o=n.queryNode({type:"call","call-id":e,kind:t});n.binSend("sendEphemeral",o,a,{onSend:n.binWrap(function(e){n.BinaryProtocol.read(e).then(function(e){var t={status:400};"response"===n.N.tag(e)&&"call"===n.N.attr("type",e)&&(t.status=parseInt(n.N.attr("code",e),10)||400),r(t)}).catch(a)},r),onDrop:n.wrap(a)},{debugString:"query,call,"+e,metricName:"QUERY_CALL"})})},queryCallOffer:function(e){var t=this;return new Promise(function(n,r){var o=t.queryNode({type:"call-offer","call-id":e});t.binSend("sendEphemeral",o,r,{onSend:t.binWrap(function(e){t.BinaryProtocol.read(e).then(function(e){var r={status:400};if("response"===t.N.tag(e)&&"call-offer"===t.N.attr("type",e)&&(r.status=parseInt(t.N.attr("code",e),10)||400),200===r.status){var o=t.N.child("call",e);if(o){var i=t.N.child("offer",o),u=t.N.attr("from",o),s=t.N.attr("t",o);r.offer={t:s,peer_jid:u.toString({legacy:!0})},a.default.parseCallOffer(i,r.offer,!0),r.offer.call_id&&a.default.createCommonHeader(r.offer)}}n(r)}).catch(r)},n),onDrop:t.wrap(r)},{debugString:"query,callOffer,"+e,metricName:"QUERY_CALL_OFFER"})})},handleCallQuery(e){var t=this,n=r.default.Call.handleQuery({});if(n)return n.then(function(e){return t.responseNode(void 0,[["some",{formatted:"xml"},void 0]])})},sendCallEnd:function(e,t){var n=this;return new Promise(function(r,a){var o={};o.jid=e.jid,o["call-id"]=e["call-id"],o.result=l(e.result),o.audio=e.audio.toString(),o.out=e.out.toString(),o.seconds=e.seconds.toString(),o.t=e.t.toString(),o.group=e.group.toString();var i=t.map(function(e){return["participant",{jid:e.jid,result:l(e.result)},void 0]}),u=n.actionNode("relay",[["call_end",o,i]]);n.binSend("send",u,a,{onSend:n.wrap(r),onDrop:n.wrap(a)},{debugString:`action,call_end,${e["call-id"]}`})})}};function l(e){return o.CALL_LOG_RESULT[e]||"invalid"}e.exports=s},jjaddhidj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!t.parentNode)return;return t.parentNode.insertBefore(e,t),e}},jjbcbhhjh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=A(n("ceffhbhahb")),i=A(n("chgafjbahd")),u=A(n("cehjjfagii")),s=A(n("ejegihaeh")),l=A(n("gbfffciea")),c=A(n("bjigbaghc")),f=A(n("eadfaddcj")),d=A(n("ccaaiecfib")),p=A(n("biecbbiiee")),h=A(n("bghbcggigd")),m=A(n("deabffecii")),b=A(n("cfegjiegcd")),g=A(n("bfejacaeaj")),v=A(n("cjdafdbcjb")),y=A(n("dbhcidbdcf")),_=A(n("cccaiafbjc")),E=A(n("bgcdajbhif")),j=n("bfjajhbdf"),O=A(j),S=A(n("dcjdgceiej")),w=A(n("jccfhaecf")),P=n("dcbdjheea"),M=n("ddjgcfjicj"),C=n("bgjddhffji"),T=n("bheafeifce");function A(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var k=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=N(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.ProductCatalogSession=new m.default,r.state={hover:!1},r.onClick=function(){var e=r.props,t=e.rootMsg,n=e.msg;if(n.isStatusV3)t&&t.isQuotedMsgAvailable?d.default.supportsFeature(d.default.F.STATUS_V3_UI_VIEWING)&&E.default.find(n.sender).then(function(e){l.default.openModalMedia(a.createElement(_.default,{removeTopDrawer:!1,statusV3:e,msgKey:n.id,onMsgNotFound:function(){t&&(t.isQuotedMsgAvailable=!1)}}),{transition:"quoted-status-v3-modal"})}):l.default.openToast(a.createElement(O.default,{msg:l10n.t(996),id:(0,j.genId)()}));else{if(n.isProductInquiry)return r.onProductInquiry();if(!t||t.isQuotedMsgAvailable){var o=n.id,i=n.chat,u=p.default.get(o),s=i.getSearchContext(u||o,t);s&&(s.slideToMsg=!0),l.default.openChatAt(i,s),u||s.collection.loadAroundPromise.catch(M.E404,function(){l.default.openChatAt(i,i.getSearchContext(t))})}}},r.onMouseOver=function(e){r.hoverable()&&r.setState({hover:!0})},r.onMouseEnter=function(e){r.hoverable()&&r.setState({hover:!0})},r.onMouseLeave=function(e){r.state.hover&&r.setState({hover:!1})},N(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.PureComponent),r(t,[{key:"componentDidMount",value:function(){if(d.default.supportsFeature(d.default.F.CATALOG)){var e=this.props,t=e.msg,n=e.t;if(t.isProductInquiry){if(!(t.businessOwnerJid&&(0,P.createWid)(t.businessOwnerJid)))return;null!=n&&(t.t=n),s.default.addMsgAsproduct((0,T.unproxy)(t))}}}},{key:"onProductInquiry",value:function(){if(d.default.supportsFeature(d.default.F.CATALOG)){var e=this.props,t=e.msg,n=e.t,r=t.businessOwnerJid&&(0,P.createWid)(t.businessOwnerJid);if(r){var o=s.default.get(r);if(o){var i=t.productId&&o.productCollection.get(t.productId),u=t.productId&&o.msgProductCollection.get(t.productId);if(i||u){var c=u;if(i&&null!=n&&i.t>=n&&(c=i,u&&o.productCollection.remove(u)),c)return(0,C.logProductInquiryClick)((0,T.unproxy)(c),this.ProductCatalogSession.toString()),l.default.openDrawerRight(a.createElement(b.default,{product:c,chat:t.chat,refreshCarousel:!0,sessionId:this.ProductCatalogSession.toString()}),"slide-left",this.context.uim)}}}}}},{key:"hoverable",value:function(){return!this.state.hover&&!!this.props.rootMsg}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.displayType,r=e.chat,s=e.rootMsg,l=e.composeQuotedMsgRemoteJid,p=r.assignedColor(t.sender),m=n===f.default.DISP_TYPE.CONVERSATION,b=l||s&&s.quotedRemoteJid,g=a.createElement(u.default,{msg:t,contact:t.senderObj,role:m?"button":null,chat:r,displaySelf:w.default.equals(t.sender,c.default.me),quotedRemoteJid:b,disableClick:!0}),_=(0,o.default)(i.default.quotedMsg,{[i.default.statusV3QuotedMsg]:"statusV3"===this.props.theme,[i.default.composeBoxQuotedMsg]:"composeBox"===this.props.theme,[i.default.hover]:this.state.hover,[i.default.quotedPaymentMsg]:"payment"===t.type}),E="payment"===t.type&&d.default.supportsFeature(d.default.F.PAYMENTS)&&t.amount1000&&t.currency?a.createElement(h.default,{quotedMsgAuthor:g,isSentByMe:t.isSentByMe,currency:t.currency,amount1000:t.amount1000,receiverJid:t.receiverJid,paymentStatus:t.paymentStatus,messageStubType:t.subtype,isQuoted:!0,theme:this.props.theme}):a.createElement("div",{className:i.default.msgText},g,a.createElement(y.default,{msg:t,inConversation:m,theme:this.props.theme}));return a.createElement("div",{className:i.default.container,onMouseOver:m?this.onMouseOver:null,onMouseEnter:m?this.onMouseEnter:null,onMouseLeave:m?this.onMouseLeave:null},a.createElement("div",{className:_,role:m?"button":"",onClick:m?this.onClick:null},a.createElement("span",{className:(0,o.default)(`bg-color-${p}`,i.default.colorBar)}),a.createElement("div",{className:i.default.msgBody},E),a.createElement(v.default,{msg:t,inConversation:m,theme:this.props.theme})))}}]),t}();k.contextTypes={uim:g.default.instanceOf(S.default)},k.displayName="QuotedMsg",t.default=k},jjgaeci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n("djfhiaaehb")),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),u=n("cjcffhicea"),s=h(u),l=h(n("gbfffciea")),c=h(n("bcbahjefec")),f=n("biheibdage"),d=h(n("bfgbdiffgd")),p=n("dfdebdgdei");function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return n=o=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.onForwardConfirmed=function(e){Promise.map(e,function(e){(e.isUser&&e.contact.isBlocked()?(0,p.unblockContact)(e.contact):Promise.resolve(!0)).then(function(t){o.onSend(e)})}),o.end(),1===e.length&&(l.default.openChatFromUnread((0,r.default)(e)),window.innerWidth<=1024&&l.default.closeDrawerRight())},o.onCancel=function(){o.end()},o.onSend=function(e){if(o.props.mediaCollection.canSend()){var t=o.props.mediaCollection.getPreviewableMedias();if(0!==t.length){var n=t.map(function(e){var t=e.caption;return e.caption=t||void 0,{media:e}});o.sendMedia(n,e)}}},o.sendMedia=function(e,t){var n=o.props,r=n.product,i=n.catalogWid;l.default.once("ui_idle",function(){e.forEach(function(e,n){var o=e.media,u={};0===n&&(u.quotedMsg=t.composeQuotedMsg,t.composeQuotedMsg=null),u.caption=o.caption,u.addEvenWhilePreparing=o.previewable&&o.state===f.ATTACH_MEDIA_STATE.PROCESSING;var s={businessOwnerJid:i.toString({legacy:!0}),productId:r.id.toString(),url:r.url,productImageCount:r.productImageCollection.length,title:r.name,description:r.description,currencyCode:r.currency,priceAmount1000:r.priceAmount1000,type:"product"};u.useBasePropsType=!0,o.sendToChat(t,a({},u,{productMsgOptions:s}))})}),o.end()},m(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),o(t,[{key:"UNSAFE_componentWillMount",value:function(){l.default.closeContextMenu(),l.default.closeTooltip(),this.push(i.createElement(s.default,{onChat:this.onForwardConfirmed,maxItems:d.default.multicastLimitGlobal,title:l10n.t(712),listType:u.ListType.CHAT_SELECT_MODAL,onCancel:this.onCancel}))}}]),t}();t.default=b},jjijgifac:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Promise.resolve(a.default.digest({name:"SHA-256"},e).then(r.default.encode))};var r=o(n("hgjcbccfg")),a=o(n("dfeaddeccc"));function o(e){return e&&e.__esModule?e:{default:e}}},jjjdieajj:function(e,t,n){"use strict";e.exports={"#":1,"*":2,"0":3,"1":4,"2":5,"3":6,"4":7,"5":8,"6":9,"7":10,"8":11,"9":12,"":13,"":14,"":15,"":16,"":17,"":18,"":19,"":20,"":21,"":22,"":23,"":24,"":25,"":26,"":27,"":28,"":29,"":30,"":31,"":32,"":33,"":34,"":35,"":36,"":37,"":38,"":39,"":40,"":41,"":42,"":43,"":44,"":45,"":46,"":47,"":48,"":49,"":50,"":51,"":52,"":53,"":54,"":55,"":56,"":57,"":58,"":59,"":60,"":61,"":62,"":63,"":64,"":65,"":66,"":67,"":68,"":69,"":70,"":71,"":72,"":73,"":74,"":75,"":76,"":77,"":78,"":79,"":80,"":81,"":82,"":83,"":84,"":85,"":86,"":87,"":88,"":89,"":90,"":91,"":92,"":93,"":94,"":95,"":96,"":97,"":98,"":99,"":100,"":101,"":102,"":103,"":104,"":105,"":106,"":107,"":108,"":109,"":110,"":111,"":112,"":113,"":114,"":115,"":116,"":117,"":118,"":119,"":120,"":121,"":122,"":123,"":124,"":125,"":126,"":127,"":128,"":129,"":130,"":131,"":132,"":133,"":134,"":135,"":135,"":136,"":137,"":137,"":138,"":139,"":139,"":140,"":141,"":141,"":142,"":143,"":143,"":144,"":145,"":145,"":146,"":147,"":148,"":149,"":150,"":151,"":152,"":153,"":154,"":155,"":156,"":157,"":158,"":159,"":160,"":161,"":162,"":163,"":164,"":165,"":166,"":167,"":168,"":169,"":170,"":171,"":172,"":173,"":174,"":175,"":176,"":177,"":178,"":179,"":180,"":181,"":182,"":183,"":184,"":185,"":186,"":187,"":188,"":189,"":190,"":191,"":192,"":193,"":194,"":195,"":196,"":197,"":198,"":199,"":200,"":201,"":202,"":203,"":204,"":205,"":206,"":207,"":208,"":209,"":210,"":211,"":212,"":213,"":214,"":215,"":216,"":217,"":218,"":219,"":220,"":221,"":222,"":223,"":224,"":225,"":226,"":227,"":228,"":229,"":230,"":231,"":232,"":233,"":234,"":235,"":236,"":237,"":238,"":239,"":240,"":241,"":242,"":243,"":244,"":245,"":246,"":247,"":248,"":249,"":250,"":251,"":252,"":253,"":254,"":255,"":256,"":257,"":258,"":259,"":260,"":261,"":262,"":263,"":264,"":265,"":266,"":267,"":268,"":269,"":270,"":271,"":272,"":273,"":274,"":275,"":276,"":277,"":278,"":279,"":280,"":281,"":282,"":283,"":284,"":285,"":286,"":287,"":288,"":289,"":290,"":291,"":292,"":293,"":294,"":295,"":296,"":297,"":298,"":299,"":300,"":301,"":302,"":303,"":304,"":305,"":306,"":307,"":308,"":309,"":310,"":311,"":312,"":313,"":314,"":315,"":316,"":317,"":318,"":319,"":320,"":321,"":322,"":323,"":324,"":325,"":326,"":327,"":328,"":329,"":330,"":331,"":332,"":333,"":334,"":335,"":336,"":337,"":338,"":339,"":340,"":341,"":342,"":343,"":344,"":345,"":346,"":347,"":348,"":349,"":350,"":351,"":352,"":353,"":354,"":355,"":356,"":357,"":358,"":359,"":360,"":361,"":362,"":363,"":364,"":365,"":366,"":367,"":368,"":369,"":370,"":371,"":372,"":373,"":374,"":375,"":376,"":377,"":378,"":379,"":380,"":381,"":382,"":383,"":384,"":385,"":386,"":387,"":388,"":389,"":390,"":391,"":392,"":393,"":394,"":395,"":396,"":397,"":398,"":399,"":400,"":401,"":402,"":403,"":404,"":405,"":406,"":407,"":408,"":409,"":410,"":411,"":412,"":413,"":414,"":415,"":416,"":417,"":418,"":419,"":420,"":421,"":422,"":423,"":424,"":425,"":426,"":427,"":428,"":429,"":430,"":431,"":432,"":433,"":434,"":435,"":436,"":437,"":438,"":439,"":440,"":441,"":442,"":443,"":444,"":445,"":446,"":447,"":448,"":449,"":450,"":451,"":452,"":453,"":454,"":455,"":456,"":457,"":458,"":459,"":460,"":461,"":462,"":463,"":464,"":465,"":466,"":467,"":468,"":469,"":470,"":471,"":472,"":473,"":474,"":475,"":476,"":477,"":478,"":479,"":480,"":481,"":482,"":483,"":484,"":485,"":486,"":487,"":488,"":489,"":490,"":491,"":492,"":493,"":494,"":495,"":496,"":497,"":498,"":499,"":500,"":501,"":502,"":503,"":504,"":505,"":506,"":507,"":508,"":509,"":510,"":511,"":512,"":513,"":514,"":515,"":516,"":517,"":518,"":519,"":520,"":521,"":522,"":523,"":524,"":525,"":526,"":527,"":528,"":529,"":530,"":531,"":532,"":533,"":534,"":535,"":536,"":537,"":538,"":539,"":540,"":541,"":542,"":543,"":544,"":545,"":546,"":547,"":548,"":549,"":550,"":551,"":552,"":553,"":554,"":555,"":556,"":557,"":558,"":559,"":560,"":561,"":562,"":563,"":564,"":565,"":566,"":567,"":568,"":569,"":570,"":571,"":572,"":573,"":574,"":575,"":576,"":577,"":578,"":579,"":580,"":581,"":582,"":583,"":584,"":585,"":586,"":587,"":588,"":589,"":590,"":591,"":592,"":593,"":594,"":595,"":596,"":597,"":598,"":599,"":600,"":601,"":602,"":603,"":604,"":605,"":606,"":607,"":608,"":609,"":610,"":611,"":612,"":613,"":614,"":615,"":616,"":617,"":618,"":619,"":620,"":621,"":622,"":623,"":624,"":625,"":626,"":627,"":628,"":629,"":630,"":631,"":632,"":633,"":634,"":635,"":636,"":637,"":638,"":639,"":640,"":641,"":642,"":643,"":644,"":645,"":646,"":647,"":648,"":649,"":650,"":651,"":652,"":653,"":654,"":655,"":656,"":657,"":658,"":659,"":660,"":661,"":662,"":663,"":664,"":665,"":666,"":667,"":668,"":669,"":670,"":671,"":672,"":673,"":674,"":675,"":676,"":677,"":678,"":679,"":680,"":681,"":682,"":683,"":684,"":685,"":686,"":687,"":688,"":688,"":689,"":690,"":690,"":691,"":692,"":692,"":693,"":694,"":694,"":695,"":696,"":696,"":697,"":698,"":698,"":699,"":700,"":700,"":701,"":702,"":702,"":703,"":704,"":704,"":705,"":706,"":706,"":707,"":708,"":708,"":709,"":710,"":710,"":711,"":712,"":713,"":714,"":715,"":716,"":717,"":718,"":719,"":720,"":721,"":722,"":722,"":723,"":724,"":724,"":725,"":726,"":726,"":727,"":728,"":728,"":729,"":730,"":730,"":731,"":732,"":732,"":733,"":734,"":734,"":735,"":736,"":736,"":737,"":738,"":738,"":739,"":740,"":740,"":741,"":742,"":742,"":743,"":744,"":744,"":745,"":746,"":746,"":747,"":748,"":748,"":749,"":750,"":750,"":751,"":752,"":752,"":753,"":754,"":754,"":755,"":756,"":756,"":757,"":758,"":759,"":760,"":761,"":762,"":763,"":764,"":765,"":766,"":767,"":768,"":769,"":770,"":771,"":772,"":773,"":774,"":775,"":776,"":777,"":778,"":779,"":780,"":781,"":782,"":783,"":784,"":785,"":786,"":787,"":788,"":789,"":790,"":791,"":792,"":793,"":794,"":795,"":796,"":797,"":798,"":799,"":800,"":801,"":802,"":803,"":804,"":805,"":806,"":807,"":808,"":809,"":810,"":811,"":812,"":813,"":814,"":815,"":816,"":817,"":818,"":819,"":820,"":821,"":822,"":823,"":824,"":825,"":826,"":827,"":828,"":829,"":830,"":831,"":832,"":833,"":834,"":835,"":836,"":837,"":838,"":839,"":840,"":841,"":842,"":843,"":844,"":845,"":846,"":847,"":848,"":849,"":850,"":851,"":852,"":853,"":854,"":855,"":856,"":857,"":858,"":859,"":860,"":861,"":862,"":863,"":864,"":865,"":866,"":867,"":868,"":869,"":870,"":871,"":872,"":873,"":874,"":875,"":876,"":877,"":878,"":879,"":880,"":881,"":882,"":883,"":884,"":885,"":886,"":887,"":888,"":889,"":890,"":891,"":892,"":893,"":894,"":895,"":896,"":897,"":898,"":899,"":900,"":901,"":902,"":903,"":904,"":905,"":906,"":907,"":908,"":909,"":910,"":911,"":912,"":913,"":914,"":915,"":916,"":917,"":918,"":919,"":920,"":921,"":922,"":923,"":924,"":925,"":926,"":927,"":928,"":929,"":930,"":931,"":932,"":933,"":934,"":935,"":936,"":937,"":938,"":939,"":940,"":941,"":942,"":943,"":944,"":945,"":946,"":947,"":948,"":949,"":950,"":951,"":952,"":953,"":954,"":955,"":956,"":957,"":958,"":959,"":960,"":961,"":962,"":963,"":964,"":965,"":966,"":967,"":968,"":969,"":970,"":971,"":972,"":973,"":974,"":975,"":976,"":977,"":978,"":979,"":980,"":981,"":982,"":983,"":984,"":985,"":986,"":987,"":988,"":989,"":990,"":991,"":992,"":993,"":994,"":995,"":996,"":997,"":998,"":999,"":1e3,"":1001,"":1002,"":1003,"":1004,"":1005,"":1006,"":1007,"":1008,"":1009,"":1010,"":1011,"":1012,"":1013,"":1014,"":1015,"":1016,"":1017,"":1018,"":1019,"":1020,"":1021,"":1022,"":1023,"":1024,"":1025,"":1026,"":1027,"":1028,"":1029,"":1030,"":1031,"":1032,"":1033,"":1034,"":1035,"":1036,"":1037,"":1038,"":1039,"":1040,"":1041,"":1042,"":1043,"":1044,"":1045,"":1046,"":1047,"":1048,"":1049,"":1050,"":1051,"":1052,"":1053,"":1054,"":1055,"":1056,"":1057,"":1058,"":1059,"":1060,"":1061,"":1062,"":1063,"":1064,"":1065,"":1066,"":1067,"":1068,"":1069,"":1070,"":1071,"":1072,"":1073,"":1074,"":1075,"":1076,"":1077,"":1078,"":1079,"":1080,"":1081,"":1082,"":1083,"":1084,"":1085,"":1086,"":1087,"":1088,"":1089,"":1090,"":1091,"":1092,"":1093,"":1094,"":1095,"":1096,"":1097,"":1098,"":1099,"":1100,"":1101,"":1102,"":1103,"":1104,"":1105,"":1106,"":1107,"":1108,"":1109,"":1110,"":1111,"":1112,"":1113,"":1114,"":1115,"":1116,"":1117,"":1118,"":1119,"":1120,"":1121,"":1122,"":1123,"":1124,"":1125,"":1126,"":1127,"":1128,"":1129,"":1130,"":1131,"":1132,"":1133,"":1134,"":1135,"":1136,"":1137,"":1138,"":1139,"":1140,"":1141,"":1142,"":1143,"":1144,"":1145,"":1146,"":1147,"":1148,"":1149,"":1150,"":1151,"":1152,"":1153,"":1154,"":1155,"":1156,"":1157,"":1158,"":1159,"":1160,"":1161,"":1162,"":1163,"":1164,"":1165,"":1166,"":1167,"":1168,"":1169,"":1170,"":1171,"":1172,"":1173,"":1174,"":1175,"":1176,"":1177,"":1178,"":1179,"":1180,"":1181,"":1182,"":1183,"":1184,"":1185,"":1186,"":1187,"":1188,"":1189,"":1190,"":1191,"":1192,"":1193,"":1194,"":1195,"":1196,"":1197,"":1198,"":1199,"":1200,"":1201,"":1202,"":1203,"":1204,"":1205,"":1206,"":1207,"":1208,"":1209,"":1210,"":1211,"":1212,"":1213,"":1214,"":1215,"":1216,"":1217,"":1218,"":1219,"":1220,"":1221,"":1222,"":1223,"":1224,"":1225,"":1226,"":1227,"":1228,"":1229,"":1230,"":1231,"":1232,"":1233,"":1234,"":1235,"":1236,"":1237,"":1238,"":1239,"":1240,"":1241,"":1242,"":1243,"":1244,"":1245,"":1246,"":1247,"":1248,"":1249,"":1250,"":1251,"":1252,"":1253,"":1254,"":1255,"":1256,"":1257,"":1258,"":1259,"":1260,"":1261,"":1262,"":1263,"":1264,"":1265,"":1266,"":1267,"":1268,"":1269,"":1270,"":1271,"":1271,"":1272,"":1273,"":1273,"":1274,"":1275,"":1275,"":1276,"":1277,"":1277,"":1278,"":1279,"":1279,"":1280,"":1281,"":1281,"":1282,"":1283,"":1284,"":1284,"":1285,"":1286,"":1287,"":1288,"":1289,"":1290,"":1291,"":1291,"":1292,"":1293,"":1293,"":1294,"":1295,"":1295,"":1296,"":1297,"":1297,"":1298,"":1299,"":1299,"":1300,"":1301,"":1301,"":1302,"":1303,"":1304,"":1305,"":1306,"":1307,"":1308,"":1309,"":1309,"":1310,"":1311,"":1311,"":1312,"":1313,"":1313,"":1314,"":1315,"":1315,"":1316,"":1317,"":1317,"":1318,"":1319,"":1319,"":1320,"":1321,"":1322,"":1323,"":1324,"":1325,"":1326,"":1327,"":1328,"":1329,"":1330,"":1331,"":1332,"":1333,"":1334,"":1335,"":1336,"":1337,"":1338,"":1339,"":1339,"":1340,"":1341,"":1341,"":1342,"":1343,"":1343,"":1344,"":1345,"":1345,"":1346,"":1347,"":1347,"":1348,"":1349,"":1349,"":1350,"":1351,"":1352,"":1353,"":1354,"":1355,"":1356,"":1357,"":1358,"":1359,"":1360,"":1361,"":1362,"":1363,"":1364,"":1365,"":1366,"":1367,"":1368,"":1369,"":1370,"":1371,"":1371,"":1372,"":1373,"":1373,"":1374,"":1375,"":1375,"":1376,"":1377,"":1377,"":1378,"":1379,"":1379,"":1380,"":1381,"":1381,"":1382,"":1382,"":1383,"":1384,"":1384,"":1385,"":1386,"":1386,"":1387,"":1388,"":1388,"":1389,"":1390,"":1390,"":1391,"":1392,"":1392,"":1393,"":1394,"":1395,"":1396,"":1397,"":1398,"":1399,"":1400,"":1401,"":1402,"":1403,"":1404,"":1405,"":1406,"":1407,"":1408,"":1408,"":1409,"":1410,"":1410,"":1411,"":1412,"":1412,"":1413,"":1414,"":1414,"":1415,"":1416,"":1416,"":1417,"":1418,"":1418,"":1419,"":1420,"":1420,"":1421,"":1422,"":1422,"":1423,"":1424,"":1424,"":1425,"":1426,"":1426,"":1427,"":1428,"":1428,"":1429,"":1430,"":1430,"":1431,"":1432,"":1433,"":1434,"":1435,"":1436,"":1437,"":1438,"":1439,"":1440,"":1441,"":1442,"":1443,"":1444,"":1445,"":1446,"":1447,"":1448,"":1449,"":1450,"":1451,"":1452,"":1453,"":1454,"":1455,"":1456,"":1457,"":1458,"":1459,"":1460,"":1461,"":1462,"":1463,"":1464,"":1465,"":1466,"":1467,"":1468,"":1469,"":1470,"":1471,"":1472,"":1473,"":1474,"":1475,"":1476,"":1477,"":1478,"":1479,"":1480,"":1481,"":1482,"":1483,"":1484,"":1485,"":1486,"":1487,"":1488,"":1489,"":1490,"":1491,"":1492,"":1493,"":1494,"":1495,"":1496,"":1497,"":1498,"":1499,"":1500,"":1501,"":1502,"":1503,"":1504,"":1505,"":1506,"":1507,"":1508,"":1509,"":1510,"":1511,"":1512,"":1513,"":1514,"":1515,"":1516,"":1517,"":1518,"":1519,"":1520,"":1521,"":1522,"":1523,"":1524,"":1525,"":1526,"":1527,"":1528,"":1529,"":1530,"":1531,"":1532,"":1533,"":1534,"":1535,"":1536,"":1537,"":1538,"":1539,"":1540,"":1541,"":1542,"":1543,"":1544,"":1545,"":1546,"":1547,"":1548,"":1549,"":1550,"":1551,"":1552,"":1553,"":1554,"":1555,"":1556,"":1557,"":1558,"":1559,"":1560,"":1561,"":1562,"":1563,"":1564,"":1565,"":1566,"":1567,"":1568,"":1569,"":1570,"":1571,"":1572,"":1573,"":1574,"":1575,"":1576,"":1577,"":1578,"":1579,"":1580,"":1581,"":1582,"":1583,"":1584,"":1585,"":1586,"":1587,"":1588,"":1589,"":1590,"":1591,"":1592,"":1593,"":1594,"":1595,"":1596,"":1597,"":1598,"":1599,"":1600,"":1601,"":1602,"":1603,"":1604,"":1605,"":1606,"":1607,"":1608,"":1609,"":1610,"":1611,"":1612,"":1613,"":1614,"":1615,"":1616,"":1617,"":1618,"":1619,"":1620,"":1621,"":1622,"":1623,"":1624,"":1625,"":1626,"":1627,"":1628,"":1629,"":1630,"":1631,"":1632,"":1633,"":1634,"":1635,"":1636,"":1637,"":1638,"":1639,"":1640,"":1641,"":1642,"":1643,"":1644,"":1645,"":1646,"":1647,"":1648,"":1649,"":1650,"":1651,"":1652,"":1653,"":1654,"":1655,"":1656,"":1657,"":1658,"":1659,"":1660,"":1660,"":1661,"":1662,"":1662,"":1663,"":1664,"":1664,"":1665,"":1666,"":1666,"":1667,"":1668,"":1668,"":1669,"":1670,"":1670,"":1671,"":1672,"":1673,"":1674,"":1675,"":1676,"":1677,"":1678,"":1679,"":1680,"":1681,"":1682,"":1683,"":1684,"":1685,"":1686,"":1687,"":1688,"":1689,"":1690,"":1691,"":1692,"":1693,"":1694,"":1695,"":1696,"":1697,"":1698,"":1699,"":1700,"":1701,"":1702,"":1703,"":1704,"":1705,"":1706,"":1707,"":1708,"":1709,"":1710,"":1711,"":1712,"":1713,"":1714,"":1715,"":1716,"":1717,"":1718,"":1719,"":1720,"":1721,"":1722,"":1723,"":1724,"":1725,"":1726,"":1727,"":1728,"":1729,"":1730,"":1731,"":1732,"":1733,"":1734,"":1735,"":1736,"":1737,"":1738,"":1739,"":1740,"":1741,"":1742,"":1743,"":1744,"":1745,"":1746,"":1747,"":1748,"":1749,"":1750,"":1751,"":1752,"":1753,"":1754,"":1755,"":1756,"":1757,"":1758,"":1759,"":1760,"":1761,"":1762,"":1763,"":1764,"":1765,"":1766,"":1767,"":1768,"":1769,"":1770,"":1771,"":1772,"":1773,"":1774,"":1775,"":1776,"":1777,"":1778,"":1779,"":1780,"":1781,"":1782,"":1783,"":1784,"":1785,"":1786,"":1787,"":1788,"":1789,"":1790,"":1791,"":1792,"":1793,"":1794,"":1795,"":1796,"":1797,"":1798,"":1799,"":1800,"":1801,"":1801,"":1802,"":1803,"":1803,"":1804,"":1805,"":1805,"":1806,"":1807,"":1807,"":1808,"":1809,"":1809,"":1810,"":1811,"":1811,"":1812,"":1813,"":1813,"":1814,"":1815,"":1815,"":1816,"":1817,"":1817,"":1818,"":1819,"":1819,"":1820,"":1821,"":1821,"":1822,"":1823,"":1823,"":1824,"":1824,"":1825,"":1826,"":1826,"":1827,"":1828,"":1828,"":1829,"":1830,"":1830,"":1831,"":1832,"":1832,"":1833,"":1834,"":1834,"":1835,"":1836,"":1837,"":1838,"":1839,"":1840,"":1840,"":1841,"":1842,"":1842,"":1843,"":1844,"":1844,"":1845,"":1846,"":1846,"":1847,"":1848,"":1848,"":1849,"":1850,"":1850,"":1851,"":1852,"":1853,"":1854,"":1855,"":1856,"":1857,"":1858,"":1858,"":1859,"":1860,"":1860,"":1861,"":1862,"":1862,"":1863,"":1864,"":1864,"":1865,"":1866,"":1866,"":1867,"":1868,"":1868,"":1869,"":1870,"":1870,"":1871,"":1872,"":1872,"":1873,"":1874,"":1874,"":1875,"":1876,"":1876,"":1877,"":1878,"":1878,"":1879,"":1880,"":1880,"":1881,"":1882,"":1883,"":1884,"":1885,"":1886,"":1887,"":1888,"":1889,"":1890,"":1891,"":1892,"":1893,"":1894,"":1895,"":1896,"":1897,"":1898,"":1899,"":1900,"":1901,"":1902,"":1903,"":1904,"":1905,"":1906,"":1907,"":1908,"":1909,"":1910,"":1911,"":1912,"":1913,"":1914,"":1915,"":1916,"":1917,"":1918,"":1919,"":1920,"":1921,"":1922,"":1922,"":1923,"":1924,"":1924,"":1925,"":1926,"":1926,"":1927,"":1928,"":1928,"":1929,"":1930,"":1930,"":1931,"":1932,"":1932,"":1933,"":1934,"":1935,"":1936,"":1937,"":1938,"":1939,"":1940,"":1941,"":1942,"":1943,"":1944,"":1945,"":1946,"":1947,"":1948,"":1949,"":1950,"":1950,"":1951,"":1952,"":1952,"":1953,"":1954,"":1954,"":1955,"":1956,"":1956,"":1957,"":1958,"":1958,"":1959,"":1960,"":1960,"":1961,"":1962,"":1962,"":1963,"":1964,"":1964,"":1965,"":1966,"":1966,"":1967,"":1968,"":1968,"":1969,"":1970,"":1970,"":1971,"":1972,"":1972,"":1973,"":1974,"":1974,"":1975,"":1976,"":1976,"":1977,"":1978,"":1978,"":1979,"":1980,"":1980,"":1981,"":1982,"":1982,"":1983,"":1984,"":1984,"":1985,"":1986,"":1987,"":1988,"":1989,"":1990,"":1991,"":1992,"":1993,"":1994,"":1995,"":1996,"":1997,"":1998,"":1999,"":2e3,"":2001,"":2002,"":2003,"":2004,"":2005,"":2006,"":2007,"":2008,"":2009,"":2010,"":2011,"":2012,"":2013,"":2014,"":2015,"":2016,"":2017,"":2018,"":2019,"":2020,"":2021,"":2022,"":2023,"":2024,"":2025,"":2026,"":2027,"":2028,"":2029,"":2030,"":2031,"":2032,"":2033,"":2034,"":2035,"":2036,"":2037,"":2038,"":2039,"":2040,"":2041,"":2042,"":2043,"":2044,"":2045,"":2046,"":2047,"":2048,"":2049,"":2050,"":2051,"":2052,"":2053,"":2054,"":2055,"":2056,"":2057,"":2058,"":2059,"":2060,"":2061,"":2062,"":2063,"":2064,"":2065,"":2066,"":2067,"":2068,"":2069,"":2070,"":2071,"":2072,"":2073,"":2074,"":2075,"":2076,"":2077,"":2078,"":2079,"":2080,"":2081,"":2082,"":2083,"":2084,"":2085,"":2086,"":2087,"":2088,"":2088,"":2089,"":2090,"":2090,"":2091,"":2092,"":2092,"":2093,"":2094,"":2094,"":2095,"":2096,"":2096,"":2097,"":2098,"":2098,"":2099,"":2100,"":2101,"":2102,"":2103,"":2104,"":2105,"":2106,"":2107,"":2108,"":2109,"":2110,"":2111,"":2112,"":2113,"":2114,"":2115,"":2116,"":2117,"":2118,"":2119,"":2120,"":2121,"":2122,"":2123,"":2124,"":2125,"":2126,"":2127,"":2128,"":2129,"":2130,"":2131,"":2132,"":2133,"":2134,"":2135,"":2136,"":2137,"":2138,"":2139,"":2140,"":2141,"":2142,"":2143,"":2144,"":2145,"":2146,"":2147,"":2148,"":2149,"":2150,"":2151,"":2152,"":2152,"":2153,"":2154,"":2154,"":2155,"":2156,"":2156,"":2157,"":2158,"":2158,"":2159,"":2160,"":2160,"":2161,"":2162,"":2162,"":2163,"":2163,"":2164,"":2165,"":2165,"":2166,"":2167,"":2167,"":2168,"":2169,"":2169,"":2170,"":2171,"":2171,"":2172,"":2173,"":2173,"":2174,"":2175,"":2175,"":2176,"":2177,"":2177,"":2178,"":2179,"":2179,"":2180,"":2181,"":2181,"":2182,"":2183,"":2183,"":2184,"":2185,"":2185,"":2186,"":2187,"":2188,"":2188,"":2189,"":2190,"":2190,"":2191,"":2192,"":2192,"":2193,"":2194,"":2194,"":2195,"":2196,"":2196,"":2197,"":2198,"":2198,"":2199,"":2200,"":2200,"":2201,"":2202,"":2203,"":2203,"":2204,"":2205,"":2205,"":2206,"":2207,"":2207,"":2208,"":2209,"":2209,"":2210,"":2211,"":2211,"":2212,"":2213,"":2213,"":2214,"":2215,"":2216,"":2217,"":2218,"":2219,"":2220,"":2221,"":2222,"":2223,"":2224,"":2225,"":2226,"":2227,"":2228,"":2229,"":2230,"":2231,"":2232,"":2233,"":2234,"":2235,"":2236,"":2237,"":2238,"":2239,"":2240,"":2241,"":2242,"":2243,"":2244,"":2245,"":2246,"":2247,"":2248,"":2249,"":2250,"":2251,"":2252,"":2253,"":2254,"":2255,"":2256,"":2257,"":2258,"":2259,"":2260,"":2261,"":2262,"":2263,"":2264,"":2265,"":2266,"":2267,"":2268,"":2269,"":2270,"":2271,"":2272,"":2273,"":2274,"":2275,"":2276,"":2277,"":2278,"":2279,"":2280,"":2281,"":2282,"":2283,"":2284,"":2285,"":2286,"":2287,"":2288,"":2289,"":2290,"":2291,"":2292,"":2293,"":2294,"":2295,"":2296,"":2297,"":2298,"":2299,"":2300,"":2301,"":2302,"":2303,"":2304,"":2305,"":2306,"":2307,"":2308,"":2309,"":2310,"":2311,"":2312,"":2313,"":2314,"":2315,"":2316,"":2317,"":2318,"":2319,"":2320,"":2321,"":2322,"":2323,"":2324,"":2325,"":2326,"":2327,"":2328,"":2329,"":2330,"":2331,"":2332,"":2333,"":2334,"":2335,"":2336,"":2337,"":2338,"":2339,"":2340,"":2341,"":2342,"":2343,"":2344,"":2345,"":2346,"":2347,"":2348,"":2349,"":2350,"":2351,"":2352,"":2353,"":2354,"":2355,"":2356,"":2357,"":2358,"":2359,"":2360,"":2361,"":2362,"":2363,"":2364,"":2365,"":2366,"":2367,"":2368,"":2369,"":2370,"":2371,"":2372,"":2373,"":2374,"":2375,"":2376,"":2377,"":2378,"":2379,"":2380,"":2381,"":2382,"":2382,"":2383,"":2384,"":2384,"":2385,"":2386,"":2386,"":2387,"":2388,"":2388,"":2389,"":2390,"":2390,"":2391,"":2392,"":2392,"":2393,"":2394,"":2395,"":2395,"":2396,"":2397,"":2397,"":2398,"":2399,"":2399,"":2400,"":2401,"":2401,"":2402,"":2403,"":2403,"":2404,"":2405,"":2405,"":2406,"":2407,"":2407,"":2408,"":2409,"":2409,"":2410,"":2411,"":2411,"":2412,"":2413,"":2413,"":2414,"":2415,"":2415,"":2416,"":2417,"":2417,"":2418,"":2419,"":2419,"":2420,"":2421,"":2421,"":2422,"":2423,"":2423,"":2424,"":2425,"":2425,"":2426,"":2427,"":2427,"":2428,"":2429,"":2429,"":2430,"":2431,"":2431,"":2432,"":2433,"":2433,"":2434,"":2435,"":2435,"":2436,"":2437,"":2437,"":2438,"":2439,"":2439,"":2440,"":2441,"":2441,"":2442,"":2443,"":2443,"":2444,"":2445,"":2445,"":2446,"":2447,"":2447,"":2448,"":2449,"":2449,"":2450,"":2451,"":2451,"":2452,"":2453,"":2453,"":2454,"":2455,"":2455,"":2456,"":2457,"":2457,"":2458,"":2459,"":2459,"":2460,"":2461,"":2461,"":2462,"":2463,"":2463,"":2464,"":2465,"":2465,"":2466,"":2466,"":2467,"":2468,"":2468,"":2469,"":2470,"":2470,"":2471,"":2472,"":2472,"":2473,"":2474,"":2474,"":2475,"":2476,"":2476,"":2477,"":2478,"":2479,"":2479,"":2480,"":2481,"":2481,"":2482,"":2483,"":2484,"":2485,"":2486,"":2487,"":2488,"":2489,"":2490,"":2491,"":2492,"":2493,"":2494,"":2495,"":2496,"":2497,"":2498,"":2499,"":2500,"":2501,"":2502,"":2503,"":2504,"":2505,"":2506,"":2507,"":2508,"":2509,"":2510,"":2511,"":2512,"":2513,"":2514}},jjjgjgeie:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hydrateMessage=function(e){var t=a.default.fromString(e.id);return(function e(t){if(Array.isArray(t))return t.map(function(t,n){return e((0,r.default)(n,t,o.isWidlike,o.createWidFromWidLike))});if(t&&"object"==typeof t){for(var n=Object.keys(t),a=0;a<n.length;a++){var i=n[a];t[i]=e((0,r.default)(i,t[i],o.isWidlike,o.createWidFromWidLike))}return t}return t}(e)).id=t,e};var r=i(n("eecdaegci")),a=i(n("ccgjijjbbj")),o=n("dcbdjheea");function i(e){return e&&e.__esModule?e:{default:e}}}});